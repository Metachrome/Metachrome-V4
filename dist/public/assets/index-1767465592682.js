var Kb=t=>{throw TypeError(t)};var J0=(t,e,r)=>e.has(t)||Kb("Cannot "+r);var z=(t,e,r)=>(J0(t,e,"read from private field"),r?r.call(t):e.get(t)),Ye=(t,e,r)=>e.has(t)?Kb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ae=(t,e,r,s)=>(J0(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),mt=(t,e,r)=>(J0(t,e,"access private method"),r);var ph=(t,e,r,s)=>({set _(i){Ae(t,e,i,r)},get _(){return z(t,e,s)}});function VP(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NS={exports:{}},zm={},SS={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=Symbol.for("react.element"),HP=Symbol.for("react.portal"),KP=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),qP=Symbol.for("react.profiler"),QP=Symbol.for("react.provider"),XP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),JP=Symbol.for("react.suspense"),ZP=Symbol.for("react.memo"),e_=Symbol.for("react.lazy"),Gb=Symbol.iterator;function t_(t){return t===null||typeof t!="object"?null:(t=Gb&&t[Gb]||t["@@iterator"],typeof t=="function"?t:null)}var CS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TS=Object.assign,kS={};function eu(t,e,r){this.props=t,this.context=e,this.refs=kS,this.updater=r||CS}eu.prototype.isReactComponent={};eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ES(){}ES.prototype=eu.prototype;function jv(t,e,r){this.props=t,this.context=e,this.refs=kS,this.updater=r||CS}var Nv=jv.prototype=new ES;Nv.constructor=jv;TS(Nv,eu.prototype);Nv.isPureReactComponent=!0;var qb=Array.isArray,PS=Object.prototype.hasOwnProperty,Sv={current:null},_S={key:!0,ref:!0,__self:!0,__source:!0};function DS(t,e,r){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)PS.call(e,s)&&!_S.hasOwnProperty(s)&&(i[s]=e[s]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(s in c=t.defaultProps,c)i[s]===void 0&&(i[s]=c[s]);return{$$typeof:Qd,type:t,key:a,ref:o,props:i,_owner:Sv.current}}function r_(t,e){return{$$typeof:Qd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qd}function n_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Qb=/\/+/g;function Z0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n_(""+t.key):e.toString(36)}function uf(t,e,r,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qd:case HP:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Z0(o,0):s,qb(i)?(r="",t!=null&&(r=t.replace(Qb,"$&/")+"/"),uf(i,e,r,"",function(l){return l})):i!=null&&(Cv(i)&&(i=r_(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",qb(t))for(var c=0;c<t.length;c++){a=t[c];var u=s+Z0(a,c);o+=uf(a,e,r,u,i)}else if(u=t_(t),typeof u=="function")for(t=u.call(t),c=0;!(a=t.next()).done;)a=a.value,u=s+Z0(a,c++),o+=uf(a,e,r,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,r){if(t==null)return t;var s=[],i=0;return uf(t,s,"","",function(a){return e.call(r,a,i++)}),s}function s_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Un={current:null},df={transition:null},i_={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:df,ReactCurrentOwner:Sv};function MS(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:gh,forEach:function(t,e,r){gh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!Cv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=eu;St.Fragment=KP;St.Profiler=qP;St.PureComponent=jv;St.StrictMode=GP;St.Suspense=JP;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_;St.act=MS;St.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=TS({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Sv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)PS.call(e,u)&&!_S.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];s.children=c}return{$$typeof:Qd,type:t.type,key:i,ref:a,props:s,_owner:o}};St.createContext=function(t){return t={$$typeof:XP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QP,_context:t},t.Consumer=t};St.createElement=DS;St.createFactory=function(t){var e=DS.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:YP,render:t}};St.isValidElement=Cv;St.lazy=function(t){return{$$typeof:e_,_payload:{_status:-1,_result:t},_init:s_}};St.memo=function(t,e){return{$$typeof:ZP,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};St.unstable_act=MS;St.useCallback=function(t,e){return Un.current.useCallback(t,e)};St.useContext=function(t){return Un.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return Un.current.useDeferredValue(t)};St.useEffect=function(t,e){return Un.current.useEffect(t,e)};St.useId=function(){return Un.current.useId()};St.useImperativeHandle=function(t,e,r){return Un.current.useImperativeHandle(t,e,r)};St.useInsertionEffect=function(t,e){return Un.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return Un.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return Un.current.useMemo(t,e)};St.useReducer=function(t,e,r){return Un.current.useReducer(t,e,r)};St.useRef=function(t){return Un.current.useRef(t)};St.useState=function(t){return Un.current.useState(t)};St.useSyncExternalStore=function(t,e,r){return Un.current.useSyncExternalStore(t,e,r)};St.useTransition=function(){return Un.current.useTransition()};St.version="18.3.1";SS.exports=St;var m=SS.exports;const Pe=wv(m),Tv=VP({__proto__:null,default:Pe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=m,o_=Symbol.for("react.element"),l_=Symbol.for("react.fragment"),c_=Object.prototype.hasOwnProperty,u_=a_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d_={key:!0,ref:!0,__self:!0,__source:!0};function AS(t,e,r){var s,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)c_.call(e,s)&&!d_.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:o_,type:t,key:a,ref:o,props:i,_owner:u_.current}}zm.Fragment=l_;zm.jsx=AS;zm.jsxs=AS;NS.exports=zm;var n=NS.exports,OS={exports:{}},xs={},RS={exports:{}},IS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var U=L.length;L.push(M);e:for(;0<U;){var Q=U-1>>>1,oe=L[Q];if(0<i(oe,M))L[Q]=M,L[U]=oe,U=Q;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var M=L[0],U=L.pop();if(U!==M){L[0]=U;e:for(var Q=0,oe=L.length,Ne=oe>>>1;Q<Ne;){var H=2*(Q+1)-1,he=L[H],Ee=H+1,B=L[Ee];if(0>i(he,U))Ee<oe&&0>i(B,he)?(L[Q]=B,L[Ee]=U,Q=Ee):(L[Q]=he,L[H]=U,Q=H);else if(Ee<oe&&0>i(B,U))L[Q]=B,L[Ee]=U,Q=Ee;else break e}}return M}function i(L,M){var U=L.sortIndex-M.sortIndex;return U!==0?U:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var M=r(l);M!==null;){if(M.callback===null)s(l);else if(M.startTime<=L)s(l),M.sortIndex=M.expirationTime,e(u,M);else break;M=r(l)}}function w(L){if(g=!1,y(L),!v)if(r(u)!==null)v=!0,V(C);else{var M=r(l);M!==null&&re(w,M.startTime-L)}}function C(L,M){v=!1,g&&(g=!1,b(E),E=-1),p=!0;var U=f;try{for(y(M),h=r(u);h!==null&&(!(h.expirationTime>M)||L&&!W());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var oe=Q(h.expirationTime<=M);M=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(u)&&s(u),y(M)}else s(u);h=r(u)}if(h!==null)var Ne=!0;else{var H=r(l);H!==null&&re(w,H.startTime-M),Ne=!1}return Ne}finally{h=null,f=U,p=!1}}var k=!1,S=null,E=-1,_=5,P=-1;function W(){return!(t.unstable_now()-P<_)}function F(){if(S!==null){var L=t.unstable_now();P=L;var M=!0;try{M=S(!0,L)}finally{M?I():(k=!1,S=null)}}else k=!1}var I;if(typeof x=="function")I=function(){x(F)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=F,I=function(){q.postMessage(null)}}else I=function(){N(F,0)};function V(L){S=L,k||(k=!0,I())}function re(L,M){E=N(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,V(C))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var U=f;f=M;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return M()}finally{f=U}},t.unstable_scheduleCallback=function(L,M,U){var Q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,L){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=U+oe,L={id:d++,callback:M,priorityLevel:L,startTime:U,expirationTime:oe,sortIndex:-1},U>Q?(L.sortIndex=U,e(l,L),r(u)===null&&L===r(l)&&(g?(b(E),E=-1):g=!0,re(w,U-Q))):(L.sortIndex=oe,e(u,L),v||p||(v=!0,V(C))),L},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(L){var M=f;return function(){var U=f;f=M;try{return L.apply(this,arguments)}finally{f=U}}}})(IS);RS.exports=IS;var h_=RS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=m,ps=h_;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LS=new Set,cd={};function jl(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(cd[t]=e,t=0;t<e.length;t++)LS.add(e[t])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=Object.prototype.hasOwnProperty,m_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xb={},Yb={};function p_(t){return Ng.call(Yb,t)?!0:Ng.call(Xb,t)?!1:m_.test(t)?Yb[t]=!0:(Xb[t]=!0,!1)}function g_(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x_(t,e,r,s){if(e===null||typeof e>"u"||g_(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,r,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kv=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kv,Ev);vn[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kv,Ev);vn[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kv,Ev);vn[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pv(t,e,r,s){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x_(e,r,i,s)&&(r=null),s||i===null?p_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,s=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var ga=f_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),Gl=Symbol.for("react.portal"),ql=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),US=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),Tg=Symbol.for("react.suspense_list"),Mv=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=Jb&&t[Jb]||t["@@iterator"],typeof t=="function"?t:null)}var Sr=Object.assign,ep;function Lu(t){if(ep===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ep=e&&e[1]||""}return`
`+ep+t}var tp=!1;function rp(t,e){if(!t||tp)return"";tp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var s=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){s=l}t.call(e.prototype)}else{try{throw Error()}catch(l){s=l}t()}}catch(l){if(l&&s&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{tp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Lu(t):""}function v_(t){switch(t.tag){case 5:return Lu(t.type);case 16:return Lu("Lazy");case 13:return Lu("Suspense");case 19:return Lu("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ql:return"Fragment";case Gl:return"Portal";case Sg:return"Profiler";case _v:return"StrictMode";case Cg:return"Suspense";case Tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case US:return(t.displayName||"Context")+".Consumer";case FS:return(t._context.displayName||"Context")+".Provider";case Dv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mv:return e=t.displayName||null,e!==null?e:kg(t.type)||"Memo";case Ea:e=t._payload,t=t._init;try{return kg(t(e))}catch{}}return null}function y_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kg(e);case 8:return e===_v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b_(t){var e=zS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=b_(t))}function $S(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=zS(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function Of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eg(t,e){var r=e.checked;return Sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zb(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=oo(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WS(t,e){e=e.checked,e!=null&&Pv(t,"checked",e,!1)}function Pg(t,e){WS(t,e);var r=oo(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_g(t,e.type,r):e.hasOwnProperty("defaultValue")&&_g(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ew(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _g(t,e,r){(e!=="number"||Of(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Fu=Array.isArray;function cc(t,e,r,s){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&s&&(t[r].defaultSelected=!0)}else{for(r=""+oo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(Fu(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:oo(r)}}function VS(t,e){var r=oo(e.value),s=oo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function rw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,KS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w_=["Webkit","ms","Moz","O"];Object.keys(Hu).forEach(function(t){w_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hu[e]=Hu[t]})});function GS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hu.hasOwnProperty(t)&&Hu[t]?(""+e).trim():e+"px"}function qS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=GS(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,i):t[r]=i}}var j_=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(t,e){if(e){if(j_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function Og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rg=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ig=null,uc=null,dc=null;function nw(t){if(t=Jd(t)){if(typeof Ig!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Km(e),Ig(t.stateNode,t.type,e))}}function QS(t){uc?dc?dc.push(t):dc=[t]:uc=t}function XS(){if(uc){var t=uc,e=dc;if(dc=uc=null,nw(t),e)for(t=0;t<e.length;t++)nw(e[t])}}function YS(t,e){return t(e)}function JS(){}var np=!1;function ZS(t,e,r){if(np)return t(e,r);np=!0;try{return YS(t,e,r)}finally{np=!1,(uc!==null||dc!==null)&&(JS(),XS())}}function dd(t,e){var r=t.stateNode;if(r===null)return null;var s=Km(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var Lg=!1;if(la)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{Lg=!1}function N_(t,e,r,s,i,a,o,c,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(d){this.onError(d)}}var Ku=!1,Rf=null,If=!1,Fg=null,S_={onError:function(t){Ku=!0,Rf=t}};function C_(t,e,r,s,i,a,o,c,u){Ku=!1,Rf=null,N_.apply(S_,arguments)}function T_(t,e,r,s,i,a,o,c,u){if(C_.apply(this,arguments),Ku){if(Ku){var l=Rf;Ku=!1,Rf=null}else throw Error(we(198));If||(If=!0,Fg=l)}}function Nl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function e2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sw(t){if(Nl(t)!==t)throw Error(we(188))}function k_(t){var e=t.alternate;if(!e){if(e=Nl(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,s=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return sw(i),t;if(a===s)return sw(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,c=i.child;c;){if(c===r){o=!0,r=i,s=a;break}if(c===s){o=!0,s=i,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,s=i;break}if(c===s){o=!0,s=a,r=i;break}c=c.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==s)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function t2(t){return t=k_(t),t!==null?r2(t):null}function r2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r2(t);if(e!==null)return e;t=t.sibling}return null}var n2=ps.unstable_scheduleCallback,iw=ps.unstable_cancelCallback,E_=ps.unstable_shouldYield,P_=ps.unstable_requestPaint,Dr=ps.unstable_now,__=ps.unstable_getCurrentPriorityLevel,Ov=ps.unstable_ImmediatePriority,s2=ps.unstable_UserBlockingPriority,Lf=ps.unstable_NormalPriority,D_=ps.unstable_LowPriority,i2=ps.unstable_IdlePriority,$m=null,Mi=null;function M_(t){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot($m,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:R_,A_=Math.log,O_=Math.LN2;function R_(t){return t>>>=0,t===0?32:31-(A_(t)/O_|0)|0}var bh=64,wh=4194304;function Uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var c=o&~i;c!==0?s=Uu(c):(a&=o,a!==0&&(s=Uu(a)))}else o=r&~i,o!==0?s=Uu(o):a!==0&&(s=Uu(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-ei(e),i=1<<r,s|=t[r],e&=~i;return s}function I_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L_(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ei(a),c=1<<o,u=i[o];u===-1?(!(c&r)||c&s)&&(i[o]=I_(c,e)):u<=e&&(t.expiredLanes|=c),a&=~c}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a2(){var t=bh;return bh<<=1,!(bh&4194240)&&(bh=64),t}function sp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function F_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ei(r),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,r&=~a}}function Rv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-ei(r),i=1<<s;i&e|t[s]&e&&(t[s]|=e),r&=~i}}var Yt=0;function o2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var l2,Iv,c2,u2,d2,Bg=!1,jh=[],Xa=null,Ya=null,Ja=null,hd=new Map,fd=new Map,Ma=[],U_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aw(t,e){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function Nu(t,e,r,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jd(e),e!==null&&Iv(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B_(t,e,r,s,i){switch(e){case"focusin":return Xa=Nu(Xa,t,e,r,s,i),!0;case"dragenter":return Ya=Nu(Ya,t,e,r,s,i),!0;case"mouseover":return Ja=Nu(Ja,t,e,r,s,i),!0;case"pointerover":var a=i.pointerId;return hd.set(a,Nu(hd.get(a)||null,t,e,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,fd.set(a,Nu(fd.get(a)||null,t,e,r,s,i)),!0}return!1}function h2(t){var e=Io(t.target);if(e!==null){var r=Nl(e);if(r!==null){if(e=r.tag,e===13){if(e=e2(r),e!==null){t.blockedOn=e,d2(t.priority,function(){c2(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);Rg=s,r.target.dispatchEvent(s),Rg=null}else return e=Jd(r),e!==null&&Iv(e),t.blockedOn=r,!1;e.shift()}return!0}function ow(t,e,r){hf(t)&&r.delete(e)}function z_(){Bg=!1,Xa!==null&&hf(Xa)&&(Xa=null),Ya!==null&&hf(Ya)&&(Ya=null),Ja!==null&&hf(Ja)&&(Ja=null),hd.forEach(ow),fd.forEach(ow)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,Bg||(Bg=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,z_)))}function md(t){function e(i){return Su(i,t)}if(0<jh.length){Su(jh[0],t);for(var r=1;r<jh.length;r++){var s=jh[r];s.blockedOn===t&&(s.blockedOn=null)}}for(Xa!==null&&Su(Xa,t),Ya!==null&&Su(Ya,t),Ja!==null&&Su(Ja,t),hd.forEach(e),fd.forEach(e),r=0;r<Ma.length;r++)s=Ma[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<Ma.length&&(r=Ma[0],r.blockedOn===null);)h2(r),r.blockedOn===null&&Ma.shift()}var hc=ga.ReactCurrentBatchConfig,Uf=!0;function $_(t,e,r,s){var i=Yt,a=hc.transition;hc.transition=null;try{Yt=1,Lv(t,e,r,s)}finally{Yt=i,hc.transition=a}}function W_(t,e,r,s){var i=Yt,a=hc.transition;hc.transition=null;try{Yt=4,Lv(t,e,r,s)}finally{Yt=i,hc.transition=a}}function Lv(t,e,r,s){if(Uf){var i=zg(t,e,r,s);if(i===null)mp(t,e,s,Bf,r),aw(t,s);else if(B_(i,t,e,r,s))s.stopPropagation();else if(aw(t,s),e&4&&-1<U_.indexOf(t)){for(;i!==null;){var a=Jd(i);if(a!==null&&l2(a),a=zg(t,e,r,s),a===null&&mp(t,e,s,Bf,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else mp(t,e,s,null,r)}}var Bf=null;function zg(t,e,r,s){if(Bf=null,t=Av(s),t=Io(t),t!==null)if(e=Nl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=e2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bf=t,null}function f2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(__()){case Ov:return 1;case s2:return 4;case Lf:case D_:return 16;case i2:return 536870912;default:return 16}default:return 16}}var Wa=null,Fv=null,ff=null;function m2(){if(ff)return ff;var t,e=Fv,r=e.length,s,i="value"in Wa?Wa.value:Wa.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===i[a-s];s++);return ff=i.slice(t,1<s?1-s:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function lw(){return!1}function vs(t){function e(r,s,i,a,o){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Nh:lw,this.isPropagationStopped=lw,this}return Sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uv=vs(tu),Yd=Sr({},tu,{view:0,detail:0}),V_=vs(Yd),ip,ap,Cu,Wm=Sr({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(ip=t.screenX-Cu.screenX,ap=t.screenY-Cu.screenY):ap=ip=0,Cu=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),cw=vs(Wm),H_=Sr({},Wm,{dataTransfer:0}),K_=vs(H_),G_=Sr({},Yd,{relatedTarget:0}),op=vs(G_),q_=Sr({},tu,{animationName:0,elapsedTime:0,pseudoElement:0}),Q_=vs(q_),X_=Sr({},tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y_=vs(X_),J_=Sr({},tu,{data:0}),uw=vs(J_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tD[t])?!!e[t]:!1}function Bv(){return rD}var nD=Sr({},Yd,{key:function(t){if(t.key){var e=Z_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bv,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sD=vs(nD),iD=Sr({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dw=vs(iD),aD=Sr({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bv}),oD=vs(aD),lD=Sr({},tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),cD=vs(lD),uD=Sr({},Wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dD=vs(uD),hD=[9,13,27,32],zv=la&&"CompositionEvent"in window,Gu=null;la&&"documentMode"in document&&(Gu=document.documentMode);var fD=la&&"TextEvent"in window&&!Gu,p2=la&&(!zv||Gu&&8<Gu&&11>=Gu),hw=" ",fw=!1;function g2(t,e){switch(t){case"keyup":return hD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ql=!1;function mD(t,e){switch(t){case"compositionend":return x2(e);case"keypress":return e.which!==32?null:(fw=!0,hw);case"textInput":return t=e.data,t===hw&&fw?null:t;default:return null}}function pD(t,e){if(Ql)return t==="compositionend"||!zv&&g2(t,e)?(t=m2(),ff=Fv=Wa=null,Ql=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p2&&e.locale!=="ko"?null:e.data;default:return null}}var gD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gD[t.type]:e==="textarea"}function v2(t,e,r,s){QS(s),e=zf(e,"onChange"),0<e.length&&(r=new Uv("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var qu=null,pd=null;function xD(t){P2(t,0)}function Vm(t){var e=Jl(t);if($S(e))return t}function vD(t,e){if(t==="change")return e}var y2=!1;if(la){var lp;if(la){var cp="oninput"in document;if(!cp){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),cp=typeof pw.oninput=="function"}lp=cp}else lp=!1;y2=lp&&(!document.documentMode||9<document.documentMode)}function gw(){qu&&(qu.detachEvent("onpropertychange",b2),pd=qu=null)}function b2(t){if(t.propertyName==="value"&&Vm(pd)){var e=[];v2(e,pd,t,Av(t)),ZS(xD,e)}}function yD(t,e,r){t==="focusin"?(gw(),qu=e,pd=r,qu.attachEvent("onpropertychange",b2)):t==="focusout"&&gw()}function bD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vm(pd)}function wD(t,e){if(t==="click")return Vm(e)}function jD(t,e){if(t==="input"||t==="change")return Vm(e)}function ND(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ii=typeof Object.is=="function"?Object.is:ND;function gd(t,e){if(ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!Ng.call(e,i)||!ii(t[i],e[i]))return!1}return!0}function xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vw(t,e){var r=xw(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xw(r)}}function w2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function j2(){for(var t=window,e=Of();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Of(t.document)}return e}function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SD(t){var e=j2(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&w2(r.ownerDocument.documentElement,r)){if(s!==null&&$v(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=vw(r,a);var o=vw(r,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CD=la&&"documentMode"in document&&11>=document.documentMode,Xl=null,$g=null,Qu=null,Wg=!1;function yw(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wg||Xl==null||Xl!==Of(s)||(s=Xl,"selectionStart"in s&&$v(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qu&&gd(Qu,s)||(Qu=s,s=zf($g,"onSelect"),0<s.length&&(e=new Uv("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=Xl)))}function Sh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yl={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},up={},N2={};la&&(N2=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Hm(t){if(up[t])return up[t];if(!Yl[t])return t;var e=Yl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in N2)return up[t]=e[r];return t}var S2=Hm("animationend"),C2=Hm("animationiteration"),T2=Hm("animationstart"),k2=Hm("transitionend"),E2=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xo(t,e){E2.set(t,e),jl(e,[t])}for(var dp=0;dp<bw.length;dp++){var hp=bw[dp],TD=hp.toLowerCase(),kD=hp[0].toUpperCase()+hp.slice(1);xo(TD,"on"+kD)}xo(S2,"onAnimationEnd");xo(C2,"onAnimationIteration");xo(T2,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(k2,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jl("onBeforeInput",["compositionend","keypress","textInput","paste"]);jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ED=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bu));function ww(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,T_(s,e,void 0,t),t.currentTarget=null}function P2(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var c=s[o],u=c.instance,l=c.currentTarget;if(c=c.listener,u!==a&&i.isPropagationStopped())break e;ww(i,c,l),a=u}else for(o=0;o<s.length;o++){if(c=s[o],u=c.instance,l=c.currentTarget,c=c.listener,u!==a&&i.isPropagationStopped())break e;ww(i,c,l),a=u}}}if(If)throw t=Fg,If=!1,Fg=null,t}function lr(t,e){var r=e[qg];r===void 0&&(r=e[qg]=new Set);var s=t+"__bubble";r.has(s)||(_2(e,t,2,!1),r.add(s))}function fp(t,e,r){var s=0;e&&(s|=4),_2(r,t,s,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[Ch]){t[Ch]=!0,LS.forEach(function(r){r!=="selectionchange"&&(ED.has(r)||fp(r,!1,t),fp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,fp("selectionchange",!1,e))}}function _2(t,e,r,s){switch(f2(e)){case 1:var i=$_;break;case 4:i=W_;break;default:i=Lv}r=i.bind(null,e,r,t),i=void 0,!Lg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function mp(t,e,r,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;c!==null;){if(o=Io(c),o===null)return;if(u=o.tag,u===5||u===6){s=a=o;continue e}c=c.parentNode}}s=s.return}ZS(function(){var l=a,d=Av(r),h=[];e:{var f=E2.get(t);if(f!==void 0){var p=Uv,v=t;switch(t){case"keypress":if(mf(r)===0)break e;case"keydown":case"keyup":p=sD;break;case"focusin":v="focus",p=op;break;case"focusout":v="blur",p=op;break;case"beforeblur":case"afterblur":p=op;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oD;break;case S2:case C2:case T2:p=Q_;break;case k2:p=cD;break;case"scroll":p=V_;break;case"wheel":p=dD;break;case"copy":case"cut":case"paste":p=Y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dw}var g=(e&4)!==0,N=!g&&t==="scroll",b=g?f!==null?f+"Capture":null:f;g=[];for(var x=l,y;x!==null;){y=x;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,b!==null&&(w=dd(x,b),w!=null&&g.push(vd(x,w,y)))),N)break;x=x.return}0<g.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==Rg&&(v=r.relatedTarget||r.fromElement)&&(Io(v)||v[ca]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=l,v=v?Io(v):null,v!==null&&(N=Nl(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=l),p!==v)){if(g=cw,w="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=dw,w="onPointerLeave",b="onPointerEnter",x="pointer"),N=p==null?f:Jl(p),y=v==null?f:Jl(v),f=new g(w,x+"leave",p,r,d),f.target=N,f.relatedTarget=y,w=null,Io(d)===l&&(g=new g(b,x+"enter",v,r,d),g.target=y,g.relatedTarget=N,w=g),N=w,p&&v)t:{for(g=p,b=v,x=0,y=g;y;y=Dl(y))x++;for(y=0,w=b;w;w=Dl(w))y++;for(;0<x-y;)g=Dl(g),x--;for(;0<y-x;)b=Dl(b),y--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=Dl(g),b=Dl(b)}g=null}else g=null;p!==null&&jw(h,f,p,g,!1),v!==null&&N!==null&&jw(h,N,v,g,!0)}}e:{if(f=l?Jl(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=vD;else if(mw(f))if(y2)C=jD;else{C=bD;var k=yD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=wD);if(C&&(C=C(t,l))){v2(h,C,r,d);break e}k&&k(t,f,l),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&_g(f,"number",f.value)}switch(k=l?Jl(l):window,t){case"focusin":(mw(k)||k.contentEditable==="true")&&(Xl=k,$g=l,Qu=null);break;case"focusout":Qu=$g=Xl=null;break;case"mousedown":Wg=!0;break;case"contextmenu":case"mouseup":case"dragend":Wg=!1,yw(h,r,d);break;case"selectionchange":if(CD)break;case"keydown":case"keyup":yw(h,r,d)}var S;if(zv)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ql?g2(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(p2&&r.locale!=="ko"&&(Ql||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ql&&(S=m2()):(Wa=d,Fv="value"in Wa?Wa.value:Wa.textContent,Ql=!0)),k=zf(l,E),0<k.length&&(E=new uw(E,t,null,r,d),h.push({event:E,listeners:k}),S?E.data=S:(S=x2(r),S!==null&&(E.data=S)))),(S=fD?mD(t,r):pD(t,r))&&(l=zf(l,"onBeforeInput"),0<l.length&&(d=new uw("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:l}),d.data=S))}P2(h,e)})}function vd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zf(t,e){for(var r=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dd(t,r),a!=null&&s.unshift(vd(t,a,i)),a=dd(t,e),a!=null&&s.push(vd(t,a,i))),t=t.return}return s}function Dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jw(t,e,r,s,i){for(var a=e._reactName,o=[];r!==null&&r!==s;){var c=r,u=c.alternate,l=c.stateNode;if(u!==null&&u===s)break;c.tag===5&&l!==null&&(c=l,i?(u=dd(r,a),u!=null&&o.unshift(vd(r,u,c))):i||(u=dd(r,a),u!=null&&o.push(vd(r,u,c)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var PD=/\r\n?/g,_D=/\u0000|\uFFFD/g;function Nw(t){return(typeof t=="string"?t:""+t).replace(PD,`
`).replace(_D,"")}function Th(t,e,r){if(e=Nw(e),Nw(t)!==e&&r)throw Error(we(425))}function $f(){}var Vg=null,Hg=null;function Kg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,DD=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,MD=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(t){return Sw.resolve(null).then(t).catch(AD)}:Gg;function AD(t){setTimeout(function(){throw t})}function pp(t,e){var r=e,s=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){t.removeChild(i),md(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);md(e)}function Za(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Ci="__reactFiber$"+ru,yd="__reactProps$"+ru,ca="__reactContainer$"+ru,qg="__reactEvents$"+ru,OD="__reactListeners$"+ru,RD="__reactHandles$"+ru;function Io(t){var e=t[Ci];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ca]||r[Ci]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Cw(t);t!==null;){if(r=t[Ci])return r;t=Cw(t)}return e}t=r,r=t.parentNode}return null}function Jd(t){return t=t[Ci]||t[ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Km(t){return t[yd]||null}var Qg=[],Zl=-1;function vo(t){return{current:t}}function dr(t){0>Zl||(t.current=Qg[Zl],Qg[Zl]=null,Zl--)}function sr(t,e){Zl++,Qg[Zl]=t.current,t.current=e}var lo={},Sn=vo(lo),Jn=vo(!1),rl=lo;function Ac(t,e){var r=t.type.contextTypes;if(!r)return lo;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function Wf(){dr(Jn),dr(Sn)}function Tw(t,e,r){if(Sn.current!==lo)throw Error(we(168));sr(Sn,e),sr(Jn,r)}function D2(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(we(108,y_(t)||"Unknown",i));return Sr({},r,s)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,rl=Sn.current,sr(Sn,t),sr(Jn,Jn.current),!0}function kw(t,e,r){var s=t.stateNode;if(!s)throw Error(we(169));r?(t=D2(t,e,rl),s.__reactInternalMemoizedMergedChildContext=t,dr(Jn),dr(Sn),sr(Sn,t)):dr(Jn),sr(Jn,r)}var Qi=null,Gm=!1,gp=!1;function M2(t){Qi===null?Qi=[t]:Qi.push(t)}function ID(t){Gm=!0,M2(t)}function yo(){if(!gp&&Qi!==null){gp=!0;var t=0,e=Yt;try{var r=Qi;for(Yt=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}Qi=null,Gm=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),n2(Ov,yo),i}finally{Yt=e,gp=!1}}return null}var ec=[],tc=0,Hf=null,Kf=0,Es=[],Ps=0,nl=null,ta=1,ra="";function Do(t,e){ec[tc++]=Kf,ec[tc++]=Hf,Hf=t,Kf=e}function A2(t,e,r){Es[Ps++]=ta,Es[Ps++]=ra,Es[Ps++]=nl,nl=t;var s=ta;t=ra;var i=32-ei(s)-1;s&=~(1<<i),r+=1;var a=32-ei(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,ta=1<<32-ei(e)+i|r<<i|s,ra=a+t}else ta=1<<a|r<<i|s,ra=t}function Wv(t){t.return!==null&&(Do(t,1),A2(t,1,0))}function Vv(t){for(;t===Hf;)Hf=ec[--tc],ec[tc]=null,Kf=ec[--tc],ec[tc]=null;for(;t===nl;)nl=Es[--Ps],Es[Ps]=null,ra=Es[--Ps],Es[Ps]=null,ta=Es[--Ps],Es[Ps]=null}var fs=null,hs=null,gr=!1,qs=null;function O2(t,e){var r=_s(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ew(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fs=t,hs=Za(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fs=t,hs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=nl!==null?{id:ta,overflow:ra}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=_s(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fs=t,hs=null,!0):!1;default:return!1}}function Xg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yg(t){if(gr){var e=hs;if(e){var r=e;if(!Ew(t,e)){if(Xg(t))throw Error(we(418));e=Za(r.nextSibling);var s=fs;e&&Ew(t,e)?O2(s,r):(t.flags=t.flags&-4097|2,gr=!1,fs=t)}}else{if(Xg(t))throw Error(we(418));t.flags=t.flags&-4097|2,gr=!1,fs=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fs=t}function kh(t){if(t!==fs)return!1;if(!gr)return Pw(t),gr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kg(t.type,t.memoizedProps)),e&&(e=hs)){if(Xg(t))throw R2(),Error(we(418));for(;e;)O2(t,e),e=Za(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hs=Za(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hs=null}}else hs=fs?Za(t.stateNode.nextSibling):null;return!0}function R2(){for(var t=hs;t;)t=Za(t.nextSibling)}function Oc(){hs=fs=null,gr=!1}function Hv(t){qs===null?qs=[t]:qs.push(t)}var LD=ga.ReactCurrentBatchConfig;function Tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var s=r.stateNode}if(!s)throw Error(we(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function Eh(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _w(t){var e=t._init;return e(t._payload)}function I2(t){function e(b,x){if(t){var y=b.deletions;y===null?(b.deletions=[x],b.flags|=16):y.push(x)}}function r(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function s(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=no(b,x),b.index=0,b.sibling=null,b}function a(b,x,y){return b.index=y,t?(y=b.alternate,y!==null?(y=y.index,y<x?(b.flags|=2,x):y):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function c(b,x,y,w){return x===null||x.tag!==6?(x=Np(y,b.mode,w),x.return=b,x):(x=i(x,y),x.return=b,x)}function u(b,x,y,w){var C=y.type;return C===ql?d(b,x,y.props.children,w,y.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ea&&_w(C)===x.type)?(w=i(x,y.props),w.ref=Tu(b,x,y),w.return=b,w):(w=wf(y.type,y.key,y.props,null,b.mode,w),w.ref=Tu(b,x,y),w.return=b,w)}function l(b,x,y,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Sp(y,b.mode,w),x.return=b,x):(x=i(x,y.children||[]),x.return=b,x)}function d(b,x,y,w,C){return x===null||x.tag!==7?(x=Jo(y,b.mode,w,C),x.return=b,x):(x=i(x,y),x.return=b,x)}function h(b,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Np(""+x,b.mode,y),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xh:return y=wf(x.type,x.key,x.props,null,b.mode,y),y.ref=Tu(b,null,x),y.return=b,y;case Gl:return x=Sp(x,b.mode,y),x.return=b,x;case Ea:var w=x._init;return h(b,w(x._payload),y)}if(Fu(x)||wu(x))return x=Jo(x,b.mode,y,null),x.return=b,x;Eh(b,x)}return null}function f(b,x,y,w){var C=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:c(b,x,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xh:return y.key===C?u(b,x,y,w):null;case Gl:return y.key===C?l(b,x,y,w):null;case Ea:return C=y._init,f(b,x,C(y._payload),w)}if(Fu(y)||wu(y))return C!==null?null:d(b,x,y,w,null);Eh(b,y)}return null}function p(b,x,y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(y)||null,c(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xh:return b=b.get(w.key===null?y:w.key)||null,u(x,b,w,C);case Gl:return b=b.get(w.key===null?y:w.key)||null,l(x,b,w,C);case Ea:var k=w._init;return p(b,x,y,k(w._payload),C)}if(Fu(w)||wu(w))return b=b.get(y)||null,d(x,b,w,C,null);Eh(x,w)}return null}function v(b,x,y,w){for(var C=null,k=null,S=x,E=x=0,_=null;S!==null&&E<y.length;E++){S.index>E?(_=S,S=null):_=S.sibling;var P=f(b,S,y[E],w);if(P===null){S===null&&(S=_);break}t&&S&&P.alternate===null&&e(b,S),x=a(P,x,E),k===null?C=P:k.sibling=P,k=P,S=_}if(E===y.length)return r(b,S),gr&&Do(b,E),C;if(S===null){for(;E<y.length;E++)S=h(b,y[E],w),S!==null&&(x=a(S,x,E),k===null?C=S:k.sibling=S,k=S);return gr&&Do(b,E),C}for(S=s(b,S);E<y.length;E++)_=p(S,b,E,y[E],w),_!==null&&(t&&_.alternate!==null&&S.delete(_.key===null?E:_.key),x=a(_,x,E),k===null?C=_:k.sibling=_,k=_);return t&&S.forEach(function(W){return e(b,W)}),gr&&Do(b,E),C}function g(b,x,y,w){var C=wu(y);if(typeof C!="function")throw Error(we(150));if(y=C.call(y),y==null)throw Error(we(151));for(var k=C=null,S=x,E=x=0,_=null,P=y.next();S!==null&&!P.done;E++,P=y.next()){S.index>E?(_=S,S=null):_=S.sibling;var W=f(b,S,P.value,w);if(W===null){S===null&&(S=_);break}t&&S&&W.alternate===null&&e(b,S),x=a(W,x,E),k===null?C=W:k.sibling=W,k=W,S=_}if(P.done)return r(b,S),gr&&Do(b,E),C;if(S===null){for(;!P.done;E++,P=y.next())P=h(b,P.value,w),P!==null&&(x=a(P,x,E),k===null?C=P:k.sibling=P,k=P);return gr&&Do(b,E),C}for(S=s(b,S);!P.done;E++,P=y.next())P=p(S,b,E,P.value,w),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?E:P.key),x=a(P,x,E),k===null?C=P:k.sibling=P,k=P);return t&&S.forEach(function(F){return e(b,F)}),gr&&Do(b,E),C}function N(b,x,y,w){if(typeof y=="object"&&y!==null&&y.type===ql&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xh:e:{for(var C=y.key,k=x;k!==null;){if(k.key===C){if(C=y.type,C===ql){if(k.tag===7){r(b,k.sibling),x=i(k,y.props.children),x.return=b,b=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ea&&_w(C)===k.type){r(b,k.sibling),x=i(k,y.props),x.ref=Tu(b,k,y),x.return=b,b=x;break e}r(b,k);break}else e(b,k);k=k.sibling}y.type===ql?(x=Jo(y.props.children,b.mode,w,y.key),x.return=b,b=x):(w=wf(y.type,y.key,y.props,null,b.mode,w),w.ref=Tu(b,x,y),w.return=b,b=w)}return o(b);case Gl:e:{for(k=y.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(b,x.sibling),x=i(x,y.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else e(b,x);x=x.sibling}x=Sp(y,b.mode,w),x.return=b,b=x}return o(b);case Ea:return k=y._init,N(b,x,k(y._payload),w)}if(Fu(y))return v(b,x,y,w);if(wu(y))return g(b,x,y,w);Eh(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(b,x.sibling),x=i(x,y),x.return=b,b=x):(r(b,x),x=Np(y,b.mode,w),x.return=b,b=x),o(b)):r(b,x)}return N}var Rc=I2(!0),L2=I2(!1),Gf=vo(null),qf=null,rc=null,Kv=null;function Gv(){Kv=rc=qf=null}function qv(t){var e=Gf.current;dr(Gf),t._currentValue=e}function Jg(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function fc(t,e){qf=t,Kv=rc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function As(t){var e=t._currentValue;if(Kv!==t)if(t={context:t,memoizedValue:e,next:null},rc===null){if(qf===null)throw Error(we(308));rc=t,qf.dependencies={lanes:0,firstContext:t}}else rc=rc.next=t;return e}var Lo=null;function Qv(t){Lo===null?Lo=[t]:Lo.push(t)}function F2(t,e,r,s){var i=e.interleaved;return i===null?(r.next=r,Qv(e)):(r.next=i.next,i.next=r),e.interleaved=r,ua(t,s)}function ua(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pa=!1;function Xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function aa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,At&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,ua(t,r)}return i=s.interleaved,i===null?(e.next=e,Qv(s)):(e.next=i.next,i.next=e),s.interleaved=e,ua(t,r)}function pf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Rv(t,r)}}function Dw(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qf(t,e,r,s){var i=t.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,l=u.next;u.next=null,o===null?a=l:o.next=l,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=l:c.next=l,d.lastBaseUpdate=u))}if(a!==null){var h=i.baseState;o=0,d=l=u=null,c=a;do{var f=c.lane,p=c.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=t,g=c;switch(f=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Sr({},h,f);break e;case 2:Pa=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[c]:f.push(c))}else p={eventTime:p,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(l=d=p,u=h):d=d.next=p,o|=f;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=h}}function Mw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(we(191,i));i.call(s)}}}var Zd={},Ai=vo(Zd),bd=vo(Zd),wd=vo(Zd);function Fo(t){if(t===Zd)throw Error(we(174));return t}function Yv(t,e){switch(sr(wd,e),sr(bd,t),sr(Ai,Zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mg(e,t)}dr(Ai),sr(Ai,e)}function Ic(){dr(Ai),dr(bd),dr(wd)}function B2(t){Fo(wd.current);var e=Fo(Ai.current),r=Mg(e,t.type);e!==r&&(sr(bd,t),sr(Ai,r))}function Jv(t){bd.current===t&&(dr(Ai),dr(bd))}var jr=vo(0);function Xf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xp=[];function Zv(){for(var t=0;t<xp.length;t++)xp[t]._workInProgressVersionPrimary=null;xp.length=0}var gf=ga.ReactCurrentDispatcher,vp=ga.ReactCurrentBatchConfig,sl=0,Nr=null,Yr=null,an=null,Yf=!1,Xu=!1,jd=0,FD=0;function yn(){throw Error(we(321))}function ey(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ii(t[r],e[r]))return!1;return!0}function ty(t,e,r,s,i,a){if(sl=a,Nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gf.current=t===null||t.memoizedState===null?$D:WD,t=r(s,i),Xu){a=0;do{if(Xu=!1,jd=0,25<=a)throw Error(we(301));a+=1,an=Yr=null,e.updateQueue=null,gf.current=VD,t=r(s,i)}while(Xu)}if(gf.current=Jf,e=Yr!==null&&Yr.next!==null,sl=0,an=Yr=Nr=null,Yf=!1,e)throw Error(we(300));return t}function ry(){var t=jd!==0;return jd=0,t}function vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Nr.memoizedState=an=t:an=an.next=t,an}function Os(){if(Yr===null){var t=Nr.alternate;t=t!==null?t.memoizedState:null}else t=Yr.next;var e=an===null?Nr.memoizedState:an.next;if(e!==null)an=e,Yr=t;else{if(t===null)throw Error(we(310));Yr=t,t={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},an===null?Nr.memoizedState=an=t:an=an.next=t}return an}function Nd(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=Os(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var s=Yr,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var c=o=null,u=null,l=a;do{var d=l.lane;if((sl&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),s=l.hasEagerState?l.eagerState:t(s,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(c=u=h,o=s):u=u.next=h,Nr.lanes|=d,il|=d}l=l.next}while(l!==null&&l!==a);u===null?o=s:u.next=c,ii(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=u,r.lastRenderedState=s}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Nr.lanes|=a,il|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function bp(t){var e=Os(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var s=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ii(a,e.memoizedState)||(Yn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,s]}function z2(){}function $2(t,e){var r=Nr,s=Os(),i=e(),a=!ii(s.memoizedState,i);if(a&&(s.memoizedState=i,Yn=!0),s=s.queue,ny(H2.bind(null,r,s,t),[t]),s.getSnapshot!==e||a||an!==null&&an.memoizedState.tag&1){if(r.flags|=2048,Sd(9,V2.bind(null,r,s,i,e),void 0,null),on===null)throw Error(we(349));sl&30||W2(r,e,i)}return i}function W2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function V2(t,e,r,s){e.value=r,e.getSnapshot=s,K2(e)&&G2(t)}function H2(t,e,r){return r(function(){K2(e)&&G2(t)})}function K2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ii(t,r)}catch{return!0}}function G2(t){var e=ua(t,1);e!==null&&ti(e,t,1,-1)}function Aw(t){var e=vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:t},e.queue=t,t=t.dispatch=zD.bind(null,Nr,t),[e.memoizedState,t]}function Sd(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function q2(){return Os().memoizedState}function xf(t,e,r,s){var i=vi();Nr.flags|=t,i.memoizedState=Sd(1|e,r,void 0,s===void 0?null:s)}function qm(t,e,r,s){var i=Os();s=s===void 0?null:s;var a=void 0;if(Yr!==null){var o=Yr.memoizedState;if(a=o.destroy,s!==null&&ey(s,o.deps)){i.memoizedState=Sd(e,r,a,s);return}}Nr.flags|=t,i.memoizedState=Sd(1|e,r,a,s)}function Ow(t,e){return xf(8390656,8,t,e)}function ny(t,e){return qm(2048,8,t,e)}function Q2(t,e){return qm(4,2,t,e)}function X2(t,e){return qm(4,4,t,e)}function Y2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J2(t,e,r){return r=r!=null?r.concat([t]):null,qm(4,4,Y2.bind(null,e,t),r)}function sy(){}function Z2(t,e){var r=Os();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&ey(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function e4(t,e){var r=Os();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&ey(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function t4(t,e,r){return sl&21?(ii(r,e)||(r=a2(),Nr.lanes|=r,il|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=r)}function UD(t,e){var r=Yt;Yt=r!==0&&4>r?r:4,t(!0);var s=vp.transition;vp.transition={};try{t(!1),e()}finally{Yt=r,vp.transition=s}}function r4(){return Os().memoizedState}function BD(t,e,r){var s=ro(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},n4(t))s4(e,r);else if(r=F2(t,e,r,s),r!==null){var i=Ln();ti(r,t,s,i),i4(r,e,s)}}function zD(t,e,r){var s=ro(t),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(n4(t))s4(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,r);if(i.hasEagerState=!0,i.eagerState=c,ii(c,o)){var u=e.interleaved;u===null?(i.next=i,Qv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=F2(t,e,i,s),r!==null&&(i=Ln(),ti(r,t,s,i),i4(r,e,s))}}function n4(t){var e=t.alternate;return t===Nr||e!==null&&e===Nr}function s4(t,e){Xu=Yf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function i4(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,Rv(t,r)}}var Jf={readContext:As,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},$D={readContext:As,useCallback:function(t,e){return vi().memoizedState=[t,e===void 0?null:e],t},useContext:As,useEffect:Ow,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xf(4194308,4,Y2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return xf(4,2,t,e)},useMemo:function(t,e){var r=vi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=vi();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=BD.bind(null,Nr,t),[s.memoizedState,t]},useRef:function(t){var e=vi();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:sy,useDeferredValue:function(t){return vi().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=UD.bind(null,t[1]),vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=Nr,i=vi();if(gr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),on===null)throw Error(we(349));sl&30||W2(s,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Ow(H2.bind(null,s,a,t),[t]),s.flags|=2048,Sd(9,V2.bind(null,s,a,r,e),void 0,null),r},useId:function(){var t=vi(),e=on.identifierPrefix;if(gr){var r=ra,s=ta;r=(s&~(1<<32-ei(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=jd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WD={readContext:As,useCallback:Z2,useContext:As,useEffect:ny,useImperativeHandle:J2,useInsertionEffect:Q2,useLayoutEffect:X2,useMemo:e4,useReducer:yp,useRef:q2,useState:function(){return yp(Nd)},useDebugValue:sy,useDeferredValue:function(t){var e=Os();return t4(e,Yr.memoizedState,t)},useTransition:function(){var t=yp(Nd)[0],e=Os().memoizedState;return[t,e]},useMutableSource:z2,useSyncExternalStore:$2,useId:r4,unstable_isNewReconciler:!1},VD={readContext:As,useCallback:Z2,useContext:As,useEffect:ny,useImperativeHandle:J2,useInsertionEffect:Q2,useLayoutEffect:X2,useMemo:e4,useReducer:bp,useRef:q2,useState:function(){return bp(Nd)},useDebugValue:sy,useDeferredValue:function(t){var e=Os();return Yr===null?e.memoizedState=t:t4(e,Yr.memoizedState,t)},useTransition:function(){var t=bp(Nd)[0],e=Os().memoizedState;return[t,e]},useMutableSource:z2,useSyncExternalStore:$2,useId:r4,unstable_isNewReconciler:!1};function Vs(t,e){if(t&&t.defaultProps){e=Sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Zg(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qm={isMounted:function(t){return(t=t._reactInternals)?Nl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=Ln(),i=ro(t),a=aa(s,i);a.payload=e,r!=null&&(a.callback=r),e=eo(t,a,i),e!==null&&(ti(e,t,i,s),pf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=Ln(),i=ro(t),a=aa(s,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=eo(t,a,i),e!==null&&(ti(e,t,i,s),pf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ln(),s=ro(t),i=aa(r,s);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,s),e!==null&&(ti(e,t,s,r),pf(e,t,s))}};function Rw(t,e,r,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!gd(r,s)||!gd(i,a):!0}function a4(t,e,r){var s=!1,i=lo,a=e.contextType;return typeof a=="object"&&a!==null?a=As(a):(i=Zn(e)?rl:Sn.current,s=e.contextTypes,a=(s=s!=null)?Ac(t,i):lo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qm,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Iw(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&Qm.enqueueReplaceState(e,e.state,null)}function ex(t,e,r,s){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Xv(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=As(a):(a=Zn(e)?rl:Sn.current,i.context=Ac(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Zg(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qm.enqueueReplaceState(i,i.state,null),Qf(t,r,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lc(t,e){try{var r="",s=e;do r+=v_(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function wp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function tx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HD=typeof WeakMap=="function"?WeakMap:Map;function o4(t,e,r){r=aa(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){em||(em=!0,dx=s),tx(t,e)},r}function l4(t,e,r){r=aa(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;r.payload=function(){return s(i)},r.callback=function(){tx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){tx(t,e),typeof s!="function"&&(to===null?to=new Set([this]):to.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Lw(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new HD;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(r)||(i.add(r),t=iM.bind(null,t,e,r),e.then(t,t))}function Fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uw(t,e,r,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=aa(-1,1),e.tag=2,eo(r,e,1))),r.lanes|=1),t)}var KD=ga.ReactCurrentOwner,Yn=!1;function _n(t,e,r,s){e.child=t===null?L2(e,null,r,s):Rc(e,t.child,r,s)}function Bw(t,e,r,s,i){r=r.render;var a=e.ref;return fc(e,i),s=ty(t,e,r,s,a,i),r=ry(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,da(t,e,i)):(gr&&r&&Wv(e),e.flags|=1,_n(t,e,s,i),e.child)}function zw(t,e,r,s,i){if(t===null){var a=r.type;return typeof a=="function"&&!hy(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,c4(t,e,a,s,i)):(t=wf(r.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:gd,r(o,s)&&t.ref===e.ref)return da(t,e,i)}return e.flags|=1,t=no(a,s),t.ref=e.ref,t.return=e,e.child=t}function c4(t,e,r,s,i){if(t!==null){var a=t.memoizedProps;if(gd(a,s)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,da(t,e,i)}return rx(t,e,r,s,i)}function u4(t,e,r){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(sc,ls),ls|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sr(sc,ls),ls|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,sr(sc,ls),ls|=s}else a!==null?(s=a.baseLanes|r,e.memoizedState=null):s=r,sr(sc,ls),ls|=s;return _n(t,e,i,r),e.child}function d4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function rx(t,e,r,s,i){var a=Zn(r)?rl:Sn.current;return a=Ac(e,a),fc(e,i),r=ty(t,e,r,s,a,i),s=ry(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,da(t,e,i)):(gr&&s&&Wv(e),e.flags|=1,_n(t,e,r,i),e.child)}function $w(t,e,r,s,i){if(Zn(r)){var a=!0;Vf(e)}else a=!1;if(fc(e,i),e.stateNode===null)vf(t,e),a4(e,r,s),ex(e,r,s,i),s=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=As(l):(l=Zn(r)?rl:Sn.current,l=Ac(e,l));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||u!==l)&&Iw(e,o,s,l),Pa=!1;var f=e.memoizedState;o.state=f,Qf(e,s,o,i),u=e.memoizedState,c!==s||f!==u||Jn.current||Pa?(typeof d=="function"&&(Zg(e,r,d,s),u=e.memoizedState),(c=Pa||Rw(e,r,c,s,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),o.props=s,o.state=u,o.context=l,s=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,U2(t,e),c=e.memoizedProps,l=e.type===e.elementType?c:Vs(e.type,c),o.props=l,h=e.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=As(u):(u=Zn(r)?rl:Sn.current,u=Ac(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||f!==u)&&Iw(e,o,s,u),Pa=!1,f=e.memoizedState,o.state=f,Qf(e,s,o,i);var v=e.memoizedState;c!==h||f!==v||Jn.current||Pa?(typeof p=="function"&&(Zg(e,r,p,s),v=e.memoizedState),(l=Pa||Rw(e,r,l,s,f,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=u,s=l):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return nx(t,e,r,s,a,i)}function nx(t,e,r,s,i,a){d4(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&kw(e,r,!1),da(t,e,a);s=e.stateNode,KD.current=e;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Rc(e,t.child,null,a),e.child=Rc(e,null,c,a)):_n(t,e,c,a),e.memoizedState=s.state,i&&kw(e,r,!0),e.child}function h4(t){var e=t.stateNode;e.pendingContext?Tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tw(t,e.context,!1),Yv(t,e.containerInfo)}function Ww(t,e,r,s,i){return Oc(),Hv(i),e.flags|=256,_n(t,e,r,s),e.child}var sx={dehydrated:null,treeContext:null,retryLane:0};function ix(t){return{baseLanes:t,cachePool:null,transitions:null}}function f4(t,e,r){var s=e.pendingProps,i=jr.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),sr(jr,i&1),t===null)return Yg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Jm(o,s,0,null),t=Jo(t,s,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ix(r),e.memoizedState=sx,t):iy(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return GD(t,e,o,s,c,i,r);if(a){a=s.fallback,o=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=no(i,u),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=no(c,a):(a=Jo(a,o,r,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?ix(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=sx,s}return a=t.child,t=a.sibling,s=no(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function iy(t,e){return e=Jm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,r,s){return s!==null&&Hv(s),Rc(e,t.child,null,r),t=iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GD(t,e,r,s,i,a,o){if(r)return e.flags&256?(e.flags&=-257,s=wp(Error(we(422))),Ph(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=Jm({mode:"visible",children:s.children},i,0,null),a=Jo(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&Rc(e,t.child,null,o),e.child.memoizedState=ix(o),e.memoizedState=sx,a);if(!(e.mode&1))return Ph(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(we(419)),s=wp(a,s,void 0),Ph(t,e,o,s)}if(c=(o&t.childLanes)!==0,Yn||c){if(s=on,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ua(t,i),ti(s,t,i,-1))}return dy(),s=wp(Error(we(421))),Ph(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aM.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,hs=Za(i.nextSibling),fs=e,gr=!0,qs=null,t!==null&&(Es[Ps++]=ta,Es[Ps++]=ra,Es[Ps++]=nl,ta=t.id,ra=t.overflow,nl=e),e=iy(e,s.children),e.flags|=4096,e)}function Vw(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Jg(t.return,e,r)}function jp(t,e,r,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function m4(t,e,r){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(_n(t,e,s.children,r),s=jr.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vw(t,r,e);else if(t.tag===19)Vw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(sr(jr,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Xf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jp(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jp(e,!0,r,null,a);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function da(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=no(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=no(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function qD(t,e,r){switch(e.tag){case 3:h4(e),Oc();break;case 5:B2(e);break;case 1:Zn(e.type)&&Vf(e);break;case 4:Yv(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;sr(Gf,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(sr(jr,jr.current&1),e.flags|=128,null):r&e.child.childLanes?f4(t,e,r):(sr(jr,jr.current&1),t=da(t,e,r),t!==null?t.sibling:null);sr(jr,jr.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return m4(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(jr,jr.current),s)break;return null;case 22:case 23:return e.lanes=0,u4(t,e,r)}return da(t,e,r)}var p4,ax,g4,x4;p4=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ax=function(){};g4=function(t,e,r,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Fo(Ai.current);var a=null;switch(r){case"input":i=Eg(t,i),s=Eg(t,s),a=[];break;case"select":i=Sr({},i,{value:void 0}),s=Sr({},s,{value:void 0}),a=[];break;case"textarea":i=Dg(t,i),s=Dg(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=$f)}Ag(r,s);var o;r=null;for(l in i)if(!s.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(cd.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in s){var u=s[l];if(c=i!=null?i[l]:void 0,s.hasOwnProperty(l)&&u!==c&&(u!=null||c!=null))if(l==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(cd.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&lr("scroll",t),a||c===u||(a=[])):(a=a||[]).push(l,u))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};x4=function(t,e,r,s){r!==s&&(e.flags|=4)};function ku(t,e){if(!gr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function QD(t,e,r){var s=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return Zn(e.type)&&Wf(),bn(e),null;case 3:return s=e.stateNode,Ic(),dr(Jn),dr(Sn),Zv(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qs!==null&&(mx(qs),qs=null))),ax(t,e),bn(e),null;case 5:Jv(e);var i=Fo(wd.current);if(r=e.type,t!==null&&e.stateNode!=null)g4(t,e,r,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(we(166));return bn(e),null}if(t=Fo(Ai.current),kh(e)){s=e.stateNode,r=e.type;var a=e.memoizedProps;switch(s[Ci]=e,s[yd]=a,t=(e.mode&1)!==0,r){case"dialog":lr("cancel",s),lr("close",s);break;case"iframe":case"object":case"embed":lr("load",s);break;case"video":case"audio":for(i=0;i<Bu.length;i++)lr(Bu[i],s);break;case"source":lr("error",s);break;case"img":case"image":case"link":lr("error",s),lr("load",s);break;case"details":lr("toggle",s);break;case"input":Zb(s,a),lr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},lr("invalid",s);break;case"textarea":tw(s,a),lr("invalid",s)}Ag(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&Th(s.textContent,c,t),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Th(s.textContent,c,t),i=["children",""+c]):cd.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&lr("scroll",s)}switch(r){case"input":vh(s),ew(s,a,!0);break;case"textarea":vh(s),rw(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=$f)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[Ci]=e,t[yd]=s,p4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Og(r,s),r){case"dialog":lr("cancel",t),lr("close",t),i=s;break;case"iframe":case"object":case"embed":lr("load",t),i=s;break;case"video":case"audio":for(i=0;i<Bu.length;i++)lr(Bu[i],t);i=s;break;case"source":lr("error",t),i=s;break;case"img":case"image":case"link":lr("error",t),lr("load",t),i=s;break;case"details":lr("toggle",t),i=s;break;case"input":Zb(t,s),i=Eg(t,s),lr("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=Sr({},s,{value:void 0}),lr("invalid",t);break;case"textarea":tw(t,s),i=Dg(t,s),lr("invalid",t);break;default:i=s}Ag(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];a==="style"?qS(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&KS(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ud(t,u):typeof u=="number"&&ud(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cd.hasOwnProperty(a)?u!=null&&a==="onScroll"&&lr("scroll",t):u!=null&&Pv(t,a,u,o))}switch(r){case"input":vh(t),ew(t,s,!1);break;case"textarea":vh(t),rw(t);break;case"option":s.value!=null&&t.setAttribute("value",""+oo(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?cc(t,!!s.multiple,a,!1):s.defaultValue!=null&&cc(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$f)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)x4(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(we(166));if(r=Fo(wd.current),Fo(Ai.current),kh(e)){if(s=e.stateNode,r=e.memoizedProps,s[Ci]=e,(a=s.nodeValue!==r)&&(t=fs,t!==null))switch(t.tag){case 3:Th(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(s.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ci]=e,e.stateNode=s}return bn(e),null;case 13:if(dr(jr),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gr&&hs!==null&&e.mode&1&&!(e.flags&128))R2(),Oc(),e.flags|=98560,a=!1;else if(a=kh(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[Ci]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),a=!1}else qs!==null&&(mx(qs),qs=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||jr.current&1?Zr===0&&(Zr=3):dy())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Ic(),ax(t,e),t===null&&xd(e.stateNode.containerInfo),bn(e),null;case 10:return qv(e.type._context),bn(e),null;case 17:return Zn(e.type)&&Wf(),bn(e),null;case 19:if(dr(jr),a=e.memoizedState,a===null)return bn(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)ku(a,!1);else{if(Zr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xf(t),o!==null){for(e.flags|=128,ku(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)a=r,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return sr(jr,jr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Dr()>Fc&&(e.flags|=128,s=!0,ku(a,!1),e.lanes=4194304)}else{if(!s)if(t=Xf(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ku(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!gr)return bn(e),null}else 2*Dr()-a.renderingStartTime>Fc&&r!==1073741824&&(e.flags|=128,s=!0,ku(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Dr(),e.sibling=null,r=jr.current,sr(jr,s?r&1|2:r&1),e):(bn(e),null);case 22:case 23:return uy(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ls&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function XD(t,e){switch(Vv(e),e.tag){case 1:return Zn(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ic(),dr(Jn),dr(Sn),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jv(e),null;case 13:if(dr(jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dr(jr),null;case 4:return Ic(),null;case 10:return qv(e.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var _h=!1,Nn=!1,YD=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function nc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Pr(t,e,s)}else r.current=null}function ox(t,e,r){try{r()}catch(s){Pr(t,e,s)}}var Hw=!1;function JD(t,e){if(Vg=Uf,t=j2(),$v(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,u=-1,l=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(c=o+i),h!==a||s!==0&&h.nodeType!==3||(u=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++l===i&&(c=o),f===a&&++d===s&&(u=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=c===-1||u===-1?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hg={focusedElem:t,selectionRange:r},Uf=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,N=v.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vs(e.type,g),N);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(w){Pr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return v=Hw,Hw=!1,v}function Yu(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&ox(e,r,a)}i=i.next}while(i!==s)}}function Xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function lx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function v4(t){var e=t.alternate;e!==null&&(t.alternate=null,v4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ci],delete e[yd],delete e[qg],delete e[OD],delete e[RD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y4(t){return t.tag===5||t.tag===3||t.tag===4}function Kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cx(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$f));else if(s!==4&&(t=t.child,t!==null))for(cx(t,e,r),t=t.sibling;t!==null;)cx(t,e,r),t=t.sibling}function ux(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ux(t,e,r),t=t.sibling;t!==null;)ux(t,e,r),t=t.sibling}var fn=null,Gs=!1;function ya(t,e,r){for(r=r.child;r!==null;)b4(t,e,r),r=r.sibling}function b4(t,e,r){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount($m,r)}catch{}switch(r.tag){case 5:Nn||nc(r,e);case 6:var s=fn,i=Gs;fn=null,ya(t,e,r),fn=s,Gs=i,fn!==null&&(Gs?(t=fn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fn.removeChild(r.stateNode));break;case 18:fn!==null&&(Gs?(t=fn,r=r.stateNode,t.nodeType===8?pp(t.parentNode,r):t.nodeType===1&&pp(t,r),md(t)):pp(fn,r.stateNode));break;case 4:s=fn,i=Gs,fn=r.stateNode.containerInfo,Gs=!0,ya(t,e,r),fn=s,Gs=i;break;case 0:case 11:case 14:case 15:if(!Nn&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ox(r,e,o),i=i.next}while(i!==s)}ya(t,e,r);break;case 1:if(!Nn&&(nc(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){Pr(r,e,c)}ya(t,e,r);break;case 21:ya(t,e,r);break;case 22:r.mode&1?(Nn=(s=Nn)||r.memoizedState!==null,ya(t,e,r),Nn=s):ya(t,e,r);break;default:ya(t,e,r)}}function Gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new YD),e.forEach(function(s){var i=oM.bind(null,t,s);r.has(s)||(r.add(s),s.then(i,i))})}}function Bs(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:fn=c.stateNode,Gs=!1;break e;case 3:fn=c.stateNode.containerInfo,Gs=!0;break e;case 4:fn=c.stateNode.containerInfo,Gs=!0;break e}c=c.return}if(fn===null)throw Error(we(160));b4(a,o,i),fn=null,Gs=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Pr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w4(e,t),e=e.sibling}function w4(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),gi(t),s&4){try{Yu(3,t,t.return),Xm(3,t)}catch(g){Pr(t,t.return,g)}try{Yu(5,t,t.return)}catch(g){Pr(t,t.return,g)}}break;case 1:Bs(e,t),gi(t),s&512&&r!==null&&nc(r,r.return);break;case 5:if(Bs(e,t),gi(t),s&512&&r!==null&&nc(r,r.return),t.flags&32){var i=t.stateNode;try{ud(i,"")}catch(g){Pr(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&WS(i,a),Og(c,o);var l=Og(c,a);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?qS(i,h):d==="dangerouslySetInnerHTML"?KS(i,h):d==="children"?ud(i,h):Pv(i,d,h,l)}switch(c){case"input":Pg(i,a);break;case"textarea":VS(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?cc(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?cc(i,!!a.multiple,a.defaultValue,!0):cc(i,!!a.multiple,a.multiple?[]:"",!1))}i[yd]=a}catch(g){Pr(t,t.return,g)}}break;case 6:if(Bs(e,t),gi(t),s&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Pr(t,t.return,g)}}break;case 3:if(Bs(e,t),gi(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{md(e.containerInfo)}catch(g){Pr(t,t.return,g)}break;case 4:Bs(e,t),gi(t);break;case 13:Bs(e,t),gi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ly=Dr())),s&4&&Gw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Nn=(l=Nn)||d,Bs(e,t),Nn=l):Bs(e,t),gi(t),s&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!d&&t.mode&1)for(Ue=t,d=t.child;d!==null;){for(h=Ue=d;Ue!==null;){switch(f=Ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:Yu(4,f,f.return);break;case 1:nc(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,r=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Pr(s,r,g)}}break;case 5:nc(f,f.return);break;case 22:if(f.memoizedState!==null){Qw(h);continue}}p!==null?(p.return=f,Ue=p):Qw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=GS("display",o))}catch(g){Pr(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){Pr(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bs(e,t),gi(t),s&4&&Gw(t);break;case 21:break;default:Bs(e,t),gi(t)}}function gi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(y4(r)){var s=r;break e}r=r.return}throw Error(we(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(ud(i,""),s.flags&=-33);var a=Kw(t);ux(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,c=Kw(t);cx(t,c,o);break;default:throw Error(we(161))}}catch(u){Pr(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZD(t,e,r){Ue=t,j4(t)}function j4(t,e,r){for(var s=(t.mode&1)!==0;Ue!==null;){var i=Ue,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||_h;if(!o){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Nn;c=_h;var l=Nn;if(_h=o,(Nn=u)&&!l)for(Ue=i;Ue!==null;)o=Ue,u=o.child,o.tag===22&&o.memoizedState!==null?Xw(i):u!==null?(u.return=o,Ue=u):Xw(i);for(;a!==null;)Ue=a,j4(a),a=a.sibling;Ue=i,_h=c,Nn=l}qw(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ue=a):qw(t)}}function qw(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nn||Xm(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Nn)if(r===null)s.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Vs(e.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Mw(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mw(e,o,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var d=l.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&md(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Nn||e.flags&512&&lx(e)}catch(f){Pr(e,e.return,f)}}if(e===t){Ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function Qw(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function Xw(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xm(4,e)}catch(u){Pr(e,r,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(u){Pr(e,i,u)}}var a=e.return;try{lx(e)}catch(u){Pr(e,a,u)}break;case 5:var o=e.return;try{lx(e)}catch(u){Pr(e,o,u)}}}catch(u){Pr(e,e.return,u)}if(e===t){Ue=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Ue=c;break}Ue=e.return}}var eM=Math.ceil,Zf=ga.ReactCurrentDispatcher,ay=ga.ReactCurrentOwner,Ds=ga.ReactCurrentBatchConfig,At=0,on=null,Wr=null,xn=0,ls=0,sc=vo(0),Zr=0,Cd=null,il=0,Ym=0,oy=0,Ju=null,Xn=null,ly=0,Fc=1/0,qi=null,em=!1,dx=null,to=null,Dh=!1,Va=null,tm=0,Zu=0,hx=null,yf=-1,bf=0;function Ln(){return At&6?Dr():yf!==-1?yf:yf=Dr()}function ro(t){return t.mode&1?At&2&&xn!==0?xn&-xn:LD.transition!==null?(bf===0&&(bf=a2()),bf):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:f2(t.type)),t):1}function ti(t,e,r,s){if(50<Zu)throw Zu=0,hx=null,Error(we(185));Xd(t,r,s),(!(At&2)||t!==on)&&(t===on&&(!(At&2)&&(Ym|=r),Zr===4&&Aa(t,xn)),es(t,s),r===1&&At===0&&!(e.mode&1)&&(Fc=Dr()+500,Gm&&yo()))}function es(t,e){var r=t.callbackNode;L_(t,e);var s=Ff(t,t===on?xn:0);if(s===0)r!==null&&iw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&iw(r),e===1)t.tag===0?ID(Yw.bind(null,t)):M2(Yw.bind(null,t)),MD(function(){!(At&6)&&yo()}),r=null;else{switch(o2(s)){case 1:r=Ov;break;case 4:r=s2;break;case 16:r=Lf;break;case 536870912:r=i2;break;default:r=Lf}r=_4(r,N4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function N4(t,e){if(yf=-1,bf=0,At&6)throw Error(we(327));var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var s=Ff(t,t===on?xn:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=rm(t,s);else{e=s;var i=At;At|=2;var a=C4();(on!==t||xn!==e)&&(qi=null,Fc=Dr()+500,Yo(t,e));do try{nM();break}catch(c){S4(t,c)}while(!0);Gv(),Zf.current=a,At=i,Wr!==null?e=0:(on=null,xn=0,e=Zr)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(s=i,e=fx(t,i))),e===1)throw r=Cd,Yo(t,0),Aa(t,s),es(t,Dr()),r;if(e===6)Aa(t,s);else{if(i=t.current.alternate,!(s&30)&&!tM(i)&&(e=rm(t,s),e===2&&(a=Ug(t),a!==0&&(s=a,e=fx(t,a))),e===1))throw r=Cd,Yo(t,0),Aa(t,s),es(t,Dr()),r;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(we(345));case 2:Mo(t,Xn,qi);break;case 3:if(Aa(t,s),(s&130023424)===s&&(e=ly+500-Dr(),10<e)){if(Ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gg(Mo.bind(null,t,Xn,qi),e);break}Mo(t,Xn,qi);break;case 4:if(Aa(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-ei(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=Dr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*eM(s/1960))-s,10<s){t.timeoutHandle=Gg(Mo.bind(null,t,Xn,qi),s);break}Mo(t,Xn,qi);break;case 5:Mo(t,Xn,qi);break;default:throw Error(we(329))}}}return es(t,Dr()),t.callbackNode===r?N4.bind(null,t):null}function fx(t,e){var r=Ju;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=rm(t,e),t!==2&&(e=Xn,Xn=r,e!==null&&mx(e)),t}function mx(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function tM(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!ii(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e){for(e&=~oy,e&=~Ym,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),s=1<<r;t[r]=-1,e&=~s}}function Yw(t){if(At&6)throw Error(we(327));mc();var e=Ff(t,0);if(!(e&1))return es(t,Dr()),null;var r=rm(t,e);if(t.tag!==0&&r===2){var s=Ug(t);s!==0&&(e=s,r=fx(t,s))}if(r===1)throw r=Cd,Yo(t,0),Aa(t,e),es(t,Dr()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,Xn,qi),es(t,Dr()),null}function cy(t,e){var r=At;At|=1;try{return t(e)}finally{At=r,At===0&&(Fc=Dr()+500,Gm&&yo())}}function al(t){Va!==null&&Va.tag===0&&!(At&6)&&mc();var e=At;At|=1;var r=Ds.transition,s=Yt;try{if(Ds.transition=null,Yt=1,t)return t()}finally{Yt=s,Ds.transition=r,At=e,!(At&6)&&yo()}}function uy(){ls=sc.current,dr(sc)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,DD(r)),Wr!==null)for(r=Wr.return;r!==null;){var s=r;switch(Vv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Wf();break;case 3:Ic(),dr(Jn),dr(Sn),Zv();break;case 5:Jv(s);break;case 4:Ic();break;case 13:dr(jr);break;case 19:dr(jr);break;case 10:qv(s.type._context);break;case 22:case 23:uy()}r=r.return}if(on=t,Wr=t=no(t.current,null),xn=ls=e,Zr=0,Cd=null,oy=Ym=il=0,Xn=Ju=null,Lo!==null){for(e=0;e<Lo.length;e++)if(r=Lo[e],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}r.pending=s}Lo=null}return t}function S4(t,e){do{var r=Wr;try{if(Gv(),gf.current=Jf,Yf){for(var s=Nr.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Yf=!1}if(sl=0,an=Yr=Nr=null,Xu=!1,jd=0,ay.current=null,r===null||r.return===null){Zr=1,Cd=e,Wr=null;break}e:{var a=t,o=r.return,c=r,u=e;if(e=xn,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fw(o);if(p!==null){p.flags&=-257,Uw(p,o,c,a,e),p.mode&1&&Lw(a,l,e),e=p,u=l;var v=e.updateQueue;if(v===null){var g=new Set;g.add(u),e.updateQueue=g}else v.add(u);break e}else{if(!(e&1)){Lw(a,l,e),dy();break e}u=Error(we(426))}}else if(gr&&c.mode&1){var N=Fw(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Uw(N,o,c,a,e),Hv(Lc(u,c));break e}}a=u=Lc(u,c),Zr!==4&&(Zr=2),Ju===null?Ju=[a]:Ju.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=o4(a,u,e);Dw(a,b);break e;case 1:c=u;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(to===null||!to.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=l4(a,c,e);Dw(a,w);break e}}a=a.return}while(a!==null)}k4(r)}catch(C){e=C,Wr===r&&r!==null&&(Wr=r=r.return);continue}break}while(!0)}function C4(){var t=Zf.current;return Zf.current=Jf,t===null?Jf:t}function dy(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),on===null||!(il&268435455)&&!(Ym&268435455)||Aa(on,xn)}function rm(t,e){var r=At;At|=2;var s=C4();(on!==t||xn!==e)&&(qi=null,Yo(t,e));do try{rM();break}catch(i){S4(t,i)}while(!0);if(Gv(),At=r,Zf.current=s,Wr!==null)throw Error(we(261));return on=null,xn=0,Zr}function rM(){for(;Wr!==null;)T4(Wr)}function nM(){for(;Wr!==null&&!E_();)T4(Wr)}function T4(t){var e=P4(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?k4(t):Wr=e,ay.current=null}function k4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=XD(r,e),r!==null){r.flags&=32767,Wr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zr=6,Wr=null;return}}else if(r=QD(r,e,ls),r!==null){Wr=r;return}if(e=e.sibling,e!==null){Wr=e;return}Wr=e=t}while(e!==null);Zr===0&&(Zr=5)}function Mo(t,e,r){var s=Yt,i=Ds.transition;try{Ds.transition=null,Yt=1,sM(t,e,r,s)}finally{Ds.transition=i,Yt=s}return null}function sM(t,e,r,s){do mc();while(Va!==null);if(At&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(F_(t,a),t===on&&(Wr=on=null,xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dh||(Dh=!0,_4(Lf,function(){return mc(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ds.transition,Ds.transition=null;var o=Yt;Yt=1;var c=At;At|=4,ay.current=null,JD(t,r),w4(r,t),SD(Hg),Uf=!!Vg,Hg=Vg=null,t.current=r,ZD(r),P_(),At=c,Yt=o,Ds.transition=a}else t.current=r;if(Dh&&(Dh=!1,Va=t,tm=i),a=t.pendingLanes,a===0&&(to=null),M_(r.stateNode),es(t,Dr()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(em)throw em=!1,t=dx,dx=null,t;return tm&1&&t.tag!==0&&mc(),a=t.pendingLanes,a&1?t===hx?Zu++:(Zu=0,hx=t):Zu=0,yo(),null}function mc(){if(Va!==null){var t=o2(tm),e=Ds.transition,r=Yt;try{if(Ds.transition=null,Yt=16>t?16:t,Va===null)var s=!1;else{if(t=Va,Va=null,tm=0,At&6)throw Error(we(331));var i=At;for(At|=4,Ue=t.current;Ue!==null;){var a=Ue,o=a.child;if(Ue.flags&16){var c=a.deletions;if(c!==null){for(var u=0;u<c.length;u++){var l=c[u];for(Ue=l;Ue!==null;){var d=Ue;switch(d.tag){case 0:case 11:case 15:Yu(8,d,a)}var h=d.child;if(h!==null)h.return=d,Ue=h;else for(;Ue!==null;){d=Ue;var f=d.sibling,p=d.return;if(v4(d),d===l){Ue=null;break}if(f!==null){f.return=p,Ue=f;break}Ue=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var N=g.sibling;g.sibling=null,g=N}while(g!==null)}}Ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ue=o;else e:for(;Ue!==null;){if(a=Ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yu(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ue=b;break e}Ue=a.return}}var x=t.current;for(Ue=x;Ue!==null;){o=Ue;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Ue=y;else e:for(o=x;Ue!==null;){if(c=Ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Xm(9,c)}}catch(C){Pr(c,c.return,C)}if(c===o){Ue=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,Ue=w;break e}Ue=c.return}}if(At=i,yo(),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot($m,t)}catch{}s=!0}return s}finally{Yt=r,Ds.transition=e}}return!1}function Jw(t,e,r){e=Lc(r,e),e=o4(t,e,1),t=eo(t,e,1),e=Ln(),t!==null&&(Xd(t,1,e),es(t,e))}function Pr(t,e,r){if(t.tag===3)Jw(t,t,r);else for(;e!==null;){if(e.tag===3){Jw(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(to===null||!to.has(s))){t=Lc(r,t),t=l4(e,t,1),e=eo(e,t,1),t=Ln(),e!==null&&(Xd(e,1,t),es(e,t));break}}e=e.return}}function iM(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=Ln(),t.pingedLanes|=t.suspendedLanes&r,on===t&&(xn&r)===r&&(Zr===4||Zr===3&&(xn&130023424)===xn&&500>Dr()-ly?Yo(t,0):oy|=r),es(t,e)}function E4(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var r=Ln();t=ua(t,e),t!==null&&(Xd(t,e,r),es(t,r))}function aM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),E4(t,r)}function oM(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(we(314))}s!==null&&s.delete(e),E4(t,r)}var P4;P4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Yn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yn=!1,qD(t,e,r);Yn=!!(t.flags&131072)}else Yn=!1,gr&&e.flags&1048576&&A2(e,Kf,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;vf(t,e),t=e.pendingProps;var i=Ac(e,Sn.current);fc(e,r),i=ty(null,e,s,t,i,r);var a=ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(s)?(a=!0,Vf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xv(e),i.updater=Qm,e.stateNode=i,i._reactInternals=e,ex(e,s,t,r),e=nx(null,e,s,!0,a,r)):(e.tag=0,gr&&a&&Wv(e),_n(null,e,i,r),e=e.child),e;case 16:s=e.elementType;e:{switch(vf(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=cM(s),t=Vs(s,t),i){case 0:e=rx(null,e,s,t,r);break e;case 1:e=$w(null,e,s,t,r);break e;case 11:e=Bw(null,e,s,t,r);break e;case 14:e=zw(null,e,s,Vs(s.type,t),r);break e}throw Error(we(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Vs(s,i),rx(t,e,s,i,r);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Vs(s,i),$w(t,e,s,i,r);case 3:e:{if(h4(e),t===null)throw Error(we(387));s=e.pendingProps,a=e.memoizedState,i=a.element,U2(t,e),Qf(e,s,null,r);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Lc(Error(we(423)),e),e=Ww(t,e,s,r,i);break e}else if(s!==i){i=Lc(Error(we(424)),e),e=Ww(t,e,s,r,i);break e}else for(hs=Za(e.stateNode.containerInfo.firstChild),fs=e,gr=!0,qs=null,r=L2(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Oc(),s===i){e=da(t,e,r);break e}_n(t,e,s,r)}e=e.child}return e;case 5:return B2(e),t===null&&Yg(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Kg(s,i)?o=null:a!==null&&Kg(s,a)&&(e.flags|=32),d4(t,e),_n(t,e,o,r),e.child;case 6:return t===null&&Yg(e),null;case 13:return f4(t,e,r);case 4:return Yv(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Rc(e,null,s,r):_n(t,e,s,r),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Vs(s,i),Bw(t,e,s,i,r);case 7:return _n(t,e,e.pendingProps,r),e.child;case 8:return _n(t,e,e.pendingProps.children,r),e.child;case 12:return _n(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,sr(Gf,s._currentValue),s._currentValue=o,a!==null)if(ii(a.value,o)){if(a.children===i.children&&!Jn.current){e=da(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var u=c.firstContext;u!==null;){if(u.context===s){if(a.tag===1){u=aa(-1,r&-r),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Jg(a.return,r,e),c.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(we(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Jg(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_n(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,fc(e,r),i=As(i),s=s(i),e.flags|=1,_n(t,e,s,r),e.child;case 14:return s=e.type,i=Vs(s,e.pendingProps),i=Vs(s.type,i),zw(t,e,s,i,r);case 15:return c4(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Vs(s,i),vf(t,e),e.tag=1,Zn(s)?(t=!0,Vf(e)):t=!1,fc(e,r),a4(e,s,i),ex(e,s,i,r),nx(null,e,s,!0,t,r);case 19:return m4(t,e,r);case 22:return u4(t,e,r)}throw Error(we(156,e.tag))};function _4(t,e){return n2(t,e)}function lM(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(t,e,r,s){return new lM(t,e,r,s)}function hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cM(t){if(typeof t=="function")return hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dv)return 11;if(t===Mv)return 14}return 2}function no(t,e){var r=t.alternate;return r===null?(r=_s(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wf(t,e,r,s,i,a){var o=2;if(s=t,typeof t=="function")hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ql:return Jo(r.children,i,a,e);case _v:o=8,i|=8;break;case Sg:return t=_s(12,r,e,i|2),t.elementType=Sg,t.lanes=a,t;case Cg:return t=_s(13,r,e,i),t.elementType=Cg,t.lanes=a,t;case Tg:return t=_s(19,r,e,i),t.elementType=Tg,t.lanes=a,t;case BS:return Jm(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FS:o=10;break e;case US:o=9;break e;case Dv:o=11;break e;case Mv:o=14;break e;case Ea:o=16,s=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=_s(o,r,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function Jo(t,e,r,s){return t=_s(7,t,s,e),t.lanes=r,t}function Jm(t,e,r,s){return t=_s(22,t,s,e),t.elementType=BS,t.lanes=r,t.stateNode={isHidden:!1},t}function Np(t,e,r){return t=_s(6,t,null,e),t.lanes=r,t}function Sp(t,e,r){return e=_s(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uM(t,e,r,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fy(t,e,r,s,i,a,o,c,u){return t=new uM(t,e,r,c,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=_s(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xv(a),t}function dM(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gl,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function D4(t){if(!t)return lo;t=t._reactInternals;e:{if(Nl(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Zn(r))return D2(t,r,e)}return e}function M4(t,e,r,s,i,a,o,c,u){return t=fy(r,s,!0,t,i,a,o,c,u),t.context=D4(null),r=t.current,s=Ln(),i=ro(r),a=aa(s,i),a.callback=e??null,eo(r,a,i),t.current.lanes=i,Xd(t,i,s),es(t,s),t}function Zm(t,e,r,s){var i=e.current,a=Ln(),o=ro(i);return r=D4(r),e.context===null?e.context=r:e.pendingContext=r,e=aa(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=eo(i,e,o),t!==null&&(ti(t,i,o,a),pf(t,i,o)),o}function nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function my(t,e){Zw(t,e),(t=t.alternate)&&Zw(t,e)}function hM(){return null}var A4=typeof reportError=="function"?reportError:function(t){console.error(t)};function py(t){this._internalRoot=t}e0.prototype.render=py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Zm(t,e,null,null)};e0.prototype.unmount=py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){Zm(null,t,null,null)}),e[ca]=null}};function e0(t){this._internalRoot=t}e0.prototype.unstable_scheduleHydration=function(t){if(t){var e=u2();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ma.length&&e!==0&&e<Ma[r].priority;r++);Ma.splice(r,0,t),r===0&&h2(t)}};function gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ej(){}function fM(t,e,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var l=nm(o);a.call(l)}}var o=M4(e,s,t,0,null,!1,!1,"",ej);return t._reactRootContainer=o,t[ca]=o.current,xd(t.nodeType===8?t.parentNode:t),al(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var l=nm(u);c.call(l)}}var u=fy(t,0,!1,null,null,!1,!1,"",ej);return t._reactRootContainer=u,t[ca]=u.current,xd(t.nodeType===8?t.parentNode:t),al(function(){Zm(e,u,r,s)}),u}function r0(t,e,r,s,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var u=nm(o);c.call(u)}}Zm(e,o,t,i)}else o=fM(r,e,t,i,s);return nm(o)}l2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Uu(e.pendingLanes);r!==0&&(Rv(e,r|1),es(e,Dr()),!(At&6)&&(Fc=Dr()+500,yo()))}break;case 13:al(function(){var s=ua(t,1);if(s!==null){var i=Ln();ti(s,t,1,i)}}),my(t,1)}};Iv=function(t){if(t.tag===13){var e=ua(t,134217728);if(e!==null){var r=Ln();ti(e,t,134217728,r)}my(t,134217728)}};c2=function(t){if(t.tag===13){var e=ro(t),r=ua(t,e);if(r!==null){var s=Ln();ti(r,t,e,s)}my(t,e)}};u2=function(){return Yt};d2=function(t,e){var r=Yt;try{return Yt=t,e()}finally{Yt=r}};Ig=function(t,e,r){switch(e){case"input":if(Pg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var i=Km(s);if(!i)throw Error(we(90));$S(s),Pg(s,i)}}}break;case"textarea":VS(t,r);break;case"select":e=r.value,e!=null&&cc(t,!!r.multiple,e,!1)}};YS=cy;JS=al;var mM={usingClientEntryPoint:!1,Events:[Jd,Jl,Km,QS,XS,cy]},Eu={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pM={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ga.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t2(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||hM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{$m=Mh.inject(pM),Mi=Mh}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mM;xs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(e))throw Error(we(200));return dM(t,e,null,r)};xs.createRoot=function(t,e){if(!gy(t))throw Error(we(299));var r=!1,s="",i=A4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fy(t,1,!1,null,null,r,!1,s,i),t[ca]=e.current,xd(t.nodeType===8?t.parentNode:t),new py(e)};xs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=t2(e),t=t===null?null:t.stateNode,t};xs.flushSync=function(t){return al(t)};xs.hydrate=function(t,e,r){if(!t0(e))throw Error(we(200));return r0(null,t,e,!0,r)};xs.hydrateRoot=function(t,e,r){if(!gy(t))throw Error(we(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",o=A4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=M4(e,null,t,1,r??null,i,!1,a,o),t[ca]=e.current,xd(t),s)for(t=0;t<s.length;t++)r=s[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new e0(e)};xs.render=function(t,e,r){if(!t0(e))throw Error(we(200));return r0(null,t,e,!1,r)};xs.unmountComponentAtNode=function(t){if(!t0(t))throw Error(we(40));return t._reactRootContainer?(al(function(){r0(null,null,t,!1,function(){t._reactRootContainer=null,t[ca]=null})}),!0):!1};xs.unstable_batchedUpdates=cy;xs.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!t0(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return r0(t,e,r,!1,s)};xs.version="18.3.1-next-f1338f8080-20240426";function O4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O4)}catch(t){console.error(t)}}O4(),OS.exports=xs;var Sl=OS.exports;const gM=wv(Sl);var R4,tj=Sl;R4=tj.createRoot,tj.hydrateRoot;function xM(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,i,a,o=[],c="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)r=i[0],r==="*"?(o.push(r),c+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~s?s:~a?a:i.length)),c+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~s?"?":"")+"\\"+i.substring(a))):c+="/"+i;return{keys:o,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var I4={exports:{}},L4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=m;function vM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yM=typeof Object.is=="function"?Object.is:vM,bM=Uc.useState,wM=Uc.useEffect,jM=Uc.useLayoutEffect,NM=Uc.useDebugValue;function SM(t,e){var r=e(),s=bM({inst:{value:r,getSnapshot:e}}),i=s[0].inst,a=s[1];return jM(function(){i.value=r,i.getSnapshot=e,Cp(i)&&a({inst:i})},[t,r,e]),wM(function(){return Cp(i)&&a({inst:i}),t(function(){Cp(i)&&a({inst:i})})},[t]),NM(r),r}function Cp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yM(t,r)}catch{return!0}}function CM(t,e){return e()}var TM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CM:SM;L4.useSyncExternalStore=Uc.useSyncExternalStore!==void 0?Uc.useSyncExternalStore:TM;I4.exports=L4;var kM=I4.exports;const EM=Tv.useInsertionEffect,PM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_M=PM?m.useLayoutEffect:m.useEffect,DM=EM||_M,F4=t=>{const e=m.useRef([t,(...r)=>e[0](...r)]).current;return DM(()=>{e[0]=t}),e[1]},MM="popstate",xy="pushState",vy="replaceState",AM="hashchange",rj=[MM,xy,vy,AM],OM=t=>{for(const e of rj)addEventListener(e,t);return()=>{for(const e of rj)removeEventListener(e,t)}},U4=(t,e)=>kM.useSyncExternalStore(OM,t,e),RM=()=>location.search,IM=({ssrSearch:t=""}={})=>U4(RM,()=>t),nj=()=>location.pathname,LM=({ssrPath:t}={})=>U4(nj,t?()=>t:nj),FM=(t,{replace:e=!1,state:r=null}={})=>history[e?vy:xy](r,"",t),UM=(t={})=>[LM(t),FM],sj=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[sj]>"u"){for(const t of[xy,vy]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,sj,{value:!0})}const BM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",B4=(t="")=>t==="/"?"":t,zM=(t,e)=>t[0]==="~"?t.slice(1):B4(e)+t,$M=(t="",e)=>BM(ij(B4(t)),ij(e)),ij=t=>{try{return decodeURI(t)}catch{return t}},z4={hook:UM,searchHook:IM,parser:xM,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},$4=m.createContext(z4),eh=()=>m.useContext($4),W4={},V4=m.createContext(W4),WM=()=>m.useContext(V4),n0=t=>{const[e,r]=t.hook(t);return[$M(t.base,e),F4((s,i)=>r(zM(s,t.base),i))]},ns=()=>n0(eh()),H4=(t,e,r,s)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),o=i.exec(r)||[],[c,...u]=o;return c!==void 0?[!0,(()=>{const l=a!==!1?Object.fromEntries(a.map((h,f)=>[h,u[f]])):o.groups;let d={...u};return l&&Object.assign(d,l),d})(),...s?[c]:[]]:[!1,null]},VM=({children:t,...e})=>{var d,h;const r=eh(),s=e.hook?z4:r;let i=s;const[a,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let c=m.useRef({}),u=c.current,l=u;for(let f in s){const p=f==="base"?s[f]+(e[f]||""):e[f]||s[f];u===l&&p!==l[f]&&(c.current=l={...l}),l[f]=p,(p!==s[f]||p!==i[f])&&(i=l)}return m.createElement($4.Provider,{value:i,children:t})},aj=({children:t,component:e},r)=>e?m.createElement(e,{params:r}):typeof t=="function"?t(r):t,HM=t=>{let e=m.useRef(W4);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([s,i])=>i!==r[s])?t:r},Qt=({path:t,nest:e,match:r,...s})=>{const i=eh(),[a]=n0(i),[o,c,u]=r??H4(i.parser,t,a,e),l=HM({...WM(),...c});if(!o)return null;const d=u?m.createElement(VM,{base:u},aj(s,l)):aj(s,l);return m.createElement(V4.Provider,{value:l,children:d})},kt=m.forwardRef((t,e)=>{const r=eh(),[s,i]=n0(r),{to:a="",href:o=a,onClick:c,asChild:u,children:l,className:d,replace:h,state:f,...p}=t,v=F4(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(c==null||c(N),N.defaultPrevented||(N.preventDefault(),i(o,t)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return u&&m.isValidElement(l)?m.cloneElement(l,{onClick:v,href:g}):m.createElement("a",{...p,onClick:v,href:g,className:d!=null&&d.call?d(s===o):d,children:l,ref:e})}),K4=t=>Array.isArray(t)?t.flatMap(e=>K4(e&&e.type===m.Fragment?e.props.children:e)):[t],KM=({children:t,location:e})=>{const r=eh(),[s]=n0(r);for(const i of K4(t)){let a=0;if(m.isValidElement(i)&&(a=H4(r.parser,i.props.path,e||s,i.props.nest))[0])return m.cloneElement(i,{match:a})}return null};var nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},GM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Oa,bv,hS,qM=(hS=class{constructor(){Ye(this,Oa,GM);Ye(this,bv,!1)}setTimeoutProvider(t){Ae(this,Oa,t)}setTimeout(t,e){return z(this,Oa).setTimeout(t,e)}clearTimeout(t){z(this,Oa).clearTimeout(t)}setInterval(t,e){return z(this,Oa).setInterval(t,e)}clearInterval(t){z(this,Oa).clearInterval(t)}},Oa=new WeakMap,bv=new WeakMap,hS),Uo=new qM;function QM(t){setTimeout(t,0)}var ol=typeof window>"u"||"Deno"in globalThis;function Dn(){}function XM(t,e){return typeof t=="function"?t(e):t}function px(t){return typeof t=="number"&&t>=0&&t!==1/0}function G4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function so(t,e){return typeof t=="function"?t(e):t}function ks(t,e){return typeof t=="function"?t(e):t}function oj(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(s){if(e.queryHash!==yy(o,e.options))return!1}else if(!Td(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function lj(t,e){const{exact:r,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(ll(e.options.mutationKey)!==ll(a))return!1}else if(!Td(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function yy(t,e){return((e==null?void 0:e.queryKeyHashFn)||ll)(t)}function ll(t){return JSON.stringify(t,(e,r)=>gx(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function Td(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Td(t[r],e[r])):!1}var YM=Object.prototype.hasOwnProperty;function q4(t,e){if(t===e)return t;const r=cj(t)&&cj(e);if(!r&&!(gx(t)&&gx(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,c=r?new Array(o):{};let u=0;for(let l=0;l<o;l++){const d=r?l:a[l],h=t[d],f=e[d];if(h===f){c[d]=h,(r?l<i:YM.call(t,d))&&u++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){c[d]=f;continue}const p=q4(h,f);c[d]=p,p===h&&u++}return i===o&&u===i?t:c}function sm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function cj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gx(t){if(!uj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!uj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uj(t){return Object.prototype.toString.call(t)==="[object Object]"}function JM(t){return new Promise(e=>{Uo.setTimeout(e,t)})}function xx(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?q4(t,e):e}function ZM(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function eA(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var by=Symbol();function Q4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===by?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function X4(t,e){return typeof t=="function"?t(...e):!!t}var $o,Ra,bc,fS,tA=(fS=class extends nu{constructor(){super();Ye(this,$o);Ye(this,Ra);Ye(this,bc);Ae(this,bc,e=>{if(!ol&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,Ra)||this.setEventListener(z(this,bc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ra))==null||e.call(this),Ae(this,Ra,void 0))}setEventListener(e){var r;Ae(this,bc,e),(r=z(this,Ra))==null||r.call(this),Ae(this,Ra,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){z(this,$o)!==e&&(Ae(this,$o,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof z(this,$o)=="boolean"?z(this,$o):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$o=new WeakMap,Ra=new WeakMap,bc=new WeakMap,fS),wy=new tA;function vx(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function s(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},r.reject=i=>{s({status:"rejected",reason:i}),e(i)},r}var rA=QM;function nA(){let t=[],e=0,r=c=>{c()},s=c=>{c()},i=rA;const a=c=>{e?t.push(c):i(()=>{r(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{s(()=>{c.forEach(u=>{r(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{a(()=>{c(...u)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var Jr=nA(),wc,Ia,jc,mS,sA=(mS=class extends nu{constructor(){super();Ye(this,wc,!0);Ye(this,Ia);Ye(this,jc);Ae(this,jc,e=>{if(!ol&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){z(this,Ia)||this.setEventListener(z(this,jc))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ia))==null||e.call(this),Ae(this,Ia,void 0))}setEventListener(e){var r;Ae(this,jc,e),(r=z(this,Ia))==null||r.call(this),Ae(this,Ia,e(this.setOnline.bind(this)))}setOnline(e){z(this,wc)!==e&&(Ae(this,wc,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return z(this,wc)}},wc=new WeakMap,Ia=new WeakMap,jc=new WeakMap,mS),im=new sA;function iA(t){return Math.min(1e3*2**t,3e4)}function Y4(t){return(t??"online")==="online"?im.isOnline():!0}var yx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function J4(t){let e=!1,r=0,s;const i=vx(),a=()=>i.status!=="pending",o=g=>{var N;if(!a()){const b=new yx(g);f(b),(N=t.onCancel)==null||N.call(t,b)}},c=()=>{e=!0},u=()=>{e=!1},l=()=>wy.isFocused()&&(t.networkMode==="always"||im.isOnline())&&t.canRun(),d=()=>Y4(t.networkMode)&&t.canRun(),h=g=>{a()||(s==null||s(),i.resolve(g))},f=g=>{a()||(s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var N;s=b=>{(a()||l())&&g(b)},(N=t.onPause)==null||N.call(t)}).then(()=>{var g;s=void 0,a()||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(a())return;let g;const N=r===0?t.initialPromise:void 0;try{g=N??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var k;if(a())return;const x=t.retry??(ol?0:3),y=t.retryDelay??iA,w=typeof y=="function"?y(r,b):y,C=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(e||!C){f(b);return}r++,(k=t.onFail)==null||k.call(t,r,b),JM(w).then(()=>l()?void 0:p()).then(()=>{e?f(b):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:u,canStart:d,start:()=>(d()?v():p().then(v),i)}}var Wo,pS,Z4=(pS=class{constructor(){Ye(this,Wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),px(this.gcTime)&&Ae(this,Wo,Uo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ol?1/0:5*60*1e3))}clearGcTimeout(){z(this,Wo)&&(Uo.clearTimeout(z(this,Wo)),Ae(this,Wo,void 0))}},Wo=new WeakMap,pS),Vo,Nc,Ts,Ho,sn,Vd,Ko,Hs,Gi,gS,aA=(gS=class extends Z4{constructor(e){super();Ye(this,Hs);Ye(this,Vo);Ye(this,Nc);Ye(this,Ts);Ye(this,Ho);Ye(this,sn);Ye(this,Vd);Ye(this,Ko);Ae(this,Ko,!1),Ae(this,Vd,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,Ho,e.client),Ae(this,Ts,z(this,Ho).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,Vo,dj(this.options)),this.state=e.state??z(this,Vo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=z(this,sn))==null?void 0:e.promise}setOptions(e){if(this.options={...z(this,Vd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=dj(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ae(this,Vo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Ts).remove(this)}setData(e,r){const s=xx(this.state.data,e,this.options);return mt(this,Hs,Gi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){mt(this,Hs,Gi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,i;const r=(s=z(this,sn))==null?void 0:s.promise;return(i=z(this,sn))==null||i.cancel(e),r?r.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Vo))}isActive(){return this.observers.some(e=>ks(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===by||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>so(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!G4(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,sn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=z(this,sn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),z(this,Ts).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(z(this,sn)&&(z(this,Ko)?z(this,sn).cancel({revert:!0}):z(this,sn).cancelRetry()),this.scheduleGc()),z(this,Ts).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,Hs,Gi).call(this,{type:"invalidate"})}async fetch(e,r){var u,l,d,h,f,p,v,g,N,b,x,y;if(this.state.fetchStatus!=="idle"&&((u=z(this,sn))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,sn))return z(this,sn).continueRetry(),z(this,sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(C=>C.options.queryFn);w&&this.setOptions(w.options)}const s=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Ae(this,Ko,!0),s.signal)})},a=()=>{const w=Q4(this.options,r),k=(()=>{const S={client:z(this,Ho),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return Ae(this,Ko,!1),this.options.persister?this.options.persister(w,k,this):w(k)},c=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ho),state:this.state,fetchFn:a};return i(w),w})();(l=this.options.behavior)==null||l.onFetch(c,this),Ae(this,Nc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&mt(this,Hs,Gi).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),Ae(this,sn,J4({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:w=>{w instanceof yx&&w.revert&&this.setState({...z(this,Nc),fetchStatus:"idle"}),s.abort()},onFail:(w,C)=>{mt(this,Hs,Gi).call(this,{type:"failed",failureCount:w,error:C})},onPause:()=>{mt(this,Hs,Gi).call(this,{type:"pause"})},onContinue:()=>{mt(this,Hs,Gi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const w=await z(this,sn).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=z(this,Ts).config).onSuccess)==null||p.call(f,w,this),(g=(v=z(this,Ts).config).onSettled)==null||g.call(v,w,this.state.error,this),w}catch(w){if(w instanceof yx){if(w.silent)return z(this,sn).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw mt(this,Hs,Gi).call(this,{type:"error",error:w}),(b=(N=z(this,Ts).config).onError)==null||b.call(N,w,this),(y=(x=z(this,Ts).config).onSettled)==null||y.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},Vo=new WeakMap,Nc=new WeakMap,Ts=new WeakMap,Ho=new WeakMap,sn=new WeakMap,Vd=new WeakMap,Ko=new WeakMap,Hs=new WeakSet,Gi=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eC(s.data,this.options),fetchMeta:e.meta??null};case"success":const i={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ae(this,Nc,e.manual?i:void 0),i;case"error":const a=e.error;return{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Jr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Ts).notify({query:this,type:"updated",action:e})})},gS);function eC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hn,Pt,Hd,En,Go,Sc,Xi,La,Kd,Cc,Tc,qo,Qo,Fa,kc,qt,zu,bx,wx,jx,Nx,Sx,Cx,Tx,tC,xS,oA=(xS=class extends nu{constructor(e,r){super();Ye(this,qt);Ye(this,Hn);Ye(this,Pt);Ye(this,Hd);Ye(this,En);Ye(this,Go);Ye(this,Sc);Ye(this,Xi);Ye(this,La);Ye(this,Kd);Ye(this,Cc);Ye(this,Tc);Ye(this,qo);Ye(this,Qo);Ye(this,Fa);Ye(this,kc,new Set);this.options=r,Ae(this,Hn,e),Ae(this,La,null),Ae(this,Xi,vx()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,Pt).addObserver(this),hj(z(this,Pt),this.options)?mt(this,qt,zu).call(this):this.updateResult(),mt(this,qt,Nx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kx(z(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kx(z(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,qt,Sx).call(this),mt(this,qt,Cx).call(this),z(this,Pt).removeObserver(this)}setOptions(e){const r=this.options,s=z(this,Pt);if(this.options=z(this,Hn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ks(this.options.enabled,z(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,qt,Tx).call(this),z(this,Pt).setOptions(this.options),r._defaulted&&!sm(this.options,r)&&z(this,Hn).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,Pt),observer:this});const i=this.hasListeners();i&&fj(z(this,Pt),s,this.options,r)&&mt(this,qt,zu).call(this),this.updateResult(),i&&(z(this,Pt)!==s||ks(this.options.enabled,z(this,Pt))!==ks(r.enabled,z(this,Pt))||so(this.options.staleTime,z(this,Pt))!==so(r.staleTime,z(this,Pt)))&&mt(this,qt,bx).call(this);const a=mt(this,qt,wx).call(this);i&&(z(this,Pt)!==s||ks(this.options.enabled,z(this,Pt))!==ks(r.enabled,z(this,Pt))||a!==z(this,Fa))&&mt(this,qt,jx).call(this,a)}getOptimisticResult(e){const r=z(this,Hn).getQueryCache().build(z(this,Hn),e),s=this.createResult(r,e);return cA(this,s)&&(Ae(this,En,s),Ae(this,Sc,this.options),Ae(this,Go,z(this,Pt).state)),s}getCurrentResult(){return z(this,En)}trackResult(e,r){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,Xi).status==="pending"&&z(this,Xi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,i))})}trackProp(e){z(this,kc).add(e)}getCurrentQuery(){return z(this,Pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=z(this,Hn).defaultQueryOptions(e),s=z(this,Hn).getQueryCache().build(z(this,Hn),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return mt(this,qt,zu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,En)))}createResult(e,r){var _;const s=z(this,Pt),i=this.options,a=z(this,En),o=z(this,Go),c=z(this,Sc),l=e!==s?e.state:z(this,Hd),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),W=!P&&hj(e,r),F=P&&fj(e,s,r,i);(W||F)&&(h={...h,...eC(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:N}=h;p=h.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&N==="pending"){let P;a!=null&&a.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(P=a.data,b=!0):P=typeof r.placeholderData=="function"?r.placeholderData((_=z(this,Tc))==null?void 0:_.state.data,z(this,Tc)):r.placeholderData,P!==void 0&&(N="success",p=xx(a==null?void 0:a.data,P,r),f=!0)}if(r.select&&p!==void 0&&!b)if(a&&p===(o==null?void 0:o.data)&&r.select===z(this,Kd))p=z(this,Cc);else try{Ae(this,Kd,r.select),p=r.select(p),p=xx(a==null?void 0:a.data,p,r),Ae(this,Cc,p),Ae(this,La,null)}catch(P){Ae(this,La,P)}z(this,La)&&(v=z(this,La),p=z(this,Cc),g=Date.now(),N="error");const x=h.fetchStatus==="fetching",y=N==="pending",w=N==="error",C=y&&x,k=p!==void 0,E={status:N,fetchStatus:h.fetchStatus,isPending:y,isSuccess:N==="success",isError:w,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&k,isStale:jy(e,r),refetch:this.refetch,promise:z(this,Xi),isEnabled:ks(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},W=()=>{const I=Ae(this,Xi,E.promise=vx());P(I)},F=z(this,Xi);switch(F.status){case"pending":e.queryHash===s.queryHash&&P(F);break;case"fulfilled":(E.status==="error"||E.data!==F.value)&&W();break;case"rejected":(E.status!=="error"||E.error!==F.reason)&&W();break}}return E}updateResult(){const e=z(this,En),r=this.createResult(z(this,Pt),this.options);if(Ae(this,Go,z(this,Pt).state),Ae(this,Sc,this.options),z(this,Go).data!==void 0&&Ae(this,Tc,z(this,Pt)),sm(r,e))return;Ae(this,En,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!z(this,kc).size)return!0;const o=new Set(a??z(this,kc));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,En)).some(c=>{const u=c;return z(this,En)[u]!==e[u]&&o.has(u)})};mt(this,qt,tC).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,qt,Nx).call(this)}},Hn=new WeakMap,Pt=new WeakMap,Hd=new WeakMap,En=new WeakMap,Go=new WeakMap,Sc=new WeakMap,Xi=new WeakMap,La=new WeakMap,Kd=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,qo=new WeakMap,Qo=new WeakMap,Fa=new WeakMap,kc=new WeakMap,qt=new WeakSet,zu=function(e){mt(this,qt,Tx).call(this);let r=z(this,Pt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Dn)),r},bx=function(){mt(this,qt,Sx).call(this);const e=so(this.options.staleTime,z(this,Pt));if(ol||z(this,En).isStale||!px(e))return;const s=G4(z(this,En).dataUpdatedAt,e)+1;Ae(this,qo,Uo.setTimeout(()=>{z(this,En).isStale||this.updateResult()},s))},wx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,Pt)):this.options.refetchInterval)??!1},jx=function(e){mt(this,qt,Cx).call(this),Ae(this,Fa,e),!(ol||ks(this.options.enabled,z(this,Pt))===!1||!px(z(this,Fa))||z(this,Fa)===0)&&Ae(this,Qo,Uo.setInterval(()=>{(this.options.refetchIntervalInBackground||wy.isFocused())&&mt(this,qt,zu).call(this)},z(this,Fa)))},Nx=function(){mt(this,qt,bx).call(this),mt(this,qt,jx).call(this,mt(this,qt,wx).call(this))},Sx=function(){z(this,qo)&&(Uo.clearTimeout(z(this,qo)),Ae(this,qo,void 0))},Cx=function(){z(this,Qo)&&(Uo.clearInterval(z(this,Qo)),Ae(this,Qo,void 0))},Tx=function(){const e=z(this,Hn).getQueryCache().build(z(this,Hn),this.options);if(e===z(this,Pt))return;const r=z(this,Pt);Ae(this,Pt,e),Ae(this,Hd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},tC=function(e){Jr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(z(this,En))}),z(this,Hn).getQueryCache().notify({query:z(this,Pt),type:"observerResultsUpdated"})})},xS);function lA(t,e){return ks(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hj(t,e){return lA(t,e)||t.state.data!==void 0&&kx(t,e,e.refetchOnMount)}function kx(t,e,r){if(ks(e.enabled,t)!==!1&&so(e.staleTime,t)!=="static"){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&jy(t,e)}return!1}function fj(t,e,r,s){return(t!==e||ks(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&jy(t,r)}function jy(t,e){return ks(e.enabled,t)!==!1&&t.isStaleByTime(so(e.staleTime,t))}function cA(t,e){return!sm(t.getCurrentResult(),e)}function mj(t){return{onFetch:(e,r)=>{var d,h,f,p,v;const s=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const l=async()=>{let g=!1;const N=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=Q4(e.options,e.fetchOptions),x=async(y,w,C)=>{if(g)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return N(W),W})(),E=await b(S),{maxPages:_}=e.options,P=C?eA:ZM;return{pages:P(y.pages,E,_),pageParams:P(y.pageParams,w,_)}};if(i&&a.length){const y=i==="backward",w=y?uA:pj,C={pages:a,pageParams:o},k=w(s,C);c=await x(C,k,y)}else{const y=t??a.length;do{const w=u===0?o[0]??s.initialPageParam:pj(s,c);if(u>0&&w==null)break;c=await x(c,w),u++}while(u<y)}return c};e.options.persister?e.fetchFn=()=>{var g,N;return(N=(g=e.options).persister)==null?void 0:N.call(g,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=l}}}function pj(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function uA(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Gd,wi,Pn,Xo,ji,Ta,vS,dA=(vS=class extends Z4{constructor(e){super();Ye(this,ji);Ye(this,Gd);Ye(this,wi);Ye(this,Pn);Ye(this,Xo);Ae(this,Gd,e.client),this.mutationId=e.mutationId,Ae(this,Pn,e.mutationCache),Ae(this,wi,[]),this.state=e.state||rC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){z(this,wi).includes(e)||(z(this,wi).push(e),this.clearGcTimeout(),z(this,Pn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,wi,z(this,wi).filter(r=>r!==e)),this.scheduleGc(),z(this,Pn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){z(this,wi).length||(this.state.status==="pending"?this.scheduleGc():z(this,Pn).remove(this))}continue(){var e;return((e=z(this,Xo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,u,l,d,h,f,p,v,g,N,b,x,y,w,C,k,S,E,_;const r=()=>{mt(this,ji,Ta).call(this,{type:"continue"})},s={client:z(this,Gd),meta:this.options.meta,mutationKey:this.options.mutationKey};Ae(this,Xo,J4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,W)=>{mt(this,ji,Ta).call(this,{type:"failed",failureCount:P,error:W})},onPause:()=>{mt(this,ji,Ta).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Pn).canRun(this)}));const i=this.state.status==="pending",a=!z(this,Xo).canStart();try{if(i)r();else{mt(this,ji,Ta).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(o=z(this,Pn).config).onMutate)==null?void 0:c.call(o,e,this,s));const W=await((l=(u=this.options).onMutate)==null?void 0:l.call(u,e,s));W!==this.state.context&&mt(this,ji,Ta).call(this,{type:"pending",context:W,variables:e,isPaused:a})}const P=await z(this,Xo).start();return await((h=(d=z(this,Pn).config).onSuccess)==null?void 0:h.call(d,P,e,this.state.context,this,s)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,e,this.state.context,s)),await((g=(v=z(this,Pn).config).onSettled)==null?void 0:g.call(v,P,null,this.state.variables,this.state.context,this,s)),await((b=(N=this.options).onSettled)==null?void 0:b.call(N,P,null,e,this.state.context,s)),mt(this,ji,Ta).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(x=z(this,Pn).config).onError)==null?void 0:y.call(x,P,e,this.state.context,this,s)),await((C=(w=this.options).onError)==null?void 0:C.call(w,P,e,this.state.context,s)),await((S=(k=z(this,Pn).config).onSettled)==null?void 0:S.call(k,void 0,P,this.state.variables,this.state.context,this,s)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,void 0,P,e,this.state.context,s)),P}finally{mt(this,ji,Ta).call(this,{type:"error",error:P})}}finally{z(this,Pn).runNext(this)}}},Gd=new WeakMap,wi=new WeakMap,Pn=new WeakMap,Xo=new WeakMap,ji=new WeakSet,Ta=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jr.batch(()=>{z(this,wi).forEach(s=>{s.onMutationUpdate(e)}),z(this,Pn).notify({mutation:this,type:"updated",action:e})})},vS);function rC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,Ks,qd,yS,hA=(yS=class extends nu{constructor(e={}){super();Ye(this,Yi);Ye(this,Ks);Ye(this,qd);this.config=e,Ae(this,Yi,new Set),Ae(this,Ks,new Map),Ae(this,qd,0)}build(e,r,s){const i=new dA({client:e,mutationCache:this,mutationId:++ph(this,qd)._,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){z(this,Yi).add(e);const r=Ah(e);if(typeof r=="string"){const s=z(this,Ks).get(r);s?s.push(e):z(this,Ks).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Yi).delete(e)){const r=Ah(e);if(typeof r=="string"){const s=z(this,Ks).get(r);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&z(this,Ks).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ah(e);if(typeof r=="string"){const s=z(this,Ks).get(r),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var s;const r=Ah(e);if(typeof r=="string"){const i=(s=z(this,Ks).get(r))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jr.batch(()=>{z(this,Yi).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Yi).clear(),z(this,Ks).clear()})}getAll(){return Array.from(z(this,Yi))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>lj(r,s))}findAll(e={}){return this.getAll().filter(r=>lj(e,r))}notify(e){Jr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Jr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Dn))))}},Yi=new WeakMap,Ks=new WeakMap,qd=new WeakMap,yS);function Ah(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ji,Ua,Kn,Zi,oa,jf,Ex,bS,fA=(bS=class extends nu{constructor(r,s){super();Ye(this,oa);Ye(this,Ji);Ye(this,Ua);Ye(this,Kn);Ye(this,Zi);Ae(this,Ji,r),this.setOptions(s),this.bindMethods(),mt(this,oa,jf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const s=this.options;this.options=z(this,Ji).defaultMutationOptions(r),sm(this.options,s)||z(this,Ji).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Kn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ll(s.mutationKey)!==ll(this.options.mutationKey)?this.reset():((i=z(this,Kn))==null?void 0:i.state.status)==="pending"&&z(this,Kn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=z(this,Kn))==null||r.removeObserver(this)}onMutationUpdate(r){mt(this,oa,jf).call(this),mt(this,oa,Ex).call(this,r)}getCurrentResult(){return z(this,Ua)}reset(){var r;(r=z(this,Kn))==null||r.removeObserver(this),Ae(this,Kn,void 0),mt(this,oa,jf).call(this),mt(this,oa,Ex).call(this)}mutate(r,s){var i;return Ae(this,Zi,s),(i=z(this,Kn))==null||i.removeObserver(this),Ae(this,Kn,z(this,Ji).getMutationCache().build(z(this,Ji),this.options)),z(this,Kn).addObserver(this),z(this,Kn).execute(r)}},Ji=new WeakMap,Ua=new WeakMap,Kn=new WeakMap,Zi=new WeakMap,oa=new WeakSet,jf=function(){var s;const r=((s=z(this,Kn))==null?void 0:s.state)??rC();Ae(this,Ua,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ex=function(r){Jr.batch(()=>{var s,i,a,o,c,u,l,d;if(z(this,Zi)&&this.hasListeners()){const h=z(this,Ua).variables,f=z(this,Ua).context,p={client:z(this,Ji),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(s=z(this,Zi)).onSuccess)==null||i.call(s,r.data,h,f,p),(o=(a=z(this,Zi)).onSettled)==null||o.call(a,r.data,null,h,f,p)):(r==null?void 0:r.type)==="error"&&((u=(c=z(this,Zi)).onError)==null||u.call(c,r.error,h,f,p),(d=(l=z(this,Zi)).onSettled)==null||d.call(l,void 0,r.error,h,f,p))}this.listeners.forEach(h=>{h(z(this,Ua))})})},bS),Ni,wS,mA=(wS=class extends nu{constructor(e={}){super();Ye(this,Ni);this.config=e,Ae(this,Ni,new Map)}build(e,r,s){const i=r.queryKey,a=r.queryHash??yy(i,r);let o=this.get(a);return o||(o=new aA({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Ni).has(e.queryHash)||(z(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=z(this,Ni).get(e.queryHash);r&&(e.destroy(),r===e&&z(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Ni).get(e)}getAll(){return[...z(this,Ni).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>oj(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>oj(e,s)):r}notify(e){Jr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,wS),kr,Ba,za,Ec,Pc,$a,_c,Dc,jS,pA=(jS=class{constructor(t={}){Ye(this,kr);Ye(this,Ba);Ye(this,za);Ye(this,Ec);Ye(this,Pc);Ye(this,$a);Ye(this,_c);Ye(this,Dc);Ae(this,kr,t.queryCache||new mA),Ae(this,Ba,t.mutationCache||new hA),Ae(this,za,t.defaultOptions||{}),Ae(this,Ec,new Map),Ae(this,Pc,new Map),Ae(this,$a,0)}mount(){ph(this,$a)._++,z(this,$a)===1&&(Ae(this,_c,wy.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,kr).onFocus())})),Ae(this,Dc,im.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,kr).onOnline())})))}unmount(){var t,e;ph(this,$a)._--,z(this,$a)===0&&((t=z(this,_c))==null||t.call(this),Ae(this,_c,void 0),(e=z(this,Dc))==null||e.call(this),Ae(this,Dc,void 0))}isFetching(t){return z(this,kr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Ba).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,kr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=z(this,kr).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(so(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return z(this,kr).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=z(this,kr).get(s.queryHash),a=i==null?void 0:i.state.data,o=XM(e,a);if(o!==void 0)return z(this,kr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Jr.batch(()=>z(this,kr).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=z(this,kr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=z(this,kr);Jr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=z(this,kr);return Jr.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=Jr.batch(()=>z(this,kr).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(Dn).catch(Dn)}invalidateQueries(t,e={}){return Jr.batch(()=>(z(this,kr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=Jr.batch(()=>z(this,kr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Dn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=z(this,kr).build(this,e);return r.isStaleByTime(so(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dn).catch(Dn)}fetchInfiniteQuery(t){return t.behavior=mj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dn).catch(Dn)}ensureInfiniteQueryData(t){return t.behavior=mj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return im.isOnline()?z(this,Ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,kr)}getMutationCache(){return z(this,Ba)}getDefaultOptions(){return z(this,za)}setDefaultOptions(t){Ae(this,za,t)}setQueryDefaults(t,e){z(this,Ec).set(ll(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Ec).values()],r={};return e.forEach(s=>{Td(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){z(this,Pc).set(ll(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Pc).values()],r={};return e.forEach(s=>{Td(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,za).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===by&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,za).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,kr).clear(),z(this,Ba).clear()}},kr=new WeakMap,Ba=new WeakMap,za=new WeakMap,Ec=new WeakMap,Pc=new WeakMap,$a=new WeakMap,_c=new WeakMap,Dc=new WeakMap,jS),nC=m.createContext(void 0),ys=t=>{const e=m.useContext(nC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gA=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx(nC.Provider,{value:t,children:e})),sC=m.createContext(!1),xA=()=>m.useContext(sC);sC.Provider;function vA(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yA=m.createContext(vA()),bA=()=>m.useContext(yA),wA=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jA=t=>{m.useEffect(()=>{t.clearReset()},[t])},NA=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(i&&t.data===void 0||X4(r,[t.error,s])),SA=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...i)=>r(s(...i)):r(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},CA=(t,e)=>t.isLoading&&t.isFetching&&!e,TA=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,gj=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function kA(t,e,r){var h,f,p,v,g;const s=xA(),i=bA(),a=ys(),o=a.defaultQueryOptions(t);(f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",SA(o),wA(o,i),jA(i);const c=!a.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new e(a,o)),l=u.getOptimisticResult(o),d=!s&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(N=>{const b=d?u.subscribe(Jr.batchCalls(N)):Dn;return u.updateResult(),b},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),TA(o,l))throw gj(o,u,i);if(NA({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if((v=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,l),o.experimental_prefetchInRender&&!ol&&CA(l,s)){const N=c?gj(o,u,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;N==null||N.catch(Dn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?l:u.trackResult(l)}function Mr(t,e){return kA(t,oA)}function gn(t,e){const r=ys(),[s]=m.useState(()=>new fA(r,t));m.useEffect(()=>{s.setOptions(t)},[s,t]);const i=m.useSyncExternalStore(m.useCallback(o=>s.subscribe(Jr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=m.useCallback((o,c)=>{s.mutate(o,c).catch(Dn)},[s]);if(i.error&&X4(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var Ny=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,e||[])).next())})},Sy=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},EA=function(){var t=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",e=window.location.hostname.includes("vercel.app"),r=window.location.hostname.includes("railway.app"),s=window.location.hostname.includes("metachrome.io");if(console.log(" API Base URL Detection:",{hostname:window.location.hostname,isLocal:t,isVercel:e,isRailway:r,isMetachromeIO:s,isProd:!0}),e||r||s||!t)return console.log(" Using production API endpoints (relative URLs)"),"";if(t){console.log(" Using local server endpoints");var i=window.location.hostname;return"http://".concat(i,":3005")}return console.log(" Using Vite proxy"),""},iC=EA();function aC(t){return Ny(this,void 0,void 0,function(){var e,r,s;return Sy(this,function(i){switch(i.label){case 0:if(t.ok)return[3,9];e=t.statusText,i.label=1;case 1:return i.trys.push([1,3,,8]),[4,t.json()];case 2:return r=i.sent(),e=r.message||r.error||JSON.stringify(r),[3,8];case 3:i.sent(),i.label=4;case 4:return i.trys.push([4,6,,7]),[4,t.text()];case 5:return s=i.sent(),e=s||t.statusText,[3,7];case 6:return i.sent(),e=t.statusText,[3,7];case 7:return[3,8];case 8:throw new Error("".concat(t.status,": ").concat(e));case 9:return[2]}})})}function Mn(t,e,r){return Ny(this,void 0,void 0,function(){var s,i,a,o,c,u;return Sy(this,function(l){switch(l.label){case 0:return s="".concat(iC).concat(e),i=localStorage.getItem("authToken"),a={},r&&(a["Content-Type"]="application/json"),o=e.includes("/login")||e.includes("/register"),i&&!o&&(a.Authorization="Bearer ".concat(i)),[4,fetch(s,{method:t,headers:a,body:r?JSON.stringify(r):void 0,credentials:e.includes("/admin-login")?"omit":"include"})];case 1:return c=l.sent(),[4,aC(c)];case 2:return l.sent(),[4,c.json()];case 3:return u=l.sent(),[2,u]}})})}var PA=function(t){return function(e){return Ny(void 0,[e],void 0,function(r){var s,i,a,o,c=r.queryKey;return Sy(this,function(u){switch(u.label){case 0:return s="".concat(iC).concat(c.join("/")),i=localStorage.getItem("authToken"),a={},i&&(a.Authorization="Bearer ".concat(i)),[4,fetch(s,{headers:a,credentials:"include"})];case 1:return o=u.sent(),[4,aC(o)];case 2:return u.sent(),[4,o.json()];case 3:return[2,u.sent()]}})})}},_A=new pA({defaultOptions:{queries:{queryFn:PA(),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,cacheTime:0,retry:!1},mutations:{retry:!1}}}),Er=function(){return Er=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Er.apply(this,arguments)},DA=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},MA=function(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},AA=1,OA=1e6,Tp=0;function RA(){return Tp=(Tp+1)%Number.MAX_SAFE_INTEGER,Tp.toString()}var kp=new Map,xj=function(t){if(!kp.has(t)){var e=setTimeout(function(){kp.delete(t),ed({type:"REMOVE_TOAST",toastId:t})},OA);kp.set(t,e)}},IA=function(t,e){switch(e.type){case"ADD_TOAST":return Er(Er({},t),{toasts:MA([e.toast],t.toasts,!0).slice(0,AA)});case"UPDATE_TOAST":return Er(Er({},t),{toasts:t.toasts.map(function(s){return s.id===e.toast.id?Er(Er({},s),e.toast):s})});case"DISMISS_TOAST":{var r=e.toastId;return r?xj(r):t.toasts.forEach(function(s){xj(s.id)}),Er(Er({},t),{toasts:t.toasts.map(function(s){return s.id===r||r===void 0?Er(Er({},s),{open:!1}):s})})}case"REMOVE_TOAST":return e.toastId===void 0?Er(Er({},t),{toasts:[]}):Er(Er({},t),{toasts:t.toasts.filter(function(s){return s.id!==e.toastId})})}},Nf=[],Sf={toasts:[]};function ed(t){Sf=IA(Sf,t),Nf.forEach(function(e){e(Sf)})}function ht(t){var e=DA(t,[]),r=RA(),s=function(a){return ed({type:"UPDATE_TOAST",toast:Er(Er({},a),{id:r})})},i=function(){return ed({type:"DISMISS_TOAST",toastId:r})};return ed({type:"ADD_TOAST",toast:Er(Er({},e),{id:r,open:!0,onOpenChange:function(a){a||i()}})}),{id:r,dismiss:i,update:s}}function Cn(){var t=m.useState(Sf),e=t[0],r=t[1];return m.useEffect(function(){return Nf.push(r),function(){var s=Nf.indexOf(r);s>-1&&Nf.splice(s,1)}},[e]),Er(Er({},e),{toast:ht,dismiss:function(s){return ed({type:"DISMISS_TOAST",toastId:s})}})}function Me(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function s0(...t){return e=>{let r=!1;const s=t.map(i=>{const a=vj(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():vj(t[i],null)}}}}function Bt(...t){return m.useCallback(s0(...t),t)}function LA(t,e){const r=m.createContext(e),s=a=>{const{children:o,...c}=a,u=m.useMemo(()=>c,Object.values(c));return n.jsx(r.Provider,{value:u,children:o})};s.displayName=t+"Provider";function i(a){const o=m.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,i]}function Rs(t,e=[]){let r=[];function s(a,o){const c=m.createContext(o),u=r.length;r=[...r,o];const l=h=>{var b;const{scope:f,children:p,...v}=h,g=((b=f==null?void 0:f[t])==null?void 0:b[u])||c,N=m.useMemo(()=>v,Object.values(v));return n.jsx(g.Provider,{value:N,children:p})};l.displayName=a+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[u])||c,v=m.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[l,d]}const i=()=>{const a=r.map(o=>m.createContext(o));return function(c){const u=(c==null?void 0:c[t])||a;return m.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return i.scopeName=t,[s,FA(i,...e)]}function FA(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=s.reduce((c,{useScope:u,scopeName:l})=>{const h=u(a)[`__scope${l}`];return{...c,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function cl(t){const e=UA(t),r=m.forwardRef((s,i)=>{const{children:a,...o}=s,c=m.Children.toArray(a),u=c.find(zA);if(u){const l=u.props.children,d=c.map(h=>h===u?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:h);return n.jsx(e,{...o,ref:i,children:m.isValidElement(l)?m.cloneElement(l,void 0,d):null})}return n.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var oC=cl("Slot");function UA(t){const e=m.forwardRef((r,s)=>{const{children:i,...a}=r;if(m.isValidElement(i)){const o=WA(i),c=$A(a,i.props);return i.type!==m.Fragment&&(c.ref=s?s0(s,o):o),m.cloneElement(i,c)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lC=Symbol("radix.slottable");function BA(t){const e=({children:r})=>n.jsx(n.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=lC,e}function zA(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lC}function $A(t,e){const r={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?r[s]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(r[s]=i):s==="style"?r[s]={...i,...a}:s==="className"&&(r[s]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function WA(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function i0(t){const e=t+"CollectionProvider",[r,s]=Rs(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:N,children:b}=g,x=Pe.useRef(null),y=Pe.useRef(new Map).current;return n.jsx(i,{scope:N,itemMap:y,collectionRef:x,children:b})};o.displayName=e;const c=t+"CollectionSlot",u=cl(c),l=Pe.forwardRef((g,N)=>{const{scope:b,children:x}=g,y=a(c,b),w=Bt(N,y.collectionRef);return n.jsx(u,{ref:w,children:x})});l.displayName=c;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=cl(d),p=Pe.forwardRef((g,N)=>{const{scope:b,children:x,...y}=g,w=Pe.useRef(null),C=Bt(N,w),k=a(d,b);return Pe.useEffect(()=>(k.itemMap.set(w,{ref:w,...y}),()=>void k.itemMap.delete(w))),n.jsx(f,{[h]:"",ref:C,children:x})});p.displayName=d;function v(g){const N=a(t+"CollectionConsumer",g);return Pe.useCallback(()=>{const x=N.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(N.itemMap.values()).sort((k,S)=>y.indexOf(k.ref.current)-y.indexOf(S.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},v,s]}var VA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=VA.reduce((t,e)=>{const r=cl(`Primitive.${e}`),s=m.forwardRef((i,a)=>{const{asChild:o,...c}=i,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...c,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Cy(t,e){t&&Sl.flushSync(()=>t.dispatchEvent(e))}function rs(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...r)=>{var s;return(s=e.current)==null?void 0:s.call(e,...r)},[])}function HA(t,e=globalThis==null?void 0:globalThis.document){const r=rs(t);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var KA="DismissableLayer",Px="dismissableLayer.update",GA="dismissableLayer.pointerDownOutside",qA="dismissableLayer.focusOutside",yj,cC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),su=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...u}=t,l=m.useContext(cC),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=Bt(e,S=>h(S)),g=Array.from(l.layers),[N]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(N),x=d?g.indexOf(d):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,w=x>=b,C=XA(S=>{const E=S.target,_=[...l.branches].some(P=>P.contains(E));!w||_||(i==null||i(S),o==null||o(S),S.defaultPrevented||c==null||c())},f),k=YA(S=>{const E=S.target;[...l.branches].some(P=>P.contains(E))||(a==null||a(S),o==null||o(S),S.defaultPrevented||c==null||c())},f);return HA(S=>{x===l.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},f),m.useEffect(()=>{if(d)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(yj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),bj(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yj)}},[d,f,r,l]),m.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),bj())},[d,l]),m.useEffect(()=>{const S=()=>p({});return document.addEventListener(Px,S),()=>document.removeEventListener(Px,S)},[]),n.jsx(rt.div,{...u,ref:v,style:{pointerEvents:y?w?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,C.onPointerDownCapture)})});su.displayName=KA;var QA="DismissableLayerBranch",uC=m.forwardRef((t,e)=>{const r=m.useContext(cC),s=m.useRef(null),i=Bt(e,s);return m.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),n.jsx(rt.div,{...t,ref:i})});uC.displayName=QA;function XA(t,e=globalThis==null?void 0:globalThis.document){const r=rs(t),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=c=>{if(c.target&&!s.current){let u=function(){dC(GA,r,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function YA(t,e=globalThis==null?void 0:globalThis.document){const r=rs(t),s=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!s.current&&dC(qA,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function bj(){const t=new CustomEvent(Px);document.dispatchEvent(t)}function dC(t,e,r,{discrete:s}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),s?Cy(i,a):i.dispatchEvent(a)}var JA=su,ZA=uC,ln=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},e5="Portal",th=m.forwardRef((t,e)=>{var c;const{container:r,...s}=t,[i,a]=m.useState(!1);ln(()=>a(!0),[]);const o=r||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?gM.createPortal(n.jsx(rt.div,{...s,ref:e}),o):null});th.displayName=e5;function t5(t,e){return m.useReducer((r,s)=>e[r][s]??r,t)}var Is=t=>{const{present:e,children:r}=t,s=r5(e),i=typeof r=="function"?r({present:s.isPresent}):m.Children.only(r),a=Bt(s.ref,n5(i));return typeof r=="function"||s.isPresent?m.cloneElement(i,{ref:a}):null};Is.displayName="Presence";function r5(t){const[e,r]=m.useState(),s=m.useRef(null),i=m.useRef(t),a=m.useRef("none"),o=t?"mounted":"unmounted",[c,u]=t5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const l=Oh(s.current);a.current=c==="mounted"?l:"none"},[c]),ln(()=>{const l=s.current,d=i.current;if(d!==t){const f=a.current,p=Oh(l);t?u("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?u("UNMOUNT"):u(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),ln(()=>{if(e){let l;const d=e.ownerDocument.defaultView??window,h=p=>{const g=Oh(s.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(u("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",l=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},f=p=>{p.target===e&&(a.current=Oh(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(l),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(l=>{s.current=l?getComputedStyle(l):null,r(l)},[])}}function Oh(t){return(t==null?void 0:t.animationName)||"none"}function n5(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var s5=Tv[" useInsertionEffect ".trim().toString()]||ln;function co({prop:t,defaultProp:e,onChange:r=()=>{},caller:s}){const[i,a,o]=i5({defaultProp:e,onChange:r}),c=t!==void 0,u=c?t:i;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const h=d.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,s])}const l=m.useCallback(d=>{var h;if(c){const f=a5(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else a(d)},[c,t,a,o]);return[u,l]}function i5({defaultProp:t,onChange:e}){const[r,s]=m.useState(t),i=m.useRef(r),a=m.useRef(e);return s5(()=>{a.current=e},[e]),m.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,s,a]}function a5(t){return typeof t=="function"}var hC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o5="VisuallyHidden",a0=m.forwardRef((t,e)=>n.jsx(rt.span,{...t,ref:e,style:{...hC,...t.style}}));a0.displayName=o5;var l5=a0,Ty="ToastProvider",[ky,c5,u5]=i0("Toast"),[fC]=Rs("Toast",[u5]),[d5,o0]=fC(Ty),mC=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[c,u]=m.useState(null),[l,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ty}\`. Expected non-empty \`string\`.`),n.jsx(ky.Provider,{scope:e,children:n.jsx(d5,{scope:e,label:r,duration:s,swipeDirection:i,swipeThreshold:a,toastCount:l,viewport:c,onViewportChange:u,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};mC.displayName=Ty;var pC="ToastViewport",h5=["F8"],_x="toast.viewportPause",Dx="toast.viewportResume",gC=m.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=h5,label:i="Notifications ({hotkey})",...a}=t,o=o0(pC,r),c=c5(r),u=m.useRef(null),l=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=Bt(e,h,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const N=b=>{var y;s.length!==0&&s.every(w=>b[w]||b.code===w)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),m.useEffect(()=>{const N=u.current,b=h.current;if(v&&N&&b){const x=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(_x);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Dx);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},w=k=>{!N.contains(k.relatedTarget)&&y()},C=()=>{N.contains(document.activeElement)||y()};return N.addEventListener("focusin",x),N.addEventListener("focusout",w),N.addEventListener("pointermove",x),N.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",y),()=>{N.removeEventListener("focusin",x),N.removeEventListener("focusout",w),N.removeEventListener("pointermove",x),N.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",y)}}},[v,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:N})=>{const x=c().map(y=>{const w=y.ref.current,C=[w,...C5(w)];return N==="forwards"?C:C.reverse()});return(N==="forwards"?x.reverse():x).flat()},[c]);return m.useEffect(()=>{const N=h.current;if(N){const b=x=>{var C,k,S;const y=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!y){const E=document.activeElement,_=x.shiftKey;if(x.target===N&&_){(C=l.current)==null||C.focus();return}const F=g({tabbingDirection:_?"backwards":"forwards"}),I=F.findIndex(D=>D===E);Ep(F.slice(I+1))?x.preventDefault():_?(k=l.current)==null||k.focus():(S=d.current)==null||S.focus()}};return N.addEventListener("keydown",b),()=>N.removeEventListener("keydown",b)}},[c,g]),n.jsxs(ZA,{ref:u,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(Mx,{ref:l,onFocusFromOutsideViewport:()=>{const N=g({tabbingDirection:"forwards"});Ep(N)}}),n.jsx(ky.Slot,{scope:r,children:n.jsx(rt.ol,{tabIndex:-1,...a,ref:f})}),v&&n.jsx(Mx,{ref:d,onFocusFromOutsideViewport:()=>{const N=g({tabbingDirection:"backwards"});Ep(N)}})]})});gC.displayName=pC;var xC="ToastFocusProxy",Mx=m.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...i}=t,a=o0(xC,r);return n.jsx(a0,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var l;const c=o.relatedTarget;!((l=a.viewport)!=null&&l.contains(c))&&s()}})});Mx.displayName=xC;var rh="Toast",f5="toast.swipeStart",m5="toast.swipeMove",p5="toast.swipeCancel",g5="toast.swipeEnd",vC=m.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:i,onOpenChange:a,...o}=t,[c,u]=co({prop:s,defaultProp:i??!0,onChange:a,caller:rh});return n.jsx(Is,{present:r||c,children:n.jsx(y5,{open:c,...o,ref:e,onClose:()=>u(!1),onPause:rs(t.onPause),onResume:rs(t.onResume),onSwipeStart:Me(t.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(t.onSwipeMove,l=>{const{x:d,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Me(t.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(t.onSwipeEnd,l=>{const{x:d,y:h}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),u(!1)})})})});vC.displayName=rh;var[x5,v5]=fC(rh,{onClose(){}}),y5=m.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:c,onPause:u,onResume:l,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=t,g=o0(rh,r),[N,b]=m.useState(null),x=Bt(e,D=>b(D)),y=m.useRef(null),w=m.useRef(null),C=i||g.duration,k=m.useRef(0),S=m.useRef(C),E=m.useRef(0),{onToastAdd:_,onToastRemove:P}=g,W=rs(()=>{var q;(N==null?void 0:N.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),F=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(W,D))},[W]);m.useEffect(()=>{const D=g.viewport;if(D){const q=()=>{F(S.current),l==null||l()},V=()=>{const re=new Date().getTime()-k.current;S.current=S.current-re,window.clearTimeout(E.current),u==null||u()};return D.addEventListener(_x,V),D.addEventListener(Dx,q),()=>{D.removeEventListener(_x,V),D.removeEventListener(Dx,q)}}},[g.viewport,C,u,l,F]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&F(C)},[a,C,g.isClosePausedRef,F]),m.useEffect(()=>(_(),()=>P()),[_,P]);const I=m.useMemo(()=>N?CC(N):null,[N]);return g.viewport?n.jsxs(n.Fragment,{children:[I&&n.jsx(b5,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:I}),n.jsx(x5,{scope:r,onClose:W,children:Sl.createPortal(n.jsx(ky.ItemSlot,{scope:r,children:n.jsx(JA,{asChild:!0,onEscapeKeyDown:Me(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(rt.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Me(t.onKeyDown,D=>{D.key==="Escape"&&(c==null||c(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Me(t.onPointerDown,D=>{D.button===0&&(y.current={x:D.clientX,y:D.clientY})}),onPointerMove:Me(t.onPointerMove,D=>{if(!y.current)return;const q=D.clientX-y.current.x,V=D.clientY-y.current.y,re=!!w.current,L=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,U=L?M(0,q):0,Q=L?0:M(0,V),oe=D.pointerType==="touch"?10:2,Ne={x:U,y:Q},H={originalEvent:D,delta:Ne};re?(w.current=Ne,Rh(m5,h,H,{discrete:!1})):wj(Ne,g.swipeDirection,oe)?(w.current=Ne,Rh(f5,d,H,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(q)>oe||Math.abs(V)>oe)&&(y.current=null)}),onPointerUp:Me(t.onPointerUp,D=>{const q=w.current,V=D.target;if(V.hasPointerCapture(D.pointerId)&&V.releasePointerCapture(D.pointerId),w.current=null,y.current=null,q){const re=D.currentTarget,L={originalEvent:D,delta:q};wj(q,g.swipeDirection,g.swipeThreshold)?Rh(g5,p,L,{discrete:!0}):Rh(p5,f,L,{discrete:!0}),re.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),b5=t=>{const{__scopeToast:e,children:r,...s}=t,i=o0(rh,e),[a,o]=m.useState(!1),[c,u]=m.useState(!1);return N5(()=>o(!0)),m.useEffect(()=>{const l=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(l)},[]),c?null:n.jsx(th,{asChild:!0,children:n.jsx(a0,{...s,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",r]})})})},w5="ToastTitle",yC=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return n.jsx(rt.div,{...s,ref:e})});yC.displayName=w5;var j5="ToastDescription",bC=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return n.jsx(rt.div,{...s,ref:e})});bC.displayName=j5;var wC="ToastAction",jC=m.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?n.jsx(SC,{altText:r,asChild:!0,children:n.jsx(Ey,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wC}\`. Expected non-empty \`string\`.`),null)});jC.displayName=wC;var NC="ToastClose",Ey=m.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,i=v5(NC,r);return n.jsx(SC,{asChild:!0,children:n.jsx(rt.button,{type:"button",...s,ref:e,onClick:Me(t.onClick,i.onClose)})})});Ey.displayName=NC;var SC=m.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...i}=t;return n.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:e})});function CC(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),S5(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CC(s))}}),e}function Rh(t,e,r,{discrete:s}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),s?Cy(i,a):i.dispatchEvent(a)}var wj=(t,e,r=0)=>{const s=Math.abs(t.x),i=Math.abs(t.y),a=s>i;return e==="left"||e==="right"?a&&s>r:!a&&i>r};function N5(t=()=>{}){const e=rs(t);ln(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function S5(t){return t.nodeType===t.ELEMENT_NODE}function C5(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ep(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var T5=mC,TC=gC,kC=vC,EC=yC,PC=bC,_C=jC,DC=Ey;function MC(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=MC(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function AC(){for(var t,e,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=MC(t))&&(s&&(s+=" "),s+=e);return s}const jj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nj=AC,l0=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return Nj(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(l=>{const d=r==null?void 0:r[l],h=a==null?void 0:a[l];if(d===null)return null;const f=jj(d)||jj(h);return i[l][f]}),c=r&&Object.entries(r).reduce((l,d)=>{let[h,f]=d;return f===void 0||(l[h]=f),l},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((l,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[g,N]=v;return Array.isArray(N)?N.includes({...a,...c}[g]):{...a,...c}[g]===N})?[...l,h,f]:l},[]);return Nj(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),qe=(t,e)=>{const r=m.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,...l},d)=>m.createElement("svg",{ref:d,...k5,width:i,height:i,stroke:s,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${E5(t)}`,c].join(" "),...l},[...e.map(([h,f])=>m.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=qe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=qe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=qe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=qe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=qe("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=qe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=qe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=qe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=qe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=qe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=qe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_y="-",K5=t=>{const e=q5(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const c=o.split(_y);return c[0]===""&&c.length!==1&&c.shift(),LC(c,e)||G5(o)},getConflictingClassGroupIds:(o,c)=>{const u=r[o]||[];return c&&s[o]?[...u,...s[o]]:u}}},LC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?LC(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(_y);return(o=e.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},Ej=/^\[(.+)\]$/,G5=t=>{if(Ej.test(t)){const e=Ej.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},q5=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return X5(Object.entries(t.classGroups),r).forEach(([a,o])=>{Fx(o,s,a,e)}),s},Fx=(t,e,r,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Pj(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Q5(i)){Fx(i(s),e,r,s);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Fx(o,Pj(e,a),r,s)})})},Pj=(t,e)=>{let r=t;return e.split(_y).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Q5=t=>t.isThemeGetter,X5=(t,e)=>e?t.map(([r,s])=>{const i=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[e+o,c])):a);return[r,i]}):t,Y5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},FC="!",J5=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,i=e[0],a=e.length,o=c=>{const u=[];let l=0,d=0,h;for(let N=0;N<c.length;N++){let b=c[N];if(l===0){if(b===i&&(s||c.slice(N,N+a)===e)){u.push(c.slice(d,N)),d=N+a;continue}if(b==="/"){h=N;continue}}b==="["?l++:b==="]"&&l--}const f=u.length===0?c:c.substring(d),p=f.startsWith(FC),v=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?c=>r({className:c,parseClassName:o}):o},Z5=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},eO=t=>({cache:Y5(t.cacheSize),parseClassName:J5(t),...K5(t)}),tO=/\s+/,rO=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(tO);let c="";for(let u=o.length-1;u>=0;u-=1){const l=o[u],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(l);let v=!!p,g=s(v?f.substring(0,p):f);if(!g){if(!v){c=l+(c.length>0?" "+c:c);continue}if(g=s(f),!g){c=l+(c.length>0?" "+c:c);continue}v=!1}const N=Z5(d).join(":"),b=h?N+FC:N,x=b+g;if(a.includes(x))continue;a.push(x);const y=i(g,v);for(let w=0;w<y.length;++w){const C=y[w];a.push(b+C)}c=l+(c.length>0?" "+c:c)}return c};function nO(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=UC(e))&&(s&&(s+=" "),s+=r);return s}const UC=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=UC(t[s]))&&(r&&(r+=" "),r+=e);return r};function sO(t,...e){let r,s,i,a=o;function o(u){const l=e.reduce((d,h)=>h(d),t());return r=eO(l),s=r.cache.get,i=r.cache.set,a=c,c(u)}function c(u){const l=s(u);if(l)return l;const d=rO(u,r);return i(u,d),d}return function(){return a(nO.apply(null,arguments))}}const or=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},BC=/^\[(?:([a-z-]+):)?(.+)\]$/i,iO=/^\d+\/\d+$/,aO=new Set(["px","full","screen"]),oO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=t=>gc(t)||aO.has(t)||iO.test(t),ba=t=>au(t,"length",yO),gc=t=>!!t&&!Number.isNaN(Number(t)),Dp=t=>au(t,"number",gc),Pu=t=>!!t&&Number.isInteger(Number(t)),hO=t=>t.endsWith("%")&&gc(t.slice(0,-1)),ft=t=>BC.test(t),wa=t=>oO.test(t),fO=new Set(["length","size","percentage"]),mO=t=>au(t,fO,zC),pO=t=>au(t,"position",zC),gO=new Set(["image","url"]),xO=t=>au(t,gO,wO),vO=t=>au(t,"",bO),_u=()=>!0,au=(t,e,r)=>{const s=BC.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},yO=t=>lO.test(t)&&!cO.test(t),zC=()=>!1,bO=t=>uO.test(t),wO=t=>dO.test(t),jO=()=>{const t=or("colors"),e=or("spacing"),r=or("blur"),s=or("brightness"),i=or("borderColor"),a=or("borderRadius"),o=or("borderSpacing"),c=or("borderWidth"),u=or("contrast"),l=or("grayscale"),d=or("hueRotate"),h=or("invert"),f=or("gap"),p=or("gradientColorStops"),v=or("gradientColorStopPositions"),g=or("inset"),N=or("margin"),b=or("opacity"),x=or("padding"),y=or("saturate"),w=or("scale"),C=or("sepia"),k=or("skew"),S=or("space"),E=or("translate"),_=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ft,e],F=()=>[ft,e],I=()=>["",Wi,ba],D=()=>["auto",gc,ft],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ft],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[gc,ft];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[Wi,ba],blur:["none","",wa,ft],brightness:Q(),borderColor:[t],borderRadius:["none","","full",wa,ft],borderSpacing:F(),borderWidth:I(),contrast:Q(),grayscale:M(),hueRotate:Q(),invert:M(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[hO,ba],inset:W(),margin:W(),opacity:Q(),padding:F(),saturate:Q(),scale:Q(),sepia:M(),skew:Q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",ft]}],container:["container"],columns:[{columns:[wa]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ft]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pu,ft]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ft]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Pu,ft]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",Pu,ft]},ft]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[Pu,ft]},ft]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ft]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ft,e]}],"min-w":[{"min-w":[ft,e,"min","max","fit"]}],"max-w":[{"max-w":[ft,e,"none","full","min","max","fit","prose",{screen:[wa]},wa]}],h:[{h:[ft,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ft,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ft,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wa,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ft]}],"line-clamp":[{"line-clamp":["none",gc,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,ft]}],"list-image":[{"list-image":["none",ft]}],"list-style-type":[{list:["none","disc","decimal",ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,ba]}],"underline-offset":[{"underline-offset":["auto",Wi,ft]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),pO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Wi,ft]}],"outline-w":[{outline:[Wi,ba]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wi,ba]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wa,vO]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",wa,ft]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ft]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ft]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pu,ft]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ft]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wi,ba,Dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NO=sO(jO);function Je(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return NO(AC(t))}var ou=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},SO=T5,$C=m.forwardRef(function(t,e){var r=t.className,s=ou(t,["className"]);return n.jsx(TC,{ref:e,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...s})});$C.displayName=TC.displayName;var CO=l0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WC=m.forwardRef(function(t,e){var r=t.className,s=t.variant,i=ou(t,["className","variant"]);return n.jsx(kC,{ref:e,className:Je(CO({variant:s}),r),...i})});WC.displayName=kC.displayName;var TO=m.forwardRef(function(t,e){var r=t.className,s=ou(t,["className"]);return n.jsx(_C,{ref:e,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...s})});TO.displayName=_C.displayName;var VC=m.forwardRef(function(t,e){var r=t.className,s=ou(t,["className"]);return n.jsx(DC,{ref:e,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...s,children:n.jsx(hl,{className:"h-4 w-4"})})});VC.displayName=DC.displayName;var HC=m.forwardRef(function(t,e){var r=t.className,s=ou(t,["className"]);return n.jsx(EC,{ref:e,className:Je("text-sm font-semibold",r),...s})});HC.displayName=EC.displayName;var KC=m.forwardRef(function(t,e){var r=t.className,s=ou(t,["className"]);return n.jsx(PC,{ref:e,className:Je("text-sm opacity-90",r),...s})});KC.displayName=PC.displayName;var kO=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};function EO(){var t=Cn().toasts;return n.jsxs(SO,{children:[t.map(function(e){var r=e.id,s=e.title,i=e.description,a=e.action,o=kO(e,["id","title","description","action"]);return n.jsxs(WC,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(HC,{children:s}),i&&n.jsx(KC,{children:i})]}),a,n.jsx(VC,{})]},r)}),n.jsx($C,{})]})}var PO=Tv[" useId ".trim().toString()]||(()=>{}),_O=0;function si(t){const[e,r]=m.useState(PO());return ln(()=>{r(s=>s??String(_O++))},[t]),e?`radix-${e}`:""}const DO=["top","right","bottom","left"],uo=Math.min,us=Math.max,um=Math.round,Lh=Math.floor,Ri=t=>({x:t,y:t}),MO={left:"right",right:"left",bottom:"top",top:"bottom"},AO={start:"end",end:"start"};function Ux(t,e,r){return us(t,uo(e,r))}function fa(t,e){return typeof t=="function"?t(e):t}function ma(t){return t.split("-")[0]}function lu(t){return t.split("-")[1]}function Dy(t){return t==="x"?"y":"x"}function My(t){return t==="y"?"height":"width"}const OO=new Set(["top","bottom"]);function _i(t){return OO.has(ma(t))?"y":"x"}function Ay(t){return Dy(_i(t))}function RO(t,e,r){r===void 0&&(r=!1);const s=lu(t),i=Ay(t),a=My(i);let o=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=dm(o)),[o,dm(o)]}function IO(t){const e=dm(t);return[Bx(t),e,Bx(e)]}function Bx(t){return t.replace(/start|end/g,e=>AO[e])}const _j=["left","right"],Dj=["right","left"],LO=["top","bottom"],FO=["bottom","top"];function UO(t,e,r){switch(t){case"top":case"bottom":return r?e?Dj:_j:e?_j:Dj;case"left":case"right":return e?LO:FO;default:return[]}}function BO(t,e,r,s){const i=lu(t);let a=UO(ma(t),r==="start",s);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Bx)))),a}function dm(t){return t.replace(/left|right|bottom|top/g,e=>MO[e])}function zO(t){return{top:0,right:0,bottom:0,left:0,...t}}function GC(t){return typeof t!="number"?zO(t):{top:t,right:t,bottom:t,left:t}}function hm(t){const{x:e,y:r,width:s,height:i}=t;return{width:s,height:i,top:r,left:e,right:e+s,bottom:r+i,x:e,y:r}}function Mj(t,e,r){let{reference:s,floating:i}=t;const a=_i(e),o=Ay(e),c=My(o),u=ma(e),l=a==="y",d=s.x+s.width/2-i.width/2,h=s.y+s.height/2-i.height/2,f=s[c]/2-i[c]/2;let p;switch(u){case"top":p={x:d,y:s.y-i.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-i.width,y:h};break;default:p={x:s.x,y:s.y}}switch(lu(e)){case"start":p[o]-=f*(r&&l?-1:1);break;case"end":p[o]+=f*(r&&l?-1:1);break}return p}const $O=async(t,e,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,c=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let l=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Mj(l,s,u),f=s,p={},v=0;for(let g=0;g<c.length;g++){const{name:N,fn:b}=c[g],{x,y,data:w,reset:C}=await b({x:d,y:h,initialPlacement:s,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:t,floating:e}});d=x??d,h=y??h,p={...p,[N]:{...p[N],...w}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(l=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:d,y:h}=Mj(l,f,u)),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function _d(t,e){var r;e===void 0&&(e={});const{x:s,y:i,platform:a,rects:o,elements:c,strategy:u}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=fa(e,t),v=GC(p),N=c[f?h==="floating"?"reference":"floating":h],b=hm(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(N)))==null||r?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:l,rootBoundary:d,strategy:u})),x=h==="floating"?{x:s,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),w=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},C=hm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:y,strategy:u}):x);return{top:(b.top-C.top+v.top)/w.y,bottom:(C.bottom-b.bottom+v.bottom)/w.y,left:(b.left-C.left+v.left)/w.x,right:(C.right-b.right+v.right)/w.x}}const WO=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:i,rects:a,platform:o,elements:c,middlewareData:u}=e,{element:l,padding:d=0}=fa(t,e)||{};if(l==null)return{};const h=GC(d),f={x:r,y:s},p=Ay(i),v=My(p),g=await o.getDimensions(l),N=p==="y",b=N?"top":"left",x=N?"bottom":"right",y=N?"clientHeight":"clientWidth",w=a.reference[v]+a.reference[p]-f[p]-a.floating[v],C=f[p]-a.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let S=k?k[y]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=c.floating[y]||a.floating[v]);const E=w/2-C/2,_=S/2-g[v]/2-1,P=uo(h[b],_),W=uo(h[x],_),F=P,I=S-g[v]-W,D=S/2-g[v]/2+E,q=Ux(F,D,I),V=!u.arrow&&lu(i)!=null&&D!==q&&a.reference[v]/2-(D<F?P:W)-g[v]/2<0,re=V?D<F?D-F:D-I:0;return{[p]:f[p]+re,data:{[p]:q,centerOffset:D-q-re,...V&&{alignmentOffset:re}},reset:V}}}),VO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:u,elements:l}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...N}=fa(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=ma(i),x=_i(c),y=ma(c)===c,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),C=f||(y||!g?[dm(c)]:IO(c)),k=v!=="none";!f&&k&&C.push(...BO(c,g,v,w));const S=[c,...C],E=await _d(e,N),_=[];let P=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&_.push(E[b]),h){const D=RO(i,o,w);_.push(E[D[0]],E[D[1]])}if(P=[...P,{placement:i,overflows:_}],!_.every(D=>D<=0)){var W,F;const D=(((W=a.flip)==null?void 0:W.index)||0)+1,q=S[D];if(q&&(!(h==="alignment"?x!==_i(q):!1)||P.every(L=>_i(L.placement)===x?L.overflows[0]>0:!0)))return{data:{index:D,overflows:P},reset:{placement:q}};let V=(F=P.filter(re=>re.overflows[0]<=0).sort((re,L)=>re.overflows[1]-L.overflows[1])[0])==null?void 0:F.placement;if(!V)switch(p){case"bestFit":{var I;const re=(I=P.filter(L=>{if(k){const M=_i(L.placement);return M===x||M==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(M=>M>0).reduce((M,U)=>M+U,0)]).sort((L,M)=>L[1]-M[1])[0])==null?void 0:I[0];re&&(V=re);break}case"initialPlacement":V=c;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function Aj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Oj(t){return DO.some(e=>t[e]>=0)}const HO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...i}=fa(t,e);switch(s){case"referenceHidden":{const a=await _d(e,{...i,elementContext:"reference"}),o=Aj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Oj(o)}}}case"escaped":{const a=await _d(e,{...i,altBoundary:!0}),o=Aj(a,r.floating);return{data:{escapedOffsets:o,escaped:Oj(o)}}}default:return{}}}}},qC=new Set(["left","top"]);async function KO(t,e){const{placement:r,platform:s,elements:i}=t,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),o=ma(r),c=lu(r),u=_i(r)==="y",l=qC.has(o)?-1:1,d=a&&u?-1:1,h=fa(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),u?{x:p*d,y:f*l}:{x:f*l,y:p*d}}const GO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:i,y:a,placement:o,middlewareData:c}=e,u=await KO(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},qO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:N=>{let{x:b,y:x}=N;return{x:b,y:x}}},...u}=fa(t,e),l={x:r,y:s},d=await _d(e,u),h=_i(ma(i)),f=Dy(h);let p=l[f],v=l[h];if(a){const N=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=p+d[N],y=p-d[b];p=Ux(x,p,y)}if(o){const N=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=v+d[N],y=v-d[b];v=Ux(x,v,y)}const g=c.fn({...e,[f]:p,[h]:v});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[f]:a,[h]:o}}}}}},QO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=fa(t,e),d={x:r,y:s},h=_i(i),f=Dy(h);let p=d[f],v=d[h];const g=fa(c,e),N=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const y=f==="y"?"height":"width",w=a.reference[f]-a.floating[y]+N.mainAxis,C=a.reference[f]+a.reference[y]-N.mainAxis;p<w?p=w:p>C&&(p=C)}if(l){var b,x;const y=f==="y"?"width":"height",w=qC.has(ma(i)),C=a.reference[h]-a.floating[y]+(w&&((b=o.offset)==null?void 0:b[h])||0)+(w?0:N.crossAxis),k=a.reference[h]+a.reference[y]+(w?0:((x=o.offset)==null?void 0:x[h])||0)-(w?N.crossAxis:0);v<C?v=C:v>k&&(v=k)}return{[f]:p,[h]:v}}}},XO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:u=()=>{},...l}=fa(t,e),d=await _d(e,l),h=ma(i),f=lu(i),p=_i(i)==="y",{width:v,height:g}=a.floating;let N,b;h==="top"||h==="bottom"?(N=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=h,N=f==="end"?"top":"bottom");const x=g-d.top-d.bottom,y=v-d.left-d.right,w=uo(g-d[N],x),C=uo(v-d[b],y),k=!e.middlewareData.shift;let S=w,E=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(S=x),k&&!f){const P=us(d.left,0),W=us(d.right,0),F=us(d.top,0),I=us(d.bottom,0);p?E=v-2*(P!==0||W!==0?P+W:us(d.left,d.right)):S=g-2*(F!==0||I!==0?F+I:us(d.top,d.bottom))}await u({...e,availableWidth:E,availableHeight:S});const _=await o.getDimensions(c.floating);return v!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function u0(){return typeof window<"u"}function cu(t){return QC(t)?(t.nodeName||"").toLowerCase():"#document"}function ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fi(t){var e;return(e=(QC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function QC(t){return u0()?t instanceof Node||t instanceof ms(t).Node:!1}function ai(t){return u0()?t instanceof Element||t instanceof ms(t).Element:!1}function Li(t){return u0()?t instanceof HTMLElement||t instanceof ms(t).HTMLElement:!1}function Rj(t){return!u0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ms(t).ShadowRoot}const YO=new Set(["inline","contents"]);function nh(t){const{overflow:e,overflowX:r,overflowY:s,display:i}=oi(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!YO.has(i)}const JO=new Set(["table","td","th"]);function ZO(t){return JO.has(cu(t))}const eR=[":popover-open",":modal"];function d0(t){return eR.some(e=>{try{return t.matches(e)}catch{return!1}})}const tR=["transform","translate","scale","rotate","perspective"],rR=["transform","translate","scale","rotate","perspective","filter"],nR=["paint","layout","strict","content"];function Oy(t){const e=Ry(),r=ai(t)?oi(t):t;return tR.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||rR.some(s=>(r.willChange||"").includes(s))||nR.some(s=>(r.contain||"").includes(s))}function sR(t){let e=ho(t);for(;Li(e)&&!zc(e);){if(Oy(e))return e;if(d0(e))return null;e=ho(e)}return null}function Ry(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iR=new Set(["html","body","#document"]);function zc(t){return iR.has(cu(t))}function oi(t){return ms(t).getComputedStyle(t)}function h0(t){return ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ho(t){if(cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rj(t)&&t.host||Fi(t);return Rj(e)?e.host:e}function XC(t){const e=ho(t);return zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Li(e)&&nh(e)?e:XC(e)}function Dd(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=XC(t),a=i===((s=t.ownerDocument)==null?void 0:s.body),o=ms(i);if(a){const c=zx(o);return e.concat(o,o.visualViewport||[],nh(i)?i:[],c&&r?Dd(c):[])}return e.concat(i,Dd(i,[],r))}function zx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YC(t){const e=oi(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Li(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:s,c=um(r)!==a||um(s)!==o;return c&&(r=a,s=o),{width:r,height:s,$:c}}function Iy(t){return ai(t)?t:t.contextElement}function xc(t){const e=Iy(t);if(!Li(e))return Ri(1);const r=e.getBoundingClientRect(),{width:s,height:i,$:a}=YC(e);let o=(a?um(r.width):r.width)/s,c=(a?um(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const aR=Ri(0);function JC(t){const e=ms(t);return!Ry()||!e.visualViewport?aR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oR(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ms(t)?!1:e}function fl(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=Iy(t);let o=Ri(1);e&&(s?ai(s)&&(o=xc(s)):o=xc(t));const c=oR(a,r,s)?JC(a):Ri(0);let u=(i.left+c.x)/o.x,l=(i.top+c.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const f=ms(a),p=s&&ai(s)?ms(s):s;let v=f,g=zx(v);for(;g&&s&&p!==v;){const N=xc(g),b=g.getBoundingClientRect(),x=oi(g),y=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*N.x,w=b.top+(g.clientTop+parseFloat(x.paddingTop))*N.y;u*=N.x,l*=N.y,d*=N.x,h*=N.y,u+=y,l+=w,v=ms(g),g=zx(v)}}return hm({width:d,height:h,x:u,y:l})}function f0(t,e){const r=h0(t).scrollLeft;return e?e.left+r:fl(Fi(t)).left+r}function ZC(t,e){const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-f0(t,r),i=r.top+e.scrollTop;return{x:s,y:i}}function lR(t){let{elements:e,rect:r,offsetParent:s,strategy:i}=t;const a=i==="fixed",o=Fi(s),c=e?d0(e.floating):!1;if(s===o||c&&a)return r;let u={scrollLeft:0,scrollTop:0},l=Ri(1);const d=Ri(0),h=Li(s);if((h||!h&&!a)&&((cu(s)!=="body"||nh(o))&&(u=h0(s)),Li(s))){const p=fl(s);l=xc(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const f=o&&!h&&!a?ZC(o,u):Ri(0);return{width:r.width*l.x,height:r.height*l.y,x:r.x*l.x-u.scrollLeft*l.x+d.x+f.x,y:r.y*l.y-u.scrollTop*l.y+d.y+f.y}}function cR(t){return Array.from(t.getClientRects())}function uR(t){const e=Fi(t),r=h0(t),s=t.ownerDocument.body,i=us(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=us(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+f0(t);const c=-r.scrollTop;return oi(s).direction==="rtl"&&(o+=us(e.clientWidth,s.clientWidth)-i),{width:i,height:a,x:o,y:c}}const Ij=25;function dR(t,e){const r=ms(t),s=Fi(t),i=r.visualViewport;let a=s.clientWidth,o=s.clientHeight,c=0,u=0;if(i){a=i.width,o=i.height;const d=Ry();(!d||d&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const l=f0(s);if(l<=0){const d=s.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(s.clientWidth-h.clientWidth-p);v<=Ij&&(a-=v)}else l<=Ij&&(a+=l);return{width:a,height:o,x:c,y:u}}const hR=new Set(["absolute","fixed"]);function fR(t,e){const r=fl(t,!0,e==="fixed"),s=r.top+t.clientTop,i=r.left+t.clientLeft,a=Li(t)?xc(t):Ri(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,u=i*a.x,l=s*a.y;return{width:o,height:c,x:u,y:l}}function Lj(t,e,r){let s;if(e==="viewport")s=dR(t,r);else if(e==="document")s=uR(Fi(t));else if(ai(e))s=fR(e,r);else{const i=JC(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hm(s)}function eT(t,e){const r=ho(t);return r===e||!ai(r)||zc(r)?!1:oi(r).position==="fixed"||eT(r,e)}function mR(t,e){const r=e.get(t);if(r)return r;let s=Dd(t,[],!1).filter(c=>ai(c)&&cu(c)!=="body"),i=null;const a=oi(t).position==="fixed";let o=a?ho(t):t;for(;ai(o)&&!zc(o);){const c=oi(o),u=Oy(o);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&hR.has(i.position)||nh(o)&&!u&&eT(t,o))?s=s.filter(d=>d!==o):i=c,o=ho(o)}return e.set(t,s),s}function pR(t){let{element:e,boundary:r,rootBoundary:s,strategy:i}=t;const o=[...r==="clippingAncestors"?d0(e)?[]:mR(e,this._c):[].concat(r),s],c=o[0],u=o.reduce((l,d)=>{const h=Lj(e,d,i);return l.top=us(h.top,l.top),l.right=uo(h.right,l.right),l.bottom=uo(h.bottom,l.bottom),l.left=us(h.left,l.left),l},Lj(e,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function gR(t){const{width:e,height:r}=YC(t);return{width:e,height:r}}function xR(t,e,r){const s=Li(e),i=Fi(e),a=r==="fixed",o=fl(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const u=Ri(0);function l(){u.x=f0(i)}if(s||!s&&!a)if((cu(e)!=="body"||nh(i))&&(c=h0(e)),s){const p=fl(e,!0,a,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&l();a&&!s&&i&&l();const d=i&&!s&&!a?ZC(i,c):Ri(0),h=o.left+c.scrollLeft-u.x-d.x,f=o.top+c.scrollTop-u.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Mp(t){return oi(t).position==="static"}function Fj(t,e){if(!Li(t)||oi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Fi(t)===r&&(r=r.ownerDocument.body),r}function tT(t,e){const r=ms(t);if(d0(t))return r;if(!Li(t)){let i=ho(t);for(;i&&!zc(i);){if(ai(i)&&!Mp(i))return i;i=ho(i)}return r}let s=Fj(t,e);for(;s&&ZO(s)&&Mp(s);)s=Fj(s,e);return s&&zc(s)&&Mp(s)&&!Oy(s)?r:s||sR(t)||r}const vR=async function(t){const e=this.getOffsetParent||tT,r=this.getDimensions,s=await r(t.floating);return{reference:xR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yR(t){return oi(t).direction==="rtl"}const bR={convertOffsetParentRelativeRectToViewportRelativeRect:lR,getDocumentElement:Fi,getClippingRect:pR,getOffsetParent:tT,getElementRects:vR,getClientRects:cR,getDimensions:gR,getScale:xc,isElement:ai,isRTL:yR};function rT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wR(t,e){let r=null,s;const i=Fi(t);function a(){var c;clearTimeout(s),(c=r)==null||c.disconnect(),r=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const l=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=l;if(c||e(),!f||!p)return;const v=Lh(h),g=Lh(i.clientWidth-(d+f)),N=Lh(i.clientHeight-(h+p)),b=Lh(d),y={rootMargin:-v+"px "+-g+"px "+-N+"px "+-b+"px",threshold:us(0,uo(1,u))||1};let w=!0;function C(k){const S=k[0].intersectionRatio;if(S!==u){if(!w)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!rT(l,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,y)}r.observe(t)}return o(!0),a}function jR(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,l=Iy(t),d=i||a?[...l?Dd(l):[],...Dd(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const h=l&&c?wR(l,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),r()}),l&&!u&&p.observe(l),p.observe(e));let v,g=u?fl(t):null;u&&N();function N(){const b=fl(t);g&&!rT(g,b)&&r(),g=b,v=requestAnimationFrame(N)}return r(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,u&&cancelAnimationFrame(v)}}const NR=GO,SR=qO,CR=VO,TR=XO,kR=HO,Uj=WO,ER=QO,PR=(t,e,r)=>{const s=new Map,i={platform:bR,...r},a={...i.platform,_c:s};return $O(t,e,{...i,platform:a})};var _R=typeof document<"u",DR=function(){},kf=_R?m.useLayoutEffect:DR;function fm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!fm(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=r;s--!==0;){const a=i[s];if(!(a==="_owner"&&t.$$typeof)&&!fm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function nT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bj(t,e){const r=nT(t);return Math.round(e*r)/r}function Ap(t){const e=m.useRef(t);return kf(()=>{e.current=t}),e}function MR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:l}=t,[d,h]=m.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(s);fm(f,s)||p(s);const[v,g]=m.useState(null),[N,b]=m.useState(null),x=m.useCallback(L=>{L!==k.current&&(k.current=L,g(L))},[]),y=m.useCallback(L=>{L!==S.current&&(S.current=L,b(L))},[]),w=a||v,C=o||N,k=m.useRef(null),S=m.useRef(null),E=m.useRef(d),_=u!=null,P=Ap(u),W=Ap(i),F=Ap(l),I=m.useCallback(()=>{if(!k.current||!S.current)return;const L={placement:e,strategy:r,middleware:f};W.current&&(L.platform=W.current),PR(k.current,S.current,L).then(M=>{const U={...M,isPositioned:F.current!==!1};D.current&&!fm(E.current,U)&&(E.current=U,Sl.flushSync(()=>{h(U)}))})},[f,e,r,W,F]);kf(()=>{l===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[l]);const D=m.useRef(!1);kf(()=>(D.current=!0,()=>{D.current=!1}),[]),kf(()=>{if(w&&(k.current=w),C&&(S.current=C),w&&C){if(P.current)return P.current(w,C,I);I()}},[w,C,I,P,_]);const q=m.useMemo(()=>({reference:k,floating:S,setReference:x,setFloating:y}),[x,y]),V=m.useMemo(()=>({reference:w,floating:C}),[w,C]),re=m.useMemo(()=>{const L={position:r,left:0,top:0};if(!V.floating)return L;const M=Bj(V.floating,d.x),U=Bj(V.floating,d.y);return c?{...L,transform:"translate("+M+"px, "+U+"px)",...nT(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:U}},[r,c,V.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:q,elements:V,floatingStyles:re}),[d,I,q,V,re])}const AR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:i}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Uj({element:s.current,padding:i}).fn(r):{}:s?Uj({element:s,padding:i}).fn(r):{}}}},OR=(t,e)=>({...NR(t),options:[t,e]}),RR=(t,e)=>({...SR(t),options:[t,e]}),IR=(t,e)=>({...ER(t),options:[t,e]}),LR=(t,e)=>({...CR(t),options:[t,e]}),FR=(t,e)=>({...TR(t),options:[t,e]}),UR=(t,e)=>({...kR(t),options:[t,e]}),BR=(t,e)=>({...AR(t),options:[t,e]});var zR="Arrow",sT=m.forwardRef((t,e)=>{const{children:r,width:s=10,height:i=5,...a}=t;return n.jsx(rt.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});sT.displayName=zR;var $R=sT;function WR(t){const[e,r]=m.useState(void 0);return ln(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const u=a.borderBoxSize,l=Array.isArray(u)?u[0]:u;o=l.inlineSize,c=l.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Ly="Popper",[iT,uu]=Rs(Ly),[VR,aT]=iT(Ly),oT=t=>{const{__scopePopper:e,children:r}=t,[s,i]=m.useState(null);return n.jsx(VR,{scope:e,anchor:s,onAnchorChange:i,children:r})};oT.displayName=Ly;var lT="PopperAnchor",cT=m.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...i}=t,a=aT(lT,r),o=m.useRef(null),c=Bt(e,o),u=m.useRef(null);return m.useEffect(()=>{const l=u.current;u.current=(s==null?void 0:s.current)||o.current,l!==u.current&&a.onAnchorChange(u.current)}),s?null:n.jsx(rt.div,{...i,ref:c})});cT.displayName=lT;var Fy="PopperContent",[HR,KR]=iT(Fy),uT=m.forwardRef((t,e)=>{var B,se,G,Z,$,de;const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:l=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=t,N=aT(Fy,r),[b,x]=m.useState(null),y=Bt(e,Oe=>x(Oe)),[w,C]=m.useState(null),k=WR(w),S=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,_=s+(a!=="center"?"-"+a:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(l)?l:[l],F=W.length>0,I={padding:P,boundary:W.filter(qR),altBoundary:F},{refs:D,floatingStyles:q,placement:V,isPositioned:re,middlewareData:L}=MR({strategy:"fixed",placement:_,whileElementsMounted:(...Oe)=>jR(...Oe,{animationFrame:p==="always"}),elements:{reference:N.anchor},middleware:[OR({mainAxis:i+E,alignmentAxis:o}),u&&RR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?IR():void 0,...I}),u&&LR({...I}),FR({...I,apply:({elements:Oe,rects:ve,availableWidth:We,availableHeight:Ht})=>{const{width:ze,height:ke}=ve.reference,at=Oe.floating.style;at.setProperty("--radix-popper-available-width",`${We}px`),at.setProperty("--radix-popper-available-height",`${Ht}px`),at.setProperty("--radix-popper-anchor-width",`${ze}px`),at.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),w&&BR({element:w,padding:c}),QR({arrowWidth:S,arrowHeight:E}),f&&UR({strategy:"referenceHidden",...I})]}),[M,U]=fT(V),Q=rs(v);ln(()=>{re&&(Q==null||Q())},[re,Q]);const oe=(B=L.arrow)==null?void 0:B.x,Ne=(se=L.arrow)==null?void 0:se.y,H=((G=L.arrow)==null?void 0:G.centerOffset)!==0,[he,Ee]=m.useState();return ln(()=>{b&&Ee(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:re?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Z=L.transformOrigin)==null?void 0:Z.x,($=L.transformOrigin)==null?void 0:$.y].join(" "),...((de=L.hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(HR,{scope:r,placedSide:M,onArrowChange:C,arrowX:oe,arrowY:Ne,shouldHideArrow:H,children:n.jsx(rt.div,{"data-side":M,"data-align":U,...g,ref:y,style:{...g.style,animation:re?void 0:"none"}})})})});uT.displayName=Fy;var dT="PopperArrow",GR={top:"bottom",right:"left",bottom:"top",left:"right"},hT=m.forwardRef(function(e,r){const{__scopePopper:s,...i}=e,a=KR(dT,s),o=GR[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx($R,{...i,ref:r,style:{...i.style,display:"block"}})})});hT.displayName=dT;function qR(t){return t!==null}var QR=t=>({name:"transformOrigin",options:t,fn(e){var N,b,x;const{placement:r,rects:s,middlewareData:i}=e,o=((N=i.arrow)==null?void 0:N.centerOffset)!==0,c=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[l,d]=fT(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=i.arrow)==null?void 0:b.x)??0)+c/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+u/2;let v="",g="";return l==="bottom"?(v=o?h:`${f}px`,g=`${-u}px`):l==="top"?(v=o?h:`${f}px`,g=`${s.floating.height+u}px`):l==="right"?(v=`${-u}px`,g=o?h:`${p}px`):l==="left"&&(v=`${s.floating.width+u}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function fT(t){const[e,r="center"]=t.split("-");return[e,r]}var mT=oT,Uy=cT,By=uT,zy=hT,[m0]=Rs("Tooltip",[uu]),$y=uu(),pT="TooltipProvider",XR=700,zj="tooltip.open",[YR,gT]=m0(pT),xT=t=>{const{__scopeTooltip:e,delayDuration:r=XR,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=t,o=m.useRef(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),n.jsx(YR,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(l=>{c.current=l},[]),disableHoverableContent:i,children:a})};xT.displayName=pT;var vT="Tooltip",[EW,p0]=m0(vT),$x="TooltipTrigger",JR=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,i=p0($x,r),a=gT($x,r),o=$y(r),c=m.useRef(null),u=Bt(e,c,i.onTriggerChange),l=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>l.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Uy,{asChild:!0,...o,children:n.jsx(rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:u,onPointerMove:Me(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Me(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Me(t.onPointerDown,()=>{i.open&&i.onClose(),l.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Me(t.onFocus,()=>{l.current||i.onOpen()}),onBlur:Me(t.onBlur,i.onClose),onClick:Me(t.onClick,i.onClose)})})});JR.displayName=$x;var ZR="TooltipPortal",[PW,e6]=m0(ZR,{forceMount:void 0}),$c="TooltipContent",yT=m.forwardRef((t,e)=>{const r=e6($c,t.__scopeTooltip),{forceMount:s=r.forceMount,side:i="top",...a}=t,o=p0($c,t.__scopeTooltip);return n.jsx(Is,{present:s||o.open,children:o.disableHoverableContent?n.jsx(bT,{side:i,...a,ref:e}):n.jsx(t6,{side:i,...a,ref:e})})}),t6=m.forwardRef((t,e)=>{const r=p0($c,t.__scopeTooltip),s=gT($c,t.__scopeTooltip),i=m.useRef(null),a=Bt(e,i),[o,c]=m.useState(null),{trigger:u,onClose:l}=r,d=i.current,{onPointerInTransitChange:h}=s,f=m.useCallback(()=>{c(null),h(!1)},[h]),p=m.useCallback((v,g)=>{const N=v.currentTarget,b={x:v.clientX,y:v.clientY},x=a6(b,N.getBoundingClientRect()),y=o6(b,x),w=l6(g.getBoundingClientRect()),C=u6([...y,...w]);c(C),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(u&&d){const v=N=>p(N,d),g=N=>p(N,u);return u.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[u,d,p,f]),m.useEffect(()=>{if(o){const v=g=>{const N=g.target,b={x:g.clientX,y:g.clientY},x=(u==null?void 0:u.contains(N))||(d==null?void 0:d.contains(N)),y=!c6(b,o);x?f():y&&(f(),l())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,d,o,l,f]),n.jsx(bT,{...t,ref:a})}),[r6,n6]=m0(vT,{isInside:!1}),s6=BA("TooltipContent"),bT=m.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=t,u=p0($c,r),l=$y(r),{onClose:d}=u;return m.useEffect(()=>(document.addEventListener(zj,d),()=>document.removeEventListener(zj,d)),[d]),m.useEffect(()=>{if(u.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(u.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,d]),n.jsx(su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:n.jsxs(By,{"data-state":u.stateAttribute,...l,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(s6,{children:s}),n.jsx(r6,{scope:r,isInside:!0,children:n.jsx(l5,{id:u.contentId,role:"tooltip",children:i||s})})]})})});yT.displayName=$c;var wT="TooltipArrow",i6=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,i=$y(r);return n6(wT,r).isInside?null:n.jsx(zy,{...i,...s,ref:e})});i6.displayName=wT;function a6(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,i,a)){case a:return"left";case i:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function o6(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function l6(t){const{top:e,right:r,bottom:s,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:s},{x:i,y:s}]}function c6(t,e){const{x:r,y:s}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],u=e[o],l=c.x,d=c.y,h=u.x,f=u.y;d>s!=f>s&&r<(h-l)*(s-d)/(f-d)+l&&(i=!i)}return i}function u6(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),d6(e)}function d6(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var h6=xT,jT=yT,f6=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},m6=h6,p6=m.forwardRef(function(t,e){var r=t.className,s=t.sideOffset,i=s===void 0?4:s,a=f6(t,["className","sideOffset"]);return n.jsx(jT,{ref:e,sideOffset:i,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...a})});p6.displayName=jT.displayName;var Fh=768;function Ui(){var t=m.useState(function(){return typeof window<"u"?window.innerWidth<Fh:!1}),e=t[0],r=t[1];return m.useEffect(function(){var s=window.matchMedia("(max-width: ".concat(Fh-1,"px)")),i=function(){r(window.innerWidth<Fh)};return s.addEventListener("change",i),r(window.innerWidth<Fh),function(){return s.removeEventListener("change",i)}},[]),e}var g6=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},x6=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function v6(){var t=this,e=m.useState(!1),r=e[0],s=e[1],i=m.useState(null),a=i[0],o=i[1],c=m.useRef(),u=m.useState(null);u[0];var l=u[1],d=m.useCallback(function(){try{var g=localStorage.getItem("user");if(g)try{var N=JSON.parse(g);l(N.id),console.log(" POLLING: Starting polling for user:",N.id)}catch(b){console.error(" POLLING: Failed to parse user data:",b)}s(!0),console.log(" POLLING: Connected - polling started"),c.current=setInterval(function(){return g6(t,void 0,void 0,function(){var b,x;return x6(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,fetch("/api/health")];case 1:return b=y.sent(),b.ok&&o({type:"keep_alive",data:{timestamp:new Date().toISOString()}}),[3,3];case 2:return x=y.sent(),console.error(" POLLING: Error fetching updates:",x),[3,3];case 3:return[2]}})})},5e3)}catch(b){console.error(" POLLING: Failed to start polling:",b),s(!1)}},[]),h=m.useCallback(function(){c.current&&clearInterval(c.current),s(!1),console.log(" POLLING: Stopped")},[]),f=m.useCallback(function(g){console.log(" POLLING: Message would be sent:",g)},[]),p=m.useCallback(function(g){console.log(" POLLING: Subscribe to symbols:",g)},[]),v=m.useCallback(function(g){console.log(" POLLING: Unsubscribe from symbols:",g)},[]);return m.useEffect(function(){return console.log(" POLLING: useEffect triggered - starting polling..."),d(),function(){console.log(" POLLING: Cleanup - stopping polling..."),h()}},[d,h]),{socket:null,connected:r,lastMessage:a,sendMessage:f,subscribe:p,unsubscribe:v,connect:d,disconnect:h}}function g0(){var t=m.useState(null),e=t[0],r=t[1],s=m.useState(!1),i=s[0],a=s[1],o=m.useState(null),c=o[0],u=o[1],l=m.useState(!1),d=l[0],h=l[1],f=v6(),p=m.useRef(0),v=m.useRef(),g=m.useRef(0),N=m.useCallback(function(){try{console.log(" WEBSOCKET DEBUG: ===== CONNECT FUNCTION CALLED =====");var C=window.location.protocol==="https:"?"wss:":"ws:",k=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",S=window.location.hostname.includes("vercel.app"),E=window.location.hostname.includes("railway.app"),_=window.location.hostname.includes("metachrome.io"),P=void 0,W="http://127.0.0.1:3005";if(W){var F=W.startsWith("https")?"wss:":"ws:",I=W.replace(/^https?:\/\//,"").replace(/^wss?:\/\//,"");P="".concat(F,"//").concat(I,"/ws"),console.log(" CUSTOM BACKEND: Using provided backend URL:",P)}else if(k)P="ws://127.0.0.1:3005/ws";else if(S||E||_){console.log(" Cloud deployment detected - WebSocket not available, using polling"),h(!0);return}else P="".concat(C,"//").concat(window.location.host,"/ws"),console.log(" CUSTOM DOMAIN DEPLOYMENT: Attempting WebSocket at:",P);if(p.current>0){console.log(" WEBSOCKET: Already attempted connection, using polling fallback"),h(!0);return}p.current++,console.log(" WEBSOCKET DEBUG: Attempting to connect to:",P);var D=new WebSocket(P);console.log(" WEBSOCKET DEBUG: WebSocket instance created"),D.onopen=function(){console.log(" WEBSOCKET DEBUG: WebSocket connected successfully!"),a(!0),g.current=0;var q=localStorage.getItem("authToken"),V=localStorage.getItem("user");if(V)try{var re=JSON.parse(V);console.log(" Sending user identification to WebSocket:",re.id),D.send(JSON.stringify({type:"identify_user",userId:re.id,username:re.username,authToken:q}))}catch(L){console.error(" Failed to parse user data:",L)}D.send(JSON.stringify({type:"ping"}))},D.onmessage=function(q){try{var V=JSON.parse(q.data);console.log(" WEBSOCKET: Received message:",V),u(V),V.type==="pong"?console.log(" WEBSOCKET: Received pong from server"):V.type==="trade_completed"?console.log(" WEBSOCKET: Trade completion message received:",V.data):V.type==="trigger_mobile_notification"?(console.log(" WEBSOCKET: Mobile notification trigger received:",V.data),typeof window<"u"&&window.testDirectNotification&&(console.log(" WEBSOCKET: Triggering direct notification via global function"),window.testDirectNotification())):console.log(" WEBSOCKET: Unknown message type:",V.type)}catch(re){console.error(" WEBSOCKET: Error parsing WebSocket message:",re)}},D.onclose=function(q){console.log(" WEBSOCKET DEBUG: WebSocket disconnected:",q.code,q.reason),a(!1),r(null)},D.onerror=function(q){console.error(" WEBSOCKET DEBUG: WebSocket error - falling back to polling"),a(!1)},r(D)}catch(q){console.error(" WEBSOCKET DEBUG: Failed to create WebSocket connection:",q)}},[]),b=m.useCallback(function(){v.current&&clearTimeout(v.current),e&&e.close(1e3,"Intentional disconnect")},[e]),x=m.useCallback(function(C){e&&e.readyState===WebSocket.OPEN?e.send(JSON.stringify(C)):console.warn("WebSocket is not connected. Message not sent:",C)},[e]),y=m.useCallback(function(C){x({type:"subscribe",data:{symbols:C}})},[x]),w=m.useCallback(function(C){x({type:"unsubscribe",data:{symbols:C}})},[x]);return m.useEffect(function(){return console.log(" WEBSOCKET HOOK: useEffect triggered"),N(),function(){console.log(" WEBSOCKET HOOK: Cleanup - disconnecting..."),b()}},[N,b]),m.useEffect(function(){if(d){console.log(" WEBSOCKET HOOK: Switching to polling fallback");return}},[d]),m.useEffect(function(){if(i){var C=setInterval(function(){x({type:"ping"})},3e4);return function(){return clearInterval(C)}}},[i,x]),d?{socket:null,connected:f.connected,lastMessage:f.lastMessage||c,sendMessage:f.sendMessage,subscribe:f.subscribe,unsubscribe:f.unsubscribe,connect:f.connect,disconnect:f.disconnect}:{socket:e,connected:i,lastMessage:c,sendMessage:x,subscribe:y,unsubscribe:w,connect:N,disconnect:b}}var Ml=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Al=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function en(){var t=this,e=ys(),r=g0().lastMessage,s=Mr({queryKey:["/api/auth"],queryFn:function(){return Ml(t,void 0,void 0,function(){var p,v,g,N,C,b,P,k,x,P,P,k,y,w,P,k,P,k,C,k,S,E,_,P,W,F,I;return Al(this,function(D){switch(D.label){case 0:if(p=new URLSearchParams(window.location.search),v=p.get("token"),g=p.get("user"),v&&g)return console.log(" Found OAuth token in URL, storing locally"),localStorage.setItem("authToken",v),localStorage.setItem("user",decodeURIComponent(g)),window.history.replaceState({},document.title,window.location.pathname),[2,JSON.parse(decodeURIComponent(g))];if(N=localStorage.getItem("authToken"),console.log(" useAuth queryFn - Auth token:",(N==null?void 0:N.substring(0,20))+"..."),!N)return console.log("No auth token found"),[2,null];D.label=1;case 1:if(D.trys.push([1,13,,14]),!N.startsWith("user-session-"))return[3,5];console.log("Found user session token, fetching fresh user data from API"),D.label=2;case 2:return D.trys.push([2,4,,5]),[4,Mn("GET","/api/auth/user")];case 3:return C=D.sent(),console.log("User session API response:",C),localStorage.setItem("user",JSON.stringify(C)),[2,C];case 4:return b=D.sent(),console.log("API call failed, falling back to stored user data:",b),P=localStorage.getItem("user"),P?(console.log("Using fallback stored user data"),[2,JSON.parse(P)]):[3,5];case 5:if(!N.startsWith("admin-session-"))return[3,9];console.log("Making API request for admin user"),D.label=6;case 6:return D.trys.push([6,8,,9]),[4,Mn("GET","/api/auth")];case 7:return k=D.sent(),console.log("Admin user query response:",k),[2,k];case 8:return x=D.sent(),console.log("Admin API call failed, falling back to stored user data:",x),P=localStorage.getItem("user"),P?(console.log("Using fallback stored user data"),[2,JSON.parse(P)]):[3,9];case 9:return N.startsWith("admin-token-")&&(console.log(" Found admin-token, using stored user data"),P=localStorage.getItem("user"),P)?(k=JSON.parse(P),console.log(" Admin-token user data:",k),[2,k]):N.startsWith("demo-token-")&&(y=localStorage.getItem("demoUser"),y)?(console.log("Found demo user in localStorage"),[2,JSON.parse(y)]):N==="mock-admin-token"&&(w=localStorage.getItem("user"),w)?(console.log("Found admin user in localStorage"),[2,JSON.parse(w)]):N&&(N.startsWith("mock-jwt-token")||N==="mock-jwt-token")&&(console.log("Found mock JWT token, using stored user data"),P=localStorage.getItem("user"),P)?(k=JSON.parse(P),console.log("Mock JWT user data:",k),[2,k]):N&&(N.startsWith("token_admin-001_")||N.startsWith("token_superadmin-001_"))&&(console.log(" Found admin token, using stored user data"),P=localStorage.getItem("user"),P)?(k=JSON.parse(P),console.log(" Admin token user data:",k),[2,k]):N&&!N.startsWith("demo-token-")&&!N.startsWith("admin-session-")&&!N.startsWith("admin-token-")&&!N.startsWith("mock-jwt-token")&&N!=="mock-jwt-token"&&!N.startsWith("token_admin-001_")&&!N.startsWith("token_superadmin-001_")?(console.log("Making API request for JWT token user"),[4,Mn("GET","/api/auth")]):[3,12];case 10:return C=D.sent(),[4,C.json()];case 11:return k=D.sent(),console.log("JWT user query response:",k),[2,k];case 12:return console.log(" No matching token pattern found"),[2,null];case 13:return S=D.sent(),console.log(" Auth query error:",S),E=((W=S==null?void 0:S.response)===null||W===void 0?void 0:W.status)===401||((F=S==null?void 0:S.message)===null||F===void 0?void 0:F.includes("401"))||((I=S==null?void 0:S.message)===null||I===void 0?void 0:I.includes("User not found")),E?(console.log(" 401 Unauthorized - User not found or deleted. Clearing auth data."),localStorage.removeItem("authToken"),localStorage.removeItem("demoUser"),localStorage.removeItem("user"),[2,null]):(_=localStorage.getItem("authToken"),_&&(_.startsWith("mock-jwt-token")||_==="mock-jwt-token"||_==="mock-admin-token"||_.startsWith("token_admin-001_")||_.startsWith("token_superadmin-001_")||_.startsWith("admin-token-")||_.startsWith("user-session-"))&&(P=localStorage.getItem("user"),P)?(console.log("Auth query failed, but using stored user data for token:",_.substring(0,20)+"..."),[2,JSON.parse(P)]):(S.message&&S.message.includes("401")&&(localStorage.removeItem("authToken"),localStorage.removeItem("demoUser"),localStorage.removeItem("user")),[2,null]));case 14:return[2]}})})},retry:!1,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),i=s.data,a=s.isLoading,o=s.error,c=gn({mutationFn:function(p){return Ml(t,void 0,void 0,function(){var v,g,N,b;return Al(this,function(x){switch(x.label){case 0:return x.trys.push([0,3,,4]),[4,Mn("POST","/api/auth",p)];case 1:return v=x.sent(),[4,v.json()];case 2:return g=x.sent(),[2,g];case 3:throw N=x.sent(),console.error("Login error:",N),b="Login failed",N.message&&(N.message.includes("401")?b="Invalid username or password":N.message.includes("400")?b="Username and password are required":N.message.includes("500")?b="Server error. Please try again later.":b=N.message),new Error(b);case 4:return[2]}})})},onSuccess:function(p){p.token&&localStorage.setItem("authToken",p.token),e.setQueryData(["/api/auth"],p.user),e.invalidateQueries({queryKey:["/api/auth"]})}}),u=gn({mutationFn:function(p){return Ml(t,void 0,void 0,function(){var v,g,N,b,x,y,w,C,k;return Al(this,function(S){switch(S.label){case 0:return S.trys.push([0,3,,4]),v="/api/admin/login",g=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",N=window.location.hostname.includes("vercel.app"),b=g?"http://127.0.0.1:3005":"",x="".concat(b).concat(v),console.log(" Login Debug Info:",{isLocal:g,isVercel:N,isProd:!0,hostname:window.location.hostname,endpoint:v,baseUrl:b,fullUrl:x}),[4,fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})];case 1:if(y=S.sent(),!y.ok)throw new Error("HTTP ".concat(y.status,": ").concat(y.statusText));return[4,y.json()];case 2:return w=S.sent(),[2,w];case 3:throw C=S.sent(),console.error("Admin login error:",C),k="Admin login failed",C.message&&(C.message.includes("401")?k="Invalid admin credentials":C.message.includes("403")?k="Access denied. Admin privileges required.":C.message.includes("400")?k="Username and password are required":C.message.includes("500")?k="Server error. Please try again later.":k=C.message),new Error(k);case 4:return[2]}})})},onSuccess:function(p){console.log(" Admin login success:",p),p.token&&localStorage.setItem("authToken",p.token),p.user&&localStorage.setItem("user",JSON.stringify(p.user)),e.setQueryData(["/api/auth"],p.user),e.invalidateQueries({queryKey:["/api/auth"]})}}),l=gn({mutationFn:function(){return Ml(t,void 0,void 0,function(){var p;return Al(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,Mn("POST","/api/auth?action=logout")];case 1:return v.sent(),[3,3];case 2:return p=v.sent(),console.warn("Logout API failed, continuing with local cleanup:",p),[3,3];case 3:return[2]}})})},onSuccess:function(){e.setQueryData(["/api/auth"],null),e.invalidateQueries({queryKey:["/api/auth"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"},onError:function(){e.setQueryData(["/api/auth/user"],null),e.invalidateQueries({queryKey:["/api/auth/user"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"}}),d=gn({mutationFn:function(p){return Ml(t,void 0,void 0,function(){var v,g,N,b,x,y;return Al(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,7]),[4,Mn("POST","/api/auth",p)];case 1:return v=w.sent(),[2,v];case 2:g=w.sent(),console.warn("Main auth endpoint failed, trying fallback:",g),w.label=3;case 3:return w.trys.push([3,5,,6]),[4,Mn("POST","/api/auth/user/register",{username:p.username,email:p.email,password:p.password})];case 4:return N=w.sent(),b=N,(p.firstName||p.lastName)&&console.warn("Note: firstName and lastName were not saved due to fallback endpoint limitations"),[2,b];case 5:throw x=w.sent(),console.error("Both registration endpoints failed:",x),y=(x==null?void 0:x.message)||(x==null?void 0:x.error)||"Registration failed. Please try again.",new Error(y);case 6:return[3,7];case 7:return[2]}})})},onSuccess:function(p){p.token&&localStorage.setItem("authToken",p.token),p.user&&p.token&&p.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(p.user)),e.setQueryData(["/api/auth"],p.user),e.invalidateQueries({queryKey:["/api/auth"]})}}),h=gn({mutationFn:function(p){return Ml(t,void 0,void 0,function(){var v;return Al(this,function(g){switch(g.label){case 0:return[4,Mn("POST","/api/auth",p)];case 1:return v=g.sent(),[2,v]}})})},onSuccess:function(p){p.token&&localStorage.setItem("authToken",p.token),p.user&&p.token&&p.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(p.user)),e.setQueryData(["/api/auth"],p.user),e.invalidateQueries({queryKey:["/api/auth"]})}}),f=function(){console.log(" Force refreshing auth state"),e.invalidateQueries({queryKey:["/api/auth"]}),e.refetchQueries({queryKey:["/api/auth"]})};return m.useEffect(function(){if(r&&r.type==="verification_status_updated"){var p=r.userId,v=r.verification_status,g=r.message,N=r.forceRefresh;i&&i.id===p&&(console.log(" Verification status updated:",v),N?(localStorage.removeItem("user"),e.removeQueries({queryKey:["/api/auth"]}),e.invalidateQueries({queryKey:["/api/auth"]}),e.refetchQueries({queryKey:["/api/auth"]}),console.log(" Forced complete refresh of user data")):f(),typeof window<"u"&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Account Verification Update",{body:g,icon:"/favicon.ico"}),console.log(" Verification status update:",g))}},[r,i,f,e]),{user:i,isLoading:a,isAuthenticated:!!i,error:o,userLogin:c.mutateAsync,adminLogin:u.mutateAsync,logout:l.mutateAsync,register:d.mutateAsync,metamaskLogin:h.mutateAsync,refreshAuth:f,isUserLoginPending:c.isPending,isAdminLoginPending:u.isPending,isLogoutPending:l.isPending,isRegisterPending:d.isPending,isMetamaskLoginPending:h.isPending}}var y6=[{path:"/",label:"Home",normalIcon:"/Homeiconbar-normal.png?v=5",activeIcon:"/iconbar_Home-active.png?v=5"},{path:"/market",label:"Market",normalIcon:"/iconbar_Market-normal.png?v=5",activeIcon:"/iconbar_Market-active.png?v=5"},{path:"/trade",label:"Trade",normalIcon:"/iconbar_Trade-normal.png?v=5",activeIcon:"/iconbar_Trade-active.png?v=5"},{path:"/wallet",label:"Wallet",normalIcon:"/iconbar_Wallet-normal.png?v=5",activeIcon:"/iconbar_Wallet-active.png?v=5"},{path:"/support",label:"Support",normalIcon:"/iconbar_Support-normal.png?v=5",activeIcon:"/iconbar_Support-active.png?v=5"}],b6=function(t){switch(t){case"/":return"";case"/market":return"";case"/trade":return"";case"/wallet":return"";case"/support":return"";default:return""}};function mm(){var t=ns(),e=t[0],r=t[1],s=m.useState(!1),i=s[0],a=s[1],o=m.useState(!1),c=o[0],u=o[1],l=m.useState(null),d=l[0],h=l[1];if(en(),m.useEffect(function(){return i?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),function(){document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}},[i]),m.useEffect(function(){var g=function(){if(typeof window<"u"){var N=window.innerWidth;u(N<1024)}};return g(),window.addEventListener("resize",g),function(){return window.removeEventListener("resize",g)}},[]),!c)return null;var f=function(g){return g==="/"?e==="/":e.startsWith(g)},p=function(g){g==="/trade"?a(!i):(a(!1),window.scrollTo({top:0,behavior:"smooth"}),r(g))},v=function(g){a(!1),window.scrollTo({top:0,behavior:"smooth"}),r(g)};return n.jsxs(n.Fragment,{children:[i&&n.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/70 backdrop-blur-sm overflow-hidden",onClick:function(){return a(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9998},children:n.jsx("div",{className:"fixed bottom-20 left-0 right-0 bg-[#1A1B3A] border-t border-gray-700/50",onClick:function(g){return g.stopPropagation()},children:n.jsx("div",{className:"py-4 px-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:function(){return v("/trade/spot")},className:"w-full relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-105",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})}),n.jsx("button",{onClick:function(){return v("/trade/options")},className:"w-full relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-105",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})]})})})}),n.jsx("div",{className:"mobile-bottom-nav",style:{position:"fixed",bottom:"0px",left:"0px",right:"0px",zIndex:99999,backgroundColor:"#1A1B3A",borderTop:"2px solid #4F46E5",height:"80px",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 8px",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"100vw",overflow:"hidden"},children:y6.map(function(g){var N=f(g.path),b=d===g.path,x=N||b;return n.jsx("button",{onClick:function(){return p(g.path)},onMouseEnter:function(){return h(g.path)},onMouseLeave:function(){return h(null)},onTouchStart:function(){return h(g.path)},onTouchEnd:function(){return h(null)},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"6px 4px",flex:"1",maxWidth:"20%",minWidth:"0",backgroundColor:N?"rgba(79, 70, 229, 0.2)":b?"rgba(79, 70, 229, 0.1)":"transparent",borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.2s ease",transform:b?"scale(1.02)":"scale(1)",gap:"4px"},children:n.jsx("div",{className:"nav-icon",style:{width:"52.416px",height:"52.416px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("img",{src:x?g.activeIcon:g.normalIcon,alt:"".concat(g.label," icon"),style:{width:"100%",height:"100%",objectFit:"contain",transition:"all 0.2s ease"},onError:function(y){var w=y.currentTarget;w.style.display="none";var C=w.parentElement;C&&(C.innerHTML=b6(g.path),C.style.fontSize="39.312px")}})})},g.path)})})]})}var w6=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},j6=l0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-white",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=m.forwardRef(function(t,e){var r=t.className,s=t.variant,i=t.size,a=t.asChild,o=a===void 0?!1:a,c=w6(t,["className","variant","size","asChild"]),u=o?oC:"button";return n.jsx(u,{className:Je(j6({variant:s,size:i,className:r})),ref:e,...c})});X.displayName="Button";var N6=m.createContext(void 0);function x0(t){const e=m.useContext(N6);return t||e||"ltr"}var Op=0;function Wy(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$j()),document.body.insertAdjacentElement("beforeend",t[1]??$j()),Op++,()=>{Op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Op--}},[])}function $j(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rp="focusScope.autoFocusOnMount",Ip="focusScope.autoFocusOnUnmount",Wj={bubbles:!1,cancelable:!0},S6="FocusScope",v0=m.forwardRef((t,e)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[c,u]=m.useState(null),l=rs(i),d=rs(a),h=m.useRef(null),f=Bt(e,g=>u(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let g=function(y){if(p.paused||!c)return;const w=y.target;c.contains(w)?h.current=w:ka(h.current,{select:!0})},N=function(y){if(p.paused||!c)return;const w=y.relatedTarget;w!==null&&(c.contains(w)||ka(h.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const C of y)C.removedNodes.length>0&&ka(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",N);const x=new MutationObserver(b);return c&&x.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",N),x.disconnect()}}},[s,c,p.paused]),m.useEffect(()=>{if(c){Hj.add(p);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(Rp,Wj);c.addEventListener(Rp,l),c.dispatchEvent(b),b.defaultPrevented||(C6(_6(NT(c)),{select:!0}),document.activeElement===g&&ka(c))}return()=>{c.removeEventListener(Rp,l),setTimeout(()=>{const b=new CustomEvent(Ip,Wj);c.addEventListener(Ip,d),c.dispatchEvent(b),b.defaultPrevented||ka(g??document.body,{select:!0}),c.removeEventListener(Ip,d),Hj.remove(p)},0)}}},[c,l,d,p]);const v=m.useCallback(g=>{if(!r&&!s||p.paused)return;const N=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(N&&b){const x=g.currentTarget,[y,w]=T6(x);y&&w?!g.shiftKey&&b===w?(g.preventDefault(),r&&ka(y,{select:!0})):g.shiftKey&&b===y&&(g.preventDefault(),r&&ka(w,{select:!0})):b===x&&g.preventDefault()}},[r,s,p.paused]);return n.jsx(rt.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});v0.displayName=S6;function C6(t,{select:e=!1}={}){const r=document.activeElement;for(const s of t)if(ka(s,{select:e}),document.activeElement!==r)return}function T6(t){const e=NT(t),r=Vj(e,t),s=Vj(e.reverse(),t);return[r,s]}function NT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Vj(t,e){for(const r of t)if(!k6(r,{upTo:e}))return r}function k6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function E6(t){return t instanceof HTMLInputElement&&"select"in t}function ka(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&E6(t)&&e&&t.select()}}var Hj=P6();function P6(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Kj(t,e),t.unshift(e)},remove(e){var r;t=Kj(t,e),(r=t[0])==null||r.resume()}}}function Kj(t,e){const r=[...t],s=r.indexOf(e);return s!==-1&&r.splice(s,1),r}function _6(t){return t.filter(e=>e.tagName!=="A")}var Lp="rovingFocusGroup.onEntryFocus",D6={bubbles:!1,cancelable:!0},sh="RovingFocusGroup",[Wx,ST,M6]=i0(sh),[A6,y0]=Rs(sh,[M6]),[O6,R6]=A6(sh),CT=m.forwardRef((t,e)=>n.jsx(Wx.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(Wx.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(I6,{...t,ref:e})})}));CT.displayName=sh;var I6=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:d=!1,...h}=t,f=m.useRef(null),p=Bt(e,f),v=x0(a),[g,N]=co({prop:o,defaultProp:c??null,onChange:u,caller:sh}),[b,x]=m.useState(!1),y=rs(l),w=ST(r),C=m.useRef(!1),[k,S]=m.useState(0);return m.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(Lp,y),()=>E.removeEventListener(Lp,y)},[y]),n.jsx(O6,{scope:r,orientation:s,dir:v,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(E=>N(E),[N]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>S(E=>E-1),[]),children:n.jsx(rt.div,{tabIndex:b||k===0?-1:0,"data-orientation":s,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Me(t.onMouseDown,()=>{C.current=!0}),onFocus:Me(t.onFocus,E=>{const _=!C.current;if(E.target===E.currentTarget&&_&&!b){const P=new CustomEvent(Lp,D6);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const W=w().filter(V=>V.focusable),F=W.find(V=>V.active),I=W.find(V=>V.id===g),q=[F,I,...W].filter(Boolean).map(V=>V.ref.current);ET(q,d)}}C.current=!1}),onBlur:Me(t.onBlur,()=>x(!1))})})}),TT="RovingFocusGroupItem",kT=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:a,children:o,...c}=t,u=si(),l=a||u,d=R6(TT,r),h=d.currentTabStopId===l,f=ST(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=d;return m.useEffect(()=>{if(s)return p(),()=>v()},[s,p,v]),n.jsx(Wx.ItemSlot,{scope:r,id:l,focusable:s,active:i,children:n.jsx(rt.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...c,ref:e,onMouseDown:Me(t.onMouseDown,N=>{s?d.onItemFocus(l):N.preventDefault()}),onFocus:Me(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:Me(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){d.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const b=U6(N,d.orientation,d.dir);if(b!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let y=f().filter(w=>w.focusable).map(w=>w.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const w=y.indexOf(N.currentTarget);y=d.loop?B6(y,w+1):y.slice(w+1)}setTimeout(()=>ET(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});kT.displayName=TT;var L6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function U6(t,e,r){const s=F6(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return L6[s]}function ET(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function B6(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var PT=CT,_T=kT,z6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,Uh=new WeakMap,Bh={},Fp=0,DT=function(t){return t&&(t.host||DT(t.parentNode))},$6=function(t,e){return e.map(function(r){if(t.contains(r))return r;var s=DT(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},W6=function(t,e,r,s){var i=$6(e,Array.isArray(t)?t:[t]);Bh[r]||(Bh[r]=new WeakMap);var a=Bh[r],o=[],c=new Set,u=new Set(i),l=function(h){!h||c.has(h)||(c.add(h),l(h.parentNode))};i.forEach(l);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(c.has(f))d(f);else try{var p=f.getAttribute(s),v=p!==null&&p!=="false",g=(Ol.get(f)||0)+1,N=(a.get(f)||0)+1;Ol.set(f,g),a.set(f,N),o.push(f),g===1&&v&&Uh.set(f,!0),N===1&&f.setAttribute(r,"true"),v||f.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(e),c.clear(),Fp++,function(){o.forEach(function(h){var f=Ol.get(h)-1,p=a.get(h)-1;Ol.set(h,f),a.set(h,p),f||(Uh.has(h)||h.removeAttribute(s),Uh.delete(h)),p||h.removeAttribute(r)}),Fp--,Fp||(Ol=new WeakMap,Ol=new WeakMap,Uh=new WeakMap,Bh={})}},Vy=function(t,e,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=z6(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),W6(s,i,r,"aria-hidden")):function(){return null}},Ti=function(){return Ti=Object.assign||function(e){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ti.apply(this,arguments)};function MT(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function V6(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}var Ef="right-scroll-bar-position",Pf="width-before-scroll-bar",H6="with-scroll-bars-hidden",K6="--removed-body-scroll-bar-size";function Up(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function G6(t,e){var r=m.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=e,r.facade}var q6=typeof window<"u"?m.useLayoutEffect:m.useEffect,Gj=new WeakMap;function Q6(t,e){var r=G6(null,function(s){return t.forEach(function(i){return Up(i,s)})});return q6(function(){var s=Gj.get(r);if(s){var i=new Set(s),a=new Set(t),o=r.current;i.forEach(function(c){a.has(c)||Up(c,null)}),a.forEach(function(c){i.has(c)||Up(c,o)})}Gj.set(r,t)},[t]),r}function X6(t){return t}function Y6(t,e){e===void 0&&(e=X6);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,s);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(s=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){s=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(a),o=r}var u=function(){var d=o;o=[],d.forEach(a)},l=function(){return Promise.resolve().then(u)};l(),r={push:function(d){o.push(d),l()},filter:function(d){return o=o.filter(d),r}}}};return i}function J6(t){t===void 0&&(t={});var e=Y6(null);return e.options=Ti({async:!0,ssr:!1},t),e}var AT=function(t){var e=t.sideCar,r=MT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,Ti({},r))};AT.isSideCarExport=!0;function Z6(t,e){return t.useMedium(e),AT}var OT=J6(),Bp=function(){},b0=m.forwardRef(function(t,e){var r=m.useRef(null),s=m.useState({onScrollCapture:Bp,onWheelCapture:Bp,onTouchMoveCapture:Bp}),i=s[0],a=s[1],o=t.forwardProps,c=t.children,u=t.className,l=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,v=t.noIsolation,g=t.inert,N=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,y=t.gapMode,w=MT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,k=Q6([r,e]),S=Ti(Ti({},w),i);return m.createElement(m.Fragment,null,d&&m.createElement(C,{sideCar:OT,removeScrollBar:l,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!N,lockRef:r,gapMode:y}),o?m.cloneElement(m.Children.only(c),Ti(Ti({},S),{ref:k})):m.createElement(x,Ti({},S,{className:u,ref:k}),c))});b0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};b0.classNames={fullWidth:Pf,zeroRight:Ef};var eI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tI(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eI();return e&&t.setAttribute("nonce",e),t}function rI(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nI(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sI=function(){var t=0,e=null;return{add:function(r){t==0&&(e=tI())&&(rI(e,r),nI(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iI=function(){var t=sI();return function(e,r){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},RT=function(){var t=iI(),e=function(r){var s=r.styles,i=r.dynamic;return t(s,i),null};return e},aI={left:0,top:0,right:0,gap:0},zp=function(t){return parseInt(t||"",10)||0},oI=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zp(r),zp(s),zp(i)]},lI=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aI;var e=oI(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-r+e[2]-e[0])}},cI=RT(),vc="data-scroll-locked",uI=function(t,e,r,s){var i=t.left,a=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(H6,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(vc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ef,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vc,`] {
    `).concat(K6,": ").concat(c,`px;
  }
`)},qj=function(){var t=parseInt(document.body.getAttribute(vc)||"0",10);return isFinite(t)?t:0},dI=function(){m.useEffect(function(){return document.body.setAttribute(vc,(qj()+1).toString()),function(){var t=qj()-1;t<=0?document.body.removeAttribute(vc):document.body.setAttribute(vc,t.toString())}},[])},hI=function(t){var e=t.noRelative,r=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;dI();var a=m.useMemo(function(){return lI(i)},[i]);return m.createElement(cI,{styles:uI(a,!e,i,r?"":"!important")})},Vx=!1;if(typeof window<"u")try{var zh=Object.defineProperty({},"passive",{get:function(){return Vx=!0,!0}});window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{Vx=!1}var Rl=Vx?{passive:!1}:!1,fI=function(t){return t.tagName==="TEXTAREA"},IT=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!fI(t)&&r[e]==="visible")},mI=function(t){return IT(t,"overflowY")},pI=function(t){return IT(t,"overflowX")},Qj=function(t,e){var r=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=LT(t,s);if(i){var a=FT(t,s),o=a[1],c=a[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},gI=function(t){var e=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[e,r,s]},xI=function(t){var e=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[e,r,s]},LT=function(t,e){return t==="v"?mI(e):pI(e)},FT=function(t,e){return t==="v"?gI(e):xI(e)},vI=function(t,e){return t==="h"&&e==="rtl"?-1:1},yI=function(t,e,r,s,i){var a=vI(t,window.getComputedStyle(e).direction),o=a*s,c=r.target,u=e.contains(c),l=!1,d=o>0,h=0,f=0;do{if(!c)break;var p=FT(t,c),v=p[0],g=p[1],N=p[2],b=g-N-a*v;(v||b)&&LT(t,c)&&(h+=b,f+=v);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(l=!0),l},$h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Xj=function(t){return[t.deltaX,t.deltaY]},Yj=function(t){return t&&"current"in t?t.current:t},bI=function(t,e){return t[0]===e[0]&&t[1]===e[1]},wI=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jI=0,Il=[];function NI(t){var e=m.useRef([]),r=m.useRef([0,0]),s=m.useRef(),i=m.useState(jI++)[0],a=m.useState(RT)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=V6([t.lockRef.current],(t.shards||[]).map(Yj),!0).filter(Boolean);return g.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=m.useCallback(function(g,N){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=$h(g),x=r.current,y="deltaX"in g?g.deltaX:x[0]-b[0],w="deltaY"in g?g.deltaY:x[1]-b[1],C,k=g.target,S=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in g&&S==="h"&&k.type==="range")return!1;var E=Qj(S,k);if(!E)return!0;if(E?C=S:(C=S==="v"?"h":"v",E=Qj(S,k)),!E)return!1;if(!s.current&&"changedTouches"in g&&(y||w)&&(s.current=C),!C)return!0;var _=s.current||C;return yI(_,N,g,_==="h"?y:w)},[]),u=m.useCallback(function(g){var N=g;if(!(!Il.length||Il[Il.length-1]!==a)){var b="deltaY"in N?Xj(N):$h(N),x=e.current.filter(function(C){return C.name===N.type&&(C.target===N.target||N.target===C.shadowParent)&&bI(C.delta,b)})[0];if(x&&x.should){N.cancelable&&N.preventDefault();return}if(!x){var y=(o.current.shards||[]).map(Yj).filter(Boolean).filter(function(C){return C.contains(N.target)}),w=y.length>0?c(N,y[0]):!o.current.noIsolation;w&&N.cancelable&&N.preventDefault()}}},[]),l=m.useCallback(function(g,N,b,x){var y={name:g,delta:N,target:b,should:x,shadowParent:SI(b)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(w){return w!==y})},1)},[]),d=m.useCallback(function(g){r.current=$h(g),s.current=void 0},[]),h=m.useCallback(function(g){l(g.type,Xj(g),g.target,c(g,t.lockRef.current))},[]),f=m.useCallback(function(g){l(g.type,$h(g),g.target,c(g,t.lockRef.current))},[]);m.useEffect(function(){return Il.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",u,Rl),document.addEventListener("touchmove",u,Rl),document.addEventListener("touchstart",d,Rl),function(){Il=Il.filter(function(g){return g!==a}),document.removeEventListener("wheel",u,Rl),document.removeEventListener("touchmove",u,Rl),document.removeEventListener("touchstart",d,Rl)}},[]);var p=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:wI(i)}):null,p?m.createElement(hI,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function SI(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CI=Z6(OT,NI);var w0=m.forwardRef(function(t,e){return m.createElement(b0,Ti({},t,{ref:e,sideCar:CI}))});w0.classNames=b0.classNames;var Hx=["Enter"," "],TI=["ArrowDown","PageUp","Home"],UT=["ArrowUp","PageDown","End"],kI=[...TI,...UT],EI={ltr:[...Hx,"ArrowRight"],rtl:[...Hx,"ArrowLeft"]},PI={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ih="Menu",[Md,_I,DI]=i0(ih),[Cl,BT]=Rs(ih,[DI,uu,y0]),j0=uu(),zT=y0(),[MI,Tl]=Cl(ih),[AI,ah]=Cl(ih),$T=t=>{const{__scopeMenu:e,open:r=!1,children:s,dir:i,onOpenChange:a,modal:o=!0}=t,c=j0(e),[u,l]=m.useState(null),d=m.useRef(!1),h=rs(a),f=x0(i);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),n.jsx(mT,{...c,children:n.jsx(MI,{scope:e,open:r,onOpenChange:h,content:u,onContentChange:l,children:n.jsx(AI,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:s})})})};$T.displayName=ih;var OI="MenuAnchor",Hy=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,i=j0(r);return n.jsx(Uy,{...i,...s,ref:e})});Hy.displayName=OI;var Ky="MenuPortal",[RI,WT]=Cl(Ky,{forceMount:void 0}),VT=t=>{const{__scopeMenu:e,forceMount:r,children:s,container:i}=t,a=Tl(Ky,e);return n.jsx(RI,{scope:e,forceMount:r,children:n.jsx(Is,{present:r||a.open,children:n.jsx(th,{asChild:!0,container:i,children:s})})})};VT.displayName=Ky;var Ms="MenuContent",[II,Gy]=Cl(Ms),HT=m.forwardRef((t,e)=>{const r=WT(Ms,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,a=Tl(Ms,t.__scopeMenu),o=ah(Ms,t.__scopeMenu);return n.jsx(Md.Provider,{scope:t.__scopeMenu,children:n.jsx(Is,{present:s||a.open,children:n.jsx(Md.Slot,{scope:t.__scopeMenu,children:o.modal?n.jsx(LI,{...i,ref:e}):n.jsx(FI,{...i,ref:e})})})})}),LI=m.forwardRef((t,e)=>{const r=Tl(Ms,t.__scopeMenu),s=m.useRef(null),i=Bt(e,s);return m.useEffect(()=>{const a=s.current;if(a)return Vy(a)},[]),n.jsx(qy,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),FI=m.forwardRef((t,e)=>{const r=Tl(Ms,t.__scopeMenu);return n.jsx(qy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),UI=cl("MenuContent.ScrollLock"),qy=m.forwardRef((t,e)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:v,...g}=t,N=Tl(Ms,r),b=ah(Ms,r),x=j0(r),y=zT(r),w=_I(r),[C,k]=m.useState(null),S=m.useRef(null),E=Bt(e,S,N.onContentChange),_=m.useRef(0),P=m.useRef(""),W=m.useRef(0),F=m.useRef(null),I=m.useRef("right"),D=m.useRef(0),q=v?w0:m.Fragment,V=v?{as:UI,allowPinchZoom:!0}:void 0,re=M=>{var B,se;const U=P.current+M,Q=w().filter(G=>!G.disabled),oe=document.activeElement,Ne=(B=Q.find(G=>G.ref.current===oe))==null?void 0:B.textValue,H=Q.map(G=>G.textValue),he=YI(H,U,Ne),Ee=(se=Q.find(G=>G.textValue===he))==null?void 0:se.ref.current;(function G(Z){P.current=Z,window.clearTimeout(_.current),Z!==""&&(_.current=window.setTimeout(()=>G(""),1e3))})(U),Ee&&setTimeout(()=>Ee.focus())};m.useEffect(()=>()=>window.clearTimeout(_.current),[]),Wy();const L=m.useCallback(M=>{var Q,oe;return I.current===((Q=F.current)==null?void 0:Q.side)&&ZI(M,(oe=F.current)==null?void 0:oe.area)},[]);return n.jsx(II,{scope:r,searchRef:P,onItemEnter:m.useCallback(M=>{L(M)&&M.preventDefault()},[L]),onItemLeave:m.useCallback(M=>{var U;L(M)||((U=S.current)==null||U.focus(),k(null))},[L]),onTriggerLeave:m.useCallback(M=>{L(M)&&M.preventDefault()},[L]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(M=>{F.current=M},[]),children:n.jsx(q,{...V,children:n.jsx(v0,{asChild:!0,trapped:i,onMountAutoFocus:Me(a,M=>{var U;M.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(su,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:n.jsx(PT,{asChild:!0,...y,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:C,onCurrentTabStopIdChange:k,onEntryFocus:Me(u,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(By,{role:"menu","aria-orientation":"vertical","data-state":ok(N.open),"data-radix-menu-content":"",dir:b.dir,...x,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:Me(g.onKeyDown,M=>{const Q=M.target.closest("[data-radix-menu-content]")===M.currentTarget,oe=M.ctrlKey||M.altKey||M.metaKey,Ne=M.key.length===1;Q&&(M.key==="Tab"&&M.preventDefault(),!oe&&Ne&&re(M.key));const H=S.current;if(M.target!==H||!kI.includes(M.key))return;M.preventDefault();const Ee=w().filter(B=>!B.disabled).map(B=>B.ref.current);UT.includes(M.key)&&Ee.reverse(),QI(Ee)}),onBlur:Me(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(_.current),P.current="")}),onPointerMove:Me(t.onPointerMove,Ad(M=>{const U=M.target,Q=D.current!==M.clientX;if(M.currentTarget.contains(U)&&Q){const oe=M.clientX>D.current?"right":"left";I.current=oe,D.current=M.clientX}}))})})})})})})});HT.displayName=Ms;var BI="MenuGroup",Qy=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(rt.div,{role:"group",...s,ref:e})});Qy.displayName=BI;var zI="MenuLabel",KT=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(rt.div,{...s,ref:e})});KT.displayName=zI;var pm="MenuItem",Jj="menu.itemSelect",N0=m.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:s,...i}=t,a=m.useRef(null),o=ah(pm,t.__scopeMenu),c=Gy(pm,t.__scopeMenu),u=Bt(e,a),l=m.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(Jj,{bubbles:!0,cancelable:!0});h.addEventListener(Jj,p=>s==null?void 0:s(p),{once:!0}),Cy(h,f),f.defaultPrevented?l.current=!1:o.onClose()}};return n.jsx(GT,{...i,ref:u,disabled:r,onClick:Me(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),l.current=!0},onPointerUp:Me(t.onPointerUp,h=>{var f;l.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Me(t.onKeyDown,h=>{const f=c.searchRef.current!=="";r||f&&h.key===" "||Hx.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});N0.displayName=pm;var GT=m.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:s=!1,textValue:i,...a}=t,o=Gy(pm,r),c=zT(r),u=m.useRef(null),l=Bt(e,u),[d,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const v=u.current;v&&p((v.textContent??"").trim())},[a.children]),n.jsx(Md.ItemSlot,{scope:r,disabled:s,textValue:i??f,children:n.jsx(_T,{asChild:!0,...c,focusable:!s,children:n.jsx(rt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:l,onPointerMove:Me(t.onPointerMove,Ad(v=>{s?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(t.onPointerLeave,Ad(v=>o.onItemLeave(v))),onFocus:Me(t.onFocus,()=>h(!0)),onBlur:Me(t.onBlur,()=>h(!1))})})})}),$I="MenuCheckboxItem",qT=m.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:s,...i}=t;return n.jsx(ZT,{scope:t.__scopeMenu,checked:r,children:n.jsx(N0,{role:"menuitemcheckbox","aria-checked":gm(r)?"mixed":r,...i,ref:e,"data-state":Yy(r),onSelect:Me(i.onSelect,()=>s==null?void 0:s(gm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});qT.displayName=$I;var QT="MenuRadioGroup",[WI,VI]=Cl(QT,{value:void 0,onValueChange:()=>{}}),XT=m.forwardRef((t,e)=>{const{value:r,onValueChange:s,...i}=t,a=rs(s);return n.jsx(WI,{scope:t.__scopeMenu,value:r,onValueChange:a,children:n.jsx(Qy,{...i,ref:e})})});XT.displayName=QT;var YT="MenuRadioItem",JT=m.forwardRef((t,e)=>{const{value:r,...s}=t,i=VI(YT,t.__scopeMenu),a=r===i.value;return n.jsx(ZT,{scope:t.__scopeMenu,checked:a,children:n.jsx(N0,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":Yy(a),onSelect:Me(s.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});JT.displayName=YT;var Xy="MenuItemIndicator",[ZT,HI]=Cl(Xy,{checked:!1}),ek=m.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:s,...i}=t,a=HI(Xy,r);return n.jsx(Is,{present:s||gm(a.checked)||a.checked===!0,children:n.jsx(rt.span,{...i,ref:e,"data-state":Yy(a.checked)})})});ek.displayName=Xy;var KI="MenuSeparator",tk=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t;return n.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});tk.displayName=KI;var GI="MenuArrow",rk=m.forwardRef((t,e)=>{const{__scopeMenu:r,...s}=t,i=j0(r);return n.jsx(zy,{...i,...s,ref:e})});rk.displayName=GI;var qI="MenuSub",[_W,nk]=Cl(qI),$u="MenuSubTrigger",sk=m.forwardRef((t,e)=>{const r=Tl($u,t.__scopeMenu),s=ah($u,t.__scopeMenu),i=nk($u,t.__scopeMenu),a=Gy($u,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,l={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),n.jsx(Hy,{asChild:!0,...l,children:n.jsx(GT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":ok(r.open),...t,ref:s0(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(t.onPointerMove,Ad(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Me(t.onPointerLeave,Ad(h=>{var p,v;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(v=r.content)==null?void 0:v.dataset.side,N=g==="right",b=N?-5:5,x=f[N?"left":"right"],y=f[N?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(t.onKeyDown,h=>{var p;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||EI[s.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});sk.displayName=$u;var ik="MenuSubContent",ak=m.forwardRef((t,e)=>{const r=WT(Ms,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,a=Tl(Ms,t.__scopeMenu),o=ah(Ms,t.__scopeMenu),c=nk(ik,t.__scopeMenu),u=m.useRef(null),l=Bt(e,u);return n.jsx(Md.Provider,{scope:t.__scopeMenu,children:n.jsx(Is,{present:s||a.open,children:n.jsx(Md.Slot,{scope:t.__scopeMenu,children:n.jsx(qy,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:l,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Me(t.onFocusOutside,d=>{d.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Me(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=PI[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(p=c.trigger)==null||p.focus(),d.preventDefault())})})})})})});ak.displayName=ik;function ok(t){return t?"open":"closed"}function gm(t){return t==="indeterminate"}function Yy(t){return gm(t)?"indeterminate":t?"checked":"unchecked"}function QI(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function XI(t,e){return t.map((r,s)=>t[(e+s)%t.length])}function YI(t,e,r){const i=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=XI(t,Math.max(a,0));i.length===1&&(o=o.filter(l=>l!==r));const u=o.find(l=>l.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function JI(t,e){const{x:r,y:s}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],u=e[o],l=c.x,d=c.y,h=u.x,f=u.y;d>s!=f>s&&r<(h-l)*(s-d)/(f-d)+l&&(i=!i)}return i}function ZI(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return JI(r,e)}function Ad(t){return e=>e.pointerType==="mouse"?t(e):void 0}var eL=$T,tL=Hy,rL=VT,nL=HT,sL=Qy,iL=KT,aL=N0,oL=qT,lL=XT,cL=JT,uL=ek,dL=tk,hL=rk,fL=sk,mL=ak,S0="DropdownMenu",[pL]=Rs(S0,[BT]),zn=BT(),[gL,lk]=pL(S0),ck=t=>{const{__scopeDropdownMenu:e,children:r,dir:s,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,u=zn(e),l=m.useRef(null),[d,h]=co({prop:i,defaultProp:a??!1,onChange:o,caller:S0});return n.jsx(gL,{scope:e,triggerId:si(),triggerRef:l,contentId:si(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:c,children:n.jsx(eL,{...u,open:d,onOpenChange:h,dir:s,modal:c,children:r})})};ck.displayName=S0;var uk="DropdownMenuTrigger",dk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...i}=t,a=lk(uk,r),o=zn(r);return n.jsx(tL,{asChild:!0,...o,children:n.jsx(rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:s0(e,a.triggerRef),onPointerDown:Me(t.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Me(t.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});dk.displayName=uk;var xL="DropdownMenuPortal",hk=t=>{const{__scopeDropdownMenu:e,...r}=t,s=zn(e);return n.jsx(rL,{...s,...r})};hk.displayName=xL;var fk="DropdownMenuContent",mk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=lk(fk,r),a=zn(r),o=m.useRef(!1);return n.jsx(nL,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:e,onCloseAutoFocus:Me(t.onCloseAutoFocus,c=>{var u;o.current||(u=i.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Me(t.onInteractOutside,c=>{const u=c.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0,d=u.button===2||l;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mk.displayName=fk;var vL="DropdownMenuGroup",yL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(sL,{...i,...s,ref:e})});yL.displayName=vL;var bL="DropdownMenuLabel",pk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(iL,{...i,...s,ref:e})});pk.displayName=bL;var wL="DropdownMenuItem",gk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(aL,{...i,...s,ref:e})});gk.displayName=wL;var jL="DropdownMenuCheckboxItem",xk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(oL,{...i,...s,ref:e})});xk.displayName=jL;var NL="DropdownMenuRadioGroup",SL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(lL,{...i,...s,ref:e})});SL.displayName=NL;var CL="DropdownMenuRadioItem",vk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(cL,{...i,...s,ref:e})});vk.displayName=CL;var TL="DropdownMenuItemIndicator",yk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(uL,{...i,...s,ref:e})});yk.displayName=TL;var kL="DropdownMenuSeparator",bk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(dL,{...i,...s,ref:e})});bk.displayName=kL;var EL="DropdownMenuArrow",PL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(hL,{...i,...s,ref:e})});PL.displayName=EL;var _L="DropdownMenuSubTrigger",wk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(fL,{...i,...s,ref:e})});wk.displayName=_L;var DL="DropdownMenuSubContent",jk=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...s}=t,i=zn(r);return n.jsx(mL,{...i,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jk.displayName=DL;var ML=ck,AL=dk,OL=hk,Nk=mk,Sk=pk,Ck=gk,Tk=xk,kk=vk,Ek=yk,Pk=bk,_k=wk,Dk=jk,bo=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},Mk=ML,Ak=AL,RL=m.forwardRef(function(t,e){var r=t.className,s=t.inset,i=t.children,a=bo(t,["className","inset","children"]);return n.jsxs(_k,{ref:e,className:Je("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...a,children:[i,n.jsx(D5,{className:"ml-auto"})]})});RL.displayName=_k.displayName;var IL=m.forwardRef(function(t,e){var r=t.className,s=bo(t,["className"]);return n.jsx(Dk,{ref:e,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...s})});IL.displayName=Dk.displayName;var Jy=m.forwardRef(function(t,e){var r=t.className,s=t.sideOffset,i=s===void 0?4:s,a=bo(t,["className","sideOffset"]);return n.jsx(OL,{children:n.jsx(Nk,{ref:e,sideOffset:i,className:Je("z-[60] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",r),...a})})});Jy.displayName=Nk.displayName;var el=m.forwardRef(function(t,e){var r=t.className,s=t.inset,i=bo(t,["className","inset"]);return n.jsx(Ck,{ref:e,className:Je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i})});el.displayName=Ck.displayName;var LL=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=t.checked,a=bo(t,["className","children","checked"]);return n.jsxs(Tk,{ref:e,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:i,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Ek,{children:n.jsx(OC,{className:"h-4 w-4"})})}),s]})});LL.displayName=Tk.displayName;var FL=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=bo(t,["className","children"]);return n.jsxs(kk,{ref:e,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Ek,{children:n.jsx(A5,{className:"h-2 w-2 fill-current"})})}),s]})});FL.displayName=kk.displayName;var UL=m.forwardRef(function(t,e){var r=t.className,s=t.inset,i=bo(t,["className","inset"]);return n.jsx(Sk,{ref:e,className:Je("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...i})});UL.displayName=Sk.displayName;var Zy=m.forwardRef(function(t,e){var r=t.className,s=bo(t,["className"]);return n.jsx(Pk,{ref:e,className:Je("-mx-1 my-1 h-px bg-muted",r),...s})});Zy.displayName=Pk.displayName;const oh="/assets/new-metachrome-logo-1767465592682.png";function eb(){var t=m.useState(!1),e=t[0],r=t[1],s=ns(),i=s[0],a=s[1],o=en(),c=o.user,u=o.isAuthenticated,l=o.logout,d=Ui();if(m.useEffect(function(){return e?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),function(){document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}},[e]),!d)return null;var h=function(p){window.scrollTo({top:0,behavior:"smooth"}),a(p),r(!1)},f=function(){if(console.log(" Mobile Header User Data:",{user:c,walletAddress:c==null?void 0:c.walletAddress,wallet_address:c==null?void 0:c.wallet_address,username:c==null?void 0:c.username,firstName:c==null?void 0:c.firstName,lastName:c==null?void 0:c.lastName,currentLocation:i}),c!=null&&c.firstName&&(c!=null&&c.lastName))return console.log(" Mobile Header: Showing full name"),"".concat(c.firstName," ").concat(c.lastName);if(c!=null&&c.firstName)return console.log(" Mobile Header: Showing first name"),c.firstName;if(c!=null&&c.username){if(console.log(" Mobile Header: Showing username:",c.username),c.username.startsWith("0x")&&c.username.length>20){var p="".concat(c.username.slice(0,6),"...").concat(c.username.slice(-4));return console.log(" Mobile Header: Showing truncated wallet:",p),p}return c.username}var v=(c==null?void 0:c.walletAddress)||(c==null?void 0:c.wallet_address);if(v&&v.startsWith("0x")&&v.length>20){var p="".concat(v.slice(0,6),"...").concat(v.slice(-4));return console.log(" Mobile Header: Showing wallet from other field:",p),p}return console.log(" Mobile Header: Showing default Account"),"Account"};return n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:"bg-[#1A1B3A] border-b border-gray-700/50 px-4 py-3 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:oh,alt:"METACHROME",className:"h-8 w-auto",onClick:function(){return h("/")}})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-4 bg-red-500 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white",children:""})}),u?n.jsx("div",{className:"flex items-center",children:n.jsxs(Mk,{children:[n.jsx(Ak,{asChild:!0,children:n.jsxs(X,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white flex items-center space-x-1 max-w-[160px]",children:[n.jsx(Cf,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm truncate",children:f()}),n.jsx(ha,{className:"w-3 h-3 flex-shrink-0"})]})}),n.jsxs(Jy,{align:"end",className:"w-48 bg-gray-800 border-gray-700",children:[n.jsxs(el,{onClick:function(){var p=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="super_admin"?"/admin/dashboard":"/dashboard";h(p)},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),n.jsxs(el,{onClick:function(){return h("/profile")},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(ni,{className:"w-4 h-4 mr-2"}),"Profile"]}),n.jsx(Zy,{className:"bg-gray-700"}),n.jsxs(el,{onClick:function(){return l()},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(Ix,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return h("/signup")},className:"text-gray-300 hover:text-white",children:"Sign up"}),n.jsx(X,{size:"sm",onClick:function(){return h("/login")},className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Login"})]})]})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm overflow-hidden",onClick:function(){return r(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999},children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-64 bg-[#1A1B3A] p-4 overflow-y-auto",onClick:function(p){return p.stopPropagation()},children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-white font-semibold",children:"Menu"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return r(!1)},children:n.jsx(hl,{className:"w-4 h-4"})})]}),n.jsxs("nav",{className:"space-y-2",children:[n.jsx("button",{onClick:function(){return h("/")},className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Home"}),n.jsx("button",{onClick:function(){return h("/market")},className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Market"}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"text-gray-300 py-2 px-3 text-base font-medium",children:"Trade"}),n.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[n.jsx(kt,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:function(){window.scrollTo({top:0,behavior:"smooth"}),r(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),n.jsx(kt,{href:"/trade/options",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:function(){window.scrollTo({top:0,behavior:"smooth"}),r(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}),n.jsx("button",{onClick:function(){return h("/wallet")},className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Wallet"}),n.jsx("button",{onClick:function(){return h("/support")},className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Support"})]})]})})]})}function tb(){var t=ns(),e=t[0],r=t[1],s=m.useState(!1),i=s[0],a=s[1],o=m.useState(!1),c=o[0],u=o[1],l=m.useState(null),d=l[0],h=l[1],f=en(),p=f.user,v=f.isAuthenticated,g=f.logout;console.log(" Navigation Debug - User Data:",{user:p,isAuthenticated:v,firstName:p==null?void 0:p.firstName,lastName:p==null?void 0:p.lastName,username:p==null?void 0:p.username,walletAddress:p==null?void 0:p.walletAddress,email:p==null?void 0:p.email,displayName:function(){return p!=null&&p.firstName&&(p!=null&&p.lastName)?"".concat(p.firstName," ").concat(p.lastName):p!=null&&p.firstName?p.firstName:p!=null&&p.username?p.username:"Account"}()});var N=function(){if(p!=null&&p.firstName&&(p!=null&&p.lastName))return"".concat(p.firstName," ").concat(p.lastName);if(p!=null&&p.firstName)return p.firstName;if(p!=null&&p.username&&!(p!=null&&p.username.startsWith("0x"))||p!=null&&p.username)return p.username;var y=(p==null?void 0:p.walletAddress)||(p==null?void 0:p.wallet_address);return y&&y.startsWith("0x")&&y.length>20?"".concat(y.slice(0,6),"...").concat(y.slice(-4)):"Account"},b=function(){if(p!=null&&p.firstName&&(p!=null&&p.lastName))return"".concat(p.firstName," ").concat(p.lastName);if(p!=null&&p.firstName)return p.firstName;if(p!=null&&p.username&&!(p!=null&&p.username.startsWith("0x"))||p!=null&&p.username)return p.username;var y=(p==null?void 0:p.walletAddress)||(p==null?void 0:p.wallet_address);return y&&y.startsWith("0x")&&y.length>20?"".concat(y.slice(0,6),"..."):"Account"};m.useEffect(function(){return c?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),function(){document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}},[c]);var x=[{path:"/",label:"Home"},{path:"/market",label:"Market"},{path:"/trade",label:"Trade",hasDropdown:!0,dropdownItems:[{path:"/trade/spot",label:"Spot"},{path:"/trade/options",label:"Options"}]},{path:"/wallet",label:"Wallet"},{path:"/support",label:"Support"}];return m.useEffect(function(){return function(){d&&clearTimeout(d)}},[d]),n.jsx("header",{className:"bg-[#34344E] border-b border-gray-700/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16 md:h-16",children:[n.jsx("div",{className:"hidden md:flex items-center",children:n.jsx(kt,{href:"/",children:n.jsx("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",children:n.jsx("img",{src:oh,alt:"METACHROME",className:"h-[3rem] md:h-[2.6rem] w-auto"})})})}),n.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:x.map(function(y){return n.jsx("div",{className:"relative",children:y.hasDropdown?n.jsxs("div",{className:"relative",onMouseEnter:function(){d&&(clearTimeout(d),h(null)),a(!0)},onMouseLeave:function(){var w=setTimeout(function(){a(!1)},300);h(w)},children:[n.jsxs("button",{className:"text-gray-300 hover:text-white px-3 py-2 text-sm font-medium flex items-center ".concat(e.startsWith("/trade")?"text-white":""),children:[y.label,n.jsx(ha,{className:"ml-1 h-4 w-4"})]}),i&&n.jsxs("div",{className:"absolute top-full left-0 mt-1 w-80 bg-gray-900/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl z-[60] overflow-hidden",children:[n.jsx(kt,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 cursor-pointer group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-4 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-12 h-12 object-contain"})})]})})}),n.jsx(kt,{href:"/trade/options",children:n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 transition-all duration-300 cursor-pointer group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-4 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-12 h-12 object-contain"})})]})})})]})]}):n.jsx(kt,{href:y.path,children:n.jsxs("span",{className:"text-gray-300 hover:text-white px-3 py-2 text-sm font-medium flex items-center gap-2 ".concat(e===y.path?"text-white":""),children:[y.path==="/"&&n.jsx(L5,{className:"w-4 h-4"}),y.label]})})},y.path)})}),n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[n.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"w-5 h-3"}),n.jsx("span",{children:"English"})]}),v?n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs(Mk,{children:[n.jsx(Ak,{asChild:!0,children:n.jsxs(X,{variant:"ghost",className:"flex items-center space-x-2 text-gray-300 hover:text-white hover:bg-gray-800",children:[n.jsx(Cf,{className:"w-5 h-5"}),n.jsx("span",{children:N()}),n.jsx(ha,{className:"w-4 h-4"})]})}),n.jsxs(Jy,{align:"end",className:"w-56 bg-gray-800 border-gray-700",children:[n.jsxs(el,{onClick:function(){var y=(p==null?void 0:p.role)==="admin"||(p==null?void 0:p.role)==="super_admin"?"/admin/dashboard":"/dashboard";r(y)},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),n.jsxs(el,{onClick:function(){return r("/profile")},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(ni,{className:"w-4 h-4 mr-2"}),"Profile"]}),n.jsx(Zy,{className:"bg-gray-700"}),n.jsxs(el,{onClick:function(){return g()},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(Ix,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(kt,{href:"/login",children:n.jsx(X,{variant:"outline",size:"sm",className:"text-gray-300 border-gray-600 hover:bg-gray-700 hover:text-white",children:"Login"})}),n.jsx(kt,{href:"/signup",children:n.jsx(X,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",children:"Sign Up"})})]})]}),n.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"w-5 h-3"})}),v&&n.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-300 bg-gray-700/30 rounded-full px-2 py-1",children:[n.jsx(Cf,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:b()})]}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return u(!c)},className:"text-gray-300 hover:text-white p-1.5",children:c?n.jsx(hl,{className:"h-5 w-5"}):n.jsx(z5,{className:"h-5 w-5"})})]})]}),c&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm overflow-hidden md:hidden",onClick:function(){return u(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999},children:n.jsx("div",{className:"fixed right-0 top-0 h-full w-64 bg-[#1A1B3A] p-4 overflow-y-auto",onClick:function(y){return y.stopPropagation()},children:n.jsxs("div",{className:"space-y-1",children:[x.map(function(y){return n.jsx("div",{children:y.hasDropdown?n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-300 block px-3 py-2 text-base font-medium",children:y.label}),n.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[n.jsx(kt,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:function(){return u(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),n.jsx(kt,{href:"/trade/options",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:function(){return u(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}):n.jsx(kt,{href:y.path,children:n.jsx("div",{className:"block px-3 py-2 text-base font-medium hover:text-white hover:bg-gray-800 ".concat(e===y.path?"text-purple-400":"text-gray-300"),onClick:function(){return u(!1)},children:y.label})})},y.path)}),n.jsx("div",{className:"pt-4 space-y-2",children:v?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-300 px-3 py-2",children:[n.jsx(Cf,{className:"w-4 h-4"}),n.jsx("span",{children:b()})]}),n.jsxs(X,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:function(){var y=(p==null?void 0:p.role)==="admin"||(p==null?void 0:p.role)==="super_admin"?"/admin/dashboard":"/dashboard";r(y),u(!1)},children:[n.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),n.jsx(kt,{href:"/profile",children:n.jsxs(X,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:function(){return u(!1)},children:[n.jsx(ni,{className:"w-4 h-4 mr-2"}),"Profile"]})}),n.jsxs(X,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:function(){g(),u(!1)},children:[n.jsx(Ix,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(kt,{href:"/login",children:n.jsx(X,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:function(){return u(!1)},children:"Login"})}),n.jsx(kt,{href:"/signup",children:n.jsx(X,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",onClick:function(){return u(!1)},children:"Sign Up"})})]})})]})})})]})})}function Od(){return n.jsx("footer",{className:"bg-[#181D20] border-t border-gray-600/30 w-full",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"col-span-1 md:col-span-1",children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsx("img",{src:oh,alt:"METACHROME",className:"h-8 w-auto"})}),n.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed",children:"We're passionate about creating unforgettable moments. Our platform provides a seamless and transparent trading experience, with a range of exciting crypto and fiat currency options."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(kt,{href:"/trade/options",className:"text-gray-400 hover:text-white text-sm",children:"Options Trade"})}),n.jsx("li",{children:n.jsx(kt,{href:"/trade/spot",className:"text-gray-400 hover:text-white text-sm",children:"Spot Trade"})}),n.jsx("li",{children:n.jsx(kt,{href:"/market",className:"text-gray-400 hover:text-white text-sm",children:"Market"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(kt,{href:"/",className:"text-gray-400 hover:text-white text-sm",children:"Home"})}),n.jsx("li",{children:n.jsx(kt,{href:"/signup",className:"text-gray-400 hover:text-white text-sm",children:"Sign Up"})}),n.jsx("li",{children:n.jsx(kt,{href:"/support",className:"text-gray-400 hover:text-white text-sm",children:"Support"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(kt,{href:"/trade-policy",className:"text-gray-400 hover:text-white text-sm",children:"Trade Policy"})}),n.jsx("li",{children:n.jsx(kt,{href:"/terms-of-service",className:"text-gray-400 hover:text-white text-sm",children:"Terms of Service"})}),n.jsx("li",{children:n.jsx(kt,{href:"/privacy-policy",className:"text-gray-400 hover:text-white text-sm",children:"Privacy Policy"})})]})]})]}),n.jsxs("div",{className:"border-t border-gray-600/30 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-gray-500 text-xs mb-4 md:mb-0",children:[" 2025 ",n.jsx("span",{className:"font-bold text-purple-500",children:"Metachrome"}),". All Rights Reserved"]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})})}function BL(t){var e=t.children,r=Ui(),s=ns()[0],i=m.useState(!1),a=i[0],o=i[1],c=["/admin/login","/trade/options","/options","/trade/spot","/login","/signup"],u=!c.includes(s);return m.useEffect(function(){var l=function(){var d=typeof window<"u"?window.innerWidth:1024;o(d<1024)};if(l(),typeof window<"u")return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}},[]),r||a?n.jsxs("div",{className:"min-h-screen bg-gray-900 overflow-x-hidden max-w-full relative",children:[u&&n.jsx(eb,{}),n.jsx("main",{className:"relative pb-20 overflow-x-hidden max-w-full",children:e}),u&&n.jsx(Od,{}),n.jsx(mm,{}),n.jsx("div",{id:"mobile-modal-root",className:"relative z-[99999]"})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[u&&n.jsx(tb,{}),n.jsx("main",{children:e}),u&&n.jsx(Od,{}),n.jsx(mm,{})]})}var du=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},je=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});je.displayName="Card";var gt=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("flex flex-col space-y-1.5 p-6",r),...s})});gt.displayName="CardHeader";var xt=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("text-2xl font-semibold leading-none tracking-tight",r),...s})});xt.displayName="CardTitle";var Zt=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("text-sm text-muted-foreground",r),...s})});Zt.displayName="CardDescription";var Ce=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("p-6 pt-0",r),...s})});Ce.displayName="CardContent";var zL=m.forwardRef(function(t,e){var r=t.className,s=du(t,["className"]);return n.jsx("div",{ref:e,className:Je("flex items-center p-6 pt-0",r),...s})});zL.displayName="CardFooter";var $L=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},Be=m.forwardRef(function(t,e){var r=t.className,s=t.type,i=$L(t,["className","type"]);return n.jsx("input",{type:s,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:e,...i})});Be.displayName="Input";var C0="Collapsible",[WL]=Rs(C0),[VL,rb]=WL(C0),Ok=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:s,defaultOpen:i,disabled:a,onOpenChange:o,...c}=t,[u,l]=co({prop:s,defaultProp:i??!1,onChange:o,caller:C0});return n.jsx(VL,{scope:r,disabled:a,contentId:si(),open:u,onOpenToggle:m.useCallback(()=>l(d=>!d),[l]),children:n.jsx(rt.div,{"data-state":sb(u),"data-disabled":a?"":void 0,...c,ref:e})})});Ok.displayName=C0;var Rk="CollapsibleTrigger",Ik=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...s}=t,i=rb(Rk,r);return n.jsx(rt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":sb(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:e,onClick:Me(t.onClick,i.onOpenToggle)})});Ik.displayName=Rk;var nb="CollapsibleContent",Lk=m.forwardRef((t,e)=>{const{forceMount:r,...s}=t,i=rb(nb,t.__scopeCollapsible);return n.jsx(Is,{present:r||i.open,children:({present:a})=>n.jsx(HL,{...s,ref:e,present:a})})});Lk.displayName=nb;var HL=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:s,children:i,...a}=t,o=rb(nb,r),[c,u]=m.useState(s),l=m.useRef(null),d=Bt(e,l),h=m.useRef(0),f=h.current,p=m.useRef(0),v=p.current,g=o.open||c,N=m.useRef(g),b=m.useRef(void 0);return m.useEffect(()=>{const x=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(x)},[]),ln(()=>{const x=l.current;if(x){b.current=b.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();h.current=y.height,p.current=y.width,N.current||(x.style.transitionDuration=b.current.transitionDuration,x.style.animationName=b.current.animationName),u(s)}},[o.open,s]),n.jsx(rt.div,{"data-state":sb(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:g&&i})});function sb(t){return t?"open":"closed"}var KL=Ok,xm=KL,vm=Ik,ym=Lk;const Fk="/assets/hero-desktop_1754552987909-1767465592682.jpg",GL="/assets/hero-mobile-1767465592682.jpg";function qL(){var t=Ui(),e=ns(),r=e[1],s=function(){r("/trade/options")};return t?n.jsx("section",{className:"relative overflow-hidden bg-black",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:GL,alt:"METACHROME Hero Banner",className:"w-full h-auto object-cover",style:{maxHeight:"280px"},onError:function(i){i.currentTarget.style.display="none",i.currentTarget.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",i.currentTarget.parentElement.style.minHeight="280px"}}),n.jsx("div",{className:"absolute bottom-6 left-4 z-20",children:n.jsx(X,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-2.5 rounded-lg text-base font-semibold border-0 shadow-lg",children:"Start Trading"})})]})}):n.jsx("section",{className:"relative overflow-hidden bg-black py-6",children:n.jsx("div",{className:"w-full px-4",children:n.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[n.jsx("img",{src:Fk,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-cover rounded-lg",style:{maxHeight:"400px",objectFit:"cover"}}),n.jsx("div",{className:"absolute bottom-20 left-8 z-20",children:n.jsx(X,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-3 rounded-lg text-lg font-semibold border-0 shadow-lg",children:"Start Trading"})})]})})})}const Zj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAA0rSURBVHjazJp7sF1Vfcc/37X3vUnIQwiJSQhgAk0JkVfk1YktOiQURAnCtELt0FLRARVxSnHGaouMpfVREBRHqPgotGrRPsTSSRFiNUQGbfOoIS0Q0mDepoGQB5ck9+z17R9r7332edybS/tP98yac87ee+29vr/f9/dcR5e9YwOjHe7+LmEEAhOwBArVOA7pXBQWAvMgTAemABHYi70D/Cx4FfYqXOyRDY5Un2CEwUZdK1HXmeaRjw2E04JrMAkEEkhnIV2LdA5wBmJymtPnpWo8AO8SYR2KK4weBF4AIYzdvlU94nxNQNw7tX6qADLJVxldL1gE5NgQ0n0mkhal3kfYIGP8euPFMosDfMR4ueCLQo/350Na1UhaCb2r9UjyLM/7SuDfQN8QXCCXIEo6YCMbOSIXUA65IMQi0ScmKolYzZskcznwqGEZcGbJ3lF44pGAuAOLq4W1r88GHgK+IzhLdqK+IqJceEyLrwaxSOdiATECsQRY3VfaA4lLwkFwieApwZ2IiW3BNnXRCyavT7iLVvW9BrhI6Ovg2W6QV/WP2KDOyLrsFKKbfKt/lrPHAzcDbwF+C9hgG2kkDYnQDaKkTz2wrwd/F+Jsaso0RiVxR0JFp1igWHRoR26lc/W1UivEBhVLD1a93z5b8EPBhSrxqqRur7G7S1Vu80vow8DdfS3fyRVXcmwItc1Xa3SXKJUut8cOm7Q+TvD3wG8aHqvvscv3u6KWGxSqtADga8Cfk5uWr6ZPbLtSpUWr5Dqj+PtOMOpryPXZGoxeJ/xN0JXgJ9IyhNz2rnmFzlQqM7IXAV8Fh65oWGpDXeBM732jHZ1RgqZyPVI4ZprQX4HfbLQtdEWZvIOXCchU7AcEA72OoJ80Gxc1FgCjR98jPOENwL3AUpWWlAgQyE6Z94FKCxWgu4Uvqg0QE+wuQ6R2nSKm37g2RDnNOe30idx6+1zGDQaeW3+g43r3oOuzY9TPBtmngIewn1RDK1r6tvXJ82BwXBLwY3bbVtr25BHibbck07c5J03gtjvmMWlyzs7th7jpPf9BjB6j7XQnEo2XSli8iHW6pR0p+gTydhAz4FuSG2x4LjeMTirzIKNRaHTs9EH+8PaTmTQ5haksQHCBizECabC0yrvqIwqkY4GPSfqQJYgmJBARuVisWFxMBaz2+Y2YUaRzoeN65zh6SuATf34Kx04fpOl8euNK75j/xqO49bO/zOXvmsFASPEpxAKKZvypRryaWMyo1tjUyO9WNlFpoPJitXGrTK3d35Bfd8wAN982j1nHjydGc/hQZPyELGk2FmgEak2dNshlV8/m4itmkWXipFMm8ty6vTz79P4yJFTOpSKcIGga8D4It8siL6U7X/a7RMTRhGb6UGaynX699xg3PuPDt85j/hlTAHjkW9s4dsY43rxkeoIZYw+QEMSSy2dyxTUncsy0pMHh4cg/PLCFTc/sQzE2jaP9KVAURtcBn3PQUF6q7FI5jpNLELVG2skzmHHjAjOPP6oHxPDhyNU3zOWNC48GYNXK3fzNvc/zwU+cWi8hxAI3gMw9ZTK/fePJLCjnADy9ag/fuGcjP3/+QEeG0AlFdW0kwhzkUw2rchUFwcWbRCxdH+3qrEwfhJgzfxJXXDuXcy6YPqqRrl+1h89/fF1ywWpUd1UuBSy95g1cdcPJ9Zwdm4d4+MEXeGLZzr6xpJPOKh2BkogVlkS0Ls9iMVFuLWoDKL1VFCji0jYWnHk0p507dVQQG9bt5c4/WEs8VHS+3KAiosJkubjw8uMAaA1HHv+7rXz7vo0cPliMXAOpkSRXPxBSABeXBLQ8l+P8UMS5baPqdLuqjNyxptzqFbt46vs7GRyXJb4KipZZ++P/pvXqcE0JNbxCcMQ2HoZvff45Fl08k7+973m2v/BKvwqv84jteKZSI6nULsBaEO2FuYpigWLRkXVWgGThMq1Vw043P7OPnz66/YglZzPdDjHWNrJ6+Q5WL99xZADNGBnb+WntwSRkTUbFrDw4zg0xNqyqnYIYE0yPx5JcepQjvb2RWTe81rijMmbNmdRfEBIH9h1m9/ZXiY0AqmZ+p8oMAuDxAR+TK3pm7Rbr/Em1CKp8JuVB1N5M8TVEadL91Zyb7jibBedPG3XOw/c9x8N/saF/mq9QyigigqI8MVf0hDrwlRSqPFiT53KnpMcCpDmnCWQs1UqWqfcdVYlNkx0Rogdy7FZbI/TEkD4V29g10pzTAPKVj65m/nnT+sbXEGDfS4fZ+O97+r/DidrNQi9AzGW9VPUPJENMCaFiVzxtmIQLd/w+okbcCWTfroP89JGtY6Jkd+0oOus6J8N6NZfZokL1YlV1+WI7A1UtifR74eJZHD19PFkeaikWhXni25vZ9LM9/YvEWDdbmDFnEifMn8L6lbt49UBrjNlwuwuj4OTvUmQYttmXE/WMrATTruNIiJ0leXHIFK30pBPmT+GE+VN6Xnb2rx/H1z+6hrXLdzZ7faV2VGvo/V84l9nzJrNj4wG+85n1rH9i12hpXLtAMRBUC9kpQL5itCsohqcVwx5FUQ2K9BmiUBFQIdYs28nyr21i95Yhdjx/oGNs37Cf4YMFEybnvP+eczj3ktmo6OpjxfZ4cesQALNOnsRNXz6f3/v0QqbOmNBxT+dQor4rgQRspaBI2AbhWb1nwQ/IhlvLMRe2e0ZlUIzu7DN0NwnqpNic987ZXPPp08kHE92+8vtrOO0t0/mVdx7P7q1D/PGSf6njQsjEhb8zl7ffOI+jpqTWwPDBgke+uIHlD2xi+GAxsmJCmUoQcMhw0H1xYPDW7Oyp15K1mC/4NRUpPZaTNpIUQimFNJJ0KiomaQmx/T8PsHn9Xt506UxCJs66aCbTT5xIPhgY2jvMDx/4efm89NxNa15m5UNbeP2cicz6pUlkeeDURdM4f+nxbFr7Mi/vONR+p6t2k9rNU2WggEN2m7N8bVARUNQKtQLBgRBFiKGkVoaKQCgqiqVRXU9zy/NRrH/8Re688icM7R0mZGL8pLyzRG3QV1EMvTTMl29YzV3v/gnbntmfyuTjJ/DB+8/lpDOPSTSPSu+IiVKqhShM2A9hbVQghEKEVvh+FrW6e2HE8nesAFZ2k8CG+rrKewKb1+7ns5c9xd5fHOrwOMHqWERzPPfkS3zqHT/mmx97muGDBc+sfJFd/zWUtFCNigkIYpa8lvWo0TYUyMvFRdC9wfF+l+1PHDo7IxppF8jNbA4kdm88yN2/8a9c/7WFzJw3kdahCK0Epu6Qdj0vHoaVf72NNf+0i4P7WxQtI3emlA4loCCwLIU7IGAFsvOmXEfWMrK2Cb1b1uRQd9UrVjbthPZ3Grw1deNfiKGXW+zcMEQ2IFZ/7xdsXru/wXB12F3bFsTwqxEX5TsI9RuCErXSFp+wwgqH7E+dZRQDGbpx9kqy4VhJ6EYi91S5jN2dZI2wu6Xu76415J7uqMeYZnZ2MF1VhQFiCMQsvDUOZj8q8ozh8QPkyYDKQGketP0BoVM7Wph2n8a6uxrbrjVTteatMifT2Nbvftspavabq1RD/4jCj1zSygrkIqTiJmXt+2TeC35CdPQhOjLOdkOieU3NkibFon6N6REEUtsmpGKurgTbrSinHeWtSNc7BKysjCWBHIUOrQs9CXwS+7a65G0srlnbdLRR+6TYPZ0c988K3dUxsYQb+x+xpJYDEHRLDGGHg3CWQFiBHGXJG5Dy/3LunwjOJPqK5iKau7K98uwjeR+hGR+7qKTkql0yKVIuPlk7MdOfOeMhZyJmImaBmAUcRO4s4Ex1YV+2hKLgKuRlMosrioZ6k7R7H6D/dnZ/FqmHnpJTt6aMm3VVG5TCRYCYc1fM9PGYUYIQMW+DyWOeEWNq/6R6pC5rhyUtFf6e7MXE9OrQ0EJvPBlB/BrdYVV2bIlgE0OSmjPhDIpcX4g5Nxc1CCgaQJyJvMiztP8RgQKyVtX4AgqGgIuQ75e5rvJgoYtWr80d9QHhtlG7MuqkiRhz3RJz31XkosihyBsaySCGBCZvDSYZZ1E4lNsFhaEFGYICy/G9ClpN9KcEU1KTojLII++YjBYuKifhspWQ/hVikLbEjOtixmMxh2IAigGRtFKCCSnax0zkrcFk6I5JGwgylSlHCzKBWxlEfylIy2S+JLgYo6CUwv/vj6R9G8iqPrsOIf6SwEcI7I8ZxFwUA6bSStJEApG8mchbA+Xii6QmBye1tsqd0oKywBeO3iTxNswFgk9iFgVroG3ueg0QqoCfFhPNK4Jlgj8CPZtyntLYs0rytOlUOoEyk0oacYBYpJ0lB7VdniAfptHrKjUlr5D1VuwzBB/CLAGdqJEah+oyl9qj6TB4I/DdAPcattDIx2gmyaExsjaI6i9XeZGrNrpqNFtDIUKIIUXbcmKdVJqfCd4HjAOfAboU+FVgRvk/rfHAQGlCh4EhwT5gi+AHmH8GbRAU0aQ+Qenm5UZp28iy3ajpKm2U8e3/wvH/P8f/DACMQ7FL/FtdXwAAAABJRU5ErkJggg==",e1="/assets/new-metachrome-card-1767465592682.png",bm="/assets/FAQ_image-2_1755414462649-1767465592682.png",QL="/assets/featureimage01_1754552987907-1767465592682.png",XL="/assets/featureimage02_1754552987908-1767465592682.png",YL="/assets/featureimage03_1754552987909-1767465592682.png",t1="/assets/emailsb_1754552987905-1767465592682.png",ib=()=>{const[t,e]=m.useState([]),[r,s]=m.useState(!0),[i,a]=m.useState(null),o=async()=>{try{s(!0),a(null),console.log(" Fetching from CoinMarketCap via server proxy...");const l=await fetch("/api/market-data",{headers:{Accept:"application/json"},signal:AbortSignal.timeout(15e3)});if(!l.ok)throw new Error(`Server API failed: ${l.status} ${l.statusText}`);const d=await l.json();if(d.error&&d.fallback){console.log(" Server returned fallback data due to CoinMarketCap API error"),e(d.fallback),a("Using cached data");return}console.log(" CoinMarketCap data received via server proxy"),e(d),a(null)}catch(l){console.error(" Server proxy failed, trying direct CoinGecko fallback:",l);try{console.log(" Fallback: Fetching from CoinGecko API...");const d=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,binancecoin,solana,cardano,ripple,dogecoin,polygon,avalanche-2,chainlink,litecoin,polkadot,uniswap,shiba-inu&order=market_cap_desc&per_page=15&page=1&sparkline=false&price_change_percentage=24h",{headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!d.ok)throw new Error(`CoinGecko API failed: ${d.status} ${d.statusText}`);const h=await d.json();console.log(" CoinGecko fallback data received");const f=h.map(p=>{var v,g,N;return{id:p.id,symbol:`${p.symbol.toUpperCase()}/USDT`,name:p.name,price:`$${p.current_price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:p.current_price<1?6:2})}`,change:`${((v=p.price_change_percentage_24h)==null?void 0:v.toFixed(2))||"0.00"}%`,high:`$${((g=p.high_24h)==null?void 0:g.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:p.high_24h<1?6:2}))||"N/A"}`,low:`$${((N=p.low_24h)==null?void 0:N.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:p.low_24h<1?6:2}))||"N/A"}`,isPositive:(p.price_change_percentage_24h||0)>=0,marketCap:p.market_cap,volume:p.total_volume,image:p.image,coinGeckoId:p.id,rawPrice:p.current_price,rawChange:p.price_change_percentage_24h||0}});e(f),a("Using CoinGecko fallback"),console.log(" CoinGecko fallback data processed successfully")}catch(d){console.error(" All crypto data sources failed:",d),a("Failed to fetch"),console.log(" Using enhanced fallback data..."),e([{id:"bitcoin",symbol:"BTC/USDT",name:"Bitcoin",price:"$43,250.50",change:"+2.45%",high:"$44,100",low:"$42,800",isPositive:!0,marketCap:85e10,volume:25e9,image:"https://cryptoicons.org/api/icon/btc/200",coinGeckoId:"bitcoin",rawPrice:43250.5,rawChange:2.45},{id:"ethereum",symbol:"ETH/USDT",name:"Ethereum",price:"$2,650.75",change:"-1.23%",high:"$2,720",low:"$2,580",isPositive:!1,marketCap:32e10,volume:15e9,image:"https://cryptoicons.org/api/icon/eth/200",coinGeckoId:"ethereum",rawPrice:2650.75,rawChange:-1.23},{id:"binancecoin",symbol:"BNB/USDT",name:"BNB",price:"$315.20",change:"+3.67%",high:"$325",low:"$305",isPositive:!0,marketCap:5e10,volume:2e9,image:"https://cryptoicons.org/api/icon/bnb/200",coinGeckoId:"binancecoin",rawPrice:315.2,rawChange:3.67},{id:"solana",symbol:"SOL/USDT",name:"Solana",price:"$98.45",change:"+5.12%",high:"$102",low:"$94",isPositive:!0,marketCap:45e9,volume:3e9,image:"https://cryptoicons.org/api/icon/sol/200",coinGeckoId:"solana",rawPrice:98.45,rawChange:5.12},{id:"cardano",symbol:"ADA/USDT",name:"Cardano",price:"$0.485",change:"-2.34%",high:"$0.52",low:"$0.47",isPositive:!1,marketCap:15e9,volume:8e8,image:"https://cryptoicons.org/api/icon/ada/200",coinGeckoId:"cardano",rawPrice:.485,rawChange:-2.34},{id:"ripple",symbol:"XRP/USDT",name:"XRP",price:"$0.6234",change:"+4.12%",high:"$0.65",low:"$0.59",isPositive:!0,marketCap:35e9,volume:15e8,image:"https://cryptoicons.org/api/icon/xrp/200",coinGeckoId:"ripple",rawPrice:.6234,rawChange:4.12},{id:"dogecoin",symbol:"DOGE/USDT",name:"Dogecoin",price:"$0.0823",change:"+6.78%",high:"$0.087",low:"$0.076",isPositive:!0,marketCap:12e9,volume:9e8,image:"https://cryptoicons.org/api/icon/doge/200",coinGeckoId:"dogecoin",rawPrice:.0823,rawChange:6.78},{id:"polygon",symbol:"POL/USDT",name:"Polygon",price:"$0.8945",change:"+3.21%",high:"$0.92",low:"$0.86",isPositive:!0,marketCap:85e8,volume:65e7,image:"https://cryptoicons.org/api/icon/pol/200",coinGeckoId:"polygon",rawPrice:.8945,rawChange:3.21},{id:"avalanche-2",symbol:"AVAX/USDT",name:"Avalanche",price:"$36.78",change:"-1.45%",high:"$38.20",low:"$35.90",isPositive:!1,marketCap:14e9,volume:75e7,image:"https://cryptoicons.org/api/icon/avax/200",coinGeckoId:"avalanche-2",rawPrice:36.78,rawChange:-1.45},{id:"chainlink",symbol:"LINK/USDT",name:"Chainlink",price:"$14.56",change:"+2.89%",high:"$15.10",low:"$14.20",isPositive:!0,marketCap:88e8,volume:42e7,image:"https://cryptoicons.org/api/icon/link/200",coinGeckoId:"chainlink",rawPrice:14.56,rawChange:2.89},{id:"litecoin",symbol:"LTC/USDT",name:"Litecoin",price:"$73.45",change:"+1.67%",high:"$75.20",low:"$71.80",isPositive:!0,marketCap:54e8,volume:38e7,image:"https://cryptoicons.org/api/icon/ltc/200",coinGeckoId:"litecoin",rawPrice:73.45,rawChange:1.67},{id:"polkadot",symbol:"DOT/USDT",name:"Polkadot",price:"$5.89",change:"-3.12%",high:"$6.15",low:"$5.75",isPositive:!1,marketCap:72e8,volume:29e7,image:"https://cryptoicons.org/api/icon/dot/200",coinGeckoId:"polkadot",rawPrice:5.89,rawChange:-3.12},{id:"uniswap",symbol:"UNI/USDT",name:"Uniswap",price:"$6.78",change:"+4.56%",high:"$7.05",low:"$6.45",isPositive:!0,marketCap:51e8,volume:34e7,image:"https://cryptoicons.org/api/icon/uni/200",coinGeckoId:"uniswap",rawPrice:6.78,rawChange:4.56},{id:"shiba-inu",symbol:"SHIB/USDT",name:"Shiba Inu",price:"$0.000009234",change:"+8.92%",high:"$0.000009850",low:"$0.000008650",isPositive:!0,marketCap:54e8,volume:28e7,image:"https://cryptoicons.org/api/icon/shib/200",coinGeckoId:"shiba-inu",rawPrice:9234e-9,rawChange:8.92}])}}finally{s(!1)}};return m.useEffect(()=>{o();const l=setInterval(()=>{o()},i?3e4:6e4);return()=>clearInterval(l)},[i]),{cryptoData:t,loading:r,error:i,refetch:o,retry:()=>{console.log(" Manual retry triggered"),o()},forceRefresh:async()=>{try{console.log(" Force refreshing data from server..."),s(!0),await fetch("/api/market-data/refresh",{method:"POST"}),await o()}catch(l){console.error(" Force refresh failed:",l),o()}}}};var JL=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},ZL=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function eF(){var t=this,e=m.useState(null),r=e[0],s=e[1],i=m.useState(""),a=i[0],o=i[1],c=ns(),u=c[1],l=Ui(),d=ib(),h=d.cryptoData,f=d.loading,p=d.error,v=d.retry,g=m.useState([{symbol:"BTC",price:"$43,250",change:"+2.34%",color:"bg-orange-500"},{symbol:"ETH",price:"$2,650",change:"+1.89%",color:"bg-blue-500"},{symbol:"BNB",price:"$315",change:"+0.89%",color:"bg-yellow-500"},{symbol:"SOL",price:"$245",change:"+3.45%",color:"bg-purple-500"}]),N=g[0],b=g[1],x=function(){return JL(t,void 0,void 0,function(){var S,E,_;return ZL(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),[4,fetch("/api/market-data/top-gainers")];case 1:return S=P.sent(),S.ok?[4,S.json()]:[3,3];case 2:E=P.sent(),b(E),console.log(" Top gainers data updated from CoinMarketCap"),P.label=3;case 3:return[3,5];case 4:return _=P.sent(),console.log(" Using fallback top gainers data:",_),[3,5];case 5:return[2]}})})};m.useEffect(function(){x();var S=setInterval(x,12e4);return function(){return clearInterval(S)}},[]);var y=[{icon:QL,title:"Fast Execution",description:"Experience blazing-fast trade performance and experience."},{icon:XL,title:"Secure Wallets",description:"Your assets are protected with top-level security protocols."},{icon:YL,title:"Real-Time Updates",description:"Stay updated with real-time charts and market data."}],w=[{title:"Create Your Account",description:"Join in seconds, secure, and built for all traders."},{title:"Verify & Activate",description:"Unlock full access with multi-layered protection."},{title:"Deposit / Buy Crypto",description:"Top up with flexible options, ready to deploy instantly."},{title:"Trade",description:"Experience deep liquidity, real-time insights, and refined execution."}],C=[{question:"What is METACHROME?",answer:"METACHROME is a next-generation option trading platform designed to make crypto trading secure, simple, and accessible for everyone."},{question:"Why use METACHROME?",answer:"Because it's legit, easy to use, and fully integrated with Google and MetaMask. Our platform combines transparency, simplicity, and trust."},{question:"How to make a deposit on METACHROME?",answer:"You'll need a crypto wallet or exchange account. Buy USDT/BTC/ETH/SOL on your preferred exchange/wallet. Send it to your designated METACHROME wallet address. Your balance will appear automatically after confirmation."},{question:"How to start trading on METACHROME?",answer:"Once your deposit is confirmed, open the Trading Dashboard, choose your pair and duration, then place your trade."},{question:"Is METACHROME safe?",answer:"Yes. We use blockchain-based transactions, SSL encryption, and non-custodial wallet connections to keep your funds secure."},{question:"What assets are supported on METACHROME?",answer:"Currently, we only provide USDT (TRC20, ERC20, and BEP20). More assets will be added soon."},{question:"Do I need KYC?",answer:"Yes. All users are required to complete KYC verification before trading or withdrawing. This process ensures security, prevents fraud, and complies with global financial regulations."}],k=function(S){S.preventDefault(),console.log("Newsletter signup:",a),o("")};return l?n.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[n.jsx(qL,{}),n.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/30 border-y border-blue-500/30 relative overflow-hidden",style:{height:"56px"},children:n.jsx("div",{className:"px-4 h-full",children:n.jsxs("div",{className:"flex items-center h-full gap-2",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:Zj,alt:"Announcement",className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[n.jsx("style",{children:`
                  @keyframes mobile-scroll-fast {
                    0% {
                      transform: translate3d(0, 0, 0);
                      -webkit-transform: translate3d(0, 0, 0);
                    }
                    100% {
                      transform: translate3d(-50%, 0, 0);
                      -webkit-transform: translate3d(-50%, 0, 0);
                    }
                  }
                  @-webkit-keyframes mobile-scroll-fast {
                    0% { -webkit-transform: translate3d(0, 0, 0); }
                    100% { -webkit-transform: translate3d(-50%, 0, 0); }
                  }
                  .mobile-ticker-wrapper {
                    display: inline-flex;
                    animation: mobile-scroll-fast 23s linear infinite;
                    -webkit-animation: mobile-scroll-fast 23s linear infinite;
                    will-change: transform;
                    backface-visibility: hidden;
                    -webkit-backface-visibility: hidden;
                  }
                  .mobile-ticker-item {
                    flex-shrink: 0;
                    padding-right: 3rem;
                    white-space: nowrap;
                    display: inline-block;
                  }
                `}),n.jsxs("div",{className:"mobile-ticker-wrapper",children:[n.jsx("div",{className:"mobile-ticker-item text-white text-sm font-medium",children:"Metachrome introduces seamless trading built for speed and precision    Crypto market cap expands almost 5% in 24 hours    Bitcoin surges past key resistance traders eye the next breakout    Ethereum momentum builds smart money is already in    Market opportunities don't wait execute faster with Metachrome"}),n.jsx("div",{className:"mobile-ticker-item text-white text-sm font-medium",children:"Metachrome introduces seamless trading built for speed and precision    Crypto market cap expands almost 5% in 24 hours    Bitcoin surges past key resistance traders eye the next breakout    Ethereum momentum builds smart money is already in    Market opportunities don't wait execute faster with Metachrome"})]})]})]})})}),n.jsxs("section",{className:"px-4 py-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Currency List"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data  Updates every minute"}),f&&n.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),p&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("p",{className:"text-yellow-400 text-sm",children:"Using cached data  Real-time updates temporarily unavailable"}),n.jsx("button",{onClick:v,className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Retry"})]})]}),n.jsx(je,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:n.jsx(Ce,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-800/30",children:[n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Name"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Price"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"24h"})]})}),n.jsx("tbody",{children:f?Array.from({length:5}).map(function(S,E){return n.jsxs("tr",{className:"border-b border-purple-800/20",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{children:[n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse mb-1 w-12"}),n.jsx("div",{className:"h-2 bg-gray-700 rounded animate-pulse w-8"})]})]})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-10"})})]},E)}):h.slice(0,12).map(function(S){return n.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gradient-to-br from-purple-600/20 to-blue-600/20 flex items-center justify-center border border-purple-500/30",children:[n.jsx("img",{src:S.image||"https://cryptoicons.org/api/icon/".concat(S.symbol.split("/")[0].toLowerCase(),"/200"),alt:S.name,className:"w-6 h-6 object-contain",onError:function(E){var _=E.currentTarget;_.style.display="none";var P=_.nextElementSibling;P&&(P.style.display="flex")}}),n.jsx("span",{className:"text-white font-bold text-xs hidden",children:S.symbol.split("/")[0].charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white text-sm",children:S.symbol}),n.jsx("div",{className:"text-xs text-gray-400",children:S.name})]})]})}),n.jsx("td",{className:"p-3 text-white font-medium text-sm",children:S.price}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-1 ".concat(S.isPositive?"text-green-400":"text-red-400"),children:[S.isPositive?n.jsx(Zs,{className:"w-3 h-3"}):n.jsx(Ed,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium text-xs",children:S.change})]})})]},S.symbol)})})]})})})})]}),n.jsxs("section",{className:"px-4 py-8",children:[n.jsx("div",{className:"mb-6",children:n.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-left",children:"Top Gainers"})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:N.map(function(S){return n.jsx(je,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsx("div",{className:"w-8 h-8 ".concat(S.color," rounded-full flex items-center justify-center"),children:n.jsx("span",{className:"text-white font-bold text-xs",children:S.symbol})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-bold text-sm",children:S.symbol}),n.jsx("span",{className:"text-gray-400 text-xs",children:S.price.replace("$","")})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-bold text-sm",children:S.change})]})]})]})},S.symbol)})})]}),n.jsxs("section",{className:"px-4 py-8",children:[n.jsx("div",{className:"mb-8 text-left",children:n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Metachrome Features"})}),n.jsx("div",{className:"space-y-6",children:y.map(function(S,E){return n.jsx(je,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:n.jsxs(Ce,{className:"p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("img",{src:S.icon,alt:S.title,className:"w-32 h-32 object-contain"})}),n.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:S.title}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:S.description})]})},E)})})]}),n.jsx("section",{className:"bg-black py-12",children:n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"A New Era Begins"}),n.jsx("p",{className:"text-gray-400 mb-8 text-base leading-relaxed",children:"Explore the future of tradingsmart, secure, and accessible for everyone."}),n.jsx("div",{className:"space-y-6",children:w.map(function(S,E){return n.jsxs("div",{className:"flex items-start space-x-3 relative",children:[n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0 bg-black z-10",children:E+1}),E<w.length-1&&n.jsx("div",{className:"w-0.5 h-12 bg-gray-600 mt-3"})]}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:S.title}),n.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:S.description})]})]},E)})})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:e1,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),n.jsx("section",{className:"px-4 py-8",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-base",children:"Essential information to support your trading journey."}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-64 h-64",children:n.jsx("img",{src:bm,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),n.jsx("div",{className:"space-y-4",children:C.map(function(S,E){return n.jsxs(xm,{open:r===E,onOpenChange:function(){return s(r===E?null:E)},children:[n.jsx(vm,{asChild:!0,children:n.jsx(je,{className:"bg-black border-2 transition-all duration-300 cursor-pointer ".concat(r===E?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"),children:n.jsx(Ce,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium pr-3 text-sm transition-colors duration-300 ".concat(r===E?"text-purple-400":"text-white"),children:S.question}),n.jsx(ha,{className:"w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ".concat(r===E?"rotate-180 text-purple-400":"")})]})})})}),n.jsx(ym,{children:n.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-sm",children:S.answer})})})]},E)})})]})}),n.jsx("section",{className:"bg-black py-8",children:n.jsx("div",{className:"px-4",children:n.jsx(je,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"space-y-6 text-center",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"relative",children:n.jsx("img",{src:t1,alt:"Newsletter Chart",className:"w-full max-w-xs h-auto object-contain"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs mb-2 uppercase tracking-wider",children:"Get Started For Free"}),n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 leading-tight",children:["Subscribe our newsletter &",n.jsx("br",{}),"Stay Update Every Day"]}),n.jsxs("form",{onSubmit:k,className:"flex flex-col space-y-3",children:[n.jsx(Be,{type:"email",placeholder:"Enter you email",value:a,onChange:function(S){return o(S.target.value)},className:"bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-10 rounded-lg"}),n.jsx(X,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 h-10 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]}):n.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[n.jsx("section",{className:"relative overflow-hidden bg-black py-6",children:n.jsx("div",{className:"w-full px-4",children:n.jsxs("div",{className:"relative max-w-6xl mx-auto",children:[n.jsx("img",{src:Fk,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-cover rounded-lg",style:{maxHeight:"400px",objectFit:"cover"}}),n.jsx("div",{className:"absolute top-80 left-40 z-20",children:n.jsx(X,{onClick:function(){return u("/trade/options")},className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-4 rounded-lg text-lg font-semibold border-0 shadow-lg transform hover:scale-105 transition-all duration-300",children:"Start Trading"})})]})})}),n.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/20 border-y border-blue-500/30 relative overflow-hidden",style:{height:"60px"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 h-full",children:n.jsxs("div",{className:"flex items-center h-full gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:Zj,alt:"Announcement",className:"w-6 h-6"})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("div",{className:"whitespace-nowrap animate-scroll",children:n.jsx("span",{className:"text-white text-base font-medium",children:"Metachrome introduces seamless trading built for speed and precision    Crypto market cap expands almost 5% in 24 hours    Bitcoin surges past key resistance traders eye the next breakout    Ethereum momentum builds smart money is already in    Market opportunities don't wait execute faster with Metachrome    Metachrome introduces seamless trading built for speed and precision    Crypto market cap expands almost 5% in 24 hours    Bitcoin surges past key resistance traders eye the next breakout    Ethereum momentum builds smart money is already in"})})})]})})}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Currency List"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data  Updates every minute"}),f&&n.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),p&&n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("p",{className:"text-yellow-400 text-sm",children:"Using cached data  Real-time updates temporarily unavailable"}),n.jsx("button",{onClick:v,className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Retry"})]})]}),n.jsx(je,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:n.jsx(Ce,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-800/30",children:[n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Name"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Last Price"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Change"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h High"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Low"})]})}),n.jsx("tbody",{children:f?Array.from({length:5}).map(function(S,E){return n.jsxs("tr",{className:"border-b border-purple-800/20",children:[n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse mb-1 w-20"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})]})]})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-24"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-16"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})})]},E)}):h.map(function(S){return n.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-to-br from-purple-600/20 to-blue-600/20 flex items-center justify-center border border-purple-500/30",children:[n.jsx("img",{src:S.image||"https://cryptoicons.org/api/icon/".concat(S.symbol.split("/")[0].toLowerCase(),"/200"),alt:S.name,className:"w-9 h-9 object-contain",onError:function(E){var _=E.currentTarget;_.style.display="none";var P=_.nextElementSibling;P&&(P.style.display="flex")}}),n.jsx("span",{className:"text-white font-bold text-sm hidden",children:S.symbol.split("/")[0].charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white",children:S.symbol}),n.jsx("div",{className:"text-sm text-gray-400",children:S.name})]})]})}),n.jsx("td",{className:"p-6 text-white font-medium",children:S.price}),n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-1 ".concat(S.isPositive?"text-green-400":"text-red-400"),children:[S.isPositive?n.jsx(Zs,{className:"w-4 h-4"}):n.jsx(Ed,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:S.change})]})}),n.jsx("td",{className:"p-6 text-gray-300",children:S.high}),n.jsx("td",{className:"p-6 text-gray-300",children:S.low})]},S.symbol)})})]})})})})]}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-left",children:"Top Gainers"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map(function(S){return n.jsx(je,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:n.jsxs(Ce,{className:"p-6",children:[n.jsx("div",{className:"flex items-center mb-6",children:n.jsx("div",{className:"w-12 h-12 ".concat(S.color," rounded-full flex items-center justify-center"),children:n.jsx("span",{className:"text-white font-bold text-sm",children:S.symbol})})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-bold text-lg",children:S.symbol}),n.jsx("span",{className:"text-gray-400 text-sm",children:S.price.replace("$","")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-bold text-lg",children:S.change})]})]})]})},S.symbol)})})]}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsx("div",{className:"mb-12 text-left",children:n.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Metachrome Features"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:y.map(function(S,E){return n.jsx(je,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:n.jsxs(Ce,{className:"p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:S.icon,alt:S.title,className:"w-60 h-60 object-contain"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:S.title}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-base",children:S.description})]})},E)})})]}),n.jsx("section",{className:"bg-black py-24",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"A New Era Begins"}),n.jsx("p",{className:"text-gray-400 mb-12 text-lg leading-relaxed",children:"Explore the future of tradingsmart, secure, and accessible for everyone."}),n.jsx("div",{className:"space-y-8",children:w.map(function(S,E){return n.jsxs("div",{className:"flex items-start space-x-4 relative",children:[n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"w-10 h-10 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0 bg-black z-10",children:E+1}),E<w.length-1&&n.jsx("div",{className:"w-0.5 h-16 bg-gray-600 mt-4"})]}),n.jsxs("div",{className:"flex-1 pt-2",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:S.title}),n.jsx("p",{className:"text-gray-400 leading-relaxed",children:S.description})]})]},E)})})]}),n.jsx("div",{className:"flex justify-center lg:justify-end",children:n.jsx("img",{src:e1,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),n.jsx("section",{className:"max-w-7xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Essential information to support your trading journey."}),n.jsx("div",{className:"p-0 m-0",children:n.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:n.jsx("img",{src:bm,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),n.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:C.map(function(S,E){return n.jsxs(xm,{open:r===E,onOpenChange:function(){return s(r===E?null:E)},children:[n.jsx(vm,{asChild:!0,children:n.jsx(je,{className:"bg-black border-2 transition-all duration-300 cursor-pointer ".concat(r===E?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"),children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium pr-4 text-lg transition-colors duration-300 ".concat(r===E?"text-purple-400":"text-white"),children:S.question}),n.jsx(ha,{className:"w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ".concat(r===E?"rotate-180 text-purple-400":"")})]})})})}),n.jsx(ym,{children:n.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-lg",children:S.answer})})})]},E)})})]})}),n.jsx("section",{className:"bg-black py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx(je,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:n.jsx(Ce,{className:"p-12",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"flex justify-center lg:justify-start",children:n.jsx("div",{className:"relative",children:n.jsx("img",{src:t1,alt:"Newsletter Chart",className:"w-full max-w-lg h-auto object-contain",style:{width:"512px",height:"384px"}})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase tracking-wider",children:"Get Started For Free"}),n.jsxs("h2",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Subscribe our newsletter &",n.jsx("br",{}),"Stay Update Every Day"]}),n.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx(Be,{type:"email",placeholder:"Enter you email",value:a,onChange:function(S){return o(S.target.value)},className:"flex-1 bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-12 rounded-lg"}),n.jsx(X,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 h-12 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]})}function tF(){var t=m.useState(""),e=t[0],r=t[1],s=Ui(),i=ib(),a=i.cryptoData,o=i.loading,c=i.error,u=i.forceRefresh,l=i.retry,d=a.filter(function(h){return h.symbol.toLowerCase().includes(e.toLowerCase())||h.name.toLowerCase().includes(e.toLowerCase())});return n.jsx("div",{className:"min-h-screen bg-[#10121E]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Markets"}),n.jsx("p",{className:"text-gray-400",children:"Live crypto data in real time"})]}),n.jsxs("div",{className:"mb-8 ".concat(s?"flex gap-2":"flex items-center justify-end space-x-4"),children:[n.jsxs("div",{className:"relative ".concat(s?"flex-1":""),children:[n.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(Be,{type:"text",placeholder:s?"Search...":"Search cryptocurrencies...",value:e,onChange:function(h){return r(h.target.value)},className:"pl-10 ".concat(s?"w-full":"w-64"," bg-[#3A3A4E] border-gray-600 text-white placeholder-gray-400 rounded-md")})]}),n.jsxs(X,{onClick:u,disabled:o,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white rounded-md flex items-center gap-2 ".concat(s?"px-3 py-2 text-sm flex-shrink-0":"px-4 py-2"),title:o?"Updating...":"Refresh",children:[n.jsx(na,{className:"w-4 h-4 ".concat(o?"animate-spin":"")}),!s&&(o?"Updating...":"Refresh")]})]}),n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full ".concat(o?"bg-yellow-400 animate-pulse":c?"bg-red-400":"bg-green-400")}),n.jsx("span",{className:"text-sm text-gray-400",children:o?"Updating market data...":c?"Using cached data":"Real-time data"}),c&&n.jsx("button",{onClick:l,className:"text-blue-400 text-sm underline hover:text-blue-300 ml-2",children:"Retry"})]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[d.length," cryptocurrencies"]})]}),n.jsx(je,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:n.jsx(Ce,{className:"p-0",children:n.jsx("div",{className:s?"":"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-800/30",children:[n.jsx("th",{className:"text-left font-medium text-gray-400 ".concat(s?"p-3 text-xs":"p-6 text-sm"),children:"Name"}),n.jsx("th",{className:"text-left font-medium text-gray-400 ".concat(s?"p-3 text-xs":"p-6 text-sm"),children:s?"Price":"Last Price"}),n.jsx("th",{className:"text-left font-medium text-gray-400 ".concat(s?"p-3 text-xs":"p-6 text-sm"),children:s?"24h":"24h Change"}),!s&&n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h High"}),!s&&n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Low"})]})}),n.jsx("tbody",{children:o?Array.from({length:5}).map(function(h,f){return n.jsxs("tr",{className:"border-b border-purple-800/20",children:[n.jsx("td",{className:s?"p-3":"p-6",children:n.jsxs("div",{className:"flex items-center ".concat(s?"space-x-2":"space-x-3"),children:[n.jsx("div",{className:"bg-gray-700 rounded-full animate-pulse ".concat(s?"w-6 h-6":"w-10 h-10")}),n.jsxs("div",{children:[n.jsx("div",{className:"bg-gray-700 rounded animate-pulse mb-1 ".concat(s?"h-3 w-12":"h-4 w-20")}),n.jsx("div",{className:"bg-gray-700 rounded animate-pulse ".concat(s?"h-2 w-8":"h-3 w-16")})]})]})}),n.jsx("td",{className:s?"p-3":"p-6",children:n.jsx("div",{className:"bg-gray-700 rounded animate-pulse ".concat(s?"h-3 w-16":"h-4 w-24")})}),n.jsx("td",{className:s?"p-3":"p-6",children:n.jsx("div",{className:"bg-gray-700 rounded animate-pulse ".concat(s?"h-3 w-10":"h-4 w-16")})}),!s&&n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),!s&&n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})})]},f)}):d.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:s?3:5,className:"py-12 text-center",children:n.jsxs("span",{className:"text-gray-400",children:['No cryptocurrencies found matching "',e,'"']})})}):d.map(function(h){return n.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[n.jsx("td",{className:s?"p-3":"p-6",children:n.jsxs("div",{className:"flex items-center ".concat(s?"space-x-2":"space-x-3"),children:[n.jsxs("div",{className:"rounded-full overflow-hidden bg-gradient-to-br from-purple-600/20 to-blue-600/20 flex items-center justify-center border border-purple-500/30 ".concat(s?"w-8 h-8":"w-12 h-12"),children:[n.jsx("img",{src:h.image||"https://cryptoicons.org/api/icon/".concat(h.symbol.split("/")[0].toLowerCase(),"/200"),alt:h.name,className:"object-contain ".concat(s?"w-6 h-6":"w-9 h-9"),onError:function(f){var p=f.currentTarget;p.style.display="none";var v=p.nextElementSibling;v&&(v.style.display="flex")}}),n.jsx("span",{className:"text-white font-bold hidden ".concat(s?"text-xs":"text-sm"),children:h.symbol.split("/")[0].charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white ".concat(s?"text-sm":""),children:h.symbol}),n.jsx("div",{className:"text-gray-400 ".concat(s?"text-xs":"text-sm"),children:h.name})]})]})}),n.jsx("td",{className:"text-white font-medium ".concat(s?"p-3 text-sm":"p-6"),children:h.price}),n.jsx("td",{className:s?"p-3":"p-6",children:n.jsxs("div",{className:"flex items-center space-x-1 ".concat(h.isPositive?"text-green-400":"text-red-400"),children:[h.isPositive?n.jsx(Zs,{className:s?"w-3 h-3":"w-4 h-4"}):n.jsx(Ed,{className:s?"w-3 h-3":"w-4 h-4"}),n.jsx("span",{className:"font-medium ".concat(s?"text-xs":""),children:h.change})]})}),!s&&n.jsx("td",{className:"p-6 text-gray-300",children:h.high}),!s&&n.jsx("td",{className:"p-6 text-gray-300",children:h.low})]},h.symbol)})})]})})})})]})})}var rF=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},nF=l0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-white hover:bg-destructive/80",outline:"text-white"}},defaultVariants:{variant:"default"}});function Mt(t){var e=t.className,r=t.variant,s=rF(t,["className","variant"]);return n.jsx("div",{className:Je(nF({variant:r}),e),...s})}var Kx=function(){return Kx=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kx.apply(this,arguments)},r1=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},n1=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function sF(t){var e=this,r,s=t.type,i=m.useState(s||"spot"),a=i[0],o=i[1],c=m.useState("BTCUSDT"),u=c[0];c[1];var l=m.useState("market"),d=l[0],h=l[1],f=m.useState(""),p=f[0],v=f[1],g=m.useState(""),N=g[0],b=g[1],x=m.useState("30s"),y=x[0],w=x[1],C=m.useState(!1),k=C[0],S=C[1],E=Cn().toast,_=en().user,P=ys(),W=Mr({queryKey:["/api/market-data"]}),F=W.data;W.isLoading;var I=Mr({queryKey:["/api/balances"],enabled:!!_}).data,D=Mr({queryKey:["/api/trades/active"],enabled:!!_,refetchInterval:5e3}).data,q=F==null?void 0:F.find(function(H){return H.symbol===u}),V=((r=I==null?void 0:I.find(function(H){return H.symbol==="USDT"}))===null||r===void 0?void 0:r.available)||"0",re=gn({mutationFn:function(H){return r1(e,void 0,void 0,function(){var he,Ee;return n1(this,function(B){switch(B.label){case 0:return[4,fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Kx({userId:_==null?void 0:_.id,symbol:u},H))})];case 1:return he=B.sent(),he.ok?[3,3]:[4,he.json()];case 2:throw Ee=B.sent(),new Error(Ee.message||"Failed to create trade");case 3:return[2,he.json()]}})})},onSuccess:function(H){E({title:"Trade Created",description:"Options trade created successfully for $".concat(p)}),v(""),P.invalidateQueries({queryKey:["/api/balances"]}),P.invalidateQueries({queryKey:["/api/trades/active"]})},onError:function(H){E({title:"Trade Failed",description:H.message||"Failed to create trade",variant:"destructive"})}}),L=[{value:"30s",label:"30s",percentage:"10%",seconds:30,minAmount:100},{value:"60s",label:"60s",percentage:"15%",seconds:60,minAmount:1e3},{value:"120s",label:"120s",percentage:"20%",seconds:120,minAmount:5e3},{value:"180s",label:"180s",percentage:"25%",seconds:180,minAmount:1e4},{value:"240s",label:"240s",percentage:"30%",seconds:240,minAmount:15e3},{value:"300s",label:"300s",percentage:"35%",seconds:300,minAmount:2e4},{value:"600s",label:"600s",percentage:"40%",seconds:600,minAmount:5e4}],M=L.find(function(H){return H.value===y}),U=function(H){return r1(e,void 0,void 0,function(){var he,Ee;return n1(this,function(B){switch(B.label){case 0:if(!_)return E({title:"Authentication Required",description:"Please log in to start trading",variant:"destructive"}),[2];if(!p||parseFloat(p)<=0)return E({title:"Invalid Amount",description:"Please enter a valid trade amount",variant:"destructive"}),[2];if(he=parseFloat(p),Ee=(M==null?void 0:M.minAmount)||100,he<Ee)return E({title:"Minimum Amount Required",description:"Minimum amount for ".concat(y," is $").concat(Ee),variant:"destructive"}),[2];if(he>parseFloat(V))return E({title:"Insufficient Balance",description:"You do not have enough USDT balance",variant:"destructive"}),[2];S(!0),B.label=1;case 1:return B.trys.push([1,,3,4]),[4,re.mutateAsync({direction:H,amount:p,duration:(M==null?void 0:M.seconds)||30})];case 2:return B.sent(),[3,4];case 3:return S(!1),[7];case 4:return[2]}})})},Q=function(H){var he=parseFloat(V),Ee=(he*H/100).toFixed(2);v(Ee)},oe=[{price:"118113.00",amount:"0.12345",total:"14567.89"},{price:"118112.50",amount:"0.23456",total:"27701.23"},{price:"118112.00",amount:"0.34567",total:"40834.56"},{price:"118111.50",amount:"0.45678",total:"53967.89"},{price:"118111.00",amount:"0.56789",total:"67101.23"}],Ne=[{time:"14:30:15",price:"118113.00",amount:"0.12345",side:"buy"},{time:"14:30:14",price:"118112.50",amount:"0.23456",side:"sell"},{time:"14:30:13",price:"118112.00",amount:"0.34567",side:"buy"},{time:"14:30:12",price:"118111.50",amount:"0.45678",side:"sell"},{time:"14:30:11",price:"118111.00",amount:"0.56789",side:"buy"}];return n.jsx("div",{className:"min-h-screen bg-[#1a1b2e] pt-16",children:n.jsxs("div",{className:"max-w-full px-4 sm:px-6 lg:px-8 py-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:u}),n.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[n.jsxs("span",{className:"text-2xl font-bold",children:["$",q!=null&&q.price?parseFloat(q.price).toLocaleString():"118113.00"]}),n.jsxs("span",{className:"flex items-center ".concat(parseFloat((q==null?void 0:q.priceChangePercent24h)||"0")>=0?"text-green-400":"text-red-400"),children:[parseFloat((q==null?void 0:q.priceChangePercent24h)||"0")>=0?n.jsx(Zs,{className:"w-4 h-4 mr-1"}):n.jsx(Ed,{className:"w-4 h-4 mr-1"}),parseFloat((q==null?void 0:q.priceChangePercent24h)||"0").toFixed(2),"%"]})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(Be,{placeholder:"Search",className:"pl-10 bg-[#2a2d47] border-gray-600 text-white w-64"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 h-auto lg:h-[calc(100vh-200px)]",children:[n.jsxs("div",{className:"lg:col-span-3 space-y-4 order-3 lg:order-1",children:[n.jsx(je,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Order Book"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[n.jsx("span",{children:"Price"}),n.jsx("span",{className:"text-right",children:"Amount"}),n.jsx("span",{className:"text-right",children:"Total"})]}),oe.map(function(H,he){return n.jsxs("div",{className:"grid grid-cols-3 text-red-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[n.jsx("span",{className:"font-mono",children:H.price}),n.jsx("span",{className:"font-mono text-right",children:H.amount}),n.jsx("span",{className:"font-mono text-right",children:H.total})]},"sell-".concat(he))}),n.jsx("div",{className:"py-2 text-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"$118113.00"})}),oe.reverse().map(function(H,he){return n.jsxs("div",{className:"grid grid-cols-3 text-green-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[n.jsx("span",{className:"font-mono",children:H.price}),n.jsx("span",{className:"font-mono text-right",children:H.amount}),n.jsx("span",{className:"font-mono text-right",children:H.total})]},"buy-".concat(he))})]})]})}),n.jsx(je,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Market Trades"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{className:"text-right",children:"Price"}),n.jsx("span",{className:"text-right",children:"Amount"})]}),Ne.map(function(H,he){return n.jsxs("div",{className:"grid grid-cols-3 hover:bg-[#1a1b2e]/50 p-1 rounded ".concat(H.side==="buy"?"text-green-400":"text-red-400"),children:[n.jsx("span",{className:"text-gray-400",children:H.time}),n.jsx("span",{className:"font-mono text-right",children:H.price}),n.jsx("span",{className:"font-mono text-right",children:H.amount})]},he)})]})]})})]}),n.jsx("div",{className:"lg:col-span-6 order-2 lg:order-2",children:n.jsx(je,{className:"bg-[#2a2d47] border-gray-600 h-64 lg:h-full",children:n.jsx(Ce,{className:"p-4 h-full",children:n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx(pc,{className:"w-16 h-16 mx-auto mb-4"}),n.jsx("p",{children:"Chart will be displayed here"}),n.jsxs("p",{className:"text-sm mt-2",children:["Real-time candlestick chart for ",u]})]})})})})}),n.jsxs("div",{className:"lg:col-span-3 space-y-4 order-1 lg:order-3",children:[n.jsxs("div",{className:"flex space-x-2 mb-4",children:[n.jsx(X,{variant:a==="spot"?"default":"outline",size:"sm",onClick:function(){return o("spot")},className:a==="spot"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Spot"}),n.jsx(X,{variant:a==="options"?"default":"outline",size:"sm",onClick:function(){return o("options")},className:a==="options"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Options"})]}),a==="options"?n.jsx(je,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Options Trading"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Duration"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:L.slice(0,4).map(function(H){return n.jsx(X,{variant:y===H.value?"default":"outline",size:"sm",onClick:function(){return w(H.value)},className:"text-xs ".concat(y===H.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{children:H.label}),n.jsx("div",{className:"text-xs opacity-75",children:H.percentage})]})},H.value)})}),n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:L.slice(4).map(function(H){return n.jsx(X,{variant:y===H.value?"default":"outline",size:"sm",onClick:function(){return w(H.value)},className:"text-xs ".concat(y===H.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{children:H.label}),n.jsx("div",{className:"text-xs opacity-75",children:H.percentage})]})},H.value)})})]}),n.jsxs("div",{className:"mb-4 p-3 bg-[#1a1b2e]/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Available Balance:"}),n.jsxs("span",{className:"text-white font-semibold",children:["$",parseFloat(V).toFixed(2)," USDT"]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsxs("span",{className:"text-gray-300",children:["Min Amount (",y,"):"]}),n.jsxs("span",{className:"text-yellow-400",children:["$",(M==null?void 0:M.minAmount)||100]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (USDT)"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[25,50,75,100].map(function(H){return n.jsxs(X,{variant:"outline",size:"sm",onClick:function(){return Q(H)},className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:[H,"%"]},H)})}),n.jsx(Be,{type:"number",placeholder:"0",value:p,onChange:function(H){return v(H.target.value)},className:"bg-[#1a1b2e] border-gray-600 text-white",min:(M==null?void 0:M.minAmount)||100})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(X,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:function(){return U("up")},disabled:k||!_,children:k?"Processing...":"Buy Up"}),n.jsx(X,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:function(){return U("down")},disabled:k||!_,children:k?"Processing...":"Buy Down"})]})]})}):n.jsx(je,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Spot Trading"}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex space-x-2",children:["market","limit"].map(function(H){return n.jsx(X,{variant:d===H?"default":"outline",size:"sm",onClick:function(){return h(H)},className:d===H?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700",children:H.charAt(0).toUpperCase()+H.slice(1)},H)})})}),d==="limit"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Price (USDT)"}),n.jsx(Be,{type:"number",placeholder:"0.00",value:N,onChange:function(H){return b(H.target.value)},className:"bg-[#1a1b2e] border-gray-600 text-white"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (BTC)"}),n.jsx(Be,{type:"number",placeholder:"0.00",value:p,onChange:function(H){return v(H.target.value)},className:"bg-[#1a1b2e] border-gray-600 text-white"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:["25%","50%","75%","100%"].map(function(H){return n.jsx(X,{variant:"outline",size:"sm",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:H},H)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(X,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Buy (BTC)"}),n.jsx(X,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Sell (BTC)"})]})]})}),n.jsx(je,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(Ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Active Trades"}),D&&D.length>0?n.jsx("div",{className:"space-y-2",children:D.map(function(H){return n.jsxs("div",{className:"bg-[#1a1b2e]/50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-white font-medium",children:H.symbol}),n.jsx(Mt,{variant:H.direction==="up"?"default":"destructive",className:H.direction==="up"?"bg-green-600":"bg-red-600",children:H.direction.toUpperCase()})]}),n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsxs("div",{children:["Amount: $",parseFloat(H.amount).toFixed(2)]}),n.jsxs("div",{children:["Entry: $",parseFloat(H.entryPrice||"0").toFixed(2)]}),n.jsxs("div",{children:["Duration: ",H.duration,"s"]})]})]},H.id)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(pc,{className:"w-8 h-8 text-gray-500"})}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No active trades"})]})]})})]})]}),n.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4",children:n.jsx(je,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(Ce,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex space-x-4",children:["Open Orders","Order History","Trade History"].map(function(H){return n.jsx(X,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:H},H)})}),n.jsx(X,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:"Hide other trading pairs"})]}),n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(pc,{className:"w-8 h-8 text-gray-500"})}),n.jsx("p",{className:"text-gray-400",children:"No data"})]})]})})})]})})}var iF=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},aF=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function oF(t){var e=this,r=t.symbol,s=r===void 0?"BTCUSDT":r,i=t.height,a=i===void 0?400:i,o=m.useState(!0),c=o[0],u=o[1],l=m.useState(null),d=l[0],h=l[1],f=Pe.useState(null),p=f[0],v=f[1];m.useEffect(function(){if(p){var N=function(){return iF(e,void 0,void 0,function(){var b,S,x,y,w,C,k,S,E,_,P,W,F,I,D,q,V,re,L;return aF(this,function(M){switch(M.label){case 0:M.trys.push([0,22,,23]),u(!0),h(null),console.log(" [SimpleFallbackChart] Fetching klines for",s),b=null,M.label=1;case 1:return M.trys.push([1,6,,7]),[4,fetch("/api/binance/klines?symbol=".concat(s,"&interval=1m&limit=100"))];case 2:return S=M.sent(),S.ok?[4,S.json()]:[3,4];case 3:return x=M.sent(),x.success&&x.data&&(b=x.data,console.log(" [SimpleFallbackChart] Got klines from API:",b.length)),[3,5];case 4:console.warn(" [SimpleFallbackChart] API returned status:",S.status),M.label=5;case 5:return[3,7];case 6:return y=M.sent(),console.warn(" [SimpleFallbackChart] API endpoint failed:",y),[3,7];case 7:if(b)return[3,15];M.label=8;case 8:return M.trys.push([8,14,,15]),console.log(" [SimpleFallbackChart] Trying direct Binance API for",s),w="https://api.binance.com/api/v3/klines?symbol=".concat(s,"&interval=1m&limit=100"),C=new AbortController,k=setTimeout(function(){return C.abort()},5e3),[4,fetch(w,{signal:C.signal})];case 9:return S=M.sent(),clearTimeout(k),S.ok?[4,S.json()]:[3,11];case 10:return E=M.sent(),console.log(" [SimpleFallbackChart] Got data from Binance:",E.length,"candles"),b=E.map(function(U){return{time:Math.floor(U[0]/1e3),open:parseFloat(U[1]),high:parseFloat(U[2]),low:parseFloat(U[3]),close:parseFloat(U[4]),volume:parseFloat(U[5])}}),[3,13];case 11:return console.warn(" [SimpleFallbackChart] Binance API returned status:",S.status),[4,S.text()];case 12:_=M.sent(),console.warn(" [SimpleFallbackChart] Binance error:",_),M.label=13;case 13:return[3,15];case 14:return P=M.sent(),console.warn(" [SimpleFallbackChart] Binance API failed:",P),[3,15];case 15:if(!(!b||b.length===0))return[3,21];M.label=16;case 16:return M.trys.push([16,20,,21]),console.log(" [SimpleFallbackChart] Trying alternative Binance endpoint for",s),W="https://api.binance.com/api/v3/klines?symbol=".concat(s,"&interval=5m&limit=100"),F=new AbortController,I=setTimeout(function(){return F.abort()},5e3),[4,fetch(W,{signal:F.signal})];case 17:return D=M.sent(),clearTimeout(I),D.ok?[4,D.json()]:[3,19];case 18:q=M.sent(),console.log(" [SimpleFallbackChart] Got data from alternative endpoint:",q.length,"candles"),b=q.map(function(U){return{time:Math.floor(U[0]/1e3),open:parseFloat(U[1]),high:parseFloat(U[2]),low:parseFloat(U[3]),close:parseFloat(U[4]),volume:parseFloat(U[5])}}),M.label=19;case 19:return[3,21];case 20:return V=M.sent(),console.warn(" [SimpleFallbackChart] Alternative endpoint failed:",V),[3,21];case 21:if(!b||b.length===0)throw new Error("Unable to load chart data for ".concat(s,". Please try again later."));if(!b||b.length===0)throw new Error("No chart data available");return console.log(" [SimpleFallbackChart] Received",b.length,"candles, drawing chart"),g(p,b),u(!1),[3,23];case 22:return re=M.sent(),L=re instanceof Error?re.message:"Unknown error",console.error(" [SimpleFallbackChart] Error:",L),h(L),u(!1),[3,23];case 23:return[2]}})})};N()}},[s,p]);var g=function(N,b){var x=N.getContext("2d");if(x){var y=N.getBoundingClientRect(),w=window.devicePixelRatio||1;N.width=y.width*w,N.height=y.height*w,x.scale(w,w);var C=y.width,k=y.height-40,S=40;if(x.fillStyle="#10121E",x.fillRect(0,0,C,N.height),b.length!==0){var E=b.flatMap(function(re){return[re.high,re.low]}),_=Math.min.apply(Math,E),P=Math.max.apply(Math,E),W=P-_||1;x.strokeStyle="#1F2937",x.lineWidth=1;for(var F=0;F<=5;F++){var I=S+k/5*F;x.beginPath(),x.moveTo(S,I),x.lineTo(C-S,I),x.stroke()}var D=(C-S*2)/b.length,q=Math.max(1,D*.6);b.forEach(function(re,L){var M=S+L*D+D/2,U=S+(P-re.open)/W*k,Q=S+(P-re.close)/W*k,oe=S+(P-re.high)/W*k,Ne=S+(P-re.low)/W*k,H=re.close>=re.open,he=H?"#10B981":"#EF4444";x.strokeStyle=he,x.lineWidth=1,x.beginPath(),x.moveTo(M,oe),x.lineTo(M,Ne),x.stroke(),x.fillStyle=he;var Ee=Math.min(U,Q),B=Math.abs(Q-U)||1;x.fillRect(M-q/2,Ee,q,B)}),x.fillStyle="#9CA3AF",x.font="11px sans-serif",x.textAlign="right";for(var F=0;F<=5;F++){var V=P-W/5*F,I=S+k/5*F+4;x.fillText(V.toFixed(2),C-5,I)}}}};return n.jsxs("div",{style:{height:"".concat(a,"px"),width:"100%",position:"relative",backgroundColor:"#10121E",borderRadius:"8px",overflow:"hidden"},children:[c&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"Loading chart..."})}),d&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsxs("div",{className:"text-red-400 text-sm text-center px-4",children:["Error: ",d]})}),n.jsx("canvas",{ref:v,style:{width:"100%",height:"100%",display:"block"}})]})}var lF=[];function cF(t){var e=t.type,r=e===void 0?"chart":e,s=t.symbol,i=s===void 0?"BINANCE:BTCUSDT":s,a=t.height,o=a===void 0?"100%":a,c=t.interval,u=c===void 0?"1":c,l=t.theme,d=l===void 0?"dark":l,h=t.style,f=h===void 0?"1":h,p=t.locale,v=p===void 0?"en":p,g=t.timezone,N=g===void 0?"Etc/UTC":g,b=t.allow_symbol_change,x=b===void 0?!0:b,y=t.container_id,w=y===void 0?"tradingview_widget":y;t.onPriceUpdate,t.onSymbolChange;var C=m.useRef(null),k=m.useState(!1),S=k[0];k[1];var E=i.replace(/^(BINANCE:|COINBASE:|CRYPTO:)/,""),_=lF.includes(E);return m.useEffect(function(){if(C.current){try{C.current.innerHTML=""}catch(I){console.log("Error clearing container:",I)}if(r==="ticker"){var P=document.createElement("script");P.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",P.type="text/javascript",P.async=!0,P.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"US 100"},{proName:"FX_IDC:EURUSD",title:"EUR/USD"},{proName:"BITSTAMP:BTCUSD",title:"BTC/USD"},{proName:"BITSTAMP:ETHUSD",title:"ETH/USD"},{proName:"BINANCE:BNBUSDT",title:"BNB/USDT"}],showSymbolLogo:!0,colorTheme:"dark",isTransparent:!0,displayMode:"adaptive",locale:"en"}),C.current.appendChild(P)}else{var P=document.createElement("script");P.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",P.type="text/javascript",P.async=!0;var W=i;E==="HYPEHUSD"?W="CRYPTO:".concat(E):i.includes(":")||(W=E.includes("USDT")?"BINANCE:".concat(E):E.includes("USD")?"COINBASE:".concat(E):"BINANCE:".concat(E)),console.log(" TradingViewWidget: ".concat(E," -> ").concat(W));var F={autosize:!0,symbol:W,interval:u,timezone:N,theme:"dark",colorTheme:"dark",style:"1",locale:v,toolbar_bg:"#000000",enable_publishing:!1,allow_symbol_change:!1,container_id:w,hide_volume:!0,hide_top_toolbar:!1,hide_legend:!1,save_image:!1,disabled_features:["volume_force_overlay","create_volume_indicator_by_default","study_templates","header_indicators","header_compare","header_undo_redo","header_screenshot","header_chart_type","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","left_toolbar","header_saveload","header_settings","use_localstorage_for_settings"],enabled_features:["hide_last_na_study_output","remove_library_container_border","disable_resolution_rebuild"],loading_screen:{backgroundColor:"#000000"},overrides:{"paneProperties.background":"#000000","paneProperties.backgroundType":"solid","paneProperties.vertGridProperties.color":"#1a1a1a","paneProperties.horzGridProperties.color":"#1a1a1a","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#666666","scalesProperties.backgroundColor":"#000000","mainSeriesProperties.candleStyle.upColor":"#10B981","mainSeriesProperties.candleStyle.downColor":"#EF4444","mainSeriesProperties.candleStyle.borderUpColor":"#10B981","mainSeriesProperties.candleStyle.borderDownColor":"#EF4444","mainSeriesProperties.candleStyle.wickUpColor":"#10B981","mainSeriesProperties.candleStyle.wickDownColor":"#EF4444"}};P.innerHTML=JSON.stringify(F),P.onload=function(){console.log(" TradingView widget loaded successfully")},P.onerror=function(){console.error(" TradingView script failed to load")};try{C.current.appendChild(P)}catch(D){console.error("Error appending TradingView script:",D)}}return function(){try{C.current&&(C.current.innerHTML="")}catch(I){console.log("Error during cleanup:",I)}}}},[r,i,o,u,d,f,v,N,x,w]),_||S?n.jsx(oF,{symbol:E,height:typeof o=="number"?o:400}):n.jsx("div",{className:"tradingview-widget-container ".concat(r==="ticker"?"w-full overflow-hidden bg-transparent":"bg-[#000000]"),ref:C,style:{height:r==="ticker"?"50px":typeof o=="number"?"".concat(o,"px"):o,width:"100%",position:"relative",backgroundColor:r==="ticker"?"transparent":"#000000"},children:r==="ticker"?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:n.jsx("div",{className:"animate-pulse",children:"Loading market data..."})}):n.jsx("div",{id:w,className:"tradingview-widget-container__widget",style:{height:"100%",width:"100%"}})})}const wm=m.memo(cF);function ur(t){var e=t.width,r=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function tl(t,e){return t.width===e.width&&t.height===e.height}var uF=function(){function t(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var r=this,s={next:e};return this._observers.push(s),{unsubscribe:function(){r._observers=r._observers.filter(function(i){return i!==s})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function dF(t){return new uF(t)}var hF=function(){function t(e,r,s){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ur({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??function(a){return a},this._allowResizeObserver=(i=s==null?void 0:s.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ur({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ur(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var r=this.bitmapSize;tl(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},t.prototype._emitBitmapSizeChanged=function(e,r){var s=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(s,e,r)})},t.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,s=ur(this._transformBitmapSize(e,this._canvasElementClientSize)),i=tl(this.bitmapSize,s)?null:s;r===null&&i===null||r!==null&&i!==null&&tl(r,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(r,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(s,e,r)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}mF().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=s1(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=dF(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var s=s1(this._canvasElement);if(s!==null){var i=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:s.devicePixelRatio,a=this._canvasElement.getClientRects(),o=a[0]!==void 0?pF(a[0],i):ur({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var s=r.find(function(o){return o.target===e._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var i=s.devicePixelContentBoxSize[0],a=ur({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function fF(t,e){return new hF(t,e.transform,e.options)}function s1(t){return t.ownerDocument.defaultView}function mF(){return new Promise(function(t){var e=new ResizeObserver(function(r){t(r.every(function(s){return"devicePixelContentBoxSize"in s})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function pF(t,e){return ur({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var gF=function(){function t(e,r,s){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function ml(t,e){var r=t.canvasElementClientSize;if(r.width===0||r.height===0)return null;var s=t.bitmapSize;if(s.width===0||s.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new gF(i,r,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const xF={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},vF={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},yF={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},bF={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},wF={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},jF={color:"#26a69a",base:0},Uk={color:"#2196f3"},Bk={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var i1,a1;function pl(t,e){const r={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(r)}function zk(t,e,r,s){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(r,e+i),t.lineTo(s,e+i),t.stroke()}function fo(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Fn(t){if(t===void 0)throw new Error("Value is undefined");return t}function ye(t){if(t===null)throw new Error("Value is null");return t}function ic(t){return ye(Fn(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(i1||(i1={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(a1||(a1={}));const o1={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Cs(t){return t<0?0:t>255?255:Math.round(t)||0}function $k(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const NF=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,SF=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,CF=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,TF=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Rd(t){(t=t.toLowerCase())in o1&&(t=o1[t]);{const e=TF.exec(t)||CF.exec(t);if(e)return[Cs(parseInt(e[1],10)),Cs(parseInt(e[2],10)),Cs(parseInt(e[3],10)),$k(e.length<5?1:parseFloat(e[4]))]}{const e=SF.exec(t);if(e)return[Cs(parseInt(e[1],16)),Cs(parseInt(e[2],16)),Cs(parseInt(e[3],16)),1]}{const e=NF.exec(t);if(e)return[Cs(17*parseInt(e[1],16)),Cs(17*parseInt(e[2],16)),Cs(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function Wk(t){return .199*t[0]+.687*t[1]+.114*t[2]}function T0(t){const e=Rd(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:Wk(e)>160?"black":"white"}}class Ar{constructor(){this.h=[]}l(e,r,s){const i={o:e,_:r,u:s===!0};this.h.push(i)}v(e){const r=this.h.findIndex(s=>e===s.o);r>-1&&this.h.splice(r,1)}p(e){this.h=this.h.filter(r=>r._!==e)}m(e,r,s){const i=[...this.h];this.h=this.h.filter(a=>!a.u),i.forEach(a=>a.o(e,r,s))}M(){return this.h.length>0}S(){this.h=[]}}function li(t,...e){for(const r of e)for(const s in r)r[s]!==void 0&&Object.prototype.hasOwnProperty.call(r,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof r[s]!="object"||t[s]===void 0||Array.isArray(r[s])?t[s]=r[s]:li(t[s],r[s]));return t}function Di(t){return typeof t=="number"&&isFinite(t)}function Id(t){return typeof t=="number"&&t%1==0}function lh(t){return typeof t=="string"}function Wh(t){return typeof t=="boolean"}function sa(t){const e=t;if(!e||typeof e!="object")return e;let r,s,i;for(s in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(s)&&(i=e[s],r[s]=i&&typeof i=="object"?sa(i):i);return r}function kF(t){return t!==null}function Ld(t){return t===null?void 0:t}const ab="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Wc(t,e,r){return e===void 0&&(e=ab),`${r=r!==void 0?`${r} `:""}${t}px ${e}`}class EF{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,r=this.j(),s=this.H();return e.P===r&&e.D===s||(e.P=r,e.D=s,e.R=Wc(r,s),e.L=2.5/12*r,e.B=e.L,e.A=r/12*e.T,e.I=r/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class ob{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,r,s){this.Y.forEach(i=>{i.X(e,r,s)})}}class ci{X(e,r,s){e.useBitmapCoordinateSpace(i=>this.K(i,r,s))}}class PF extends ci{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,a=this.G,o=Math.max(1,Math.floor(r))%2/2,c=u=>{e.beginPath();for(let l=i.to-1;l>=i.from;--l){const d=a.it[l],h=Math.round(d.nt*r)+o,f=d.st*s,p=u*s+o;e.moveTo(h,f),e.arc(h,f,p,0,2*Math.PI)}e.fill()};a.et>0&&(e.fillStyle=a.rt,c(a.ht+a.et)),e.fillStyle=a.lt,c(a.ht)}}function _F(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const DF={from:0,to:1};class MF{constructor(e,r){this.ut=new ob,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=r,this.ut.Z(this.ct)}bt(e){const r=this.F.wt();r.length!==this.ct.length&&(this.dt=r.map(_F),this.ct=this.dt.map(s=>{const i=new PF;return i.J(s),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,r=this.F.wt(),s=this.vt.xt(),i=this.F.St();r.forEach((a,o)=>{var c;const u=this.dt[o],l=a.kt(s);if(e||l===null||!a.yt())return void(u.tt=null);const d=ye(a.Ct());u.lt=l.Tt,u.ht=l.ht,u.et=l.Pt,u.it[0]._t=l._t,u.it[0].st=a.Dt().Rt(l._t,d.Vt),u.rt=(c=l.Ot)!==null&&c!==void 0?c:this.F.Bt(u.it[0].st/a.Dt().At()),u.it[0].ot=s,u.it[0].nt=i.It(s),u.tt=DF})}}class AF extends ci{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:r,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null)return;const a=this.zt.Lt.yt,o=this.zt.Et.yt;if(!a&&!o)return;const c=Math.round(this.zt.nt*s),u=Math.round(this.zt.st*i);e.lineCap="butt",a&&c>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*s),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,pl(e,this.zt.Lt.Nt),function(l,d,h,f){l.beginPath();const p=l.lineWidth%2?.5:0;l.moveTo(d+p,h),l.lineTo(d+p,f),l.stroke()}(e,c,0,r.height)),o&&u>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,pl(e,this.zt.Et.Nt),zk(e,u,0,r.width))}}class OF{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new AF(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),r=ye(this.jt.Ht()),s=r.$t().W().crosshair,i=this.Ft;if(s.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(r),i.Lt.yt=e&&this.jt.qt(),i.Et.et=s.horzLine.width,i.Et.Nt=s.horzLine.style,i.Et.V=s.horzLine.color,i.Lt.et=s.vertLine.width,i.Lt.Nt=s.vertLine.style,i.Lt.V=s.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function RF(t,e,r,s,i,a){t.fillRect(e+a,r,s-2*a,a),t.fillRect(e+a,r+i-a,s-2*a,a),t.fillRect(e,r,a,i),t.fillRect(e+s-a,r,a,i)}function k0(t,e,r,s,i,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,r,s,i),t.restore()}function l1(t,e,r,s,i,a){t.beginPath(),t.roundRect?t.roundRect(e,r,s,i,a):(t.lineTo(e+s-a[1],r),a[1]!==0&&t.arcTo(e+s,r,e+s,r+a[1],a[1]),t.lineTo(e+s,r+i-a[2]),a[2]!==0&&t.arcTo(e+s,r+i,e+s-a[2],r+i,a[2]),t.lineTo(e+a[3],r+i),a[3]!==0&&t.arcTo(e,r+i,e,r+i-a[3],a[3]),t.lineTo(e,r+a[0]),a[0]!==0&&t.arcTo(e,r,e+a[0],r,a[0]))}function c1(t,e,r,s,i,a,o=0,c=[0,0,0,0],u=""){if(t.save(),!o||!u||u===a)return l1(t,e,r,s,i,c),t.fillStyle=a,t.fill(),void t.restore();const l=o/2;var d;l1(t,e+l,r+l,s-o,i-o,(d=-l,c.map(h=>h===0?h:h+d))),a!=="transparent"&&(t.fillStyle=a,t.fill()),u!=="transparent"&&(t.lineWidth=o,t.strokeStyle=u,t.closePath(),t.stroke()),t.restore()}function Vk(t,e,r,s,i,a,o){t.save(),t.globalCompositeOperation="copy";const c=t.createLinearGradient(0,0,0,i);c.addColorStop(0,a),c.addColorStop(1,o),t.fillStyle=c,t.fillRect(e,r,s,i),t.restore()}class u1{constructor(e,r){this.J(e,r)}J(e,r){this.zt=e,this.Xt=r}At(e,r){return this.zt.yt?e.P+e.L+e.B:0}X(e,r,s,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const a=this.zt.V,o=this.Xt.t,c=e.useBitmapCoordinateSpace(u=>{const l=u.context;l.font=r.R;const d=this.Gt(u,r,s,i),h=d.Jt;return d.Qt?c1(l,h.ti,h.ii,h.ni,h.si,o,h.ei,[h.ht,0,0,h.ht],o):c1(l,h.ri,h.ii,h.ni,h.si,o,h.ei,[0,h.ht,h.ht,0],o),this.zt.hi&&(l.fillStyle=a,l.fillRect(h.ri,h.li,h.ai-h.ri,h.oi)),this.zt._i&&(l.fillStyle=r.O,l.fillRect(d.Qt?h.ui-h.ei:0,h.ii,h.ei,h.ci-h.ii)),d});e.useMediaCoordinateSpace(({context:u})=>{const l=c.di;u.font=r.R,u.textAlign=c.Qt?"right":"left",u.textBaseline="middle",u.fillStyle=a,u.fillText(this.zt.Kt,l.fi,(l.ii+l.ci)/2+l.pi)})}Gt(e,r,s,i){var a;const{context:o,bitmapSize:c,mediaSize:u,horizontalPixelRatio:l,verticalPixelRatio:d}=e,h=this.zt.hi||!this.zt.mi?r.T:0,f=this.zt.bi?r.C:0,p=r.L+this.Xt.wi,v=r.B+this.Xt.gi,g=r.A,N=r.I,b=this.zt.Kt,x=r.P,y=s.Mi(o,b),w=Math.ceil(s.xi(o,b)),C=x+p+v,k=r.C+g+N+w+h,S=Math.max(1,Math.floor(d));let E=Math.round(C*d);E%2!=S%2&&(E+=1);const _=f>0?Math.max(1,Math.floor(f*l)):0,P=Math.round(k*l),W=Math.round(h*l),F=(a=this.Xt.Si)!==null&&a!==void 0?a:this.Xt.ki,I=Math.round(F*d)-Math.floor(.5*d),D=Math.floor(I+S/2-E/2),q=D+E,V=i==="right",re=V?u.width-f:f,L=V?c.width-_:_;let M,U,Q;return V?(M=L-P,U=L-W,Q=re-h-g-f):(M=L+P,U=L+W,Q=re+h+g),{Qt:V,Jt:{ii:D,li:I,ci:q,ni:P,si:E,ht:2*l,ei:_,ti:M,ri:L,ai:U,oi:S,ui:c.width},di:{ii:D/d,ci:q/d,fi:Q,pi:y}}}}class E0{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||u1)(this.Ci,this.yi),this.Ri=new(e||u1)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,r=!1){return Math.max(this.Pi.At(e,r),this.Ri.At(e,r))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class IF extends E0{constructor(e,r,s){super(),this.jt=e,this.Li=r,this.Ei=s}zi(e,r,s){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const a=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||a===null)return;const o=T0(i.labelBackgroundColor);s.t=o.t,e.V=o.i;const c=2/12*this.Li.P();s.wi=c,s.gi=c;const u=this.Ei(this.Li);s.ki=u.ki,e.Kt=this.Li.Fi(u._t,a),e.yt=!0}}const LF=/[1-9]/g;class Hk{constructor(){this.zt=null}J(e){this.zt=e}X(e,r){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const s=e.useMediaCoordinateSpace(({context:f})=>(f.font=r.R,Math.round(r.Wi.xi(f,ye(this.zt).Kt,LF))));if(s<=0)return;const i=r.ji,a=s+2*i,o=a/2,c=this.zt.Hi;let u=this.zt.ki,l=Math.floor(u-o)+.5;l<0?(u+=Math.abs(0-l),l=Math.floor(u-o)+.5):l+a>c&&(u-=Math.abs(c-(l+a)),l=Math.floor(u-o)+.5);const d=l+a,h=Math.ceil(0+r.C+r.T+r.L+r.P+r.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:v})=>{const g=ye(this.zt);f.fillStyle=g.t;const N=Math.round(l*p),b=Math.round(0*v),x=Math.round(d*p),y=Math.round(h*v),w=Math.round(2*p);if(f.beginPath(),f.moveTo(N,b),f.lineTo(N,y-w),f.arcTo(N,y,N+w,y,w),f.lineTo(x-w,y),f.arcTo(x,y,x,y-w,w),f.lineTo(x,b),f.fill(),g.hi){const C=Math.round(g.ki*p),k=b,S=Math.round((k+r.T)*v);f.fillStyle=g.V;const E=Math.max(1,Math.floor(p)),_=Math.floor(.5*p);f.fillRect(C-_,k,E,S-k)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=ye(this.zt),v=0+r.C+r.T+r.L+r.P/2;f.font=r.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.V;const g=r.Wi.Mi(f,"Apr0");f.translate(l+i,v+g),f.fillText(p.Kt,0,0)})}}class FF{constructor(e,r,s){this.ft=!0,this.Wt=new Hk,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=r,this.Ei=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const r=this.vt.W().vertLine;if(!r.labelVisible)return;const s=this.$i.St();if(s.Ni())return;e.Hi=s.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const a=s.Ui(this.vt.xt());e.Kt=s.qi(ye(a)),e.yt=!0;const o=T0(r.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=s.W().ticksVisible}}class lb{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var d1;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(d1||(d1={}));class UF extends lb{constructor(e,r){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=r,this.dn=new MF(e,this),this.fn=((i,a)=>o=>{const c=a(),u=i();if(o===ye(this.tn).vn())return{_t:u,ki:c};{const l=ye(o.Ct());return{_t:o.pn(c,l),ki:c}}})(()=>this.nn,()=>this.an);const s=((i,a)=>()=>{const o=this.$i.St().mn(i()),c=a();return o&&Number.isFinite(c)?{ot:o,ki:c}:null})(()=>this.sn,()=>this.Yt());this.bn=new FF(this,e,s),this.wn=new OF(this)}W(){return this.cn}gn(e,r){this._n=e,this.un=r}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,r,s){this.hn||(this.hn=!0),this.en=!0,this.yn(e,r,s)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,r){this.en&&this.tn===e||this.rn.clear();const s=[];return this.tn===e&&s.push(this.Dn(this.rn,r,this.fn)),s}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,r,s){this.Bn(e,r,s)&&this.Vn()}Bn(e,r,s){const i=this.ln,a=this.an,o=this.nn,c=this.sn,u=this.tn,l=this.On(s);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=s;const d=l!==null?l.Ct():null;return l!==null&&d!==null?(this.nn=r,this.an=l.Rt(r,d)):(this.nn=NaN,this.an=NaN),i!==this.ln||a!==this.an||c!==this.sn||o!==this.nn||u!==this.tn}Tn(){const e=this.$i.wt().map(s=>s.In().An()).filter(kF),r=e.length===0?null:Math.max(...e);this.sn=r!==null?r:NaN}Dn(e,r,s){let i=e.get(r);return i===void 0&&(i=new IF(this,r,s),e.set(r,i)),i}}function P0(t){return t==="left"||t==="right"}class mn{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,r){const s=function(i,a){return i===void 0?a:{Fn:Math.max(i.Fn,a.Fn),Wn:i.Wn||a.Wn}}(this.zn.get(e),r);this.zn.set(e,s)}jn(){return this.En}Hn(e){const r=this.zn.get(e);return r===void 0?{Fn:this.En}:{Fn:Math.max(this.En,r.Fn),Wn:r.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const r of e.Ln)this.ns(r);this.En=Math.max(this.En,e.En),e.zn.forEach((r,s)=>{this.Nn(s,r)})}static ss(){return new mn(2)}static es(){return new mn(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(r=>r.qn===5);e!==-1&&this.Ln.splice(e,1)}}const h1=".";function ia(t,e){if(!Di(t))return"n/a";if(!Id(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class _0{constructor(e,r){if(r||(r=1),Di(e)&&Id(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=r,this.hs()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const r=this.Li/this.rs;let s=Math.floor(e),i="";const a=this._s!==void 0?this._s:NaN;if(r>1){let o=+(Math.round(e*r)-s*r).toFixed(this._s);o>=r&&(o-=r,s+=1),i=h1+ia(+o.toFixed(this._s)*this.rs,a)}else s=Math.round(s*r)/r,a>0&&(i=h1+ia(0,a));return s.toFixed(0)+i}}class Kk extends _0{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class BF{constructor(e){this.us=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.cs(e):e<999995?r+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.cs(e/1e9)+"B")}cs(e){let r;const s=Math.pow(10,this.us);return r=(e=Math.round(e*s)/s)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,(i,a)=>a)}}function Gk(t,e,r,s,i,a,o){if(e.length===0||s.from>=e.length||s.to<=0)return;const{context:c,horizontalPixelRatio:u,verticalPixelRatio:l}=t,d=e[s.from];let h=a(t,d),f=d;if(s.to-s.from<2){const p=i/2;c.beginPath();const v={nt:d.nt-p,st:d.st},g={nt:d.nt+p,st:d.st};c.moveTo(v.nt*u,v.st*l),c.lineTo(g.nt*u,g.st*l),o(t,h,v,g)}else{const p=(g,N)=>{o(t,h,f,N),c.beginPath(),h=g,f=N};let v=f;c.beginPath(),c.moveTo(d.nt*u,d.st*l);for(let g=s.from+1;g<s.to;++g){v=e[g];const N=a(t,v);switch(r){case 0:c.lineTo(v.nt*u,v.st*l);break;case 1:c.lineTo(v.nt*u,e[g-1].st*l),N!==h&&(p(N,v),c.lineTo(v.nt*u,e[g-1].st*l)),c.lineTo(v.nt*u,v.st*l);break;case 2:{const[b,x]=zF(e,g-1,g);c.bezierCurveTo(b.nt*u,b.st*l,x.nt*u,x.st*l,v.nt*u,v.st*l);break}}r!==1&&N!==h&&(p(N,v),c.moveTo(v.nt*u,v.st*l))}(f!==v||f===v&&r===1)&&o(t,h,f,v)}}const f1=6;function $p(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function m1(t,e){return{nt:t.nt/e,st:t.st/e}}function zF(t,e,r){const s=Math.max(0,e-1),i=Math.min(t.length-1,r+1);var a,o;return[(a=t[e],o=m1($p(t[r],t[s]),f1),{nt:a.nt+o.nt,st:a.st+o.st}),$p(t[r],m1($p(t[i],t[e]),f1))]}function $F(t,e,r,s,i){const{context:a,horizontalPixelRatio:o,verticalPixelRatio:c}=e;a.lineTo(i.nt*o,t*c),a.lineTo(s.nt*o,t*c),a.closePath(),a.fillStyle=r,a.fill()}class qk extends ci{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var r;if(this.G===null)return;const{it:s,tt:i,ds:a,et:o,Nt:c,fs:u}=this.G,l=(r=this.G.vs)!==null&&r!==void 0?r:this.G.ps?0:e.mediaSize.height;if(i===null)return;const d=e.context;d.lineCap="butt",d.lineJoin="round",d.lineWidth=o,pl(d,c),d.lineWidth=1,Gk(e,s,u,i,a,this.bs.bind(this),$F.bind(null,l))}}function Gx(t,e,r){return Math.min(Math.max(t,e),r)}function Vh(t,e,r){return e-t<=r}function Qk(t){const e=Math.ceil(t);return e%2==0?e-1:e}class cb{ws(e,r){const s=this.gs,{Ms:i,xs:a,Ss:o,ks:c,ys:u,vs:l}=r;if(this.Cs===void 0||s===void 0||s.Ms!==i||s.xs!==a||s.Ss!==o||s.ks!==c||s.vs!==l||s.ys!==u){const d=e.context.createLinearGradient(0,0,0,u);if(d.addColorStop(0,i),l!=null){const h=Gx(l*e.verticalPixelRatio/u,0,1);d.addColorStop(h,a),d.addColorStop(h,o)}d.addColorStop(1,c),this.Cs=d,this.gs=r}return this.Cs}}class WF extends qk{constructor(){super(...arguments),this.Ts=new cb}bs(e,r){return this.Ts.ws(e,{Ms:r.Ps,xs:"",Ss:"",ks:r.Rs,ys:e.bitmapSize.height})}}function VF(t,e){const r=t.context;r.strokeStyle=e,r.stroke()}class Xk extends ci{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:r,tt:s,ds:i,fs:a,et:o,Nt:c,Ds:u}=this.G;if(s===null)return;const l=e.context;l.lineCap="butt",l.lineWidth=o*e.verticalPixelRatio,pl(l,c),l.lineJoin="round";const d=this.Vs.bind(this);a!==void 0&&Gk(e,r,a,s,i,d,VF),u&&function(h,f,p,v,g){const{horizontalPixelRatio:N,verticalPixelRatio:b,context:x}=h;let y=null;const w=Math.max(1,Math.floor(N))%2/2,C=p*b+w;for(let k=v.to-1;k>=v.from;--k){const S=f[k];if(S){const E=g(h,S);E!==y&&(x.beginPath(),y!==null&&x.fill(),x.fillStyle=E,y=E);const _=Math.round(S.nt*N)+w,P=S.st*b;x.moveTo(_,P),x.arc(_,P,C,0,2*Math.PI)}}x.fill()}(e,r,u,s,d)}}class Yk extends Xk{Vs(e,r){return r.lt}}function Jk(t,e,r,s,i=0,a=e.length){let o=a-i;for(;0<o;){const c=o>>1,u=i+c;s(e[u],r)===t?(i=u+1,o-=c+1):o=c}return i}const ch=Jk.bind(null,!0),Zk=Jk.bind(null,!1);function HF(t,e){return t.ot<e}function KF(t,e){return e<t.ot}function eE(t,e,r){const s=e.Os(),i=e.ui(),a=ch(t,s,HF),o=Zk(t,i,KF);if(!r)return{from:a,to:o};let c=a,u=o;return a>0&&a<t.length&&t[a].ot>=s&&(c=a-1),o>0&&o<t.length&&t[o-1].ot<=i&&(u=o+1),{from:c,to:u}}class ub{constructor(e,r,s){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=r,this.Fs=s}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),r=this.Ns.St();if(this.qs(),r.Ni()||e.Ni())return;const s=r.Xs();if(s===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=eE(this.zs,s,this.Fs),this.Gs(e,r,i.Vt),this.Js())}}class D0 extends ub{constructor(e,r){super(e,r,!0)}Gs(e,r,s){r.Qs(this.zs,Ld(this.Ls)),e.te(this.zs,s,Ld(this.Ls))}ie(e,r){return{ot:e,_t:r,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(r=>{const s=r.Vt[3];return this.se(r.ee,s,e)})}}class GF extends D0{constructor(e,r){super(e,r),this.js=new ob,this.re=new WF,this.he=new Yk,this.js.Z([this.re,this.he])}se(e,r,s){return Object.assign(Object.assign({},this.ie(e,r)),s.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class qF extends ci{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(r),this.ae>=2&&Math.max(1,Math.floor(r))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(r)):this.ae;let i=null;const a=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*r);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const c=this.zt.In[o];i!==c.ce&&(e.fillStyle=c.ce,i=c.ce);const u=Math.floor(.5*this.oe),l=Math.round(c.nt*r),d=l-u,h=this.oe,f=d+h-1,p=Math.min(c.de,c.fe),v=Math.max(c.de,c.fe),g=Math.round(p*s)-u,N=Math.round(v*s)+u,b=Math.max(N-g,this.oe);e.fillRect(d,g,h,b);const x=Math.ceil(1.5*this.ae);if(a){if(this.zt.ve){const k=l-x;let S=Math.max(g,Math.round(c.pe*s)-u),E=S+h-1;E>g+b-1&&(E=g+b-1,S=E-h+1),e.fillRect(k,S,d-k,E-S+1)}const y=l+x;let w=Math.max(g,Math.round(c.me*s)-u),C=w+h-1;C>g+b-1&&(C=g+b-1,w=C-h+1),e.fillRect(f+1,w,y-f,C-w+1)}}}_e(e){const r=Math.floor(e);return Math.max(r,Math.floor(function(s,i){return Math.floor(.3*s*i)}(ye(this.zt).le,e)))}}class tE extends ub{constructor(e,r){super(e,r,!1)}Gs(e,r,s){r.Qs(this.zs,Ld(this.Ls)),e.be(this.zs,s,Ld(this.Ls))}we(e,r,s){return{ot:e,ge:r.Vt[0],Me:r.Vt[1],xe:r.Vt[2],Se:r.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(r=>this.se(r.ee,r,e))}}class QF extends tE{constructor(){super(...arguments),this.js=new qF}se(e,r,s){return Object.assign(Object.assign({},this.we(e,r,s)),s.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class XF extends qk{constructor(){super(...arguments),this.Ts=new cb}bs(e,r){const s=this.G;return this.Ts.ws(e,{Ms:r.ke,xs:r.ye,Ss:r.Ce,ks:r.Te,ys:e.bitmapSize.height,vs:s.vs})}}class YF extends Xk{constructor(){super(...arguments),this.Pe=new cb}Vs(e,r){const s=this.G;return this.Pe.ws(e,{Ms:r.Re,xs:r.Re,Ss:r.De,ks:r.De,ys:e.bitmapSize.height,vs:s.vs})}}class JF extends D0{constructor(e,r){super(e,r),this.js=new ob,this.Ve=new XF,this.Oe=new YF,this.js.Z([this.Ve,this.Oe])}se(e,r,s){return Object.assign(Object.assign({},this.ie(e,r)),s.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const r=this.Es.W(),s=this.Es.Dt().Rt(r.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:r.lineWidth,Nt:r.lineStyle,fs:r.lineType,vs:s,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:r.lineWidth,Nt:r.lineStyle,fs:r.lineVisible?r.lineType:void 0,Ds:r.pointMarkersVisible?r.pointMarkersRadius||r.lineWidth/2+2:void 0,vs:s,tt:this.Ls,ds:i})}}class ZF extends ci{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:r}=e;this.ae=function(a,o){if(a>=2.5&&a<=4)return Math.floor(3*o);const c=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),u=Math.floor(a*c*o),l=Math.floor(a*o),d=Math.min(u,l);return Math.max(Math.floor(o),d)}(this.zt.le,r),this.ae>=2&&Math.floor(r)%2!=this.ae%2&&this.ae--;const s=this.zt.In;this.zt.Be&&this.Ae(e,s,this.zt.tt),this.zt._i&&this.Ie(e,s,this.zt.tt);const i=this.ze(r);(!this.zt._i||this.ae>2*i)&&this.Le(e,s,this.zt.tt)}Ae(e,r,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let c="",u=Math.min(Math.floor(a),Math.floor(this.zt.le*a));u=Math.max(Math.floor(a),Math.min(u,this.ae));const l=Math.floor(.5*u);let d=null;for(let h=s.from;h<s.to;h++){const f=r[h];f.Ee!==c&&(i.fillStyle=f.Ee,c=f.Ee);const p=Math.round(Math.min(f.pe,f.me)*o),v=Math.round(Math.max(f.pe,f.me)*o),g=Math.round(f.de*o),N=Math.round(f.fe*o);let b=Math.round(a*f.nt)-l;const x=b+u-1;d!==null&&(b=Math.max(d+1,b),b=Math.min(b,x));const y=x-b+1;i.fillRect(b,g,y,p-g),i.fillRect(b,v+1,y,N-v),d=x}}ze(e){let r=Math.floor(1*e);this.ae<=2*r&&(r=Math.floor(.5*(this.ae-1)));const s=Math.max(Math.floor(e),r);return this.ae<=2*s?Math.max(Math.floor(e),Math.floor(1*e)):s}Ie(e,r,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let c="";const u=this.ze(a);let l=null;for(let d=s.from;d<s.to;d++){const h=r[d];h.Ne!==c&&(i.fillStyle=h.Ne,c=h.Ne);let f=Math.round(h.nt*a)-Math.floor(.5*this.ae);const p=f+this.ae-1,v=Math.round(Math.min(h.pe,h.me)*o),g=Math.round(Math.max(h.pe,h.me)*o);if(l!==null&&(f=Math.max(l+1,f),f=Math.min(f,p)),this.zt.le*a>2*u)RF(i,f,v,p-f+1,g-v+1,u);else{const N=p-f+1;i.fillRect(f,v,N,g-v+1)}l=p}}Le(e,r,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let c="";const u=this.ze(a);for(let l=s.from;l<s.to;l++){const d=r[l];let h=Math.round(Math.min(d.pe,d.me)*o),f=Math.round(Math.max(d.pe,d.me)*o),p=Math.round(d.nt*a)-Math.floor(.5*this.ae),v=p+this.ae-1;if(d.ce!==c){const g=d.ce;i.fillStyle=g,c=g}this.zt._i&&(p+=u,h+=u,v-=u,f-=u),h>f||i.fillRect(p,h,v-p+1,f-h+1)}}}class e8 extends tE{constructor(){super(...arguments),this.js=new ZF}se(e,r,s){return Object.assign(Object.assign({},this.we(e,r,s)),s.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class t8{constructor(e,r){this.Fe=e,this.Li=r}X(e,r,s){this.Fe.draw(e,this.Li,r,s)}}class Wp extends ub{constructor(e,r,s){super(e,r,!1),this.wn=s,this.js=new t8(this.wn.renderer(),i=>{const a=e.Ct();return a===null?null:e.Dt().Rt(i,a.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(r=>Object.assign(Object.assign({ot:r.ee,nt:NaN},e.$s(r.ee)),{He:r.$e}))}Gs(e,r){r.Qs(this.zs,Ld(this.Ls))}Js(){this.wn.update({bars:this.zs.map(r8),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function r8(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class n8 extends ci{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:r,verticalPixelRatio:s}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(r);const i=Math.max(1,Math.floor(s)),a=Math.round(this.zt.Ye*s)-Math.floor(i/2),o=a+i;for(let c=this.zt.tt.from;c<this.zt.tt.to;c++){const u=this.zt.it[c],l=this.Ue[c-this.zt.tt.from],d=Math.round(u.st*s);let h,f;e.fillStyle=u.ce,d<=a?(h=d,f=o):(h=a,f=d-Math.floor(i/2)+i),e.fillRect(l.Os,h,l.ui-l.Os+1,f-h)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const r=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),s=Math.round(this.zt.le*e)-r;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.zt.it[a],c=Math.round(o.nt*e);let u,l;if(s%2){const d=(s-1)/2;u=c-d,l=c+d}else{const d=s/2;u=c-d,l=c+d-1}this.Ue[a-this.zt.tt.from]={Os:u,ui:l,Ze:c,Xe:o.nt*e,ot:o.ot}}for(let a=this.zt.tt.from+1;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from],c=this.Ue[a-this.zt.tt.from-1];o.ot===c.ot+1&&o.Os-c.ui!==r+1&&(c.Ze>c.Xe?c.ui=o.Os-r-1:o.Os=c.ui+r+1)}let i=Math.ceil(this.zt.le*e);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const c=o.ui-o.Os+1;i=Math.min(c,i)}if(r>0&&i<4)for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class s8 extends D0{constructor(){super(...arguments),this.js=new n8}se(e,r,s){return Object.assign(Object.assign({},this.ie(e,r)),s.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,ye(this.Es.Ct()).Vt)};this.js.J(e)}}class i8 extends D0{constructor(){super(...arguments),this.js=new Yk}se(e,r,s){return Object.assign(Object.assign({},this.ie(e,r)),s.$s(e))}Js(){const e=this.Es.W(),r={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(r)}}const a8=/[2-9]/g;class Fd{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,r,s){return this.sr(e,r,s).width}Mi(e,r,s){const i=this.sr(e,r,s);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,r,s){const i=s||a8,a=String(r).replace(i,"0");if(this.tr.has(a))return Fn(this.tr.get(a)).er;if(this.Ke===this.ir){const c=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(c),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(a);return e.restore(),o.width===0&&r.length||(this.tr.set(a,{er:o,rr:this.Ge}),this.Qe[this.Ge]=a,this.Ke++,this.Ge++),o}}class o8{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,r,s){this.hr=e,this.k=r,this.lr=s}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class rE{constructor(e,r,s){this.ur=e,this.ar=new Fd(50),this.cr=r,this.F=s,this.j=-1,this.Wt=new o8(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const r=e.vr(this.cr)?e.pr():this.cr.Dt();if(r===null)return null;const s=e.mr(r);if(s==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,s),this.Wt}}class l8 extends ci{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,r){var s;if(!(!((s=this.zt)===null||s===void 0)&&s.yt))return null;const{st:i,et:a,gr:o}=this.zt;return r>=i-a-7&&r<=i+a+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:r,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const a=Math.round(this.zt.st*i);a<0||a>r.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*s),pl(e,this.zt.Nt),zk(e,a,0,r.width))}}class db{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new l8,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class c8 extends db{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),r=e.Cr().Cr;if(r!==2&&r!==3)return;const s=this.Es.W();if(!s.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=s.baseLineColor,this.Sr.et=s.baseLineWidth,this.Sr.Nt=s.baseLineStyle)}}class u8 extends ci{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:r,verticalPixelRatio:s}){const i=this.zt;if(i===null)return;const a=Math.max(1,Math.floor(r)),o=a%2/2,c=Math.round(i.Xe.x*r)+o,u=i.Xe.y*s;e.fillStyle=i.Tr,e.beginPath();const l=Math.max(2,1.5*i.Pr)*r;e.arc(c,u,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(c,u,i.ht*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=i.Dr,e.beginPath(),e.arc(c,u,i.ht*r+a/2,0,2*Math.PI,!1),e.stroke()}}const d8=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function p1(t,e,r,s){return function(i,a){if(i==="transparent")return i;const o=Rd(i),c=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${a*c})`}(t,r+(s-r)*e)}function g1(t,e){const r=t%2600/2600;let s;for(const u of d8)if(r>=u.Vr&&r<=u.Or){s=u;break}fo(s!==void 0,"Last price animation internal logic error");const i=(r-s.Vr)/(s.Or-s.Vr);return{Rr:p1(e,i,s.Ir,s.zr),Dr:p1(e,i,s.Lr,s.Er),ht:(a=i,o=s.Br,c=s.Ar,o+(c-o)*a)};var a,o,c}class h8{constructor(e){this.Wt=new u8,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),r=this.Wr-e;if(r>0)return void(r<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),r=e.Xs(),s=this.jr.Ct();if(r===null||s===null)return;const i=this.jr.Zr(!0);if(i.Xr||!r.Kr(i.ee))return;const a={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,s.Vt)},o=i.V,c=this.jr.W().lineWidth,u=g1(this.Gr(),o);this.Wt.J({Tr:o,Pr:c,Rr:u.Rr,Dr:u.Dr,ht:u.ht,Xe:a})}Yr(){const e=this.Wt.$e();if(e!==null){const r=g1(this.Gr(),e.Tr);e.Rr=r.Rr,e.Dr=r.Dr,e.ht=r.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function rd(t,e){return Qk(Math.min(Math.max(t,12),30)*e)}function Ud(t,e){switch(t){case"arrowDown":case"arrowUp":return rd(e,1);case"circle":return rd(e,.8);case"square":return rd(e,.7)}}function nE(t){return function(e){const r=Math.ceil(e);return r%2!=0?r-1:r}(rd(t,1))}function x1(t){return Math.max(rd(t,.1),3)}function v1(t,e,r){return e?t:r?Math.ceil(t/2):0}function sE(t,e,r,s,i){const a=Ud("square",r),o=(a-1)/2,c=t-o,u=e-o;return s>=c&&s<=c+a&&i>=u&&i<=u+a}function y1(t,e,r,s){const i=(Ud("arrowUp",s)-1)/2*r.Jr,a=(Qk(s/2)-1)/2*r.Jr;e.beginPath(),t?(e.moveTo(r.nt-i,r.st),e.lineTo(r.nt,r.st-i),e.lineTo(r.nt+i,r.st),e.lineTo(r.nt+a,r.st),e.lineTo(r.nt+a,r.st+i),e.lineTo(r.nt-a,r.st+i),e.lineTo(r.nt-a,r.st)):(e.moveTo(r.nt-i,r.st),e.lineTo(r.nt,r.st+i),e.lineTo(r.nt+i,r.st),e.lineTo(r.nt+a,r.st),e.lineTo(r.nt+a,r.st-i),e.lineTo(r.nt-a,r.st-i),e.lineTo(r.nt-a,r.st)),e.fill()}function f8(t,e,r,s,i,a){return sE(e,r,s,i,a)}class m8 extends ci{constructor(){super(...arguments),this.zt=null,this.ar=new Fd,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,r){this.j===e&&this.H===r||(this.j=e,this.H=r,this.Qr=Wc(e,r),this.ar.nr())}wr(e,r){if(this.zt===null||this.zt.tt===null)return null;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const i=this.zt.it[s];if(g8(i,e,r))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:r,verticalPixelRatio:s},i,a){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const c=this.zt.it[o];c.Kt!==void 0&&(c.Kt.Hi=this.ar.xi(e,c.Kt.ih),c.Kt.At=this.j,c.Kt.nt=c.nt-c.Kt.Hi/2),p8(c,e,r,s)}}}}function p8(t,e,r,s){e.fillStyle=t.V,t.Kt!==void 0&&function(i,a,o,c,u,l){i.save(),i.scale(u,l),i.fillText(a,o,c),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,r,s),function(i,a,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void y1(!1,a,o,i.Ks);case"arrowUp":return void y1(!0,a,o,i.Ks);case"circle":return void function(c,u,l){const d=(Ud("circle",l)-1)/2;c.beginPath(),c.arc(u.nt,u.st,d*u.Jr,0,2*Math.PI,!1),c.fill()}(a,o,i.Ks);case"square":return void function(c,u,l){const d=Ud("square",l),h=(d-1)*u.Jr/2,f=u.nt-h,p=u.st-h;c.fillRect(f,p,d*u.Jr,d*u.Jr)}(a,o,i.Ks)}i.nh}}(t,e,function(i,a,o){const c=Math.max(1,Math.floor(a))%2/2;return{nt:Math.round(i.nt*a)+c,st:i.st*o,Jr:a}}(t,r,s))}function g8(t,e,r){return!(t.Kt===void 0||!function(s,i,a,o,c,u){const l=o/2;return c>=s&&c<=s+a&&u>=i-l&&u<=i+l}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,r))||function(s,i,a){if(s.Ks===0)return!1;switch(s.nh){case"arrowDown":case"arrowUp":return f8(0,s.nt,s.st,s.Ks,i,a);case"circle":return function(o,c,u,l,d){const h=2+Ud("circle",u)/2,f=o-l,p=c-d;return Math.sqrt(f*f+p*p)<=h}(s.nt,s.st,s.Ks,i,a);case"square":return sE(s.nt,s.st,s.Ks,i,a)}}(t,e,r)}function x8(t,e,r,s,i,a,o,c,u){const l=Di(r)?r:r.Se,d=Di(r)?r:r.Me,h=Di(r)?r:r.xe,f=Di(e.size)?Math.max(e.size,0):1,p=nE(c.le())*f,v=p/2;switch(t.Ks=p,e.position){case"inBar":return t.st=o.Rt(l,u),void(t.Kt!==void 0&&(t.Kt.st=t.st+v+a+.6*i));case"aboveBar":return t.st=o.Rt(d,u)-v-s.sh,t.Kt!==void 0&&(t.Kt.st=t.st-v-.6*i,s.sh+=1.2*i),void(s.sh+=p+a);case"belowBar":return t.st=o.Rt(h,u)+v+s.eh,t.Kt!==void 0&&(t.Kt.st=t.st+v+a+.6*i,s.eh+=1.2*i),void(s.eh+=p+a)}e.position}class v8{constructor(e,r){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new m8,this.jr=e,this.$i=r,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const r=this.$i.W().layout;return this.Wt._r(r.fontSize,r.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),r=x1(e),s=1.5*nE(e)+2*r,i=this.fh();this.ah={above:v1(s,i.aboveBar,i.inBar),below:v1(s,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,r)=>(e[r.position]||(e[r.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),r=this.$i.St(),s=this.jr.dh();this.rh&&(this.zt.it=s.map(d=>({ot:d.time,nt:0,st:0,Ks:0,nh:d.shape,V:d.color,th:d.th,gr:d.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const a=r.Xs();if(a===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let c=NaN;const u=x1(r.le()),l={sh:u,eh:u};this.zt.tt=eE(this.zt.it,a,!0);for(let d=this.zt.tt.from;d<this.zt.tt.to;d++){const h=s[d];h.time!==c&&(l.sh=u,l.eh=u,c=h.time);const f=this.zt.it[d];f.nt=r.It(h.time),h.text!==void 0&&h.text.length>0&&(f.Kt={ih:h.text,nt:0,st:0,Hi:0,At:0});const p=this.jr.ph(h.time);p!==null&&x8(f,h,p,l,i.fontSize,u,e,r,o.Vt)}this.ft=!1}}class y8 extends db{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const r=this.Es.W();if(!r.priceLineVisible||!this.Es.yt())return;const s=this.Es.Zr(r.priceLineSource===0);s.Xr||(e.yt=!0,e.st=s.ki,e.V=this.Es.mh(s.V),e.et=r.priceLineWidth,e.Nt=r.priceLineStyle)}}class b8 extends E0{constructor(e){super(),this.jt=e}zi(e,r,s){e.yt=!1,r.yt=!1;const i=this.jt;if(!i.yt())return;const a=i.W(),o=a.lastValueVisible,c=i.bh()!=="",u=a.seriesLastValueMode===0,l=i.Zr(!1);if(l.Xr)return;o&&(e.Kt=this.wh(l,o,u),e.yt=e.Kt.length!==0),(c||u)&&(r.Kt=this.gh(l,o,c,u),r.yt=r.Kt.length>0);const d=i.mh(l.V),h=T0(d);s.t=h.t,s.ki=l.ki,r.Ot=i.$t().Bt(l.ki/i.Dt().At()),e.Ot=d,e.V=h.i,r.V=h.i}gh(e,r,s,i){let a="";const o=this.jt.bh();return s&&o.length!==0&&(a+=`${o} `),r&&i&&(a+=this.jt.Dt().Mh()?e.xh:e.Sh),a.trim()}wh(e,r,s){return r?s?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function b1(t,e,r,s){const i=Number.isFinite(e),a=Number.isFinite(r);return i&&a?t(e,r):i||a?i?e:r:s}class ts{constructor(e,r){this.kh=e,this.yh=r}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new ts(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new ts(b1(Math.min,this.Ph(),e.Ph(),-1/0),b1(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Di(e)||this.yh-this.kh===0)return;const r=.5*(this.yh+this.kh);let s=this.yh-r,i=this.kh-r;s*=e,i*=e,this.yh=r+s,this.kh=r+i}Oh(e){Di(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new ts(e.minValue,e.maxValue)}}class jm{constructor(e,r){this.Ih=e,this.zh=r||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new jm(ts.Ah(e.priceRange),e.margins)}}class w8 extends db{constructor(e,r){super(e),this.Nh=r}yr(){const e=this.Sr;e.yt=!1;const r=this.Nh.W();if(!this.Es.yt()||!r.lineVisible)return;const s=this.Nh.Fh();s!==null&&(e.yt=!0,e.st=s,e.V=r.color,e.et=r.lineWidth,e.Nt=r.lineStyle,e.gr=this.Nh.W().id)}}class j8 extends E0{constructor(e,r){super(),this.jr=e,this.Nh=r}zi(e,r,s){e.yt=!1,r.yt=!1;const i=this.Nh.W(),a=i.axisLabelVisible,o=i.title!=="",c=this.jr;if(!a||!c.yt())return;const u=this.Nh.Fh();if(u===null)return;o&&(r.Kt=i.title,r.yt=!0),r.Ot=c.$t().Bt(u/c.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const l=T0(i.axisLabelColor||i.color);s.t=l.t;const d=i.axisLabelTextColor||l.i;e.V=d,r.V=d,s.ki=u}Wh(e){const r=this.jr.Ct();return r===null?"":this.jr.Dt().Fi(e,r.Vt)}}class N8{constructor(e,r){this.jr=e,this.cn=r,this.jh=new w8(e,this),this.ur=new j8(e,this),this.Hh=new rE(this.ur,e,e.$t())}$h(e){li(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,r=e.Dt();if(e.$t().St().Ni()||r.Ni())return null;const s=e.Ct();return s===null?null:r.Rt(this.cn.price,s.Vt)}}class S8 extends lb{constructor(e){super(),this.$i=e}$t(){return this.$i}}const C8={Bar:(t,e,r,s)=>{var i;const a=e.upColor,o=e.downColor,c=ye(t(r,s)),u=ic(c.Vt[0])<=ic(c.Vt[3]);return{ce:(i=c.V)!==null&&i!==void 0?i:u?a:o}},Candlestick:(t,e,r,s)=>{var i,a,o;const c=e.upColor,u=e.downColor,l=e.borderUpColor,d=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,p=ye(t(r,s)),v=ic(p.Vt[0])<=ic(p.Vt[3]);return{ce:(i=p.V)!==null&&i!==void 0?i:v?c:u,Ne:(a=p.Ot)!==null&&a!==void 0?a:v?l:d,Ee:(o=p.Xh)!==null&&o!==void 0?o:v?h:f}},Custom:(t,e,r,s)=>{var i;return{ce:(i=ye(t(r,s)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,r,s)=>{var i,a,o,c;const u=ye(t(r,s));return{ce:(i=u.lt)!==null&&i!==void 0?i:e.lineColor,lt:(a=u.lt)!==null&&a!==void 0?a:e.lineColor,Ps:(o=u.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(c=u.Rs)!==null&&c!==void 0?c:e.bottomColor}},Baseline:(t,e,r,s)=>{var i,a,o,c,u,l;const d=ye(t(r,s));return{ce:d.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=d.Re)!==null&&i!==void 0?i:e.topLineColor,De:(a=d.De)!==null&&a!==void 0?a:e.bottomLineColor,ke:(o=d.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(c=d.ye)!==null&&c!==void 0?c:e.topFillColor2,Ce:(u=d.Ce)!==null&&u!==void 0?u:e.bottomFillColor1,Te:(l=d.Te)!==null&&l!==void 0?l:e.bottomFillColor2}},Line:(t,e,r,s)=>{var i,a;const o=ye(t(r,s));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(a=o.V)!==null&&a!==void 0?a:e.color}},Histogram:(t,e,r,s)=>{var i;return{ce:(i=ye(t(r,s)).V)!==null&&i!==void 0?i:e.color}}};class T8{constructor(e){this.Kh=(r,s)=>s!==void 0?s.Vt:this.jr.In().Gh(r),this.jr=e,this.Jh=C8[e.Qh()]}$s(e,r){return this.Jh(this.Kh,this.jr.W(),e,r)}}var w1;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(w1||(w1={}));const ja=30;class k8{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,r=0){const s=this.hl(e,r);return s===null?null:Object.assign(Object.assign({},this.al(s)),{ee:this.rl(s)})}ne(){return this.tl}ol(e,r,s){if(this.Ni())return null;let i=null;for(const a of s)i=Hh(i,this._l(e,r,a));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,r){const s=this.ul(e);if(s===null&&r!==0)switch(r){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return s}cl(e){let r=this.fl(e);return r>0&&(r-=1),r!==this.tl.length&&this.rl(r)<e?r:null}dl(e){const r=this.vl(e);return r!==this.tl.length&&e<this.rl(r)?r:null}ul(e){const r=this.fl(e);return r===this.tl.length||e<this.tl[r].ee?null:r}fl(e){return ch(this.tl,e,(r,s)=>r.ee<s)}vl(e){return Zk(this.tl,e,(r,s)=>r.ee>s)}pl(e,r,s){let i=null;for(let a=e;a<r;a++){const o=this.tl[a].Vt[s];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,r,s){if(this.Ni())return null;let i=null;const a=ye(this.el()),o=ye(this.An()),c=Math.max(e,a),u=Math.min(r,o),l=Math.ceil(c/ja)*ja,d=Math.max(l,Math.floor(u/ja)*ja);{const f=this.fl(c),p=this.vl(Math.min(u,l,r));i=Hh(i,this.pl(f,p,s))}let h=this.il.get(s);h===void 0&&(h=new Map,this.il.set(s,h));for(let f=Math.max(l+1,c);f<d;f+=ja){const p=Math.floor(f/ja);let v=h.get(p);if(v===void 0){const g=this.fl(p*ja),N=this.vl((p+1)*ja-1);v=this.pl(g,N,s),h.set(p,v)}i=Hh(i,v)}{const f=this.fl(d),p=this.vl(u);i=Hh(i,this.pl(f,p,s))}return i}}function Hh(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class E8{constructor(e){this.wl=e}X(e,r,s){this.wl.draw(e)}gl(e,r,s){var i,a;(a=(i=this.wl).drawBackground)===null||a===void 0||a.call(i,e)}}class Vp{constructor(e){this.tr=null,this.wn=e}gt(){var e;const r=this.wn.renderer();if(r===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===r)return this.tr.xl;const s=new E8(r);return this.tr={Ml:r,xl:s},s}Sl(){var e,r,s;return(s=(r=(e=this.wn).zOrder)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:"normal"}}function iE(t){var e,r,s,i,a;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(s=(r=t.visible)===null||r===void 0?void 0:r.call(t))===null||s===void 0||s,hi:(a=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||a===void 0||a}}class P8{constructor(e,r){this.Wt=new Hk,this.kl=e,this.yl=r}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},iE(this.kl))),this.Wt}}class _8 extends E0{constructor(e,r){super(),this.kl=e,this.Li=r}zi(e,r,s){const i=iE(this.kl);s.t=i.t,e.V=i.V;const a=2/12*this.Li.P();s.wi=a,s.gi=a,s.ki=i.ki,s.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class D8{constructor(e,r){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=r}Ol(){return this.Vl}Vn(){var e,r;(r=(e=this.Vl).updateAllViews)===null||r===void 0||r.call(e)}Pn(){var e,r,s,i;const a=(s=(r=(e=this.Vl).paneViews)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===a)return this.Cl.xl;const o=a.map(c=>new Vp(c));return this.Cl={Ml:a,xl:o},o}Qi(){var e,r,s,i;const a=(s=(r=(e=this.Vl).timeAxisViews)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===a)return this.Tl.xl;const o=this.jr.$t().St(),c=a.map(u=>new P8(u,o));return this.Tl={Ml:a,xl:c},c}Rn(){var e,r,s,i;const a=(s=(r=(e=this.Vl).priceAxisViews)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===a)return this.Pl.xl;const o=this.jr.Dt(),c=a.map(u=>new _8(u,o));return this.Pl={Ml:a,xl:c},c}Bl(){var e,r,s,i;const a=(s=(r=(e=this.Vl).priceAxisPaneViews)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===a)return this.Rl.xl;const o=a.map(c=>new Vp(c));return this.Rl={Ml:a,xl:o},o}Al(){var e,r,s,i;const a=(s=(r=(e=this.Vl).timeAxisPaneViews)===null||r===void 0?void 0:r.call(e))!==null&&s!==void 0?s:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===a)return this.Dl.xl;const o=a.map(c=>new Vp(c));return this.Dl={Ml:a,xl:o},o}Il(e,r){var s,i,a;return(a=(i=(s=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(s,e,r))!==null&&a!==void 0?a:null}wr(e,r){var s,i,a;return(a=(i=(s=this.Vl).hitTest)===null||i===void 0?void 0:i.call(s,e,r))!==null&&a!==void 0?a:null}}function Hp(t,e,r,s){t.forEach(i=>{e(i).forEach(a=>{a.Sl()===r&&s.push(a)})})}function Kp(t){return t.Pn()}function M8(t){return t.Bl()}function A8(t){return t.Al()}class hb extends S8{constructor(e,r,s,i,a){super(e),this.zt=new k8,this.jh=new y8(this),this.zl=[],this.Ll=new c8(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=r,this.$l=s;const o=new b8(this);this.rn=[o],this.Hh=new rE(o,this,e),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.El=new h8(this)),this.Ul(),this.ql(a)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const r={Xr:!0},s=this.Dt();if(this.$t().St().Ni()||s.Ni()||this.zt.Ni())return r;const i=this.$t().St().Xs(),a=this.Ct();if(i===null||a===null)return r;let o,c;if(e){const h=this.zt.sl();if(h===null)return r;o=h,c=h.ee}else{const h=this.zt.ll(i.ui(),-1);if(h===null||(o=this.zt.Gh(h.ee),o===null))return r;c=h.ee}const u=o.Vt[3],l=this.Us().$s(c,{Vt:o}),d=s.Rt(u,a.Vt);return{Xr:!1,_t:u,Kt:s.Fi(u,a.Vt),xh:s.Yl(u),Sh:s.Zl(u,a.Vt),V:l.ce,ki:d,ee:c}}Us(){return this.Nl!==null||(this.Nl=new T8(this)),this.Nl}W(){return this.cn}$h(e){const r=e.priceScaleId;r!==void 0&&r!==this.cn.priceScaleId&&this.$t().Xl(this,r),li(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,r){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(r&&r.ta?this.El.$r():e.length===0&&this.El.Hr());const s=this.$t().dr(this);this.$t().ia(s),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const r=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const r=new N8(this,e);return this.zl.push(r),this.$t().Gl(this),r}ra(e){const r=this.zl.indexOf(e);r!==-1&&this.zl.splice(r,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const r=e.Os();return this.zt.ll(r,1)}In(){return this.zt}ph(e){const r=this.zt.Gh(e);return r===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:r.Vt[0],Me:r.Vt[1],xe:r.Vt[2],Se:r.Vt[3]}:r.Vt[3]}aa(e){const r=[];Hp(this.Hl,Kp,"top",r);const s=this.El;return s!==null&&s.yt()&&(this.jl===null&&s.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),s.Ur(),r.unshift(s)),r}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const r=this.zl.map(s=>s.qh());return e.push(...r),Hp(this.Hl,Kp,"normal",e),e}ua(){return this.ca(Kp,"bottom")}da(e){return this.ca(M8,e)}fa(e){return this.ca(A8,e)}va(e,r){return this.Hl.map(s=>s.wr(e,r)).filter(s=>s!==null)}Ji(e){return[this.Hh,...this.zl.map(r=>r.Yh())]}Rn(e,r){if(r!==this.Yi&&!this._a())return[];const s=[...this.rn];for(const i of this.zl)s.push(i.Zh());return this.Hl.forEach(i=>{s.push(...i.Rn())}),s}Qi(){const e=[];return this.Hl.forEach(r=>{e.push(...r.Qi())}),e}Il(e,r){if(this.cn.autoscaleInfoProvider!==void 0){const s=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,r);return i===null?null:i.Bh()});return jm.Ah(s)}return this.pa(e,r)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const r of this.rn)r.bt();for(const r of this.zl)r.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(r=>r.Vn())}Dt(){return ye(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const r=this.zt.Gh(e);return r===null?null:{_t:r.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new D8(e,this))}ya(e){this.Hl=this.Hl.filter(r=>r.Ol()!==e)}Ca(){if(this.wn instanceof Wp)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Wp)return e=>this.wn.je(e)}_a(){return!P0(this.Dt().Pa())}pa(e,r){if(!Id(e)||!Id(r)||this.zt.Ni())return null;const s=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,r,s);let a=i!==null?new ts(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const c=this.cn.base,u=new ts(c,c);a=a!==null?a.ts(u):u}let o=this.dn.uh();return this.Hl.forEach(c=>{const u=c.Il(e,r);if(u!=null&&u.priceRange){const p=new ts(u.priceRange.minValue,u.priceRange.maxValue);a=a!==null?a.ts(p):p}var l,d,h,f;u!=null&&u.margins&&(l=o,d=u.margins,o={above:Math.max((h=l==null?void 0:l.above)!==null&&h!==void 0?h:0,d.above),below:Math.max((f=l==null?void 0:l.below)!==null&&f!==void 0?f:0,d.below)})}),new jm(a,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const r=this.cn.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new BF(this.cn.priceFormat.precision);break;case"percent":this.wa=new Kk(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new _0(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const r=ye(this.zt.el());this.Wl=this.Fl.map((s,i)=>{const a=ye(e.Va(s.time,!0)),o=a<r?1:-1;return{time:ye(this.zt.ll(a,o)).ee,position:s.position,shape:s.shape,color:s.color,id:s.id,th:i,text:s.text,size:s.size,originalTime:s.originalTime}})}ql(e){switch(this.dn=new v8(this,this.$t()),this.$l){case"Bar":this.wn=new QF(this,this.$t());break;case"Candlestick":this.wn=new e8(this,this.$t());break;case"Line":this.wn=new i8(this,this.$t());break;case"Custom":this.wn=new Wp(this,this.$t(),Fn(e));break;case"Area":this.wn=new GF(this,this.$t());break;case"Baseline":this.wn=new JF(this,this.$t());break;case"Histogram":this.wn=new s8(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,r){const s=[];return Hp(this.Hl,e,r,s),s}}class O8{constructor(e){this.cn=e}Oa(e,r,s){let i=e;if(this.cn.mode===0)return i;const a=s.vn(),o=a.Ct();if(o===null)return i;const c=a.Rt(e,o),u=s.Ba().filter(d=>d instanceof hb).reduce((d,h)=>{if(s.vr(h)||!h.yt())return d;const f=h.Dt(),p=h.In();if(f.Ni()||!p.Kr(r))return d;const v=p.Gh(r);if(v===null)return d;const g=ic(h.Ct());return d.concat([f.Rt(v.Vt[3],g.Vt)])},[]);if(u.length===0)return i;u.sort((d,h)=>Math.abs(d-c)-Math.abs(h-c));const l=u[0];return i=a.pn(l,o),i}}class R8 extends ci{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:r,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null)return;const a=Math.max(1,Math.floor(s));e.lineWidth=a,function(o,c){o.save(),o.lineWidth%2&&o.translate(.5,.5),c(),o.restore()}(e,()=>{const o=ye(this.zt);if(o.Aa){e.strokeStyle=o.Ia,pl(e,o.za),e.beginPath();for(const c of o.La){const u=Math.round(c.Ea*s);e.moveTo(u,-a),e.lineTo(u,r.height+a)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,pl(e,o.Wa),e.beginPath();for(const c of o.ja){const u=Math.round(c.Ea*i);e.moveTo(-a,u),e.lineTo(r.width+a,u)}e.stroke()}})}}class I8{constructor(e){this.Wt=new R8,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,r={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(s=>({Ea:s.coord}))};this.Wt.J(r),this.ft=!1}return this.Wt}}class L8{constructor(e){this.wn=new I8(e)}qh(){return this.wn}}const Gp={$a:4,Ua:1e-4};function ac(t,e){const r=100*(t-e)/e;return e<0?-r:r}function F8(t,e){const r=ac(t.Ph(),e),s=ac(t.Rh(),e);return new ts(r,s)}function nd(t,e){const r=100*(t-e)/e+100;return e<0?-r:r}function U8(t,e){const r=nd(t.Ph(),e),s=nd(t.Rh(),e);return new ts(r,s)}function Nm(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const s=Math.log10(r+e.Ua)+e.$a;return t<0?-s:s}function sd(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const s=Math.pow(10,r-e.$a)-e.Ua;return t<0?-s:s}function Du(t,e){if(t===null)return null;const r=Nm(t.Ph(),e),s=Nm(t.Rh(),e);return new ts(r,s)}function Kh(t,e){if(t===null)return null;const r=sd(t.Ph(),e),s=sd(t.Rh(),e);return new ts(r,s)}function qp(t){if(t===null)return Gp;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return Gp;const r=Math.ceil(Math.abs(Math.log10(e))),s=Gp.$a+r;return{$a:s,Ua:1/Math.pow(10,s)}}class Qp{constructor(e,r){if(this.qa=e,this.Ya=r,function(s){if(s<0)return!1;for(let i=s;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let s=this.qa;s!==1;){if(s%2==0)this.Za.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),s/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,r,s){const i=this.qa===0?0:1/this.qa;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),o=0,c=this.Ya[0];for(;;){const h=Vh(a,i,1e-14)&&a>i+1e-14,f=Vh(a,s*c,1e-14),p=Vh(a,1,1e-14);if(!(h&&f&&p))break;a/=c,c=this.Ya[++o%this.Ya.length]}if(a<=i+1e-14&&(a=i),a=Math.max(1,a),this.Za.length>0&&(u=a,l=1,d=1e-14,Math.abs(u-l)<d))for(o=0,c=this.Za[0];Vh(a,s*c,1e-14)&&a>i+1e-14;)a/=c,c=this.Za[++o%this.Za.length];var u,l,d;return a}}class j1{constructor(e,r,s,i){this.Ka=[],this.Li=e,this.qa=r,this.Ga=s,this.Ja=i}Xa(e,r){if(e<r)throw new Error("high < low");const s=this.Li.At(),i=(e-r)*this.Qa()/s,a=new Qp(this.qa,[2,2.5,2]),o=new Qp(this.qa,[2,2,2.5]),c=new Qp(this.qa,[2.5,2,2]),u=[];return u.push(a.Xa(e,r,i),o.Xa(e,r,i),c.Xa(e,r,i)),function(l){if(l.length<1)throw Error("array is empty");let d=l[0];for(let h=1;h<l.length;++h)l[h]<d&&(d=l[h]);return d}(u)}io(){const e=this.Li,r=e.Ct();if(r===null)return void(this.Ka=[]);const s=e.At(),i=this.Ga(s-1,r),a=this.Ga(0,r),o=this.Li.W().entireTextOnly?this.no()/2:0,c=o,u=s-1-o,l=Math.max(i,a),d=Math.min(i,a);if(l===d)return void(this.Ka=[]);let h=this.Xa(l,d),f=l%h;f+=f<0?h:0;const p=l>=d?1:-1;let v=null,g=0;for(let N=l-f;N>d;N-=h){const b=this.Ja(N,r,!0);v!==null&&Math.abs(b-v)<this.Qa()||b<c||b>u||(g<this.Ka.length?(this.Ka[g].Ea=b,this.Ka[g].so=e.eo(N)):this.Ka.push({Ea:b,so:e.eo(N)}),g++,v=b,e.ro()&&(h=this.Xa(N*p,d)))}this.Ka.length=g}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function aE(t){return t.slice().sort((e,r)=>ye(e.Xi())-ye(r.Xi()))}var N1;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(N1||(N1={}));const S1=new Kk,C1=new _0(100,1);class B8{constructor(e,r,s,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Ar,this.vo=new Ar,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=C1,this.xo=qp(null),this.So=e,this.cn=r,this.ko=s,this.yo=i,this.Co=new j1(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(li(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const r=Fn(e.scaleMargins.top),s=Fn(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(r+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+s}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const r=this.Cr();let s=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),r.Cr===1&&e.Cr!==r.Cr&&(function(a,o){if(a===null)return!1;const c=sd(a.Ph(),o),u=sd(a.Rh(),o);return isFinite(c)&&isFinite(u)}(this.Ih,this.xo)?(s=Kh(this.Ih,this.xo),s!==null&&this.Ao(s)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==r.Cr&&(s=Du(this.Ih,this.xo),s!==null&&this.Ao(s));const i=r.Cr!==this.cn.mode;i&&(r.Cr===2||this.Mh())&&this.Ra(),i&&(r.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&r.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(r,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,r){const s=this.Ih;(r||s===null&&e!==null||s!==null&&!s.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,r){return this.Mh()?e=ac(e,r):this.Oo()&&(e=nd(e,r)),this.Po(e,r)}te(e,r,s){this.Wo();const i=this.Fo(),a=ye(this.Lh()),o=a.Ph(),c=a.Rh(),u=this.Eo()-1,l=this.Bo(),d=u/(c-o),h=s===void 0?0:s.from,f=s===void 0?e.length:s.to,p=this.Ho();for(let v=h;v<f;v++){const g=e[v],N=g._t;if(isNaN(N))continue;let b=N;p!==null&&(b=p(g._t,r));const x=i+d*(b-o),y=l?x:this.ho-1-x;g.st=y}}be(e,r,s){this.Wo();const i=this.Fo(),a=ye(this.Lh()),o=a.Ph(),c=a.Rh(),u=this.Eo()-1,l=this.Bo(),d=u/(c-o),h=s===void 0?0:s.from,f=s===void 0?e.length:s.to,p=this.Ho();for(let v=h;v<f;v++){const g=e[v];let N=g.ge,b=g.Me,x=g.xe,y=g.Se;p!==null&&(N=p(g.ge,r),b=p(g.Me,r),x=p(g.xe,r),y=p(g.Se,r));let w=i+d*(N-o),C=l?w:this.ho-1-w;g.pe=C,w=i+d*(b-o),C=l?w:this.ho-1-w,g.de=C,w=i+d*(x-o),C=l?w:this.ho-1-w,g.fe=C,w=i+d*(y-o),C=l?w:this.ho-1-w,g.me=C}}pn(e,r){const s=this.To(e,r);return this.$o(s,r)}$o(e,r){let s=e;return this.Mh()?s=function(i,a){return a<0&&(i=-i),i/100*a+a}(s,r):this.Oo()&&(s=function(i,a){return i-=100,a<0&&(i=-i),i/100*a+a}(s,r)),s}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let r=0;r<this.po.length;r++){const s=this.po[r];s.Xi()===null&&s.Ki(r+1),e.push(s)}return e=aE(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const r=this.po.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.po.splice(r,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const r of this.po){const s=r.Ct();s!==null&&(e===null||s.la<e.la)&&(e=s)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const r=this.Co.Ha();return this.bo={Ha:r,Xo:e},this.fo.m(),r}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=ye(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let r=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const s=ye(this.ao).Th();r=Math.max(r,.1),s.Vh(r),this.Ao(s)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=ye(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const r=ye(this.Lh()).Dh()/(this.Eo()-1);let s=e-this.Mo;this.Bo()&&(s*=-1);const i=s*r,a=ye(this.ao).Th();a.Oh(i),this.Ao(a,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,r){switch(this.cn.mode){case 2:return this.s_(ac(e,r));case 3:return this.ba().format(nd(e,r));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,ye(this.e_()).ba())}Zl(e,r){return e=ac(e,r),this.s_(e,S1)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let r=100;e!==null&&(r=Math.round(1/e.ma())),this.wa=C1,this.Mh()?(this.wa=S1,r=100):this.Oo()?(this.wa=new _0(100,1),r=100):e!==null&&(this.wa=e.ba()),this.Co=new j1(this,r,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,r){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Nm(e,this.xo):e;const s=ye(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-s.Ph())/s.Dh();return this.jo(i)}To(e,r){if(this.Wo(),this.Ni())return 0;const s=this.jo(e),i=ye(this.Lh()),a=i.Ph()+i.Dh()*((s-this.Fo())/(this.Eo()-1));return this.ro()?sd(a,this.xo):a}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let r=null;const s=this.r_();let i=0,a=0;for(const u of s){if(!u.yt())continue;const l=u.Ct();if(l===null)continue;const d=u.Il(e.Os(),e.ui());let h=d&&d.Lh();if(h!==null){switch(this.cn.mode){case 1:h=Du(h,this.xo);break;case 2:h=F8(h,l.Vt);break;case 3:h=U8(h,l.Vt)}if(r=r===null?h:r.ts(ye(h)),d!==null){const f=d.Eh();f!==null&&(i=Math.max(i,f.above),a=Math.max(a,f.below))}}}if(i===this.co&&a===this.do||(this.co=i,this.do=a,this.bo=null,this.Do()),r!==null){if(r.Ph()===r.Rh()){const u=this.e_(),l=5*(u===null||this.Mh()||this.Oo()?1:u.ma());this.ro()&&(r=Kh(r,this.xo)),r=new ts(r.Ph()-l,r.Rh()+l),this.ro()&&(r=Du(r,this.xo))}if(this.ro()){const u=Kh(r,this.xo),l=qp(u);if(o=l,c=this.xo,o.$a!==c.$a||o.Ua!==c.Ua){const d=this.ao!==null?Kh(this.ao,this.xo):null;this.xo=l,r=Du(u,l),d!==null&&(this.ao=Du(d,l))}}this.Ao(r)}else this.Ih===null&&(this.Ao(new ts(-.5,.5)),this.xo=qp(null));var o,c;this.oo._o=!0}Ho(){return this.Mh()?ac:this.Oo()?nd:this.ro()?e=>Nm(e,this.xo):null}a_(e,r,s){return r===void 0?(s===void 0&&(s=this.ba()),s.format(e)):r(e)}Wh(e,r){return this.a_(e,this.yo.priceFormatter,r)}s_(e,r){return this.a_(e,this.yo.percentageFormatter,r)}}class z8{constructor(e,r){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Ar,this.yl=e,this.$i=r,this.d_=new L8(this);const s=r.W();this.f_=this.v_("left",s.leftPriceScale),this.p_=this.v_("right",s.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(s)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const r=Array.from(this.o_.values());for(const s of r){const i=ye(s[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Fn(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(r=>{if(this.vr(r)){const s=r.Dt();s!==null&&s.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const r=e.Dt();return r===null||this.f_!==r&&this.p_!==r}qo(e,r,s){const i=s!==void 0?s:this.C_().y_+1;this.T_(e,r,i)}Zo(e){const r=this.po.indexOf(e);fo(r!==-1,"removeDataSource: invalid data source"),this.po.splice(r,1);const s=ye(e.Dt()).Pa();if(this.o_.has(s)){const a=Fn(this.o_.get(s)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.o_.delete(s))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,r){e.Go(r)}O_(e,r){e.Jo(r),this.k_()}B_(e){e.Qo()}A_(e,r){e.t_(r)}I_(e,r){e.i_(r),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const r=this.yl.Xs();e.Ro({Wn:!0}),r!==null&&e.h_(r),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=aE(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const r=e.r_();if(r&&r.length>0&&!this.yl.Ni()){const s=this.yl.Xs();s!==null&&e.h_(s)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let r=0,s=0;for(let i=0;i<e.length;i++){const a=e[i].Xi();a!==null&&(a<r&&(r=a),a>s&&(s=a))}return{H_:r,y_:s}}T_(e,r,s){let i=this.w_(r);if(i===null&&(i=this.v_(r,this.$i.W().overlayPriceScales)),this.po.push(e),!P0(r)){const a=this.o_.get(r)||[];a.push(e),this.o_.set(r,a)}i.qo(e),e.Gi(i),e.Ki(s),this.P_(i),this.mo=null}m_(e,r,s){r.Cr!==s.Cr&&this.L_(e)}v_(e,r){const s=Object.assign({visible:!0,autoScale:!0},sa(r)),i=new B8(e,s,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class $8{constructor(e,r,s=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=r,this.ir=s}Y_(e){const r=e.time,s=this.q_.cacheKey(r),i=this.tr.get(s);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Fn(o)),this.Je++,this.Ke--}const a=this.U_(e);return this.tr.set(s,{Z_:a,rr:this.Ge}),this.Qe.set(this.Ge,s),this.Ke++,this.Ge++,a}}class id{constructor(e,r){fo(e<=r,"right should be >= left"),this.X_=e,this.K_=r}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function T1(t,e){return t===null||e===null?t===e:t.Ch(e)}class W8{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,r){this.nu(r),this.tr=null;for(let s=r;s<e.length;++s){const i=e[s];let a=this.J_.get(i.timeWeight);a===void 0&&(a=[],this.J_.set(i.timeWeight,a)),a.push({index:s,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,r){const s=Math.ceil(r/e);return this.tr!==null&&this.tr.eu===s||(this.tr={Ha:this.ru(s),eu:s}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const r=[];this.J_.forEach((s,i)=>{e<=s[0].index?r.push(i):s.splice(ch(s,e,a=>a.index<e),1/0)});for(const s of r)this.J_.delete(s)}ru(e){let r=[];for(const s of Array.from(this.J_.keys()).sort((i,a)=>a-i)){if(!this.J_.get(s))continue;const i=r;r=[];const a=i.length;let o=0;const c=Fn(this.J_.get(s)),u=c.length;let l=1/0,d=-1/0;for(let h=0;h<u;h++){const f=c[h],p=f.index;for(;o<a;){const v=i[o],g=v.index;if(!(g<p)){l=g;break}o++,r.push(v),d=g,l=1/0}if(l-p>=e&&p-d>=e)r.push(f),d=p;else if(this.Q_)return i}for(;o<a;o++)r.push(i[o])}return r}}class yc{constructor(e){this.hu=e}lu(){return this.hu===null?null:new id(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new yc(null)}}function V8(t,e){return t.weight>e.weight?t:e}class H8{constructor(e,r,s,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new W8,this.du=new Map,this.fu=yc.ou(),this.vu=!0,this.pu=new Ar,this.mu=new Ar,this.bu=new Ar,this.wu=null,this.gu=null,this.Mu=[],this.cn=r,this.yo=s,this.xu=r.rightOffset,this.Su=r.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(r.uniformDistribution)}W(){return this.cn}yu(e){li(this.yo,e),this.Cu(),this.ku()}$h(e,r){var s;li(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((s=e.barSpacing)!==null&&s!==void 0?s:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var r,s;return(s=(r=this.uu[e])===null||r===void 0?void 0:r.time)!==null&&s!==void 0?s:null}Ui(e){var r;return(r=this.uu[e])!==null&&r!==void 0?r:null}Va(e,r){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return r?this.uu.length-1:null;const s=ch(this.uu,this.q_.key(e),(i,a)=>this.q_.key(i.time)<a);return this.q_.key(e)<this.q_.key(this.uu[s].time)?r?s:null:s}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const r={from:e.Os(),to:e.ui()};return this.Ou(r)}Ou(e){const r=Math.round(e.from),s=Math.round(e.to),i=ye(this.Bu()),a=ye(this.Au());return{from:ye(this.Ui(Math.max(i,r))),to:ye(this.Ui(Math.min(a,s)))}}Iu(e){return{from:ye(this.Va(e.from,!0)),to:ye(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const r=this.Du(),s=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&s!==0){const i=this.Su*e/s;this.Su=i}if(this.cn.fixLeftEdge&&r!==null&&r.Os()<=0){const i=s-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Id(e))return 0;const r=this.Eu()+this.xu-e;return this.__-(r+.5)*this.Su-1}Qs(e,r){const s=this.Eu(),i=r===void 0?0:r.from,a=r===void 0?e.length:r.to;for(let o=i;o<a;o++){const c=e[o].ot,u=s+this.xu-c,l=this.__-(u+.5)*this.Su-1;e[o].nt=l}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,r=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),s=Math.round(r/e),i=ye(this.Xs()),a=Math.max(i.Os(),i.Os()-s),o=Math.max(i.ui(),i.ui()-s),c=this.cu.su(e,r),u=this.Bu()+s,l=this.Au()-s,d=this.$u(),h=this.cn.fixLeftEdge||d,f=this.cn.fixRightEdge||d;let p=0;for(const v of c){if(!(a<=v.index&&v.index<=o))continue;let g;p<this.Mu.length?(g=this.Mu[p],g.coord=this.It(v.index),g.label=this.Uu(v),g.weight=v.weight):(g={needAlignCoordinate:!1,coord:this.It(v.index),label:this.Uu(v),weight:v.weight},this.Mu.push(g)),this.Su>r/2&&!d?g.needAlignCoordinate=!1:g.needAlignCoordinate=h&&v.index<=u||f&&v.index>=l,p++}return this.Mu.length=p,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,r){const s=this.Fu(e),i=this.le(),a=i+r*(i/10);this.Gn(a),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(s-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const r=Gx(this.__-e,0,this.__),s=Gx(this.__-ye(this.wo),0,this.__);r!==0&&s!==0&&this.Gn(this.wu.le*r/s)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const r=(this.Mo-e)/this.le();this.xu=ye(this.wu).Hu+r,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.xu,i=performance.now();this.$i.Zn({Qu:a=>(a-i)/r>=1,tc:a=>{const o=(a-i)/r;return o>=1?e:s+(e-s)*o}})}bt(e,r){this.vu=!0,this.uu=e,this.cu.iu(e,r),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const r=e.G_();this.ju(this.__/r),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),r=this.Au();e!==null&&r!==null&&this.rc(new id(e,r+this.cn.rightOffset))}lc(e){const r=new id(e.from,e.to);this.rc(r)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:r}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const r=this.ac(e),s=this.Eu()+this.xu-r;return Math.round(1e6*s)/1e6}ju(e){const r=this.Su;this.Su=e,this.zu(),r!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(yc.ou());const e=this.Eu(),r=this.__/this.Su,s=this.xu+e,i=new id(s-r+1,s);this._c(new yc(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const r=.5*this.__;this.Su>r&&(this.Su=r,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const r=this.dc();this.xu>r&&(this.xu=r,this.vu=!0)}cc(){const e=this.Bu(),r=this._u;return e===null||r===null?null:e-r-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let r=this.du.get(e.weight);return r===void 0&&(r=new $8(s=>this.fc(s),this.q_),this.du.set(e.weight,r)),r.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const r=this.fu;this.fu=e,T1(r.lu(),this.fu.lu())||this.pu.m(),T1(r.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const r=this.Xs();if(r===null)return;const s=r.Os()-e;if(s<0){const i=this.xu-s-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class K8{X(e,r,s){e.useMediaCoordinateSpace(i=>this.K(i,r,s))}gl(e,r,s){e.useMediaCoordinateSpace(i=>this.vc(i,r,s))}vc(e,r,s){}}class G8 extends K8{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:r,mediaSize:s}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;r.font=o.R;const c=this.wc(r,o.Kt);c>s.width?o.Zu=s.width/c:o.Zu=1,i+=o.gc*o.Zu}let a=0;switch(this.zt.Mc){case"top":a=0;break;case"center":a=Math.max((s.height-i)/2,0);break;case"bottom":a=Math.max(s.height-i,0)}r.fillStyle=this.zt.V;for(const o of this.zt.bc){r.save();let c=0;switch(this.zt.xc){case"left":r.textAlign="left",c=o.gc/2;break;case"center":r.textAlign="center",c=s.width/2;break;case"right":r.textAlign="right",c=s.width-1-o.gc/2}r.translate(c,a),r.textBaseline="top",r.font=o.R,r.scale(o.Zu,o.Zu),r.fillText(o.Kt,0,o.Sc),r.restore(),a+=o.gc*o.Zu}}wc(e,r){const s=this.kc(e.font);let i=s.get(r);return i===void 0&&(i=e.measureText(r).width,s.set(r,i)),i}kc(e){let r=this.mc.get(e);return r===void 0&&(r=new Map,this.mc.set(e,r)),r}}class q8{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new G8(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),r=this.Ft;r.yt=e.visible,r.yt&&(r.V=e.color,r.xc=e.horzAlign,r.Mc=e.vertAlign,r.bc=[{Kt:e.text,R:Wc(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class Q8 extends lb{constructor(e,r){super(),this.cn=r,this.wn=new q8(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var k1,E1,P1,_1,D1;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(k1||(k1={}));class X8{constructor(e,r,s){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Ar,this.Rc=new Ar,this.Dc=null,this.Vc=e,this.cn=r,this.q_=s,this.Oc=new EF(this),this.yl=new H8(this,r.timeScale,this.cn.localization,s),this.vt=new UF(this,r.crosshair),this.Bc=new O8(r.crosshair),this.Ac=new Q8(this,r.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(mn.es())}Uh(){this.Nc(mn.ss())}oa(){this.Nc(new mn(1))}Gl(e){const r=this.Fc(e);this.Nc(r)}Wc(){return this.Tc}jc(e){const r=this.Tc;this.Tc=e,r!==null&&this.Gl(r.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){li(this.cn,e),this.yc.forEach(r=>r.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,r){if(e==="left")return void this.$h({leftPriceScale:r});if(e==="right")return void this.$h({rightPriceScale:r});const s=this.Uc(e);s!==null&&(s.Dt.$h(r),this.Pc.m())}Uc(e){for(const r of this.yc){const s=r.w_(e);if(s!==null)return{Ht:r,Dt:s}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,r){e.Lo(r),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(r=>r.S_(e)),this.Wu()}Ic(e){const r=new z8(this.yl,this);e!==void 0?this.yc.splice(e,0,r):this.yc.push(r);const s=e===void 0?this.yc.length-1:e,i=mn.es();return i.Nn(s,{Fn:0,Wn:!0}),this.Nc(i),r}V_(e,r,s){e.V_(r,s)}O_(e,r,s){e.O_(r,s),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,r){e.B_(r),this.Nc(this.Gc(e,2))}A_(e,r,s){r.Vo()||e.A_(r,s)}I_(e,r,s){r.Vo()||(e.I_(r,s),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,r){r.Vo()||(e.z_(r),this.Nc(this.Gc(e,2)))}E_(e,r){e.E_(r),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,r){const s=this.St();if(s.Ni()||r===0)return;const i=s.Hi();e=Math.max(1,Math.min(e,i)),s.Zu(e,r),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,r,s,i,a){this.vt.gn(e,r);let o=NaN,c=this.yl.Nu(e);const u=this.yl.Xs();u!==null&&(c=Math.min(Math.max(u.Os(),c),u.ui()));const l=i.vn(),d=l.Ct();d!==null&&(o=l.pn(r,d)),o=this.Bc.Oa(o,c,i),this.vt.kn(c,o,i),this.oa(),a||this.Rc.m(this.vt.xt(),{x:e,y:r},s)}ad(e,r,s){const i=s.vn(),a=i.Ct(),o=i.Rt(e,ye(a)),c=this.yl.Va(r,!0),u=this.yl.It(ye(c));this.ld(u,o,null,s,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const r=this.vt.xn(),s=this.vt.Sn();this.ld(r,s,null,e)}this.vt.Vn()}_d(e,r,s){const i=this.yl.mn(0);r!==void 0&&s!==void 0&&this.yl.bt(r,s);const a=this.yl.mn(0),o=this.yl.Eu(),c=this.yl.Xs();if(c!==null&&i!==null&&a!==null){const u=c.Kr(o),l=this.q_.key(i)>this.q_.key(a),d=e!==null&&e>o&&!l,h=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=u&&(s!==void 0||h)&&this.yl.W().shiftVisibleRangeOnNewBar;if(d&&!f){const p=e-o;this.yl.Jn(this.yl.Hu()-p)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const r=this.yc.find(s=>s.Uo().includes(e));return r===void 0?null:r}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,r,s){const i=this.yc[0],a=this.fd(r,e,i,s);return this.Cc.push(a),this.Cc.length===1?this.Kl():this.Uh(),a}vd(e){const r=this.dr(e),s=this.Cc.indexOf(e);fo(s!==-1,"Series not found"),this.Cc.splice(s,1),ye(r).Zo(e),e.S&&e.S()}Xl(e,r){const s=ye(this.dr(e));s.Zo(e);const i=this.Uc(r);if(i===null){const a=e.Xi();s.qo(e,r,a)}else{const a=i.Ht===s?e.Xi():void 0;i.Ht.qo(e,r,a)}}hc(){const e=mn.ss();e.$n(),this.Nc(e)}pd(e){const r=mn.ss();r.Yn(e),this.Nc(r)}Kn(){const e=mn.ss();e.Kn(),this.Nc(e)}Gn(e){const r=mn.ss();r.Gn(e),this.Nc(r)}Jn(e){const r=mn.ss();r.Jn(e),this.Nc(r)}Zn(e){const r=mn.ss();r.Zn(e),this.Nc(r)}Un(){const e=mn.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const r=this.Ec,s=this.zc;if(r===s)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==s||this.Dc.Rs!==r)this.Dc={Ps:s,Rs:r,wd:new Map};else{const a=this.Dc.wd.get(e);if(a!==void 0)return a}const i=function(a,o,c){const[u,l,d,h]=Rd(a),[f,p,v,g]=Rd(o),N=[Cs(u+c*(f-u)),Cs(l+c*(p-l)),Cs(d+c*(v-d)),$k(h+c*(g-h))];return`rgba(${N[0]}, ${N[1]}, ${N[2]}, ${N[3]})`}(s,r,e/100);return this.Dc.wd.set(e,i),i}Gc(e,r){const s=new mn(r);if(e!==null){const i=this.yc.indexOf(e);s.Nn(i,{Fn:r})}return s}Fc(e,r){return r===void 0&&(r=2),this.Gc(this.dr(e),r)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(r=>r.j_().qh().bt())}fd(e,r,s,i){const a=new hb(this,e,r,s,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return s.qo(a,o),P0(o)||a.$h(e),a}Lc(e){const r=this.cn.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}}function qx(t){return!Di(t)&&!lh(t)}function oE(t){return Di(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(E1||(E1={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(P1||(P1={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(_1||(_1={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(D1||(D1={}));const M1=t=>t.getUTCFullYear();function Y8(t,e,r){return e.replace(/yyyy/g,(s=>ia(M1(s),4))(t)).replace(/yy/g,(s=>ia(M1(s)%100,2))(t)).replace(/MMMM/g,((s,i)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,r)).replace(/MMM/g,((s,i)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,r)).replace(/MM/g,(s=>ia((i=>i.getUTCMonth()+1)(s),2))(t)).replace(/dd/g,(s=>ia((i=>i.getUTCDate())(s),2))(t))}class lE{constructor(e="yyyy-MM-dd",r="default"){this.gd=e,this.Md=r}Y_(e){return Y8(e,this.gd,this.Md)}}class J8{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",ia(e.getUTCHours(),2)).replace("%m",ia(e.getUTCMinutes(),2)).replace("%s",ia(e.getUTCSeconds(),2))}}const Z8={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class eU{constructor(e={}){const r=Object.assign(Object.assign({},Z8),e);this.Td=new lE(r.Sd,r.Cd),this.Pd=new J8(r.kd),this.Rd=r.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function Gh(t){return 60*t*60*1e3}function Xp(t){return 60*t*1e3}const qh=[{Dd:(A1=1,1e3*A1),Vd:10},{Dd:Xp(1),Vd:20},{Dd:Xp(5),Vd:21},{Dd:Xp(30),Vd:22},{Dd:Gh(1),Vd:30},{Dd:Gh(3),Vd:31},{Dd:Gh(6),Vd:32},{Dd:Gh(12),Vd:33}];var A1;function O1(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let r=qh.length-1;r>=0;--r)if(Math.floor(e.getTime()/qh[r].Dd)!==Math.floor(t.getTime()/qh[r].Dd))return qh[r].Vd;return 0}function Yp(t){let e=t;if(lh(t)&&(e=fb(t)),!qx(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(r.getTime()/1e3),Bd:e}}function R1(t){if(!oE(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function fb(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function I1(t){lh(t.time)&&(t.time=fb(t.time))}class L1{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(r){r.forEach(I1)}(e):I1(e)}createConverterToInternalObj(e){return ye(function(r){return r.length===0?null:qx(r[0].time)||lh(r[0].time)?Yp:R1}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.Bd===void 0?new Date(1e3*r.Od).getTime():new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day)).getTime()}convertHorzItemToInternal(e){return oE(r=e)?R1(r):qx(r)?Yp(r):Yp(fb(r));var r}updateFormatter(e){if(!this.cn)return;const r=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new eU({Sd:r,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new lE(r,e.locale)}formatHorzItem(e){const r=e;return this.Ad.Y_(new Date(1e3*r.Od))}formatTickmark(e,r){const s=function(a,o,c){switch(a){case 0:case 10:return o?c?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const a=i.tickMarkFormatter(e.originalTime,s,r.locale);if(a!==null)return a}return function(a,o,c){const u={};switch(o){case 0:u.year="numeric";break;case 1:u.month="short";break;case 2:u.day="numeric";break;case 3:u.hour12=!1,u.hour="2-digit",u.minute="2-digit";break;case 4:u.hour12=!1,u.hour="2-digit",u.minute="2-digit",u.second="2-digit"}const l=a.Bd===void 0?new Date(1e3*a.Od):new Date(Date.UTC(a.Bd.year,a.Bd.month-1,a.Bd.day));return new Date(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()).toLocaleString(c,u)}(e.time,s,r.locale)}maxTickMarkWeight(e){let r=e.reduce(V8,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(s,i=0){if(s.length===0)return;let a=i===0?null:s[i-1].time.Od,o=a!==null?new Date(1e3*a):null,c=0;for(let u=i;u<s.length;++u){const l=s[u],d=new Date(1e3*l.time.Od);o!==null&&(l.timeWeight=O1(d,o)),c+=l.time.Od-(a||l.time.Od),a=l.time.Od,o=d}if(i===0&&s.length>1){const u=Math.ceil(c/(s.length-1)),l=new Date(1e3*(s[0].time.Od-u));s[0].timeWeight=O1(new Date(1e3*s[0].time.Od),l)}})(e,r)}static Id(e){return li({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Vc=typeof window<"u";function F1(){return!!Vc&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Jp(){return!!Vc&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Qx(t){return t+t%2}function Zp(t,e){return t.zd-e.zd}function eg(t,e,r){const s=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(s)*Math.min(Math.abs(s),r)}class tU{constructor(e,r,s,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=r,this.qd=s,this.rs=i}Yd(e,r){if(this.Ld!==null){if(this.Ld.ot===r)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:r,zd:e}}Vr(e,r){if(this.Ld===null||this.Ed===null||r-this.Ld.ot>50)return;let s=0;const i=eg(this.Ld,this.Ed,this.Ud),a=Zp(this.Ld,this.Ed),o=[i],c=[a];if(s+=a,this.Nd!==null){const l=eg(this.Ed,this.Nd,this.Ud);if(Math.sign(l)===Math.sign(i)){const d=Zp(this.Ed,this.Nd);if(o.push(l),c.push(d),s+=d,this.Fd!==null){const h=eg(this.Nd,this.Fd,this.Ud);if(Math.sign(h)===Math.sign(i)){const f=Zp(this.Nd,this.Fd);o.push(h),c.push(f),s+=f}}}}let u=0;for(let l=0;l<o.length;++l)u+=c[l]/s*o[l];Math.abs(u)<this.$d||(this.Wd={zd:e,ot:r},this.Hd=u,this.jd=function(l,d){const h=Math.log(d);return Math.log(1*h/-l)/h}(Math.abs(u),this.qd))}tc(e){const r=ye(this.Wd),s=e-r.ot;return r.zd+this.Hd*(Math.pow(this.qd,s)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const r=e-ye(this.Wd).ot;return Math.min(r,this.jd)}}class rU{constructor(e,r){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=r,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return Wk(Rd(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function gl(t,e){const r=ye(t.ownerDocument).createElement("canvas");t.appendChild(r);const s=fF(r,{options:{allowResizeObserver:!1},transform:(i,a)=>({width:Math.max(i.width,a.width),height:Math.max(i.height,a.height)})});return s.resizeCanvasElement(e),s}function xl(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function Xx(t,e,r,s){t.gl&&t.gl(e,r,s)}function _f(t,e,r,s){t.X(e,r,s)}function Yx(t,e,r,s){const i=t(r,s);for(const a of i){const o=a.gt();o!==null&&e(o)}}function nU(t){Vc&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class mb{constructor(e,r,s){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Jp(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const a=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(xi(i),this.cf);o<30&&!this.wf&&this.Wf(a,this.Hf.jf),this.$f()}}else{const a=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(xi(i),this.af);o<5&&!this.bf&&this.Uf(a,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=r,this.cn=s,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const r=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",r)},this.Zf.addEventListener("mousemove",r),this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.tv),this.Bf=!0}iv(e){const r=tg(e.changedTouches,ye(this.Of));if(r===null||(this.Vf=Qh(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const s=this.Ff(xi(r),ye(this.pf)),{nv:i,sv:a,Nf:o}=s;if(this.mf||!(o<5)){if(!this.mf){const c=.5*i,u=a>=c&&!this.cn.ev(),l=c>a&&!this.cn.rv();u||l||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const c=this.Ef(e,r);this.Wf(c,this.Hf.hv),Ll(e)}}}lv(e){if(e.button!==0)return;const r=this.Ff(xi(e),ye(this.vf)),{Nf:s}=r;if(s>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,r){const s=Math.abs(r.nt-e.nt),i=Math.abs(r.st-e.st);return{nv:s,sv:i,Nf:s+i}}ov(e){let r=tg(e.changedTouches,ye(this.Of));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Of=null,this.Vf=Qh(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const s=this.Ef(e,r);if(this.Wf(s,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(xi(r),this.cf);i<30&&!this.wf&&this.Wf(s,this.Hf.jf),this.$f()}else this.wf||(this.Wf(s,this.Hf.uv),this.Hf.uv&&Ll(e));this._f===0&&Ll(e),e.touches.length===0&&this.ff&&(this.ff=!1,Ll(e))}If(e){if(e.button!==0)return;const r=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),F1()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(r,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:s}=this.Ff(xi(e),this.af);s<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}else this.bf||this.Uf(r,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const r=e.changedTouches[0];this.Of=r.identifier,this.Vf=Qh(e);const s=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=xi(r),this.yf&&(this.yf(),this.yf=null);{const a=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{s.removeEventListener("touchmove",a),s.removeEventListener("touchend",o)},s.addEventListener("touchmove",a,{passive:!1}),s.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,r);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=xi(r))}mv(e){if(e.button!==0)return;const r=this.Zf.ownerDocument.documentElement;F1()&&r.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=xi(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),a=this.If.bind(this);this.kf=()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",a)},r.addEventListener("mousemove",i),r.addEventListener("mouseup",a)}if(this.Df=!0,this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=xi(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,r=s=>{this.Hf.wv&&(s.composed&&this.Zf.contains(s.composedPath()[0])||s.target&&this.Zf.contains(s.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",r)},this.gf=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}Jp()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),nU(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const r=U1(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,r),Ll(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const r=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,st:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Tf=U1(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const r=this.Ef(e);this.Uf(r,this.Hf.Pv),this.Bf=!Jp()}vv(e){const r=tg(e.touches,ye(this.Of));if(r===null)return;const s=this.Ef(e,r);this.Wf(s,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Qh(e)<this.Vf+500}Wf(e,r){r&&r.call(this.Hf,e)}Uf(e,r){r&&r.call(this.Hf,e)}Ef(e,r){const s=r||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-i.left,localY:s.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:s.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Ll(e)}}}}function U1(t,e){const r=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(r*r+s*s)}function Ll(t){t.cancelable&&t.preventDefault()}function xi(t){return{nt:t.pageX,st:t.pageY}}function Qh(t){return t.timeStamp||performance.now()}function tg(t,e){for(let r=0;r<t.length;++r)if(t[r].identifier===e)return t[r];return null}function Xh(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function sU(t,e,r){for(const s of t){const i=s.gt();if(i!==null&&i.wr){const a=i.wr(e,r);if(a!==null)return{Bv:s,Iv:a}}}return null}function rg(t,e){return r=>{var s,i,a,o;return((i=(s=r.Dt())===null||s===void 0?void 0:s.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(a=r.da)===null||a===void 0?void 0:a.call(r,t))!==null&&o!==void 0?o:[]}}function B1(t,e,r,s){if(!t.length)return;let i=0;const a=r/2,o=t[0].At(s,!0);let c=e===1?a-(t[0].Vi()-o/2):t[0].Vi()-o/2-a;c=Math.max(0,c);for(let u=1;u<t.length;u++){const l=t[u],d=t[u-1],h=d.At(s,!1),f=l.Vi(),p=d.Vi();if(e===1?f>p-h:f<p+h){const v=p-h*e;l.Oi(v);const g=v-e*h/2;if((e===1?g<0:g>r)&&c>0){const N=e===1?-1-g:g-r,b=Math.min(N,c);for(let x=i;x<t.length;x++)t[x].Oi(t[x].Vi()+e*b);c-=b}}else i=u,c=e===1?p-h-f:f-(p+h)}}class z1{constructor(e,r,s,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Fd(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=r,this.ko=r.layout,this.Oc=s,this.qv=i==="left",this.Yv=rg("normal",i),this.Zv=rg("top",i),this.Xv=rg("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=gl(this.Kv,ur({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const a=this.Gv.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Jv=gl(this.Kv,ur({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const c={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new mb(this.Jv.canvasElement,c,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),xl(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),xl(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const r=this.ap(),s=ye(this.Gv.canvasElement.getContext("2d"));s.save();const i=this.Li.Ha();s.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(s,i[0].so),this.Fv.xi(s,i[i.length-1].so)));const a=this.up();for(let l=a.length;l--;){const d=this.Fv.xi(s,a[l].Kt());d>e&&(e=d)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(c=this.cn.crosshair).mode!==2&&c.horzLine.visible&&c.horzLine.labelVisible){const l=this.Li.pn(1,o),d=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(s,this.Li.Fi(Math.floor(Math.min(l,d))+.11111111111111,o)),this.Fv.xi(s,this.Li.Fi(Math.ceil(Math.max(l,d))-.11111111111111,o)))}var c;s.restore();const u=e||34;return Qx(Math.ceil(r.C+r.T+r.A+r.I+5+u))}cp(e){this.Ev!==null&&tl(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return ye(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,ye(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const s=ml(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(s,this.Xv),this.wp(s),this.tn.bp(s,this.Yv),this.gp(s))}this.Jv.applySuggestedBitmapSize();const r=ml(this.Jv);r!==null&&(r.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.Mp(r),this.tn.bp(r,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,r,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,r,s)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const r=this.tn.$v().$t(),s=this.tn.fp();this.Nv=!0,r.V_(s,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const r=this.tn.$v().$t(),s=this.tn.fp(),i=this.Li;r.O_(s,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),r=this.tn.fp(),s=this.Li;this.Nv&&(this.Nv=!1,e.B_(r,s))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const r=this.tn.$v().$t(),s=this.tn.fp();this.Nv=!1,r.B_(s,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],r=this.Li===null?void 0:this.Li;return(s=>{for(let i=0;i<s.length;++i){const a=s[i].Rn(this.tn.fp(),r);for(let o=0;o<a.length;o++)e.push(a[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:r}){const{width:s,height:i}=r,a=this.tn.fp().$t(),o=a.q(),c=a.bd();o===c?k0(e,0,0,s,i,o):Vk(e,0,0,s,i,o,c)}Ie({context:e,bitmapSize:r,horizontalPixelRatio:s}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*s));let a;a=this.qv?r.width-i:0,e.fillRect(a,0,i,r.height)}wp(e){if(this.Ev===null||this.Li===null)return;const r=this.Li.Ha(),s=this.Li.W(),i=this.ap(),a=this.qv?this.Ev.width-i.T:0;s.borderVisible&&s.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:c,verticalPixelRatio:u})=>{o.fillStyle=s.borderColor;const l=Math.max(1,Math.floor(u)),d=Math.floor(.5*u),h=Math.round(i.T*c);o.beginPath();for(const f of r)o.rect(Math.floor(a*c),Math.round(f.Ea*u)-d,h,l);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var c;o.font=this._p(),o.fillStyle=(c=s.textColor)!==null&&c!==void 0?c:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const u=this.qv?Math.round(a-i.A):Math.round(a+i.T+i.A),l=r.map(d=>this.Fv.Mi(o,d.so));for(let d=r.length;d--;){const h=r[d];o.fillText(h.so,u,h.Ea+l[d])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],r=this.Li.Uo().slice(),s=this.tn.fp(),i=this.ap();this.Li===s.pr()&&this.tn.fp().Uo().forEach(o=>{s.vr(o)&&r.push(o)});const a=this.Li;r.forEach(o=>{o.Rn(s,a).forEach(c=>{c.Oi(null),c.Bi()&&e.push(c)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,r){if(this.Ev===null)return;const s=this.Ev.height/2,i=e.filter(o=>o.ki()<=s),a=e.filter(o=>o.ki()>s);i.sort((o,c)=>c.ki()-o.ki()),a.sort((o,c)=>o.ki()-c.ki());for(const o of e){const c=Math.floor(o.At(r)/2),u=o.ki();u>-c&&u<c&&o.Oi(c),u>this.Ev.height-c&&u<this.Ev.height+c&&o.Oi(this.Ev.height-c)}B1(i,1,this.Ev.height,r),B1(a,-1,this.Ev.height,r)}gp(e){if(this.Ev===null)return;const r=this.up(),s=this.ap(),i=this.qv?"right":"left";r.forEach(a=>{a.Ai()&&a.gt(ye(this.Li)).X(e,s,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const r=this.tn.$v().$t(),s=[],i=this.tn.fp(),a=r.Zc().Rn(i,this.Li);a.length&&s.push(a);const o=this.ap(),c=this.qv?"right":"left";s.forEach(u=>{u.forEach(l=>{l.gt(ye(this.Li)).X(e,o,this.Fv,c)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Wc(this.ko.fontSize,this.ko.fontFamily)}}function iU(t,e){var r,s;return(s=(r=t.ua)===null||r===void 0?void 0:r.call(t,e))!==null&&s!==void 0?s:[]}function Yh(t,e){var r,s;return(s=(r=t.Pn)===null||r===void 0?void 0:r.call(t,e))!==null&&s!==void 0?s:[]}function aU(t,e){var r,s;return(s=(r=t.Ji)===null||r===void 0?void 0:r.call(t,e))!==null&&s!==void 0?s:[]}function oU(t,e){var r,s;return(s=(r=t.aa)===null||r===void 0?void 0:r.call(t,e))!==null&&s!==void 0?s:[]}class pb{constructor(e,r){this.Ev=ur({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Ar,this.Op=new Ar,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=r,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(s),this.Gv=gl(s,ur({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=gl(s,ur({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const a=this.Jv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new mb(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),xl(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),xl(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return ye(this.Np)}qp(e){var r,s;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(pb.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(r=this.Pp)!==null&&r!==void 0?r:new rU(this.Wp,this.Qd),this.Pp.bt()):((s=this.Pp)===null||s===void 0||s.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(ye(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(ye(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const r=e.localX,s=e.localY;this.Gp(r,s,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var r;if(!this.Np)return;this.Kp();const s=e.localX,i=e.localY;this.Gp(s,i,e);const a=this.wr(s,i);this.Qd.Qp((r=a==null?void 0:a.Lv)!==null&&r!==void 0?r:null),this.$i().jc(a&&{Hc:a.Hc,Iv:a.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const r={x:e.localX,y:e.localY};this.rm(r,r,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,r){if(!this.Qd.W().handleScale.pinch)return;const s=5*(r-this.Bp);this.Bp=r,this.$i().Qc(e.nt,s)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const r=this.$i().Zc();this.Ip!==null&&r.yt()&&(this.Lp={x:r.Yt(),y:r.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const r=e.localX,s=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=ye(this.Lp),a=i.x+(r-this.Ip.x),o=i.y+(s-this.Ip.y);this.Gp(a,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,r){const s=this.Np;return s===null?null:function(i,a,o){const c=i.Uo(),u=function(l,d,h){var f,p;let v,g;for(const x of l){const y=(p=(f=x.va)===null||f===void 0?void 0:f.call(x,d,h))!==null&&p!==void 0?p:[];for(const w of y)N=w.zOrder,(!(b=v==null?void 0:v.zOrder)||N==="top"&&b!=="top"||N==="normal"&&b==="bottom")&&(v=w,g=x)}var N,b;return v&&g?{zv:v,Hc:g}:null}(c,a,o);if((u==null?void 0:u.zv.zOrder)==="top")return Xh(u);for(const l of c){if(u&&u.Hc===l&&u.zv.zOrder!=="bottom"&&!u.zv.isBackground)return Xh(u);const d=sU(l.Pn(i),a,o);if(d!==null)return{Hc:l,Bv:d.Bv,Iv:d.Iv};if(u&&u.Hc===l&&u.zv.zOrder!=="bottom"&&u.zv.isBackground)return Xh(u)}return u!=null&&u.zv?Xh(u):null}(s,e,r)}_m(e,r){ye(r==="left"?this.Cp:this.Tp).cp(ur({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){tl(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=ye(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const r of e.Ba())if(e.vr(r)){const s=r.Dt();s!==null&&e.P_(s),r.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,r,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,r,s)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const s=ml(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(s,iU),this.vm(s),this.pm(s),this.fm(s,Yh),this.fm(s,aU)))}this.Jv.applySuggestedBitmapSize();const r=ml(this.Jv);r!==null&&(r.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.bm(r),this.fm(r,oU))}wm(){return this.Cp}gm(){return this.Tp}bp(e,r){this.fm(e,r)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,r){const s=r.localX,i=r.localY;e.M()&&e.m(this.$i().St().Nu(s),{x:s,y:i},r)}mp({context:e,bitmapSize:r}){const{width:s,height:i}=r,a=this.$i(),o=a.q(),c=a.bd();o===c?k0(e,0,0,s,i,c):Vk(e,0,0,s,i,o,c)}vm(e){const r=ye(this.Np).j_().qh().gt();r!==null&&r.X(e,!1)}pm(e){const r=this.$i().Yc();this.Mm(e,Yh,Xx,r),this.Mm(e,Yh,_f,r)}bm(e){this.Mm(e,Yh,_f,this.$i().Zc())}fm(e,r){const s=ye(this.Np).Uo();for(const i of s)this.Mm(e,r,Xx,i);for(const i of s)this.Mm(e,r,_f,i)}Mm(e,r,s,i){const a=ye(this.Np),o=a.$t().Wc(),c=o!==null&&o.Hc===i,u=o!==null&&c&&o.Iv!==void 0?o.Iv.Mr:void 0;Yx(r,l=>s(l,e,c,u),i,a)}Zp(){if(this.Np===null)return;const e=this.Qd,r=this.Np.R_().W().visible,s=this.Np.D_().W().visible;r||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),s||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();r&&this.Cp===null&&(this.Cp=new z1(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),s&&this.Tp===null&&(this.Tp=new z1(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,r,s){this.$i().ld(this.Sm(e),this.km(r),s,ye(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,r,s){this.Ip=e,this.zp=!1,this.Gp(r.x,r.y,s);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const r=this.$i(),s=this.fp();if(r.z_(s,s.vn()),this.Rp=null,this.Dp=!1,r.ed(),this.Ep!==null){const i=performance.now(),a=r.St();this.Ep.Vr(a.Hu(),i),this.Ep.Qu(i)||r.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ye(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const r=this.$i(),s=r.St();if(s.Ni())return;const i=this.Qd.W(),a=i.handleScroll,o=i.kineticScroll;if((!a.pressedMouseMove||e.Dv)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Dv))return;const c=this.Np.vn(),u=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:u,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const l=s.le();this.Ep=new tU(.2/l,7/l,.997,15/l),this.Ep.Yd(s.Hu(),this.Rp.Od)}else this.Ep=null;c.Ni()||r.A_(this.Np,c,e.localY),r.nd(e.localX),this.Dp=!0}this.Dp&&(c.Ni()||r.I_(this.Np,c,e.localY),r.sd(e.localX),this.Ep!==null&&this.Ep.Yd(s.Hu(),u))}}class $1{constructor(e,r,s,i,a){this.ft=!0,this.Ev=ur({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=s.ud,this.cn=r,this.Tm=i,this.Pm=a,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=gl(this.Kv,ur({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),xl(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){tl(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const r=ml(this.Gv);r!==null&&r.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)})}xp(){return this.Gv.bitmapSize}Sp(e,r,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,r,s)}Ie({context:e,bitmapSize:r,horizontalPixelRatio:s,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const a=Math.floor(this.Oc.W().C*s),o=Math.floor(this.Oc.W().C*i),c=this.qv?r.width-a:0;e.fillRect(c,0,a,o)}mp({context:e,bitmapSize:r}){k0(e,0,0,r.width,r.height,this.Pm())}}function gb(t){return e=>{var r,s;return(s=(r=e.fa)===null||r===void 0?void 0:r.call(e,t))!==null&&s!==void 0?s:[]}}const lU=gb("normal"),cU=gb("top"),uU=gb("bottom");class dU{constructor(e,r){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=ur({width:0,height:0}),this.Om=new Ar,this.Fv=new Fd(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=r,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=gl(this.Im,ur({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=gl(this.Im,ur({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new mb(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),xl(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),xl(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const r=this.Qd.$t();!r.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&r.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const r=this.Qd.$t();!r.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&r.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,r,s){tl(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(ur({width:r,height:e.height})),this.Dm!==null&&this.Dm.cp(ur({width:s,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,r,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,r,s)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const s=ml(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(s,uU)}),this.wp(s),this.$m(s,lU)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const r=ml(this.Jv);r!==null&&(r.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],r),this.$m(r,cU))}$m(e,r){const s=this.Qd.$t().wt();for(const i of s)Yx(r,a=>Xx(a,e,!1,void 0),i,void 0);for(const i of s)Yx(r,a=>_f(a,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:r}){k0(e,0,0,r.width,r.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:r,verticalPixelRatio:s}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*s));e.fillRect(0,0,r.width,i)}}wp(e){const r=this.Qd.$t().St(),s=r.Ha();if(!s||s.length===0)return;const i=this.q_.maxTickMarkWeight(s),a=this.jm(),o=r.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:c,horizontalPixelRatio:u,verticalPixelRatio:l})=>{c.strokeStyle=this.qm(),c.fillStyle=this.qm();const d=Math.max(1,Math.floor(u)),h=Math.floor(.5*u);c.beginPath();const f=Math.round(a.T*l);for(let p=s.length;p--;){const v=Math.round(s[p].coord*u);c.rect(v-h,0,d,f)}c.fill()}),e.useMediaCoordinateSpace(({context:c})=>{const u=a.C+a.T+a.L+a.P/2;c.textAlign="center",c.textBaseline="middle",c.fillStyle=this.$(),c.font=this._p();for(const l of s)if(l.weight<i){const d=l.needAlignCoordinate?this.Ym(c,l.coord,l.label):l.coord;c.fillText(l.label,d,u)}this.Qd.W().timeScale.allowBoldLabels&&(c.font=this.Zm());for(const l of s)if(l.weight>=i){const d=l.needAlignCoordinate?this.Ym(c,l.coord,l.label):l.coord;c.fillText(l.label,d,u)}})}Ym(e,r,s){const i=this.Fv.xi(e,s),a=i/2,o=Math.floor(r-a)+.5;return o<0?r+=Math.abs(0-o):o+i>this.Ev.width&&(r-=Math.abs(this.Ev.width-(o+i))),r}Um(e,r){const s=this.jm();for(const i of e)for(const a of i.Qi())a.gt().X(r,s)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Wc(this.j(),this.cn.fontFamily)}Zm(){return Wc(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Fd,Hm:0});const e=this.k,r=this._p();if(e.R!==r){const s=this.j();e.P=s,e.R=r,e.L=3*s/12,e.B=3*s/12,e.ji=9*s/12,e.N=0,e.Hm=4*s/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),r=e.W();r.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),r.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const s={ud:this.Qd.$t().ud()},i=()=>r.leftPriceScale.borderVisible&&e.St().W().borderVisible,a=()=>e.bd();r.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new $1("left",r,s,i,a),this.Bm.appendChild(this.Rm.lp())),r.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new $1("right",r,s,i,a),this.Am.appendChild(this.Dm.lp()))}}const hU=!!Vc&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Vc&&(!((ng=navigator==null?void 0:navigator.userAgentData)===null||ng===void 0)&&ng.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var ng;class fU{constructor(e,r,s){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Ar,this.Op=new Ar,this.Rc=new Ar,this.ib=null,this.nb=null,this.Jd=e,this.cn=r,this.q_=s,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),sg(this.cn)&&this.hb(!0),this.$i=new X8(this.Vc.bind(this),this.cn,s),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new dU(this,this.q_),this.sb.appendChild(this.ab.lp());const a=r.autoSize&&this.ob();let o=this.cn.width,c=this.cn.height;if(a||o===0||c===0){const u=e.getBoundingClientRect();o=o||u.width,c=c||u.height}this._b(o,c),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],ye(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,r,s=!1){if(this.ho===r&&this.__===e)return;const i=function(c){const u=Math.floor(c.width),l=Math.floor(c.height);return ur({width:u-u%2,height:l-l%2})}(ur({width:e,height:r}));this.ho=i.height,this.__=i.width;const a=this.ho+"px",o=this.__+"px";ye(this.Xd).style.height=a,ye(this.Xd).style.width=o,this.sb.style.height=a,this.sb.style.width=o,s?this.mb(mn.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=mn.es());for(let r=0;r<this.Xm.length;r++)this.Xm[r].vp(e.Hn(r).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const r=sg(this.cn);this.$i.$h(e);const s=sg(this.cn);s!==r&&this.hb(s),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),r=document.createElement("canvas");r.width=e.width,r.height=e.height;const s=ye(r.getContext("2d"));return this.gb(s),r}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:ye(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Fn(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let r=0,s=0;const i=this.Xm[0],a=(c,u)=>{let l=0;for(let d=0;d<this.Xm.length;d++){const h=this.Xm[d],f=ye(c==="left"?h.wm():h.gm()),p=f.xp();e!==null&&f.Sp(e,u,l),l+=p.height}};this.xb()&&(a("left",0),r+=ye(i.wm()).xp().width);for(let c=0;c<this.Xm.length;c++){const u=this.Xm[c],l=u.xp();e!==null&&u.Sp(e,r,s),s+=l.height}r+=i.xp().width,this.Sb()&&(a("right",r),r+=ye(i.gm()).xp().width);const o=(c,u,l)=>{ye(c==="left"?this.ab.Lm():this.ab.Em()).Sp(ye(e),u,l)};if(this.cn.timeScale.visible){const c=this.ab.xp();if(e!==null){let u=0;this.xb()&&(o("left",u,s),u=ye(i.wm()).xp().width),this.ab.Sp(e,u,s),u+=c.width,this.Sb()&&o("right",u,s)}s+=c.height}return ur({width:r,height:s})}Pb(){let e=0,r=0,s=0;for(const v of this.Xm)this.xb()&&(r=Math.max(r,ye(v.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(s=Math.max(s,ye(v.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=v.M_();r=Qx(r),s=Qx(s);const i=this.__,a=this.ho,o=Math.max(i-r-s,0),c=this.cn.timeScale.visible;let u=c?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var l;u=(l=u)+l%2;const d=0+u,h=a<d?0:a-d,f=h/e;let p=0;for(let v=0;v<this.Xm.length;++v){const g=this.Xm[v];g.qp(this.$i.qc()[v]);let N=0,b=0;b=v===this.Xm.length-1?h-p:Math.round(g.M_()*f),N=Math.max(b,2),p+=N,g.cp(ur({width:o,height:N})),this.xb()&&g._m(r,"left"),this.Sb()&&g._m(s,"right"),g.fp()&&this.$i.Kc(g.fp(),N)}this.ab.Fm(ur({width:c?o:0,height:u}),c?r:0,c?s:0),this.$i.S_(o),this.Gm!==r&&(this.Gm=r),this.Jm!==s&&(this.Jm=s)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return hU?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const r=this.Rb(e),s=r*e.deltaX/100,i=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const a=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,a)}s!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*s)}mb(e,r){var s;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,r),this.ab.bt(),this.Xm.forEach(a=>{a.Xp()}),((s=this.Qm)===null||s===void 0?void 0:s.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,r),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,r){for(const s of e.Qn())this.ns(s,r)}Vb(e){const r=this.$i.qc();for(let s=0;s<r.length;s++)e.Hn(s).Wn&&r[s].N_()}ns(e,r){const s=this.$i.St();switch(e.qn){case 0:s.hc();break;case 1:s.lc(e.Vt);break;case 2:s.Gn(e.Vt);break;case 3:s.Jn(e.Vt);break;case 4:s.qu();break;case 5:e.Vt.Qu(r)||s.Jn(e.Vt.tc(r))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(r=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const s=this.Qm;this.Qm=null,this.mb(s,r);for(const i of s.Qn())if(i.qn===5&&!i.Vt.Qu(r)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),r=e.length,s=this.Xm.length;for(let i=r;i<s;i++){const a=Fn(this.Xm.pop());this.sb.removeChild(a.lp()),a.lm().p(this),a.am().p(this),a.S()}for(let i=s;i<r;i++){const a=new pb(this,e[i]);a.lm().l(this.Bb.bind(this),this),a.am().l(this.Ab.bind(this),this),this.Xm.push(a),this.sb.insertBefore(a.lp(),this.ab.lp())}for(let i=0;i<r;i++){const a=e[i],o=this.Xm[i];o.fp()!==a?o.qp(a):o.Up()}this.cb(),this.Pb()}Ib(e,r,s){var i;const a=new Map;e!==null&&this.$i.wt().forEach(d=>{const h=d.In().ll(e);h!==null&&a.set(d,h)});let o;if(e!==null){const d=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;d!==void 0&&(o=d)}const c=this.$t().Wc(),u=c!==null&&c.Hc instanceof hb?c.Hc:void 0,l=c!==null&&c.Iv!==void 0?c.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:r??void 0,Eb:u,Nb:a,Fb:l,Wb:s??void 0}}Bb(e,r,s){this.Vp.m(()=>this.Ib(e,r,s))}Ab(e,r,s){this.Op.m(()=>this.Ib(e,r,s))}lb(e,r,s){this.Rc.m(()=>this.Ib(e,r,s))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const r=e.find(s=>s.target===this.Jd);r&&this._b(r.contentRect.width,r.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function sg(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function mU(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function cE(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]])}return r}function W1(t,e,r,s){const i=r.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return r.color!==void 0&&(a.V=r.color),a}function pU(t,e,r,s){const i=r.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return r.lineColor!==void 0&&(a.lt=r.lineColor),r.topColor!==void 0&&(a.Ps=r.topColor),r.bottomColor!==void 0&&(a.Rs=r.bottomColor),a}function gU(t,e,r,s){const i=r.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return r.topLineColor!==void 0&&(a.Re=r.topLineColor),r.bottomLineColor!==void 0&&(a.De=r.bottomLineColor),r.topFillColor1!==void 0&&(a.ke=r.topFillColor1),r.topFillColor2!==void 0&&(a.ye=r.topFillColor2),r.bottomFillColor1!==void 0&&(a.Ce=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(a.Te=r.bottomFillColor2),a}function xU(t,e,r,s){const i={ee:e,ot:t,Vt:[r.open,r.high,r.low,r.close],zb:s};return r.color!==void 0&&(i.V=r.color),i}function vU(t,e,r,s){const i={ee:e,ot:t,Vt:[r.open,r.high,r.low,r.close],zb:s};return r.color!==void 0&&(i.V=r.color),r.borderColor!==void 0&&(i.Ot=r.borderColor),r.wickColor!==void 0&&(i.Xh=r.wickColor),i}function yU(t,e,r,s,i){const a=Fn(i)(r),o=Math.max(...a),c=Math.min(...a),u=a[a.length-1],l=[u,o,c,u],d=r,{time:h,color:f}=d;return{ee:e,ot:t,Vt:l,zb:s,$e:cE(d,["time","color"]),V:f}}function Jh(t){return t.Vt!==void 0}function V1(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function ko(t){return(e,r,s,i,a,o)=>function(c,u){return u?u(c):(l=c).open===void 0&&l.value===void 0;var l}(s,o)?V1({ot:e,ee:r,zb:i},s):V1(t(e,r,s,i,a),s)}function H1(t){return{Candlestick:ko(vU),Bar:ko(xU),Area:ko(pU),Baseline:ko(gU),Histogram:ko(W1),Line:ko(W1),Custom:ko(yU)}[t]}function K1(t){return{ee:0,Hb:new Map,la:t}}function G1(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function q1(t){let e;return t.forEach(r=>{e===void 0&&(e=r.zb)}),Fn(e)}class bU{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,r){let s=this.qb.size!==0,i=!1;const a=this.Yb.get(e);if(a!==void 0)if(this.Yb.size===1)s=!1,i=!0,this.qb.clear();else for(const u of this.Xb)u.pointData.Hb.delete(e)&&(i=!0);let o=[];if(r.length!==0){const u=r.map(p=>p.time),l=this.q_.createConverterToInternalObj(r),d=H1(e.Qh()),h=e.Ca(),f=e.Ta();o=r.map((p,v)=>{const g=l(p.time),N=this.q_.key(g);let b=this.qb.get(N);b===void 0&&(b=K1(g),this.qb.set(N,b),i=!0);const x=d(g,b.ee,p,u[v],h,f);return b.Hb.set(e,x),x})}s&&this.Gb(),this.Jb(e,o);let c=-1;if(i){const u=[];this.qb.forEach(l=>{u.push({timeWeight:0,time:l.la,pointData:l,originalTime:q1(l.Hb)})}),u.sort((l,d)=>this.q_.key(l.time)-this.q_.key(d.time)),c=this.Qb(u)}return this.tw(e,c,function(u,l,d){const h=G1(u,d),f=G1(l,d);if(h!==void 0&&f!==void 0)return{ta:h.Ub>=f.Ub&&h.$b>=f.$b}}(this.Yb.get(e),a,this.q_))}vd(e){return this.Kb(e,[])}iw(e,r){const s=r;(function(g){g.zb===void 0&&(g.zb=g.time)})(s),this.q_.preprocessData(r);const i=this.q_.createConverterToInternalObj([r])(r.time),a=this.Zb.get(e);if(a!==void 0&&this.q_.key(i)<this.q_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const c=o===void 0;o===void 0&&(o=K1(i),this.qb.set(this.q_.key(i),o));const u=H1(e.Qh()),l=e.Ca(),d=e.Ta(),h=u(i,o.ee,r,s.zb,l,d);o.Hb.set(e,h),this.nw(e,h);const f={ta:Jh(h)};if(!c)return this.tw(e,-1,f);const p={timeWeight:0,time:o.la,pointData:o,originalTime:q1(o.Hb)},v=ch(this.Xb,this.q_.key(p.time),(g,N)=>this.q_.key(g.time)<N);this.Xb.splice(v,0,p);for(let g=v;g<this.Xb.length;++g)ig(this.Xb[g].pointData,g);return this.q_.fillWeightsForPoints(this.Xb,v),this.tw(e,v,f)}nw(e,r){let s=this.Yb.get(e);s===void 0&&(s=[],this.Yb.set(e,s));const i=s.length!==0?s[s.length-1]:null;i===null||this.q_.key(r.ot)>this.q_.key(i.ot)?Jh(r)&&s.push(r):Jh(r)?s[s.length-1]=r:s.splice(-1,1),this.Zb.set(e,r.ot)}Jb(e,r){r.length!==0?(this.Yb.set(e,r.filter(Jh)),this.Zb.set(e,r[r.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let r=-1;for(let s=0;s<this.Xb.length&&s<e.length;++s){const i=this.Xb[s],a=e[s];if(this.q_.key(i.time)!==this.q_.key(a.time)){r=s;break}a.timeWeight=i.timeWeight,ig(a.pointData,s)}if(r===-1&&this.Xb.length!==e.length&&(r=Math.min(this.Xb.length,e.length)),r===-1)return-1;for(let s=r;s<e.length;++s)ig(e[s].pointData,s);return this.q_.fillWeightsForPoints(e,r),this.Xb=e,r}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].ee))}),e}tw(e,r,s){const i={ew:new Map,St:{Eu:this.sw()}};if(r!==-1)this.Yb.forEach((a,o)=>{i.ew.set(o,{$e:a,rw:o===e?s:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:s}),i.St.hw=this.Xb,i.St.lw=r;else{const a=this.Yb.get(e);i.ew.set(e,{$e:a||[],rw:s})}return i}}function ig(t,e){t.ee=e,t.Hb.forEach(r=>{r.ee=e})}function xb(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function Q1(t){const e=xb(t);return t.V!==void 0&&(e.color=t.V),e}function wU(t){const e=xb(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function jU(t){const e=xb(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function uE(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function NU(t){const e=uE(t);return t.V!==void 0&&(e.color=t.V),e}function SU(t){const e=uE(t),{V:r,Ot:s,Xh:i}=t;return r!==void 0&&(e.color=r),s!==void 0&&(e.borderColor=s),i!==void 0&&(e.wickColor=i),e}function Jx(t){return{Area:wU,Line:Q1,Baseline:jU,Histogram:Q1,Bar:NU,Candlestick:SU,Custom:CU}[t]}function CU(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const TU={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},kU={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},EU={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:ab,attributionLogo:!0},ag={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},PU={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},_U={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:ab,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function X1(){return{width:0,height:0,autoSize:!1,layout:EU,crosshair:TU,grid:kU,overlayPriceScales:Object.assign({},ag),leftPriceScale:Object.assign(Object.assign({},ag),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},ag),{visible:!0}),timeScale:PU,watermark:_U,localization:{locale:Vc?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class DU{constructor(e,r){this.aw=e,this.ow=r}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return P0(this.ow)?this.aw.Mb(this.ow):0}Li(){return ye(this.aw.$t().Uc(this.ow)).Dt}}function Y1(t,e,r){const s=cE(t,["time","originalTime"]),i=Object.assign({time:e},s);return r!==void 0&&(i.originalTime=r),i}const MU={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class AU{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class OU{constructor(e,r,s,i,a){this.uw=new Ar,this.Es=e,this.cw=r,this.dw=s,this.q_=a,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const r=this.Es.Ct();return r===null?null:this.Es.Dt().Rt(e,r.Vt)}coordinateToPrice(e){const r=this.Es.Ct();return r===null?null:this.Es.Dt().pn(e,r.Vt)}barsInLogicalRange(e){if(e===null)return null;const r=new yc(new id(e.from,e.to)).lu(),s=this.Es.In();if(s.Ni())return null;const i=s.ll(r.Os(),1),a=s.ll(r.ui(),-1),o=ye(s.el()),c=ye(s.An());if(i!==null&&a!==null&&i.ee>a.ee)return{barsBefore:e.from-o,barsAfter:c-e.to};const u={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:a===null||a.ee===c?c-e.to:c-a.ee};return i!==null&&a!==null&&(u.from=i.zb,u.to=a.zb),u}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,r){const s=this.Es.In().ll(e,r);return s===null?null:Jx(this.seriesType())(s)}data(){const e=Jx(this.seriesType());return this.Es.In().ne().map(r=>e(r))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const r=e.map(s=>Y1(s,this.q_.convertHorzItemToInternal(s.time),s.time));this.Es.na(r)}markers(){return this.Es.sa().map(e=>Y1(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return sa(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const r=li(sa(MU),e),s=this.Es.ea(r);return new AU(s)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class RU{constructor(e,r,s){this.ww=new Ar,this.mu=new Ar,this.Om=new Ar,this.$i=e,this.yl=e.St(),this.ab=r,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=s}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,r){r?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},s=this.yl.Iu(r);this.$i.pd(s)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){fo(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const r=this.$i.St();return r.Ni()?null:r.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const r=this.q_.convertHorzItemToInternal(e),s=this.yl.Va(r,!1);return s===null?null:this.yl.It(s)}coordinateToTime(e){const r=this.$i.St(),s=r.Nu(e),i=r.Ui(s);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},sa(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function IU(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(r){if(r>=1)return 0;let s=0;for(;s<8;s++){const i=Math.round(r);if(Math.abs(i-r)<1e-8)return s;r*=10}return s}(e.minMove))}function J1(t){return function(e){if(Wh(e.handleScale)){const s=e.handleScale;e.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:i}=e.handleScale;Wh(s)&&(e.handleScale.axisPressedMouseMove={time:s,price:s}),Wh(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const r=e.handleScroll;Wh(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(t),t}class LU{constructor(e,r,s){this.Sw=new Map,this.kw=new Map,this.yw=new Ar,this.Cw=new Ar,this.Tw=new Ar,this.Pw=new bU(r);const i=s===void 0?sa(X1()):li(sa(X1()),J1(s));this.q_=r,this.aw=new fU(e,i,r),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const a=this.aw.$t();this.Dw=new RU(a,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,r,s){this.autoSizeActive()||this.aw._b(e,r,s)}addCustomSeries(e,r){const s=ic(e),i=Object.assign(Object.assign({},Uk),s.defaultOptions());return this.Vw("Custom",i,r,s)}addAreaSeries(e){return this.Vw("Area",bF,e)}addBaselineSeries(e){return this.Vw("Baseline",wF,e)}addBarSeries(e){return this.Vw("Bar",vF,e)}addCandlestickSeries(e={}){return function(r){r.borderColor!==void 0&&(r.borderUpColor=r.borderColor,r.borderDownColor=r.borderColor),r.wickColor!==void 0&&(r.wickUpColor=r.wickColor,r.wickDownColor=r.wickColor)}(e),this.Vw("Candlestick",xF,e)}addHistogramSeries(e){return this.Vw("Histogram",jF,e)}addLineSeries(e){return this.Vw("Line",yF,e)}removeSeries(e){const r=Fn(this.Sw.get(e)),s=this.Pw.vd(r);this.aw.$t().vd(r),this.Ow(s),this.Sw.delete(e),this.kw.delete(r)}pw(e,r){this.Ow(this.Pw.Kb(e,r))}bw(e,r){this.Ow(this.Pw.iw(e,r))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new DU(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(J1(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,r,s){const i=this.Sw.get(s);if(i===void 0)return;const a=this.aw.$t().dr(i);a!==null&&this.aw.$t().ad(e,r,a)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,r,s={},i){IU(s.priceFormat);const a=li(sa(Bk),sa(r),s),o=this.aw.$t().dd(e,a,i),c=new OU(o,this,this,this,this.q_);return this.Sw.set(c,o),this.kw.set(o,c),c}Ow(e){const r=this.aw.$t();r._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((s,i)=>i.J(s.$e,s.rw)),r.Wu()}Bw(e){return Fn(this.kw.get(e))}Rw(e){const r=new Map;e.Nb.forEach((i,a)=>{const o=a.Qh(),c=Jx(o)(i);if(o!=="Custom")fo(mU(c));else{const u=a.Ta();fo(!u||u(c)===!1)}r.set(this.Bw(a),c)});const s=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:s,hoveredObjectId:e.Fb,seriesData:r,sourceEvent:e.Wb}}}function FU(t,e,r){let s;if(lh(t)){const a=document.getElementById(t);fo(a!==null,`Cannot find element in DOM with id=${t}`),s=a}else s=t;const i=new LU(s,e,r);return e.setOptions(i.options()),i}function UU(t,e){return FU(t,new L1,L1.Id(e))}Object.assign(Object.assign({},Bk),Uk);var BU=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},zU=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},dE=m.createContext(void 0);function vb(t){var e=this,r=t.children,s=t.symbol,i=s===void 0?"BTCUSDT":s,a=t.updateInterval,o=a===void 0?2e3:a,c=m.useState(null),u=c[0],l=c[1],d=m.useState(!0),h=d[0],f=d[1],p=m.useState(null),v=p[0],g=p[1],N=m.useCallback(function(){return BU(e,void 0,void 0,function(){var x,y,w,C;return zU(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,4,5]),console.log(" [PriceContext] Fetching price for:",i),[4,fetch("/api/binance/price?symbol=".concat(i))];case 1:if(x=k.sent(),!x.ok)throw new Error("HTTP ".concat(x.status,": ").concat(x.statusText));return[4,x.json()];case 2:if(y=k.sent(),y.success&&y.data)l(y.data),g(null),console.log(" [PriceContext] Price updated:",y.data.price);else throw new Error("Invalid response format");return[3,5];case 3:return w=k.sent(),C=w instanceof Error?w.message:"Unknown error",console.error(" [PriceContext] Error fetching price:",C),g(C),[3,5];case 4:return f(!1),[7];case 5:return[2]}})})},[i]);m.useEffect(function(){N()},[N]),m.useEffect(function(){var x=setInterval(function(){N()},o);return function(){return clearInterval(x)}},[N,o]);var b={priceData:u,isLoading:h,error:v,refreshPrice:N};return n.jsx(dE.Provider,{value:b,children:r})}function hu(){var t=m.useContext(dE);if(t===void 0)throw new Error("usePrice must be used within a PriceProvider");return t}function yb(){var t=hu().priceData;if(!t)return{changeText:"+0.00%",changeColor:"#10B981",isPositive:!0};var e=t.priceChangePercent24h>=0,r="".concat(e?"+":"").concat(t.priceChangePercent24h.toFixed(2),"%"),s=e?"#10B981":"#EF4444";return{changeText:r,changeColor:s,isPositive:e,changeValue:t.priceChange24h,changePercent:t.priceChangePercent24h}}function bb(){var t=hu().priceData;return t?{high:t.high24h,low:t.low24h,volume:t.volume24h,quoteVolume:t.quoteVolume24h,openPrice:t.openPrice}:{high:0,low:0,volume:0,quoteVolume:0,openPrice:0}}var $U=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},WU=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function VU(t){var e=this,r=t.symbol,s=r===void 0?"BTCUSDT":r,i=t.interval,a=i===void 0?"1m":i,o=t.height,c=o===void 0?400:o,u=t.containerId,l=u===void 0?"lightweight_chart":u,d=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=m.useState(!0),v=p[0],g=p[1],N=m.useState(null),b=N[0],x=N[1],y=hu().priceData;return m.useEffect(function(){if(d.current){console.log(" [LightweightChart] Initializing chart for",s,a);var w=400;if(typeof c=="number")w=c;else if(typeof c=="string")if(c.includes("%"))w=d.current.clientHeight||window.innerHeight*.8;else if(c.includes("calc(")||c.includes("vh")){var C=d.current.clientHeight;C>50?w=C:w=Math.max(400,window.innerHeight-150)}else w=parseInt(c)||400;var k=UU(d.current,{width:d.current.clientWidth,height:w,layout:{background:{color:"#10121E"},textColor:"#D1D5DB",fontSize:11},grid:{vertLines:{color:"#1F2937",visible:!0},horzLines:{color:"#1F2937",visible:!0}},crosshair:{mode:0,vertLine:{visible:!1,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},rightPriceScale:{borderColor:"#374151",width:45,scaleMargins:{top:.05,bottom:.05},minimumWidth:45,entireTextOnly:!1},timeScale:{borderColor:"#374151",timeVisible:!0,secondsVisible:!1},handleScroll:!1,handleScale:!1});h.current=k;var S=k.addCandlestickSeries({upColor:"#10B981",downColor:"#EF4444",borderUpColor:"#10B981",borderDownColor:"#EF4444",wickUpColor:"#10B981",wickDownColor:"#EF4444",priceLineVisible:!1,lastValueVisible:!1});f.current=S;try{var E=k.priceScale("right").getPriceLines();E&&E.length>0&&E.forEach(function(P){k.removePriceLine(P)})}catch{console.log("No price lines to remove")}var _=function(){if(d.current&&h.current){var P=w;if(typeof c=="string"&&(c.includes("%")||c.includes("calc(")||c.includes("vh"))){var W=d.current.clientHeight;P=W>50?W:Math.max(400,window.innerHeight-150)}h.current.applyOptions({width:d.current.clientWidth,height:P})}};return window.addEventListener("resize",_),function(){window.removeEventListener("resize",_);try{h.current&&(h.current.remove(),h.current=null)}catch(P){console.error("Error cleaning up chart:",P)}}}},[s,a,c]),m.useEffect(function(){var w=function(){return $U(e,void 0,void 0,function(){var C,k,S,E,_;return WU(this,function(P){switch(P.label){case 0:return P.trys.push([0,3,,4]),g(!0),x(null),console.log(" [LightweightChart] Fetching klines for",s,a),[4,fetch("/api/binance/klines?symbol=".concat(s,"&interval=").concat(a,"&limit=500"))];case 1:if(C=P.sent(),!C.ok)throw new Error("HTTP ".concat(C.status,": ").concat(C.statusText));return[4,C.json()];case 2:if(k=P.sent(),!k.success||!k.data)throw new Error("Invalid response format");return S=k.data,console.log(" [LightweightChart] Received",S.length,"candles"),console.log(" [LightweightChart] Latest candle:",S[S.length-1]),f.current&&f.current.setData(S),h.current&&(h.current.timeScale().fitContent(),setTimeout(function(){try{var W=h.current;if(W){var F=W.priceScale("right");F&&typeof F.removePriceLine=="function"&&console.log(" Attempting to clean up any automatic price lines")}}catch{}},100)),g(!1),[3,4];case 3:return E=P.sent(),_=E instanceof Error?E.message:"Unknown error",console.error(" [LightweightChart] Error fetching klines:",_),x(_),g(!1),[3,4];case 4:return[2]}})})};w()},[s,a]),m.useEffect(function(){if(!(!y||!f.current)){console.log(" [LightweightChart] Updating last candle with real-time price:",y.price);var w=Math.floor(Date.now()/1e3);f.current.update({time:w,open:y.openPrice,high:y.high24h,low:y.low24h,close:y.price})}},[y]),n.jsxs("div",{className:"relative w-full",style:{height:typeof c=="number"?"".concat(c,"px"):c},children:[v&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsx("div",{className:"text-gray-400 text-sm",children:n.jsx("div",{className:"animate-pulse",children:"Loading chart data..."})})}),b&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsxs("div",{className:"text-red-400 text-sm",children:["Error loading chart: ",b]})}),n.jsx("div",{ref:d,id:l,className:"w-full h-full"}),y&&!v&&n.jsxs("div",{className:"absolute top-2 left-2 bg-[#10121E]/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-gray-700 z-20",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:s}),n.jsxs("div",{className:"text-lg font-bold text-white",children:["$",y.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:"text-sm ".concat(y.priceChangePercent24h>=0?"text-green-400":"text-red-400"),children:[y.priceChangePercent24h>=0?"+":"",y.priceChangePercent24h.toFixed(2),"%"]})]})]})}var HU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sm=function(t){HU(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={hasError:!1},r}return e.getDerivedStateFromError=function(r){return{hasError:!0,error:r}},e.prototype.componentDidCatch=function(r,s){console.error("ErrorBoundary caught an error:",r,s)},e.prototype.render=function(){var r=this,s;return this.state.hasError?this.props.fallback||n.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-[#10121E] text-white",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-400 mb-4",children:((s=this.state.error)===null||s===void 0?void 0:s.message)||"An unexpected error occurred"}),n.jsx("button",{onClick:function(){return r.setState({hasError:!1,error:void 0})},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try again"})]})}):this.props.children},e}(m.Component);function KU(t){if(console.log(" formatSymbol called with:",{symbol:t,symbolType:typeof t,symbolLength:t==null?void 0:t.length,symbolIsUndefined:t===void 0,symbolIsNull:t===null,symbolIsEmpty:t===""}),!t)return console.log(" formatSymbol: No symbol provided, returning BTC/USDT"),"BTC/USDT";if(t.includes("/"))return console.log(" formatSymbol: Symbol already has slash, returning as-is:",t),t;if(t.endsWith("USDT")){var e=t.slice(0,-4)+"/USDT";return console.log(" formatSymbol: Formatted symbol:",t,"->",e),e}return console.log(" formatSymbol: Symbol does not end with USDT, returning as-is:",t),t}var GU=function(t){var e=t.trade,r=t.onClose,s=m.useState(!1),i=s[0],a=s[1],o=m.useState(function(){return window.innerWidth<768}),c=o[0],u=o[1],l=m.useCallback(function(){a(!1),setTimeout(r,300)},[r]);if(m.useEffect(function(){var p=function(){u(window.innerWidth<768)};return window.addEventListener("resize",p),function(){return window.removeEventListener("resize",p)}},[]),m.useEffect(function(){if(e){a(!0);var p=setTimeout(l,25e3);return function(){return clearTimeout(p)}}},[e==null?void 0:e.id,l]),!e||!i)return null;var d=e.status==="won",h=0;if(e.profit!==void 0&&e.profit!==null)h=e.profit,console.log(" NOTIFICATION: Using profit from WebSocket:",h);else if(d)h=e.payout-e.amount,console.log(" NOTIFICATION: Calculating win profit:",h,"=",e.payout,"-",e.amount);else{var f=(e.profitPercentage||15)/100;h=-(e.amount*f),console.log(" NOTIFICATION: Calculating loss profit:",h,"= -(",e.amount,"*",f,")")}return console.log("NOTIFICATION RENDER:",{tradeId:e.id,isMobile:c,screenWidth:window.innerWidth,isVisible:i,position:c?"centered":"top-right",tradeProfit:e.profit,tradeAmount:e.amount,tradePayout:e.payout,tradeProfilePercentage:e.profitPercentage,calculatedPnl:h,isWin:d}),n.jsxs(n.Fragment,{children:[c&&n.jsx("div",{className:"fixed inset-0 transition-opacity duration-300",style:{zIndex:2147483646,backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",opacity:i?1:0,pointerEvents:i?"auto":"none"},onClick:l}),n.jsx("div",{className:"trade-notification fixed transition-all duration-300",style:{zIndex:2147483647,top:c?"50%":"20px",left:c?"50%":"auto",right:c?"auto":"20px",transform:c?"translate(-50%, -50%)":"none",width:c?"80vw":"auto",maxWidth:c?"340px":"320px",minWidth:"280px",opacity:i?1:0,scale:i?1:.95,pointerEvents:"auto"},children:n.jsxs("div",{className:"rounded-xl shadow-2xl border-2 ".concat(d?"bg-gradient-to-br from-emerald-900/95 via-green-800/95 to-teal-900/95 border-emerald-400 text-emerald-50":"bg-gradient-to-br from-red-900/95 via-rose-800/95 to-pink-900/95 border-red-400 text-red-50"),style:{padding:c?"18px":"20px"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"font-bold",style:{fontSize:"18px"},children:d?"TRADE WON!":"TRADE LOST"}),n.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white flex items-center justify-center font-bold rounded-full bg-black/20 hover:bg-black/40 transition-colors",style:{width:"28px",height:"28px",fontSize:"14px"},children:""})]}),n.jsxs("div",{className:"space-y-2 notranslate",style:{fontSize:"14px"},children:[n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Market:"}),n.jsx("span",{className:"font-bold notranslate",children:KU(e.symbol)})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Trade:"}),n.jsx("span",{className:"font-bold notranslate",children:e.direction==="up"?"BUY/UP":"SELL/DOWN"})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Amount:"}),n.jsxs("span",{className:"font-bold notranslate",children:[e.amount.toLocaleString()," USDT"]})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Entry Price:"}),n.jsx("span",{className:"font-mono notranslate",children:e.entryPrice.toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Close Price:"}),n.jsx("span",{className:"font-mono notranslate",children:e.finalPrice.toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Duration:"}),n.jsxs("span",{className:"font-bold notranslate",children:[e.duration||30," seconds"]})]}),n.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:"10px 12px"},children:[n.jsx("span",{className:"text-gray-200",children:"Profit:"}),n.jsxs("span",{className:"font-bold notranslate ".concat(d?"text-emerald-300":"text-red-300"),children:[d?"+"+h.toFixed(0):h.toFixed(0)," USDT"]})]})]})]})})]})};function Z1(t){var e,r=t.trade,s=t.onClose;return console.log(" UNIVERSAL NOTIFICATION: Rendering for trade:",r==null?void 0:r.id,"Status:",r==null?void 0:r.status),console.log(" UNIVERSAL NOTIFICATION: Trade symbol:",{symbol:r==null?void 0:r.symbol,symbolType:typeof(r==null?void 0:r.symbol),symbolLength:(e=r==null?void 0:r.symbol)===null||e===void 0?void 0:e.length,symbolIsUndefined:(r==null?void 0:r.symbol)===void 0,symbolIsNull:(r==null?void 0:r.symbol)===null,symbolIsEmpty:(r==null?void 0:r.symbol)===""}),n.jsx(GU,{trade:r,onClose:s})}function eN(t){var e=t.trades,r=t.currentPrice;return e.length===0?null:n.jsx("div",{className:"absolute top-2 left-2 z-50 space-y-2",children:e.map(function(s){var i=Math.max(0,Math.ceil((s.endTime-Date.now())/1e3)),a=r-s.entryPrice,o=s.direction==="up"&&a>0||s.direction==="down"&&a<0;return n.jsxs("div",{className:"px-3 py-2 rounded-lg backdrop-blur-sm border ".concat(o?"bg-green-900/80 border-green-400 text-green-100":"bg-red-900/80 border-red-400 text-red-100"," text-xs min-w-[200px]"),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsxs("span",{className:"font-bold ".concat(s.direction==="up"?"text-green-300":"text-red-300"),children:[s.direction.toUpperCase()," $",s.amount]}),n.jsxs("span",{className:"text-yellow-300 font-bold",children:[i,"s"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{children:["Entry: $",s.entryPrice.toFixed(2)]}),n.jsxs("span",{className:"font-bold ".concat(a>=0?"text-green-300":"text-red-300"),children:[a>=0?"+":"","$",a.toFixed(2)]})]}),n.jsx("div",{className:"text-center mt-1",children:n.jsxs("span",{className:"text-xs ".concat(o?"text-green-300":"text-red-300"),children:[o?" WINNING":" LOSING","  ",s.profitPercentage,"%"]})})]},s.id)})})}var og=function(t){try{var e=new(window.AudioContext||window.webkitAudioContext),r=function(s,i,a){a===void 0&&(a=.1);var o=e.createOscillator(),c=e.createGain();o.connect(c),c.connect(e.destination),o.frequency.setValueAtTime(s,e.currentTime),o.type="sine",c.gain.setValueAtTime(0,e.currentTime),c.gain.linearRampToValueAtTime(a,e.currentTime+.01),c.gain.exponentialRampToValueAtTime(.001,e.currentTime+i),o.start(e.currentTime),o.stop(e.currentTime+i)};switch(t){case"win":r(523,.2),setTimeout(function(){return r(659,.2)},100),setTimeout(function(){return r(784,.3)},200);break;case"lose":r(523,.3),setTimeout(function(){return r(466,.3)},150),setTimeout(function(){return r(392,.4)},300);break;case"place":r(800,.1);break}}catch(s){console.log("Audio not available:",s)}},tN=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,e||[])).next())})},rN=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},qU=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","ADAUSDT","LTCUSDT","TONUSDT","DOGEUSDT","AVAXUSDT","DOTUSDT","LINKUSDT","POLUSDT","UNIUSDT","ATOMUSDT","FILUSDT","TRXUSDT","ETCUSDT","XLMUSDT"];function hE(t,e){var r=this;t===void 0&&(t=qU),e===void 0&&(e=5e3);var s=m.useState({}),i=s[0],a=s[1],o=m.useState(!0),c=o[0],u=o[1],l=m.useState(null),d=l[0],h=l[1],f=m.useCallback(function(g){return tN(r,void 0,void 0,function(){var N,b,x;return rN(this,function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),[4,fetch("/api/binance/price?symbol=".concat(g))];case 1:if(N=y.sent(),!N.ok)throw new Error("HTTP ".concat(N.status,": ").concat(N.statusText));return[4,N.json()];case 2:if(b=y.sent(),b.success&&b.data)return[2,b.data];throw new Error("Invalid response format");case 3:return x=y.sent(),console.error(" [MultiSymbolPrice] Error fetching ".concat(g,":"),x),[2,null];case 4:return[2]}})})},[]),p=m.useCallback(function(){return tN(r,void 0,void 0,function(){var g,N,b,x,y,w;return rN(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,3,4]),console.log(" [MultiSymbolPrice] Fetching prices for:",t),g=t.map(function(k){return f(k).then(function(S){return{symbol:k,data:S}})}),[4,Promise.all(g)];case 1:if(N=C.sent(),b={},x=0,N.forEach(function(k){var S=k.symbol,E=k.data;E&&(b[S]=E,x++)}),x>0)a(b),h(null),console.log(" [MultiSymbolPrice] Updated ".concat(x,"/").concat(t.length," symbols"));else throw new Error("Failed to fetch any price data");return[3,4];case 2:return y=C.sent(),w=y instanceof Error?y.message:"Unknown error",console.error(" [MultiSymbolPrice] Error fetching prices:",w),h(w),[3,4];case 3:return u(!1),[7];case 4:return[2]}})})},[t,f]),v=m.useCallback(function(g){return i[g]||null},[i]);return m.useEffect(function(){p()},[p]),m.useEffect(function(){var g=setInterval(function(){p()},e);return function(){return clearInterval(g)}},[p,e]),{priceData:i,isLoading:c,error:d,refreshPrices:p,getPriceForSymbol:v}}var oc=function(){return oc=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oc.apply(this,arguments)},zs=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},$s=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},nN=function(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))};function QU(t){var e=this,r,s,i,a,o,c,u,l,d=t.selectedSymbol,h=t.setSelectedSymbol,f=en().user,p=g0(),v=p.lastMessage,g=p.subscribe,N=p.connected,b=p.sendMessage,x=ys(),y=Ui();m.useEffect(function(){console.log(" WebSocket connection status:",N?"CONNECTED":"DISCONNECTED")},[N]),m.useEffect(function(){console.log(" WEBSOCKET STATUS:",{connected:N,hasLastMessage:!!v}),console.log(N?" WebSocket is connected and ready":" WebSocket is NOT connected")},[N,v]);var w=hu().priceData,C=yb(),k=C.changeText,S=C.changeColor,E=C.isPositive,_=bb();_.high,_.low,_.volume;var P=hE(),W=P.getPriceForSymbol,F=m.useState("tradingview"),I=F[0],D=F[1];console.log(" OPTIONS PAGE - User data:",{id:f==null?void 0:f.id,role:f==null?void 0:f.role,verificationStatus:f==null?void 0:f.verificationStatus,username:f==null?void 0:f.username}),console.log(" OPTIONS PAGE - Price from context:",w==null?void 0:w.price);var q=m.useState(""),V=q[0],re=q[1],L=m.useState("open"),M=L[0],U=L[1],Q=m.useState("30s"),oe=Q[0],Ne=Q[1],H=m.useState(100),he=H[0],Ee=H[1],B=m.useState(0),se=B[0],G=B[1],Z=m.useState(0),$=Z[0],de=Z[1],Oe=m.useState(!1),ve=Oe[0],We=Oe[1],Ht=m.useState([]),ze=Ht[0],ke=Ht[1],at=m.useState([]),R=at[0],K=at[1],ee=m.useState(null),ne=ee[0],ce=ee[1],pe=m.useState(""),Re=pe[0],Y=pe[1],fe=m.useRef(new Map),be=m.useRef(new Set),nt=function(j){var A;if(console.log(" TRIGGER: Starting notification trigger for trade:",j.id,"Amount:",j.amount),!j.amount||j.amount<=0){console.log(" TRIGGER: Skipping notification - invalid amount:",j.amount);return}if(!j.id){console.log(" TRIGGER: Skipping notification - no trade ID");return}if(j.startTime&&typeof j.startTime=="number"){var te=Date.now()-j.startTime,ae=(j.duration||30)*1e3+3e4;if(te>ae){console.log(" TRIGGER: Skipping notification - trade is too old:",te,"ms (max allowed:",ae,"ms)");return}}console.log(" TRIGGER: Symbol information:",{symbol:j.symbol,symbolType:typeof j.symbol,symbolLength:(A=j.symbol)===null||A===void 0?void 0:A.length,symbolIsUndefined:j.symbol===void 0,symbolIsNull:j.symbol===null,symbolIsEmpty:j.symbol===""});var ge=Date.now(),ue=j.id.includes("test-"),me=fe.current.get(j.id);if(me&&ge-me<5e3&&!ue){console.log(" TRIGGER: Duplicate notification prevented for trade:",j.id,"Last notification was",ge-me,"ms ago");return}fe.current.set(j.id,ge);for(var Fe=ge-10*60*1e3,$e=0,yt=fe.current.entries();$e<yt.length;$e++){var jt=yt[$e],Tt=jt[0],Tr=jt[1];Tr<Fe&&fe.current.delete(Tt)}var Gt=document.querySelectorAll('[data-mobile-notification="true"]');Gt.forEach(function(ot){return ot.remove()});var Dt="trade-".concat(j.id);Y(Dt),console.log(" TRIGGER: About to call setCompletedTrade with:",{id:j.id,amount:j.amount,duration:j.duration,status:j.status}),be.current.add(j.id),ce(j),localStorage.setItem("completedTrade",JSON.stringify(j)),console.log(" TRIGGER: Notification set for trade:",j.id),console.log(" TRIGGER: Full trade object being displayed:",JSON.stringify({id:j.id,amount:j.amount,entryPrice:j.entryPrice,currentPrice:j.currentPrice,status:j.status,duration:j.duration,profitPercentage:j.profitPercentage},null,2)),setTimeout(function(){ce(null),localStorage.removeItem("completedTrade"),be.current.delete(j.id)},25e3)};m.useEffect(function(){typeof window<"u"&&(window.simulateRealTradeCompletion=function(){if(console.log(" SIMULATING REAL TRADE COMPLETION..."),!(f!=null&&f.id)){console.log(" No user logged in");return}var j={type:"trade_completed",data:{tradeId:"simulated-"+Date.now(),userId:f.id,result:"win",exitPrice:51e3,profitAmount:10,newBalance:1e3,timestamp:new Date().toISOString()}};console.log(" Mock trade completion message:",j),console.log(" This should trigger the notification system...");var A={id:j.data.tradeId,symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",duration:30,profitPercentage:10,payout:110,profit:10};console.log(" Triggering notification directly..."),nt(A)},window.testMobileNotification=function(){console.log(" GLOBAL: Testing mobile notification from console");var j={id:"console-test-"+Date.now(),direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10};nt(j)},window.testNotificationNow=function(){console.log(" IMMEDIATE: Testing notification immediately");var j={id:"immediate-test-"+Date.now(),symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:114420.87,currentPrice:114904.29,status:"won",duration:30,profitPercentage:10,payout:110,profit:10};console.log(" IMMEDIATE: Calling triggerNotification with:",j),nt(j)},window.testWebSocketNotification=function(){return zs(e,void 0,void 0,function(){var j,A,te;return $s(this,function(ae){switch(ae.label){case 0:console.log(" WEBSOCKET TEST: Requesting server to send WebSocket notification"),ae.label=1;case 1:return ae.trys.push([1,4,,5]),[4,fetch("/api/test/websocket-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:f==null?void 0:f.id})})];case 2:return j=ae.sent(),[4,j.json()];case 3:return A=ae.sent(),console.log(" WEBSOCKET TEST: Server response:",A),[3,5];case 4:return te=ae.sent(),console.error(" WEBSOCKET TEST: Error:",te),[3,5];case 5:return[2]}})})},window.simulateTradeCompleted=function(){console.log(" SIMULATE: Creating fake trade_completed message");var j={type:"trade_completed",data:{tradeId:"simulate-"+Date.now(),userId:f==null?void 0:f.id,result:"win",exitPrice:5e4,profitAmount:10,newBalance:1e3,timestamp:new Date().toISOString()}};console.log(" SIMULATE: Fake message created:",j),console.log(" SIMULATE: This would trigger the notification if WebSocket was working");var A={id:j.data.tradeId,symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:49e3,currentPrice:j.data.exitPrice,status:"won",duration:30,profitPercentage:10,payout:110,profit:j.data.profitAmount};console.log(" SIMULATE: Triggering notification with simulated trade:",A),nt(A)},window.testDirectNotification=function(){console.log(" GLOBAL: Creating direct DOM notification from console");var j=document.querySelectorAll('[data-mobile-notification="true"]');j.forEach(function(te){return te.remove()});var A={id:"flow-test-"+Date.now(),direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10,symbol:"BTC/USDT",duration:30,profit:10};console.log(" GLOBAL: Testing complete notification flow with trade:",A),nt(A)},window.testTradeCompletion=function(){console.log(" GLOBAL: Simulating trade completion WebSocket message");var j={type:"trigger_mobile_notification",data:{tradeId:"mock-test-"+Date.now(),userId:f==null?void 0:f.id,direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10,symbol:"BTC/USDT",duration:30}};console.log(" GLOBAL: Simulating WebSocket message:",j)},window.testOldDirectNotification=function(){console.log(" GLOBAL: Creating direct DOM notification from console");var j=document.querySelectorAll('[data-mobile-notification="true"]');j.forEach(function(te){return te.remove()});var A=document.createElement("div");A.setAttribute("data-mobile-notification","true"),A.style.cssText=`
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          z-index: 999999999 !important;
          background-color: rgba(0, 0, 0, 0.95) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 16px !important;
          visibility: visible !important;
          opacity: 1 !important;
          pointer-events: auto !important;
        `,A.innerHTML=`
          <div style="
            background-color: #1a1b3a;
            border-radius: 16px;
            padding: 20px;
            max-width: 320px;
            width: 90%;
            border: 3px solid #10b981;
            color: white;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            text-align: center;
          ">
            <div style="font-size: 20px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
               CONSOLE TEST SUCCESS!
            </div>
            <div style="margin-bottom: 16px; color: #9ca3af;">
              This notification was triggered from the browser console.
            </div>
            <button onclick="this.closest('[data-mobile-notification]').remove()" style="
              background-color: #10b981;
              color: white;
              border: none;
              border-radius: 8px;
              padding: 12px 24px;
              font-size: 14px;
              font-weight: bold;
              cursor: pointer;
              width: 100%;
            ">
              Close Console Test
            </button>
          </div>
        `,document.body.appendChild(A),console.log(" GLOBAL: Direct notification created from console")},window.forceNotificationTest=function(){console.log(" FORCE: Creating notification directly via DOM manipulation");var j=document.querySelectorAll('[data-mobile-notification="true"]');j.forEach(function(te){return te.remove()});var A=document.createElement("div");A.setAttribute("data-mobile-notification","true"),A.style.cssText=`
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 999999;
          font-family: Arial, sans-serif;
        `,A.innerHTML=`
          <div style="
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 16px;
            padding: 24px;
            max-width: 350px;
            width: 90%;
            border: 1px solid #3a3d5a;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            text-align: center;
            color: white;
          ">
            <div style="font-size: 20px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
               Trade Won!
            </div>
            <div style="font-size: 12px; color: #9ca3af; margin-bottom: 16px;">
              Market: BTC/USDT
            </div>
            <div style="background: #2a2d47; border-radius: 8px; padding: 12px; margin-bottom: 16px; border: 1px solid #3a3d5a;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Trade:</span>
                <span style="color: #10b981; font-weight: bold;">BUY UP</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Amount:</span>
                <span style="color: white; font-weight: bold;">100 USDT</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Entry Price:</span>
                <span style="color: white; font-weight: bold;">115,520.39</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Close Price:</span>
                <span style="color: white; font-weight: bold;">115,904.29</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Duration:</span>
                <span style="color: white; font-weight: bold;">30 seconds</span>
              </div>
              <div style="display: flex; justify-content: space-between; font-size: 12px;">
                <span style="color: #9ca3af;">Profit:</span>
                <span style="color: #10b981; font-weight: bold;">+10</span>
              </div>
            </div>
            <button onclick="this.parentElement.parentElement.remove()" style="
              background: #10b981;
              color: white;
              border: none;
              border-radius: 8px;
              padding: 12px 24px;
              font-weight: bold;
              cursor: pointer;
              width: 100%;
            ">
              Close Notification
            </button>
          </div>
        `,document.body.appendChild(A),console.log(" FORCE: Notification created and added to DOM"),setTimeout(function(){A.parentNode&&(A.remove(),console.log(" FORCE: Auto-removed notification"))},3e4)},console.log(" GLOBAL FUNCTIONS AVAILABLE:"),console.log("- testMobileNotification() - Test React notification"),console.log("- testDirectNotification() - Test direct DOM notification"),console.log("- forceNotificationTest() - Force create notification (GUARANTEED TO WORK)"))},[]);var Ct=m.useState(function(){var j=localStorage.getItem("currentTradingMode");return j==="win"||j==="lose"||j==="normal"?j:"normal"});Ct[0];var _t=Ct[1],Gr=m.useState(!1),vt=Gr[0],Xe=Gr[1],$n=m.useState(null),Or=$n[0];$n[1];var Kt=m.useRef([]),Fs=m.useState(!1),tn=Fs[0],Rr=Fs[1],Ir=function(){return zs(e,void 0,void 0,function(){var j,A,te,ae;return $s(this,function(ge){switch(ge.label){case 0:if(!(f!=null&&f.id))return[2];Rr(!0);try{x.invalidateQueries({queryKey:["/api/users/".concat(f.id,"/trades")]}),console.log(" Invalidated React Query cache for trade history to prevent conflicts")}catch(ue){console.error(" Error invalidating React Query cache:",ue)}try{localStorage.removeItem("tradeHistory_".concat(f.id)),console.log(" Cleared any existing localStorage trade history cache")}catch(ue){console.error(" Error clearing localStorage cache:",ue)}console.log(" Loading fresh trade history from server (no caching)"),ge.label=1;case 1:return ge.trys.push([1,6,7,8]),[4,fetch("/api/users/".concat(f.id,"/trades"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 2:return j=ge.sent(),j.ok?[4,j.json()]:[3,4];case 3:return A=ge.sent(),console.log(" Loaded trade history from server:",A.length),console.log(" Raw server trades:",A),console.log(" Raw server trades before filtering:",A),te=A.filter(function(ue){var me=ue.result&&(ue.result==="win"||ue.result==="lose"||ue.result==="won"||ue.result==="lost"),Fe=ue.status!=="pending"&&ue.result!=="pending";return console.log(" Trade ".concat(ue.id,": result=").concat(ue.result,", status=").concat(ue.status,", hasResult=").concat(me,", notPending=").concat(Fe)),me&&Fe}).map(function(ue){var me=parseFloat(ue.entry_price||"0"),Fe=parseFloat(ue.exit_price||"0"),$e=ue.result==="win"||ue.result==="won";if(console.log(" Trade ".concat(ue.id,": Entry=").concat(me,", Exit=").concat(Fe,", Status=").concat(ue.status,", Result=").concat(ue.result)),!Fe||Fe===0){console.log(" Missing exit price for trade ".concat(ue.id,", generating consistent fallback"));var yt=parseInt(ue.id.toString().slice(-6))||123456,jt=(yt*9301+49297)%233280/233280,Tt=.005,Tr=1e-4,Gt=Tt-Tr,Dt=jt*Gt+Tr,ot=1;ue.direction==="up"?ot=$e?1:-1:ue.direction==="down"&&(ot=$e?-1:1),Fe=me*(1+Dt*ot);var fr=.01;Math.abs(Fe-me)<fr&&(Fe=me+ot*fr),console.log(" Generated fallback exit price for trade ".concat(ue.id,": ").concat(Fe))}else console.log(" Using stored exit price for trade ".concat(ue.id,": ").concat(Fe));var ir={id:ue.id,symbol:ue.symbol||"BTCUSDT",amount:parseFloat(ue.amount),direction:ue.direction,duration:ue.duration||30,entryPrice:me,currentPrice:Fe,payout:$e?parseFloat(ue.amount)+parseFloat(ue.profit_loss||"0"):0,status:$e?"won":"lost",endTime:ue.updated_at||ue.created_at,startTime:ue.created_at,profit:parseFloat(ue.profit_loss||"0"),profitPercentage:function(){var Nt=ue.duration||30;return Nt===30?10:Nt===60?15:Nt===90?20:Nt===120?25:Nt===180?30:Nt===240?50:Nt===300?75:Nt===600?100:10}()};return console.log(" Formatted trade ".concat(ue.id,":"),ir),ir}),console.log(" Formatted trades count:",te.length),K(te),console.log(" Trade history loaded fresh from server (no caching):",f.id),[3,5];case 4:console.log(" Failed to load trade history from server, using cached data"),ge.label=5;case 5:return[3,8];case 6:return ae=ge.sent(),console.error(" Error loading trade history from server, using cached data:",ae),[3,8];case 7:return Rr(!1),[7];case 8:return[2]}})})};m.useEffect(function(){Ir()},[f==null?void 0:f.id]),m.useEffect(function(){var j=function(){var A=localStorage.getItem("currentTradingMode");A&&(A==="win"||A==="lose"||A==="normal")&&(_t(A),console.log(" Synced trading mode from localStorage: ".concat(A.toUpperCase())))};return j(),window.addEventListener("storage",j),function(){window.removeEventListener("storage",j)}},[]);var Cr=(w==null?void 0:w.price.toFixed(2))||"0.00";w!=null&&w.price;var zt=(w==null?void 0:w.price)||se||166373.87,Ze=["BTCUSDT","ETHUSDT","XRPUSDT","LTCUSDT","BNBUSDT","SOLUSDT","TONUSDT","DOGEUSDT","ADAUSDT","TRXUSDT","LINKUSDT","AVAXUSDT","SUIUSDT","SHIBUSDT","BCHUSDT","DOTUSDT","XLMUSDT"].map(function(j){var A=W(j),te=j===d,ae=te&&w?w.price:(A==null?void 0:A.price)||0,ge=te&&w?w.priceChangePercent24h:(A==null?void 0:A.priceChangePercent24h)||0,ue=ge>=0?"+".concat(ge.toFixed(2),"%"):"".concat(ge.toFixed(2),"%");return{symbol:j.replace("USDT","/USDT"),coin:j.replace("USDT",""),rawSymbol:j,price:ae.toString(),priceChangePercent24h:ue}}),hr=Ze.filter(function(j){return j.coin.toLowerCase().includes(V.toLowerCase())||j.symbol.toLowerCase().includes(V.toLowerCase())}),er=Ze.find(function(j){return j.rawSymbol===d})||Ze[0],di=function(j){console.log(" Selected trading pair:",j),h(j),re("")},Rt=function(j){console.log(" TradingView symbol changed to:",j),console.log(" Current selected symbol:",d),console.log(" Available trading pairs:",Ze.map(function(ae){return ae.rawSymbol}));var A=j.replace("BINANCE:","").replace("COINBASE:",""),te=Ze.find(function(ae){return ae.rawSymbol===A});te?(console.log(" Found matching pair:",te),console.log(" Setting selected symbol to:",A),h(A),re("")):(console.log(" Symbol not found in trading pairs:",A),console.log(" Available symbols:",Ze.map(function(ae){return ae.rawSymbol}).join(", ")))},ws=function(j){if(re(j),j.length>0){var A=Ze.filter(function(te){return te.coin.toLowerCase()===j.toLowerCase()});A.length===1&&(console.log(" Auto-selecting exact match:",A[0].rawSymbol),h(A[0].rawSymbol))}},$t=m.useState({sellOrders:[],buyOrders:[]}),rn=$t[0],js=$t[1];m.useEffect(function(){if(w!=null&&w.price){var j=w.price;Kt.current.push(j),Kt.current.length>1e3&&(Kt.current=Kt.current.slice(-1e3));var A=Lr(j);js(A),console.log(" Price update from context:",j.toFixed(2)),console.log(" Order book data generated:",{sellOrders:A.sellOrders.length,buyOrders:A.buyOrders.length,firstSell:A.sellOrders[0],firstBuy:A.buyOrders[0]})}},[w==null?void 0:w.price]);var Lr=function(j){for(var A=[],te=[],ae=0;ae<8;ae++){var ge=(ae+1)*(Math.random()*.5+.1),ue=j+ge,me=(Math.random()*2+.1).toFixed(4),Fe=(ue*parseFloat(me)).toFixed(2);A.push({price:ue.toFixed(2),volume:me,turnover:Fe})}for(var ae=0;ae<8;ae++){var ge=(ae+1)*(Math.random()*.5+.1),ue=j-ge,$e=(Math.random()*2+.1).toFixed(4),Fe=(ue*parseFloat($e)).toFixed(2);te.push({price:ue.toFixed(2),volume:$e,turnover:Fe})}return{sellOrders:A,buyOrders:te}},Wn=Mr({queryKey:["/api/market-data"],refetchInterval:5e3}).data,cn=Mr({queryKey:["/api/balances"],enabled:!!f,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:function(){return zs(e,void 0,void 0,function(){var j,A,te,ae;return $s(this,function(ge){switch(ge.label){case 0:return console.log(" OPTIONS: Fetching balance from /api/balances for user:",f==null?void 0:f.id,f==null?void 0:f.username),console.log(" OPTIONS: Auth token:",((ae=localStorage.getItem("authToken"))===null||ae===void 0?void 0:ae.substring(0,30))+"..."),[4,fetch("/api/balances",{credentials:"include",headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return j=ge.sent(),console.log(" OPTIONS: Response status:",j.status,j.statusText),j.ok?[3,3]:[4,j.text()];case 2:throw A=ge.sent(),console.error(" OPTIONS: Balance API failed:",j.status,A),new Error("Failed to fetch balance: ".concat(j.status," ").concat(A));case 3:return[4,j.json()];case 4:return te=ge.sent(),console.log(" OPTIONS: Balance API response:",te),[2,te]}})})}}).data,It=0;if(console.log(" OPTIONS PAGE - User:",f==null?void 0:f.id,"UserBalances:",cn),f&&cn&&Array.isArray(cn)){console.log(" OPTIONS - RAW userBalances (array):",cn);var Fr=cn.find(function(j){return j.symbol==="USDT"});It=Number((Fr==null?void 0:Fr.available)||0),console.log(" OPTIONS - Using standardized array format:",It,Fr)}else f?(console.log(" OPTIONS - userBalances is not in expected array format:",typeof cn,cn),console.log(" OPTIONS - User authenticated but no balance data")):console.log(" OPTIONS - No user authenticated");isNaN(It)&&(console.warn(" OPTIONS - Balance is NaN, setting to 0"),It=0),console.log(" OPTIONS - Final balance:",It),m.useEffect(function(){var j;(v==null?void 0:v.type)==="balance_update"&&(console.log(" OPTIONS: Real-time balance update received:",v.data),console.log(" OPTIONS: Current user ID:",f==null?void 0:f.id,"Update for user:",(j=v.data)===null||j===void 0?void 0:j.userId),x.invalidateQueries({queryKey:["/api/balances"]}),x.invalidateQueries({queryKey:["/api/auth"]}),x.removeQueries({queryKey:["/api/balances"]}),setTimeout(function(){x.refetchQueries({queryKey:["/api/balances"]})},100))},[v,x,f==null?void 0:f.id]);var O=Wn==null?void 0:Wn.find(function(j){return j.symbol==="BTCUSDT"}),xe=O?parseFloat(O.price):0,_e=zt;m.useEffect(function(){var j=function(){var te=_e,ae=Lr(te);js(ae),console.log(" Order book updated with price:",te.toFixed(2))};j();var A=setInterval(j,3e4);return function(){return clearInterval(A)}},[_e,Cr]),m.useEffect(function(){},[xe,Cr]),m.useEffect(function(){N&&(f!=null&&f.id)&&(g(["BTCUSDT"]),console.log(" Subscribed to BTCUSDT price updates"),b({type:"subscribe_user_balance",userId:f.id}),console.log(" Subscribed to balance updates for user:",f.id))},[N,g,b,f==null?void 0:f.id]),m.useEffect(function(){var j;if((v==null?void 0:v.type)==="price_update"&&((j=v.data)===null||j===void 0?void 0:j.symbol)==="BTCUSDT"){var A=parseFloat(v.data.price);if(A>0){G(A),Kt.current.push(A),Kt.current.length>1e3&&(Kt.current=Kt.current.slice(-1e3));var te=Lr(A);js(te),console.log(" WebSocket Price Update:",A.toFixed(2))}}},[v]),m.useEffect(function(){var j;(v==null?void 0:v.type)==="balance_update"&&((j=v.data)===null||j===void 0?void 0:j.userId)===(f==null?void 0:f.id)&&(console.log(" Real-time balance update received:",v.data),x.invalidateQueries({queryKey:["/api/balances"]}),v.data.changeType!=="trade_start"&&console.log(" Balance updated: ".concat(v.data.newBalance," USDT (").concat(v.data.change>0?"+":"").concat(v.data.change,")")))},[v,f==null?void 0:f.id,x]);var st=m.useRef(new Set);m.useEffect(function(){var j,A,te,ae,ge,ue,me,Fe,$e,yt,jt,Tt,Tr,Gt,Dt,ot,fr,ir,Nt,Tn,zi,xa;if(!(!v||!(f!=null&&f.id))){var Vn="".concat(v.type,"-").concat(((j=v.data)===null||j===void 0?void 0:j.tradeId)||((A=v.data)===null||A===void 0?void 0:A.id)||"unknown","-").concat(((te=v.data)===null||te===void 0?void 0:te.userId)||"unknown","-").concat(((ae=v.data)===null||ae===void 0?void 0:ae.timestamp)||Date.now());console.log(" WEBSOCKET DEBUG: Checking message:",v==null?void 0:v.type,"userId match:",((ge=v==null?void 0:v.data)===null||ge===void 0?void 0:ge.userId)===(f==null?void 0:f.id)),console.log(" WEBSOCKET DEBUG: Message ID:",Vn),console.log(" WEBSOCKET DEBUG: Full message:",v),console.log(" WEBSOCKET DEBUG: Current user ID:",f==null?void 0:f.id),console.log(" WEBSOCKET DEBUG: Active trades count:",ze.length);var kn=Vn.includes("test-");if(st.current.has(Vn)&&!kn){console.log(" WEBSOCKET DEBUG: Message already processed, skipping:",Vn);return}if(st.current.size>100){var G0=Array.from(st.current),q0=G0.slice(-50);st.current=new Set(q0),console.log(" WEBSOCKET DEBUG: Cleaned up processed messages cache")}if(v&&(console.log(" ALL WEBSOCKET MESSAGES:",{type:v.type,data:v.data,timestamp:new Date().toISOString()}),v.type==="trade_completed"&&(console.log(" TRADE COMPLETION MESSAGE RECEIVED!"),console.log(" Message type:",v.type),console.log(" Message data:",v.data),console.log(" User ID from message:",(ue=v.data)===null||ue===void 0?void 0:ue.userId),console.log(" Current user ID:",f==null?void 0:f.id),console.log(" User IDs match:",((me=v.data)===null||me===void 0?void 0:me.userId)===(f==null?void 0:f.id)),console.log(" Will process message:",((Fe=v.data)===null||Fe===void 0?void 0:Fe.userId)===(f==null?void 0:f.id))),v.type==="balance_update"&&console.log(" BALANCE UPDATE DETAILS:",{type:v.type,userId:($e=v.data)===null||$e===void 0?void 0:$e.userId,currentUserId:f==null?void 0:f.id,userMatch:((yt=v.data)===null||yt===void 0?void 0:yt.userId)===(f==null?void 0:f.id),data:v.data,activeTrades:ze.length,change:(jt=v.data)===null||jt===void 0?void 0:jt.change,changeType:(Tt=v.data)===null||Tt===void 0?void 0:Tt.changeType,newBalance:(Tr=v.data)===null||Tr===void 0?void 0:Tr.newBalance,oldBalance:(Gt=v.data)===null||Gt===void 0?void 0:Gt.oldBalance}),v.type&&v.type.toLowerCase().includes("trade")&&(console.log(" TRADE MESSAGE DETECTED:",v),console.log(" Message type:",v.type),console.log(" Message data:",v.data),console.log(" User ID from message:",(Dt=v.data)===null||Dt===void 0?void 0:Dt.userId),console.log(" Current user ID:",f==null?void 0:f.id),console.log(" User IDs match:",((ot=v.data)===null||ot===void 0?void 0:ot.userId)===(f==null?void 0:f.id)))),(v==null?void 0:v.type)==="trigger_mobile_notification"&&((fr=v.data)===null||fr===void 0?void 0:fr.userId)===(f==null?void 0:f.id)){var pu="".concat(v.type,"-").concat((ir=v.data)===null||ir===void 0?void 0:ir.tradeId);if(st.current.has(pu)){console.log(" WEBSOCKET: Skipping duplicate trigger_mobile_notification message");return}if(be.current.has((Nt=v.data)===null||Nt===void 0?void 0:Nt.tradeId)){console.log(" WEBSOCKET: Skipping trigger_mobile_notification - already notified via trade_completed"),st.current.add(pu);return}st.current.add(pu),console.log(" WEBSOCKET: trigger_mobile_notification received:",v.data);var ss=v.data,El=ss.tradeId,gu=ss.direction,Co=ss.amount,xu=ss.entryPrice,Q0=ss.currentPrice,X0=ss.status,vu=ss.payout,Y0=ss.profitPercentage,mh=ss.symbol,yu=ss.duration,va=ss.profitAmount;if(!Co||Co<=0){console.log(" WEBSOCKET: Skipping trigger_mobile_notification - invalid amount:",Co);return}console.log(" WEBSOCKET: Fetching trade data from database for trigger_mobile_notification..."),function(){return zs(e,void 0,void 0,function(){var bt,as,un,dt,pr,dn,tr,Br,mi,pi,Us,Ns,hn,nn,hn;return $s(this,function(Ss){switch(Ss.label){case 0:return Ss.trys.push([0,3,,4]),bt=new AbortController,as=setTimeout(function(){return bt.abort()},5e3),[4,fetch("/api/trades/".concat(El),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},signal:bt.signal})];case 1:if(un=Ss.sent(),clearTimeout(as),!un.ok)throw new Error("Failed to fetch trade: ".concat(un.status));return[4,un.json()];case 2:return dt=Ss.sent(),console.log(" WEBSOCKET:  Found trade in database for trigger_mobile_notification:",dt),pr=parseFloat(dt.amount),dn=dt.duration||30,tr=dt.result,Br=parseFloat(dt.profit||dt.profitAmount||0),mi=parseFloat(dt.entry_price||dt.entryPrice||0),pi=parseFloat(dt.exit_price||dt.exitPrice||0),console.log(" WEBSOCKET: Database trade data extracted for trigger_mobile_notification:",{amount:pr,duration:dn,result:tr,profit:Br,entryPrice:mi,exitPrice:pi}),Us=function(rr){return rr===30?10:rr===60?15:rr===90?20:rr===120?25:rr===180?30:rr===240?50:rr===300?75:rr===600?100:10},Ns=Us(dn),hn={id:El,symbol:mh||"BTC/USDT",direction:gu||"up",amount:pr,entryPrice:mi,currentPrice:pi,status:tr==="win"||tr==="won"?"won":"lost",duration:dn,profitPercentage:Ns,payout:tr==="win"||tr==="won"?pr*(1+Ns/100):0,profit:Br,startTime:Date.now()-dn*1e3,endTime:Date.now()},console.log(" WEBSOCKET:  Created notificationTrade with DATABASE values:",{amount:hn.amount,duration:hn.duration,status:hn.status,profit:hn.profit,profitPercentage:hn.profitPercentage}),console.log(" WEBSOCKET:  Triggering notification from trigger_mobile_notification with database data"),nt(hn),[3,4];case 3:return nn=Ss.sent(),console.error(" WEBSOCKET:  Error fetching trade data for trigger_mobile_notification:",nn),console.log(" WEBSOCKET:  Falling back to WebSocket data for trigger_mobile_notification"),hn={id:El,symbol:mh||"BTC/USDT",direction:gu||"up",amount:Co,entryPrice:xu||5e4,currentPrice:Q0||xu||5e4,status:X0||"won",duration:yu||30,profitPercentage:Y0||function(){var rr=yu||30;return rr===30?10:rr===60?15:rr===90?20:rr===120?25:rr===180?30:rr===240?50:rr===300?75:rr===600?100:10}(),payout:vu||0,profit:va,startTime:Date.now()-(yu||30)*1e3,endTime:Date.now()},nt(hn),[3,4];case 4:return[2]}})})}()}if((v==null?void 0:v.type)==="trade_completed"&&((Tn=v.data)===null||Tn===void 0?void 0:Tn.userId)===(f==null?void 0:f.id)){st.current.add(Vn),console.log(" WEBSOCKET:  CRITICAL - Trade completion notification received!"),console.log(" WEBSOCKET: Trade completion notification received:",v.data),console.log(" WEBSOCKET: Amount from message:",(zi=v.data)===null||zi===void 0?void 0:zi.amount,"Type:",typeof((xa=v.data)===null||xa===void 0?void 0:xa.amount));var is=v.data,T=is.tradeId,J=is.result,ie=is.exitPrice,le=is.profitAmount;is.newBalance;var Te=is.symbol,tt=is.direction,Ve=is.amount,Ke=is.entryPrice,Et=is.duration,vr=is.profitPercentage;console.log(" WEBSOCKET MESSAGE FULL DATA:",v.data),console.log(" WEBSOCKET profitAmount:",le,"Type:",typeof le),console.log(" WEBSOCKET DESTRUCTURED VALUES:",{tradeId:T,result:J,amount:Ve,amountType:typeof Ve,duration:Et,durationType:typeof Et,profitAmount:le,profitPercentage:vr,symbol:Te,symbolType:typeof Te,symbolLength:Te==null?void 0:Te.length,direction:tt}),console.log(" WEBSOCKET: CRITICAL VALUES FOR NOTIFICATION:",{amount:Ve,duration:Et,result:J,profitAmount:le,profitPercentage:vr});var ar=ze.find(function(bt){return bt.id===T});if(console.log(" WEBSOCKET: Looking for active trade:",T,"Found:",!!ar),console.log(" WEBSOCKET: Current active trades:",ze.map(function(bt){return{id:bt.id,amount:bt.amount,duration:bt.duration}})),!ar){console.log(" WEBSOCKET: CRITICAL - Active trade not found! Using fallback code"),console.log(" WEBSOCKET: WebSocket tradeId:",T,"Type:",typeof T),console.log(" WEBSOCKET: Active trade IDs:",ze.map(function(bt){return{id:bt.id,idType:typeof bt.id}}));var hi=ze.find(function(bt){return bt.id.includes(T)||T.includes(bt.id)});hi&&console.log(" WEBSOCKET: Found partial match:",hi.id)}if(ar)console.log(" WEBSOCKET: Fetching trade data from database BEFORE creating notification..."),function(){return zs(e,void 0,void 0,function(){var bt,as,un,dt,pr,dn,tr,Br,mi,pi,Us,rr,Ns,nn,hn,Ss,rr,Pl,_l,bu,et;return $s(this,function(nr){switch(nr.label){case 0:return nr.trys.push([0,3,,4]),bt=new AbortController,as=setTimeout(function(){return bt.abort()},5e3),[4,fetch("/api/trades/".concat(T),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},signal:bt.signal})];case 1:if(un=nr.sent(),clearTimeout(as),!un.ok)throw new Error("Failed to fetch trade: ".concat(un.status));return[4,un.json()];case 2:return dt=nr.sent(),console.log(" WEBSOCKET:  Found trade in database:",dt),pr=parseFloat(dt.amount),dn=dt.duration||30,tr=dt.result,Br=parseFloat(dt.profit||dt.profitAmount||0),mi=parseFloat(dt.entry_price||dt.entryPrice||0),pi=parseFloat(dt.exit_price||dt.exitPrice||0),Us=dt.symbol,console.log(" WEBSOCKET: Database trade data extracted:",{amount:pr,duration:dn,result:tr,profit:Br,entryPrice:mi,exitPrice:pi,symbol:Us}),rr=function(qr){return qr===30?10:qr===60?15:qr===90?20:qr===120?25:qr===180?30:qr===240?50:qr===300?75:qr===600?100:10},Ns=rr(dn),nn={id:T,symbol:Us||Te||ar.symbol,direction:tt||ar.direction,startTime:ar.startTime,endTime:ar.endTime,duration:dn,amount:pr,entryPrice:mi,currentPrice:pi,status:tr==="win"||tr==="won"?"won":"lost",payout:tr==="win"||tr==="won"?pr*(1+Ns/100):0,profit:Br,profitPercentage:Ns},console.log(" WEBSOCKET:  Created completedTrade with DATABASE values:",{amount:nn.amount,duration:nn.duration,status:nn.status,profit:nn.profit,profitPercentage:nn.profitPercentage,entryPrice:nn.entryPrice,currentPrice:nn.currentPrice}),console.log(" WEBSOCKET:  Triggering notification with database data"),nt(nn),[3,4];case 3:return hn=nr.sent(),console.error(" WEBSOCKET:  Error fetching trade data:",hn),console.log(" WEBSOCKET:  Falling back to WebSocket data"),Ss=J==="win",rr=function(qr){return qr===30?10:qr===60?15:qr===90?20:qr===120?25:qr===180?30:qr===240?50:qr===300?75:qr===600?100:10},Pl=vr||rr(Et||30),_l=Ve!==void 0&&Ve>0?Ve:ar.amount,bu=Ke!==void 0&&Ke>0?Ke:ar.entryPrice,et={id:ar.id,symbol:Te||ar.symbol,direction:tt||ar.direction,startTime:ar.startTime,endTime:ar.endTime,duration:Et||ar.duration,amount:_l,entryPrice:bu,currentPrice:ie||ar.currentPrice,status:Ss?"won":"lost",payout:Ss?_l*(1+Pl/100):0,profit:le,profitPercentage:Pl},nt(et),[3,4];case 4:return[2]}})})}();else{console.log(" WEBSOCKET:  CRITICAL - FALLBACK CODE TRIGGERED! Active trade not found, using WebSocket data for notification"),console.log(" WEBSOCKET: Fallback amount from message:",Ve,"profitAmount:",le),console.log(" WEBSOCKET: FALLBACK - This is where the wrong data might be coming from!");var fi=J==="win",Vt=function(bt){return bt===30?10:bt===60?15:bt===90?20:bt===120?25:bt===180?30:bt===240?50:bt===300?75:bt===600?100:10},To=vr||Vt(Et||30),$i=Ve;(!$i||$i<=0)&&($i=Math.abs(le)/(fi?To/100:1),console.log(" WEBSOCKET: Calculated amount from profit:",$i));var mr={id:T,symbol:Te||"BTC/USDT",direction:tt||"up",amount:$i,entryPrice:Ke||ie*(fi?.99:1.01),currentPrice:ie,status:fi?"won":"lost",duration:Et||30,profitPercentage:To,payout:fi?$i*(1+To/100):0,profit:le,startTime:Date.now()-(Et||30)*1e3,endTime:Date.now()};console.log(" WEBSOCKET FALLBACK: Fetching trade data from database to verify notification data..."),function(){return zs(e,void 0,void 0,function(){var bt,as,un,dt,pr,dn;return $s(this,function(tr){switch(tr.label){case 0:return tr.trys.push([0,3,,4]),bt=new AbortController,as=setTimeout(function(){return bt.abort()},5e3),[4,fetch("/api/users/".concat(f==null?void 0:f.id,"/trades"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},signal:bt.signal})];case 1:return un=tr.sent(),clearTimeout(as),[4,un.json()];case 2:return dt=tr.sent(),console.log(" WEBSOCKET FALLBACK: Fetched",dt.length,"trades from database"),pr=dt.find(function(Br){return Br.id===T}),pr?(console.log(" WEBSOCKET FALLBACK: Found trade in database:",pr),mr.amount=parseFloat(pr.amount),mr.duration=pr.duration||30,mr.status=pr.result==="win"||pr.result==="won"?"won":"lost",mr.symbol=pr.symbol||mr.symbol,console.log(" WEBSOCKET FALLBACK: Updated fallbackTrade with database values:",{amount:mr.amount,duration:mr.duration,status:mr.status,symbol:mr.symbol})):(console.log(" WEBSOCKET FALLBACK: Trade NOT found in database! Using WebSocket data"),console.log(" WEBSOCKET FALLBACK: Looking for tradeId:",T),console.log(" WEBSOCKET FALLBACK: Available trade IDs:",dt.map(function(Br){return Br.id}))),console.log(" WEBSOCKET: Triggering fallback notification with database data:",mr),console.log(" WEBSOCKET: CRITICAL - FALLBACK Notification will show:",{amount:mr.amount,duration:mr.duration,status:mr.status,profit:mr.profit}),nt(mr),[3,4];case 3:return dn=tr.sent(),console.error(" WEBSOCKET FALLBACK: Error fetching trade data, using WebSocket data:",dn),console.log(" WEBSOCKET FALLBACK: Falling back to WebSocket data:",{amount:mr.amount,duration:mr.duration,status:mr.status}),nt(mr),[3,4];case 4:return[2]}})})}(),ke(function(bt){return bt.filter(function(as){return as.id!==T})}),x.invalidateQueries({queryKey:["/api/balances"]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/trades")]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/transactions")]}),console.log(" WEBSOCKET: Refreshing trade history after trade completion..."),setTimeout(function(){f!=null&&f.id&&Ir()},1e3)}}console.log(" AGGRESSIVE FALLBACK: Disabled - using only main trade_completed handler and polling")}},[v,f==null?void 0:f.id,ze,x]),m.useEffect(function(){if(ze.length!==0){console.log(" POLLING: Checking",ze.length,"active trades:",ze.map(function(A){return{id:A.id,amount:A.amount}}));var j=setInterval(function(){return zs(e,void 0,void 0,function(){var A,te,ae;return $s(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,4,,5]),[4,fetch("/api/users/".concat(f==null?void 0:f.id,"/trades"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return A=ge.sent(),A.ok?[4,A.json()]:[3,3];case 2:te=ge.sent(),ze.forEach(function(ue){console.log(" POLLING: Checking active trade:",{id:ue.id,amount:ue.amount});var me=te.find(function(Dt){return Dt.id===ue.id});if(me&&me.status==="completed"&&me.result!=="pending"){if(console.log(" POLLING: Found completed trade:",me),console.log(" POLLING: Server trade amount:",me.amount,"Type:",typeof me.amount),console.log(" POLLING: Active trade amount:",ue.amount,"Type:",typeof ue.amount),be.current.has(me.id)){console.log(" POLLING: Skipping - already notified via WebSocket");return}var Fe=me.result==="win",$e=function(Dt){return Dt===30?10:Dt===60?15:Dt===90?20:Dt===120?25:Dt===180?30:Dt===240?50:Dt===300?75:Dt===600?100:10},yt=ue.profitPercentage||$e(ue.duration||30),jt=parseFloat(me.amount)||ue.amount,Tt=parseFloat(me.entry_price)||ue.entryPrice,Tr=parseFloat(me.exit_price)||ue.currentPrice||ue.entryPrice,Gt={id:ue.id,direction:ue.direction,duration:ue.duration,startTime:ue.startTime,endTime:ue.endTime,profitPercentage:yt,symbol:me.symbol||ue.symbol,amount:jt,entryPrice:Tt,currentPrice:Tr,status:Fe?"won":"lost",payout:Fe?jt*(1+yt/100):0,profit:Fe?jt*yt/100:-(jt*yt/100)};console.log(" POLLING: Setting completed trade notification:",Gt),nt(Gt),ke(function(Dt){return Dt.filter(function(ot){return ot.id!==ue.id})}),x.invalidateQueries({queryKey:["/api/balances"]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/trades")]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/transactions")]}),console.log(" POLLING: Refreshing trade history after trade completion..."),setTimeout(function(){Ir()},1e3)}}),ge.label=3;case 3:return[3,5];case 4:return ae=ge.sent(),console.error(" POLLING: Error checking trade completion:",ae),[3,5];case 5:return[2]}})})},2e3);return function(){return clearInterval(j)}}},[ze,f==null?void 0:f.id,x]),m.useEffect(function(){if((v==null?void 0:v.type)==="trading_control_update"||(v==null?void 0:v.type)==="trading_mode_update"){var j=v.data||{},A=j.userId,te=j.controlType,ae=j.tradingMode,ge=j.username,ue=j.message,me=te||ae,Fe="user-1";(f==null?void 0:f.email)==="angela.soenoko@gmail.com"?Fe="user-angela":(f==null?void 0:f.email)==="amdsnkstudio@metachrome.io"?Fe="user-1":f!=null&&f.id&&(Fe=f.id),console.log(" Real-time trading control update received:",{userId:A,controlType:me,username:ge,currentUserId:Fe,message:ue}),A===Fe&&(console.log(" IMMEDIATE EFFECT: Trading mode changed to ".concat(me.toUpperCase()," for current user!")),_t(me),localStorage.setItem("currentTradingMode",me||"normal"))}},[v,f]);var Wt=function(j,A,te){return zs(e,void 0,void 0,function(){var ae,ge,ue,me,Fe,$e,yt=this;return $s(this,function(jt){switch(jt.label){case 0:ae=function(Tt){return Tt===30?10:Tt===60?15:Tt===90?20:Tt===120?25:Tt===180?30:Tt===240?50:Tt===300?75:Tt===600?100:10},ge=j.profitPercentage||ae(j.duration||30),ue=A?j.amount*ge/100:-(j.amount*ge/100),me=oc(oc({},j),{status:A?"won":"lost",currentPrice:te,payout:A?j.amount*(1+ge/100):0,profit:ue}),console.log(" COMPLETE TRADE: Updated trade object:",me),jt.label=1;case 1:return jt.trys.push([1,3,,4]),[4,fetch("/api/trades/complete",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({tradeId:j.id,userId:(f==null?void 0:f.id)||"user-1",won:A,amount:j.amount,payout:me.payout,profit:ue,finalPrice:te})})];case 2:return Fe=jt.sent(),Fe.ok?(x.invalidateQueries({queryKey:["/api/balances"]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/trades")]}),x.invalidateQueries({queryKey:["/api/users/".concat(f==null?void 0:f.id,"/transactions")]}),console.log(" Balance updated: Trade ".concat(A?"WON":"LOST"," - Amount: ").concat(j.amount," USDT")),console.log(" COMPLETE TRADE: Refreshing trade history after API completion..."),setTimeout(function(){f!=null&&f.id&&Ir()},1500)):console.error("Failed to update balance after trade completion"),[3,4];case 3:return $e=jt.sent(),console.error("Error updating balance:",$e),[3,4];case 4:return console.log(" COMPLETE TRADE: Setting up fallback notification check"),setTimeout(function(){return zs(yt,void 0,void 0,function(){var Tt,Tr,Gt,Dt,ot,fr,ir,Nt,Tn,zi,xa;return $s(this,function(Vn){switch(Vn.label){case 0:return Vn.trys.push([0,4,,5]),console.log(" FALLBACK: Checking server result for trade:",j.id),[4,fetch("/api/users/".concat(f==null?void 0:f.id,"/trades"))];case 1:return Tt=Vn.sent(),Tt.ok?[4,Tt.json()]:[3,3];case 2:Tr=Vn.sent(),Gt=Tr.find(function(kn){return kn.id===j.id}),Gt&&Gt.status==="completed"&&(console.log(" FALLBACK: Found completed trade with server result:",Gt),Dt=Gt.result==="win",ot=function(kn){return kn===30?10:kn===60?15:kn===90?20:kn===120?25:kn===180?30:kn===240?50:kn===300?75:kn===600?100:10},fr=j.profitPercentage||ot(j.duration||30),ir=parseFloat(Gt.amount)||j.amount,Nt=parseFloat(Gt.entry_price)||j.entryPrice,Tn=parseFloat(Gt.exit_price)||te,zi={id:j.id,direction:j.direction,duration:j.duration,startTime:j.startTime,endTime:j.endTime,profitPercentage:fr,symbol:j.symbol,amount:ir,entryPrice:Nt,currentPrice:Tn,status:Dt?"won":"lost",payout:Dt?ir*(1+fr/100):0,profit:Dt?ir*fr/100:-(ir*fr/100)},console.log(" FALLBACK: Triggering notification with server result:",zi),nt(zi)),Vn.label=3;case 3:return[3,5];case 4:return xa=Vn.sent(),console.error(" FALLBACK: Error checking server result:",xa),[3,5];case 5:return[2]}})})},2e3),[2,me]}})})};m.useEffect(function(){try{var j=Date.now(),A=!1;ze.length>0&&console.log(" USEEFFECT: Checking ".concat(ze.length," active trades at ").concat(new Date(j).toLocaleTimeString())),ke(function(ge){var ue=[];return ge.forEach(function(me){var Fe=Math.max(0,Math.ceil((me.endTime-j)/1e3));if(console.log(" TRADE CHECK: ID=".concat(me.id,", timeRemaining=").concat(Fe,", status=").concat(me.status,", endTime=").concat(me.endTime,", now=").concat(j)),Fe===0&&me.status==="active"){console.log(" TRADE EXPIRED: Trade ".concat(me.id," has expired! Starting completion..."));var $e=_e||me.entryPrice,yt=$e-me.entryPrice,jt=me.direction==="up"&&yt>0||me.direction==="down"&&yt<0;Wt(me,jt,$e).then(function(Tt){console.log(" TRADE COMPLETED: Trade completed, waiting for WebSocket notification for trade:",Tt.id)}).catch(function(Tt){console.error(" Trade completion failed:",Tt)}),A=!0;try{typeof og=="function"&&og(jt?"win":"lose")}catch(Tt){console.error("Sound play error:",Tt)}}else ue.push(oc(oc({},me),{currentPrice:se||me.entryPrice}))}),ue});var te=ze.find(function(ge){return ge.status==="active"});if(te){var ae=Math.max(0,Math.ceil((te.endTime-j)/1e3));de(ae),We(ae>0)}else A||(de(0),We(!1))}catch(ge){console.error("Trade management error:",ge),We(!1),de(0)}},[_e,ze]),m.useEffect(function(){var j=setInterval(function(){var A=Date.now();ze.forEach(function(te){var ae=Math.max(0,Math.ceil((te.endTime-A)/1e3));ae===0&&te.status==="active"&&de(function(ge){return ge})})},1e3);return function(){return clearInterval(j)}},[ze]);var Ur={"30s":{minAmount:100,profit:10},"60s":{minAmount:1e3,profit:15},"90s":{minAmount:5e3,profit:20},"120s":{minAmount:1e4,profit:25},"180s":{minAmount:3e4,profit:30},"240s":{minAmount:5e4,profit:50},"300s":{minAmount:1e5,profit:75},"600s":{minAmount:2e5,profit:100}},Lt=function(j){var A;return((A=Ur[j])===null||A===void 0?void 0:A.profit)||10},Le=function(j){var A;return((A=Ur[j])===null||A===void 0?void 0:A.minAmount)||100},xr=function(j,A){var te=Le(A);return j>=te},Jt=function(j){return zs(e,void 0,void 0,function(){var A,te,ae,ge,ue,me,Fe,$e,yt,jt,Tt,Tr,Gt,Dt,ot,fr;return $s(this,function(ir){switch(ir.label){case 0:return ir.trys.push([0,5,,6]),xr(he,oe)?It<he?(alert("Insufficient balance"),[2]):ze.length>=3?(alert("Maximum 3 active trades allowed"),[2]):(te=parseInt(oe.replace("s","")),ae=zt,console.log(" Current user for trade:",f),console.log(" User ID from auth:",f==null?void 0:f.id),console.log(" User email from auth:",f==null?void 0:f.email),ge="user-1",(f==null?void 0:f.email)==="angela.soenoko@gmail.com"?ge="user-angela-1758195715":(f==null?void 0:f.email)==="amdsnkstudio@metachrome.io"?ge="user-1":f!=null&&f.id&&(ge=f.id),console.log(" Trading with user ID:",ge),console.log(" Auth token:",((Dt=localStorage.getItem("authToken"))===null||Dt===void 0?void 0:Dt.substring(0,50))+"..."),!ae||ae<=0?(alert("Price data not available. Please wait a moment and try again."),[2]):(console.log(" TRADE DEBUG: About to place trade:",{userId:ge,symbol:d,direction:j,amount:he,duration:te,entryPrice:ae}),ue={userId:ge,symbol:d,direction:j,amount:he.toString(),duration:te,entryPrice:ae},console.log(" CLIENT: Sending trade with amount:",he,"Type:",typeof he),console.log(" CLIENT: Full payload:",JSON.stringify(ue,null,2)),[4,fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify(ue)})])):(A=Le(oe),alert("You cannot follow this market, please recharge your deposit. Minimum amount for ".concat(oe," is ").concat(A.toLocaleString()," USDT")),[2]);case 1:return me=ir.sent(),me.ok?[3,3]:[4,me.text()];case 2:throw Fe=ir.sent(),console.error(" Trade failed:",Fe),Fe.includes("User not found")?new Error("User session expired. Please logout and login again to refresh your account."):new Error(Fe||"Failed to place trade");case 3:return[4,me.json()];case 4:if($e=ir.sent(),console.log(" TRADE DEBUG: Trade placement response:",$e),$e.success){console.log(" TRADE DEBUG: Trade placed successfully, trade ID:",(ot=$e.trade)===null||ot===void 0?void 0:ot.id),yt=Date.now(),jt=Lt(oe),Tt={id:((fr=$e.trade)===null||fr===void 0?void 0:fr.id)||"trade_".concat(yt,"_").concat(Math.random().toString(36).substring(2,11)),symbol:d,direction:j,entryPrice:ae,amount:he,duration:te,startTime:yt,endTime:yt+te*1e3,profitPercentage:jt,status:"active"},ke(function(Nt){return nN(nN([],Nt,!0),[Tt],!1)}),de(te),We(!0),x.invalidateQueries({queryKey:["/api/balances"]}),f!=null&&f.id&&(localStorage.removeItem("tradeHistory_".concat(f.id)),console.log(" Cleared trade history cache to prevent conflicts"));try{og("place")}catch(Nt){console.warn("Sound play failed:",Nt)}console.log(" Trade Executed:",{direction:j.toUpperCase(),amount:"".concat(he," USDT"),duration:oe,entryPrice:"$".concat(ae.toFixed(2)),potentialProfit:"".concat(jt,"%"),potentialPayout:"".concat((he*(1+jt/100)).toFixed(2)," USDT")})}else throw new Error($e.message||"Failed to place trade");return[3,6];case 5:return Tr=ir.sent(),console.error("Trade execution error:",Tr),Gt=Tr instanceof Error?Tr.message:"Please try again.",alert("Failed to execute trade: ".concat(Gt)),[3,6];case 6:return[2]}})})};try{return y?n.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[n.jsx(eb,{}),n.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-base notranslate",children:er.symbol}),n.jsxs("div",{className:"text-white text-lg font-bold notranslate",children:[zt.toFixed(2)," USDT"]}),n.jsx("div",{className:"text-xs font-semibold notranslate ".concat(S),children:k||(O==null?void 0:O.priceChangePercent24h)||"+0.00%"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),n.jsx("div",{className:"text-white text-sm font-bold notranslate",children:O!=null&&O.volume24h?(parseFloat(O.volume24h)/1e6).toFixed(2)+"M":"0.00M"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2 text-xs",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white font-medium notranslate",children:(O==null?void 0:O.high24h)||"119,558"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white font-medium notranslate",children:(O==null?void 0:O.low24h)||"117,205"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Volume"}),n.jsx("div",{className:"text-white font-medium notranslate",children:O!=null&&O.volume24h?(parseFloat(O.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Turnover"}),n.jsx("div",{className:"text-white font-medium notranslate",children:O!=null&&O.volume24h?(parseFloat(O.volume24h)*parseFloat(O.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),n.jsx("div",{className:"bg-gray-800/50 px-4 py-2 border-b border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Symbol:"}),n.jsxs("select",{value:d,onChange:function(j){var A=j.target.value;h(A),Rt(A)},className:"bg-gray-700 text-white text-sm font-medium rounded-md px-3 py-1.5 border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[n.jsx("option",{value:"BTCUSDT",children:"BTC/USDT"}),n.jsx("option",{value:"ETHUSDT",children:"ETH/USDT"}),n.jsx("option",{value:"XRPUSDT",children:"XRP/USDT"}),n.jsx("option",{value:"LTCUSDT",children:"LTC/USDT"}),n.jsx("option",{value:"BNBUSDT",children:"BNB/USDT"}),n.jsx("option",{value:"SOLUSDT",children:"SOL/USDT"}),n.jsx("option",{value:"TONUSDT",children:"TON/USDT"}),n.jsx("option",{value:"DOGEUSDT",children:"DOGE/USDT"}),n.jsx("option",{value:"ADAUSDT",children:"ADA/USDT"}),n.jsx("option",{value:"TRXUSDT",children:"TRX/USDT"}),n.jsx("option",{value:"LINKUSDT",children:"LINK/USDT"}),n.jsx("option",{value:"AVAXUSDT",children:"AVAX/USDT"}),n.jsx("option",{value:"SUIUSDT",children:"SUI/USDT"}),n.jsx("option",{value:"SHIBUSDT",children:"SHIB/USDT"}),n.jsx("option",{value:"BCHUSDT",children:"BCH/USDT"}),n.jsx("option",{value:"DOTUSDT",children:"DOT/USDT"}),n.jsx("option",{value:"XLMUSDT",children:"XLM/USDT"})]})]})}),n.jsxs("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"380px"},children:[n.jsx(eN,{trades:ze,currentPrice:zt}),n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsx("select",{value:d,onChange:function(j){var A=j.target.value;h(A),Rt(A)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:Ze.map(function(j){return n.jsxs("option",{value:j.rawSymbol,className:"bg-gray-800 text-white",children:[j.coin,"/USDT"]},j.rawSymbol)})})}),n.jsx("div",{className:"w-full h-full",children:n.jsx(Sm,{children:n.jsx(wm,{type:"chart",symbol:"BINANCE:".concat(d),height:380,interval:"1",theme:"dark",container_id:"options_mobile_tradingview_chart",onSymbolChange:Rt})})})]}),n.jsxs("div",{className:"bg-[#10121E] min-h-screen flex",children:[n.jsxs("div",{className:"w-1/2 border-r border-gray-700",children:[n.jsx("div",{className:"p-2 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"text-white font-bold text-sm notranslate",children:er.symbol}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-white text-sm notranslate",children:[se>0?se.toFixed(2):_e>0?_e.toFixed(2):"Loading..."," USDT"]}),n.jsxs("div",{className:"text-xs notranslate ".concat(E?"text-green-400":"text-red-400"),children:[k," (",S,")"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-1 p-1.5 text-[10px] text-gray-400 border-b border-gray-700",children:[n.jsx("span",{className:"truncate",children:"Price"}),n.jsx("span",{className:"truncate text-center",children:"Volume"}),n.jsx("span",{className:"truncate text-right",children:"Total"})]}),n.jsxs("div",{className:"h-[300px] overflow-y-auto notranslate",children:[n.jsx("div",{className:"space-y-0",children:rn.sellOrders.slice(0,8).map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 gap-1 px-1.5 py-0.5 text-[10px] hover:bg-gray-800",children:[n.jsx("span",{className:"text-red-400 font-mono truncate",children:j.price}),n.jsx("span",{className:"text-gray-300 font-mono truncate text-center",children:j.volume}),n.jsx("span",{className:"text-gray-400 font-mono truncate text-right",children:j.turnover})]},A)})}),n.jsx("div",{className:"px-2 py-2 border-y border-gray-600",children:n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"text-sm font-bold notranslate ".concat(E?"text-green-400":"text-red-400"),children:[zt.toFixed(2)," USDT"]})})}),n.jsx("div",{className:"space-y-0",children:rn.buyOrders.slice(0,8).map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 gap-1 px-1.5 py-0.5 text-[10px] hover:bg-gray-800",children:[n.jsx("span",{className:"text-green-400 font-mono truncate",children:j.price}),n.jsx("span",{className:"text-gray-300 font-mono truncate text-center",children:j.volume}),n.jsx("span",{className:"text-gray-400 font-mono truncate text-right",children:j.turnover})]},A)})})]})]}),n.jsxs("div",{className:"w-1/2",children:[n.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"Market Statistics"}),n.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs notranslate",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"24h Change"}),n.jsx("span",{className:"font-semibold ".concat(!((r=O==null?void 0:O.priceChangePercent24h)===null||r===void 0)&&r.startsWith("-")?"text-red-400":"text-green-400"),children:(O==null?void 0:O.priceChangePercent24h)||"0.00%"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"24h High"}),n.jsx("span",{className:"text-white font-semibold",children:(O==null?void 0:O.high24h)||se.toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"24h Low"}),n.jsx("span",{className:"text-white font-semibold",children:(O==null?void 0:O.low24h)||se.toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"24h Volume"}),n.jsx("span",{className:"text-white font-semibold",children:O!=null&&O.volume24h?(parseFloat(O.volume24h)/1e6).toFixed(2)+"M":"0.00"})]})]})]}),n.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"My Orders"}),n.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:ze.length>0?ze.map(function(j){var A=Math.max(0,Math.ceil(((j.expiryTime||j.endTime)-Date.now())/1e3)),te=A>0?A/j.duration*100:0;return n.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full ".concat(j.direction==="up"?"bg-green-400":"bg-red-400")}),n.jsx("span",{className:"text-white text-xs font-medium",children:er.symbol}),n.jsx("span",{className:"text-xs px-1 py-0.5 rounded ".concat(j.direction==="up"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"),children:j.direction.toUpperCase()})]}),n.jsxs("span",{className:"text-white font-bold text-xs",children:["$",j.amount]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[n.jsxs("span",{children:["Entry: $",j.entryPrice]}),n.jsxs("span",{children:["Current: $",zt.toFixed(2)]})]}),A>0?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-400 notranslate",children:[A,"s"]}),n.jsx("span",{className:"font-medium ".concat(j.direction==="up"&&zt>j.entryPrice||j.direction==="down"&&zt<j.entryPrice?"text-green-400":"text-red-400"),children:j.direction==="up"&&zt>j.entryPrice||j.direction==="down"&&zt<j.entryPrice?"Winning":"Losing"})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-0.5",children:n.jsx("div",{className:"bg-blue-500 h-0.5 rounded-full transition-all duration-1000",style:{width:"".concat(te,"%")}})})]}):n.jsx("div",{className:"text-center",children:n.jsx("span",{className:"text-xs font-bold ".concat(j.direction==="up"&&(j.exitPrice||j.currentPrice||0)>j.entryPrice||j.direction==="down"&&(j.exitPrice||j.currentPrice||0)<j.entryPrice?"text-green-400":"text-red-400"),children:j.direction==="up"&&(j.exitPrice||j.currentPrice||0)>j.entryPrice||j.direction==="down"&&(j.exitPrice||j.currentPrice||0)<j.entryPrice?"WON":"LOST"})})]},j.id)}):n.jsx("div",{className:"text-center py-2",children:n.jsx("div",{className:"text-gray-400 text-xs",children:"No active trades"})})})]}),n.jsxs("div",{className:"px-3 py-2",children:[n.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"Trading Pairs"}),n.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto notranslate",children:hr.slice(0,6).map(function(j,A){var te,ae=!(!((te=j.priceChangePercent24h)===null||te===void 0)&&te.startsWith("-")),ge={BTC:{icon:"",bg:"bg-orange-500"},ETH:{icon:"",bg:"bg-purple-500"},BNB:{icon:"B",bg:"bg-yellow-600"},SOL:{icon:"S",bg:"bg-purple-600"},XRP:{icon:"",bg:"bg-gray-600"},ADA:{icon:"A",bg:"bg-blue-500"}},ue=ge[j.coin]||{icon:j.coin[0],bg:"bg-gray-500"},me=parseFloat(j.price).toFixed(j.price.includes(".")&&parseFloat(j.price)<1?4:2);return n.jsxs("div",{onClick:function(){return di(j.rawSymbol)},className:"flex items-center justify-between p-1.5 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ".concat(d===j.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""),children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-white font-bold text-xs ".concat(ue.bg),children:ue.icon}),n.jsx("div",{children:n.jsx("div",{className:"text-white text-xs font-medium",children:j.symbol})})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-white text-xs",children:me}),n.jsx("div",{className:"text-xs ".concat(ae?"text-green-400":"text-red-400"),children:j.priceChangePercent24h})]})]},A)})})]})]})]}),n.jsxs("div",{className:"px-3 py-2 space-y-2 bg-[#10121E]",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400 text-xs",children:"Current Price:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full ".concat(N?"bg-green-400 animate-pulse":"bg-red-400")}),n.jsx("span",{className:"text-xs text-gray-500",children:N?"Live":"Offline"})]})]}),n.jsxs("span",{className:"text-white font-bold text-sm notranslate",children:[se>0?se.toFixed(2):_e>0?_e.toFixed(2):"Loading..."," USDT"]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-gray-400 text-xs",children:"Balance:"}),f?n.jsxs("span",{className:"text-green-400 font-bold text-sm notranslate",children:[It.toFixed(2)," USDT"]}):n.jsx("span",{className:"text-yellow-400 font-bold text-xs",children:"Sign in required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Duration & Profit"}),n.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(function(j){return n.jsxs("button",{onClick:function(){Ne(j.duration);var A=Le(j.duration);he<A&&Ee(A)},className:"py-1 px-1 rounded text-center transition-colors notranslate ".concat(oe===j.duration?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"),disabled:ve,children:[n.jsx("div",{className:"text-xs font-medium notranslate",children:j.duration}),n.jsx("div",{className:"text-[9px] text-green-400 notranslate",children:j.profit})]},j.duration)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:["Amount (USDT) - Min: ",Le(oe).toLocaleString()]}),n.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[100,500,1e3,2e3,5e3,1e4].map(function(j){return n.jsx("button",{onClick:function(){return Ee(j)},className:"py-1 px-2 rounded text-xs font-medium transition-colors ".concat(he===j?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"),disabled:ve,children:j},j)})}),n.jsxs("button",{onClick:function(){var j=Math.floor(It)||0;Ee(j)},className:"w-full py-1 px-2 rounded text-xs font-medium transition-colors mb-1.5 ".concat(he===Math.floor(It||0)?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"),disabled:ve,children:["Max (",Math.floor(It||0)," USDT)"]}),n.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:he,onChange:function(j){var A=j.target.value.replace(/[^0-9.]/g,""),te=parseFloat(A)||0;Ee(te)},onBlur:function(j){var A=parseFloat(j.target.value)||0;A<100?Ee(100):A>(It||0)&&Ee(Math.floor(It||0))},className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white text-xs focus:border-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount (Min: 100, Max: ".concat(Math.floor(It||0),")")})]}),!f&&n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-3 mb-2 text-center",children:[n.jsx("div",{className:"text-white font-bold text-base mb-1",children:" Login to Trade"}),n.jsx("div",{className:"text-white/80 text-xs mb-2",children:"Sign in to start options trading and earn up to 15% profit"}),n.jsx("a",{href:"/login",className:"inline-block bg-white text-purple-600 font-bold py-1.5 px-4 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"Login Now"})]}),(!(f!=null&&f.verificationStatus)||(f==null?void 0:f.verificationStatus)==="unverified")&&(f==null?void 0:f.role)!=="super_admin"?n.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-3 mb-2",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-yellow-100 font-semibold mb-1 text-sm",children:" Verification Required"}),n.jsx("div",{className:"text-yellow-200 text-xs mb-2",children:"Upload your verification documents to start trading"}),n.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs",children:"Upload Documents"})]})}):(f==null?void 0:f.verificationStatus)==="pending"?n.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-3 mb-2",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-blue-100 font-semibold mb-1 text-sm",children:" Verification Pending"}),n.jsx("div",{className:"text-blue-200 text-xs",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})}):n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{onClick:function(){return Jt("up")},disabled:ze.length>=3||he<100||It<he,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium text-base transition-colors relative",children:"Buy/Up"}),n.jsx("button",{onClick:function(){return Jt("down")},disabled:ze.length>=3||he<100||It<he,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium text-base transition-colors relative",children:"Sell/Down"})]}),$>0&&n.jsx("div",{className:"text-center py-2",children:n.jsxs("div",{className:"text-yellow-400 font-bold notranslate",children:["Next trade available in: ",n.jsxs("span",{className:"notranslate",children:[$,"s"]})]})})]}),n.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[600px]",children:[n.jsx("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("button",{onClick:function(){return U("open")},className:"pb-1 text-sm font-medium ".concat(M==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Active Trades(",ze.length,")"]}),n.jsxs("button",{onClick:function(){return U("history")},className:"pb-1 text-sm font-medium ".concat(M==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Trade History(",R.length,")"]}),M==="history"&&n.jsxs("button",{onClick:function(){console.log(" MANUAL REFRESH: User clicked refresh button"),Rr(!0),Ir()},disabled:tn,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 ".concat(tn?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:tn?"Refreshing...":"Refresh"})]})]})}),n.jsxs("div",{className:"px-4 py-2 max-h-[550px] overflow-y-auto",children:[M==="open"&&n.jsx(n.Fragment,{children:ze.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})]}):ze.map(function(j){var A=Math.max(0,Math.ceil((j.endTime-Date.now())/1e3)),te=_e-j.entryPrice,ae=j.direction==="up"&&te>0||j.direction==="down"&&te<0,ge=ae?j.amount*(1+j.profitPercentage/100)-j.amount:-(j.amount*j.profitPercentage/100);return n.jsxs("div",{className:"bg-gray-800 rounded p-3 mb-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"font-bold text-sm notranslate ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:[j.direction==="up"?"BUY":"SELL","  ",j.amount," USDT"]}),n.jsxs("span",{className:"text-yellow-400 font-bold text-sm notranslate",children:[A,"s"]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-300 notranslate",children:[n.jsxs("span",{children:["Entry: ",j.entryPrice.toFixed(2)]}),n.jsxs("span",{children:["Current: ",se.toFixed(2)]}),n.jsxs("span",{className:"font-bold ".concat(ae?"text-green-400":"text-red-400"),children:[ge>0?"+":"",ge.toFixed(2)," USDT"]})]})]},j.id)})}),M==="history"&&n.jsx(n.Fragment,{children:tn?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-8 h-8 mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Loading trade history..."})]}):R.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No trade history"}),n.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Complete some trades to see your history here"})]}):n.jsx("div",{className:"space-y-2",children:R.map(function(j){var A=function($e){return $e===30?10:$e===60?15:$e===90?20:$e===120?25:$e===180?30:$e===240?50:$e===300?75:$e===600?100:10},te=A(j.duration||30),ae=j.profit!==void 0?j.profit:j.status==="won"?j.amount*te/100:-j.amount,ge=j.symbol?j.symbol.replace("USDT","/USDT"):"BTC/USDT",ue=new Date(j.endTime),me=ue.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),Fe=ue.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"});return n.jsxs("div",{className:"bg-gray-800 rounded p-2.5 mb-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[n.jsx("span",{className:"text-gray-400 text-xs font-medium",children:ge}),n.jsx("span",{className:"font-bold text-sm ".concat(j.status==="won"?"text-green-400":"text-red-400"),children:j.status==="won"?" WON":" LOST"})]}),n.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[n.jsxs("span",{className:"font-bold text-sm ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:[j.direction==="up"?"BUY":"SELL","  ",j.amount," USDT"]}),n.jsxs("span",{className:"font-bold text-xs ".concat(j.status==="won"?"text-green-400":"text-red-400"),children:[j.status==="won"?"+":"",ae.toFixed(2)," USDT"]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsxs("span",{children:["Entry: ",j.entryPrice.toFixed(2)]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{children:me}),n.jsx("div",{children:Fe})]})]})]},j.id)})})})]})]}),n.jsx(Od,{}),n.jsx(mm,{}),ne&&console.log(" RENDER: Mobile notification with completedTrade:",{id:ne.id,amount:ne.amount,duration:ne.duration,status:ne.status,entryPrice:ne.entryPrice,currentPrice:ne.currentPrice,profit:ne.profit,profitPercentage:ne.profitPercentage,fullObject:JSON.stringify(ne)}),n.jsx(Z1,{trade:ne?{id:ne.id,direction:ne.direction,amount:ne.amount,entryPrice:ne.entryPrice,finalPrice:ne.currentPrice||ne.entryPrice,status:ne.status,payout:ne.payout||(ne.status==="won"?ne.amount+ne.amount*(ne.profitPercentage||10)/100:0),profitPercentage:ne.profitPercentage||10,profit:ne.profit,symbol:ne.symbol||"BTC/USDT",duration:ne.duration||30}:null,onClose:function(){console.log(" NOTIFICATION: onClose called (mobile)"),ce(null),localStorage.removeItem("completedTrade")}},Re)]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx(tb,{}),n.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:er.symbol}),n.jsx("div",{className:"text-white text-2xl font-bold",children:parseFloat(er.price).toFixed(2)}),n.jsxs("div",{className:"text-gray-400 text-sm",children:[parseFloat(er.price).toFixed(2)," USDT"]})]}),n.jsx("div",{className:"text-lg font-semibold ".concat(!((s=er.priceChangePercent24h)===null||s===void 0)&&s.startsWith("-")?"text-red-400":"text-green-400"),children:er.priceChangePercent24h||"+0.00%"}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Change 24h"}),n.jsxs("div",{className:"text-white font-semibold ".concat((w==null?void 0:w.priceChange24h)>=0?"text-green-400":"text-red-400"),children:[((i=w==null?void 0:w.priceChange24h)===null||i===void 0?void 0:i.toFixed(2))||"0.00"," ",(w==null?void 0:w.priceChangePercent24h)>=0?"+":"",((a=w==null?void 0:w.priceChangePercent24h)===null||a===void 0?void 0:a.toFixed(2))||"0.00","%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white",children:((o=w==null?void 0:w.high24h)===null||o===void 0?void 0:o.toFixed(2))||(O==null?void 0:O.high24h)||se.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white",children:((c=w==null?void 0:w.low24h)===null||c===void 0?void 0:c.toFixed(2))||(O==null?void 0:O.low24h)||se.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Volume 24h (BTC)"}),n.jsx("div",{className:"text-white",children:w!=null&&w.volume24h?(parseFloat(w.volume24h.toString())/1e6).toFixed(2)+"M":O!=null&&O.volume24h?(parseFloat(O.volume24h)/1e6).toFixed(2)+"M":"0.00"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),n.jsx("div",{className:"text-white",children:w!=null&&w.volume24h&&(w!=null&&w.price)?(parseFloat(w.volume24h.toString())*w.price/1e6).toFixed(2)+"M":O!=null&&O.volume24h?(parseFloat(O.volume24h)*parseFloat(O.price)/1e6).toFixed(2)+"M":"0.00"})]})]})]})}),n.jsxs("div",{className:"bg-[#10121E] flex",children:[n.jsxs("div",{className:"w-64 border-r border-gray-700",children:[n.jsxs("div",{className:"p-3 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-white font-bold notranslate",children:er.symbol}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-white text-lg notranslate",children:parseFloat(er.price).toFixed(2)}),n.jsx("div",{className:"text-sm font-semibold notranslate ".concat(!((u=er.priceChangePercent24h)===null||u===void 0)&&u.startsWith("-")?"text-red-400":"text-green-400"),children:er.priceChangePercent24h||"+0.00%"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-sm"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-white text-sm",children:"0.01"}),n.jsx("span",{className:"text-gray-400",children:""})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 text-xs text-gray-400 border-b border-gray-700",children:[n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Volume (BTC)"}),n.jsx("span",{children:"Turnover"})]}),n.jsxs("div",{className:"h-[400px] overflow-y-auto notranslate","data-orderbook":"desktop",children:[n.jsx("div",{className:"space-y-0",children:rn.sellOrders.length>0?rn.sellOrders.map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"sell",children:[n.jsx("span",{style:{color:"rgb(248, 113, 113)",fontWeight:"500"},"data-field":"price",children:j.price}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:j.volume}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:j.turnover})]},A)}):n.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading sell orders..."})}),n.jsx("div",{className:"p-2 my-1 notranslate ".concat(E?"bg-green-900/20":"bg-red-900/20"),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-white text-lg",children:zt.toFixed(2)}),n.jsx("span",{className:"".concat(E?"text-green-400":"text-red-400"),children:E?"":""}),n.jsxs("span",{className:"text-gray-400 text-sm",children:[zt.toFixed(2)," USDT"]})]})}),n.jsx("div",{className:"space-y-0",children:rn.buyOrders.length>0?rn.buyOrders.map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"buy",children:[n.jsx("span",{style:{color:"rgb(74, 222, 128)",fontWeight:"500"},"data-field":"price",children:j.price}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:j.volume}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:j.turnover})]},A)}):n.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading buy orders..."})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"p-2 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:"text-xs text-gray-400",children:["Chart Sync: ",n.jsx("span",{className:"text-green-400",children:"Active"})]})}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[!1,n.jsx("button",{onClick:function(){return D("tradingview")},className:"text-xs transition-colors ".concat(I==="tradingview"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"),children:"Trading view"}),I==="tradingview"&&n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Quick select:"}),n.jsx("button",{onClick:function(){console.log(" Manual symbol change to BTCUSDT");var j=Ze.find(function(A){return A.rawSymbol==="BTCUSDT"});j&&h("BTCUSDT")},className:"text-xs text-orange-400 hover:text-orange-300 px-1",children:"BTC"}),n.jsx("button",{onClick:function(){console.log(" Manual symbol change to ETHUSDT");var j=Ze.find(function(A){return A.rawSymbol==="ETHUSDT"});j&&h("ETHUSDT")},className:"text-xs text-blue-400 hover:text-blue-300 px-1",children:"ETH"}),n.jsx("button",{onClick:function(){console.log(" Manual symbol change to SOLUSDT");var j=Ze.find(function(A){return A.rawSymbol==="SOLUSDT"});j&&h("SOLUSDT")},className:"text-xs text-green-400 hover:text-green-300 px-1",children:"SOL"})]}),n.jsx("button",{onClick:function(){return D("depth")},className:"text-xs transition-colors ".concat(I==="depth"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"),children:"Depth"})]})})]})}),n.jsxs("div",{className:"h-[500px] relative bg-[#000000] p-1",children:[n.jsx(eN,{trades:ze,currentPrice:(w==null?void 0:w.price)||se}),!1,I==="tradingview"&&n.jsxs("div",{className:"relative h-full",children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsxs("select",{value:d,onChange:function(j){var A=j.target.value;h(A),Rt(A)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:[n.jsx("option",{value:"BTCUSDT",className:"bg-gray-800 text-white",children:"BTC/USDT"}),n.jsx("option",{value:"ETHUSDT",className:"bg-gray-800 text-white",children:"ETH/USDT"}),n.jsx("option",{value:"XRPUSDT",className:"bg-gray-800 text-white",children:"XRP/USDT"}),n.jsx("option",{value:"LTCUSDT",className:"bg-gray-800 text-white",children:"LTC/USDT"}),n.jsx("option",{value:"BNBUSDT",className:"bg-gray-800 text-white",children:"BNB/USDT"}),n.jsx("option",{value:"SOLUSDT",className:"bg-gray-800 text-white",children:"SOL/USDT"}),n.jsx("option",{value:"TONUSDT",className:"bg-gray-800 text-white",children:"TON/USDT"}),n.jsx("option",{value:"DOGEUSDT",className:"bg-gray-800 text-white",children:"DOGE/USDT"}),n.jsx("option",{value:"ADAUSDT",className:"bg-gray-800 text-white",children:"ADA/USDT"}),n.jsx("option",{value:"TRXUSDT",className:"bg-gray-800 text-white",children:"TRX/USDT"}),n.jsx("option",{value:"LINKUSDT",className:"bg-gray-800 text-white",children:"LINK/USDT"}),n.jsx("option",{value:"AVAXUSDT",className:"bg-gray-800 text-white",children:"AVAX/USDT"}),n.jsx("option",{value:"SUIUSDT",className:"bg-gray-800 text-white",children:"SUI/USDT"}),n.jsx("option",{value:"SHIBUSDT",className:"bg-gray-800 text-white",children:"SHIB/USDT"}),n.jsx("option",{value:"BCHUSDT",className:"bg-gray-800 text-white",children:"BCH/USDT"}),n.jsx("option",{value:"DOTUSDT",className:"bg-gray-800 text-white",children:"DOT/USDT"}),n.jsx("option",{value:"XLMUSDT",className:"bg-gray-800 text-white",children:"XLM/USDT"})]})}),n.jsx(Sm,{children:n.jsx(wm,{type:"chart",symbol:"BINANCE:".concat(d),height:490,interval:"1",theme:"dark",container_id:"options_tradingview_chart",onSymbolChange:Rt})})]}),I==="depth"&&n.jsxs("div",{className:"w-full h-full p-4",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Market Depth Chart"}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["Real-time order book visualization for ",d]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 h-[400px]",children:[n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[n.jsx("div",{className:"text-green-400 text-sm font-bold mb-3 text-center",children:"Buy Orders (Bids)"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-3 text-xs text-gray-400 border-b border-gray-600 pb-1",children:[n.jsx("span",{children:"Price"}),n.jsx("span",{className:"text-center",children:"Amount"}),n.jsx("span",{className:"text-right",children:"Total"})]}),rn.buyOrders.slice(0,15).map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 text-xs hover:bg-gray-700/50 p-1 rounded",children:[n.jsx("span",{className:"text-green-400 font-mono",children:j.price}),n.jsx("span",{className:"text-gray-300 font-mono text-center",children:j.volume}),n.jsx("span",{className:"text-gray-300 font-mono text-right",children:j.turnover})]},A)})]})]}),n.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[n.jsx("div",{className:"text-red-400 text-sm font-bold mb-3 text-center",children:"Sell Orders (Asks)"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"grid grid-cols-3 text-xs text-gray-400 border-b border-gray-600 pb-1",children:[n.jsx("span",{children:"Price"}),n.jsx("span",{className:"text-center",children:"Amount"}),n.jsx("span",{className:"text-right",children:"Total"})]}),rn.sellOrders.slice(0,15).map(function(j,A){return n.jsxs("div",{className:"grid grid-cols-3 text-xs hover:bg-gray-700/50 p-1 rounded",children:[n.jsx("span",{className:"text-red-400 font-mono",children:j.price}),n.jsx("span",{className:"text-gray-300 font-mono text-center",children:j.volume}),n.jsx("span",{className:"text-gray-300 font-mono text-right",children:j.turnover})]},A)})]})]})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gray-700/50 px-4 py-2 rounded-lg notranslate",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Current Price:"}),n.jsxs("span",{className:"text-white font-bold text-lg",children:[zt.toFixed(2)," USDT"]}),n.jsxs("span",{className:"text-sm ".concat((w==null?void 0:w.priceChangePercent24h)>=0?"text-green-400":"text-red-400"),children:[(w==null?void 0:w.priceChangePercent24h)>=0?"+":"",((l=w==null?void 0:w.priceChangePercent24h)===null||l===void 0?void 0:l.toFixed(2))||"0.00","%"]})]})})]})]}),n.jsxs("div",{className:"p-4 border-t border-gray-700",children:[n.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400",children:"Current Price:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 rounded-full ".concat(N?"bg-green-400 animate-pulse":"bg-red-400")}),n.jsx("span",{className:"text-xs text-gray-500",children:N?"Live":"Offline"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-white font-bold text-lg notranslate",children:[se>0?se.toFixed(2):_e>0?_e.toFixed(2):"Loading..."," USDT"]})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-gray-400",children:"Balance:"}),f?n.jsxs("span",{className:"text-green-400 font-bold notranslate",children:[It.toFixed(2)," USDT"]}):n.jsx("span",{className:"text-yellow-400 font-bold",children:"Sign in required"})]}),!1,ve&&ze.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:ze.map(function(j){var A=Math.max(0,Math.ceil((j.endTime-Date.now())/1e3)),te=_e-j.entryPrice,ae=j.direction==="up"&&te>0||j.direction==="down"&&te<0;return n.jsxs("div",{className:"p-2 bg-gray-700 rounded text-sm",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"font-bold notranslate ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:[j.direction==="up"?"BUY":"SELL"," ",j.amount," USDT"]}),n.jsxs("span",{className:"text-yellow-400 font-bold notranslate",children:[A,"s"]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("span",{className:"text-gray-400 notranslate",children:["Entry: ",j.entryPrice.toFixed(2)," USDT"]}),n.jsxs("span",{className:"font-bold ".concat(ae?"text-green-400":"text-red-400"),children:[te>0?"+":"",te.toFixed(2)," USDT"]})]}),n.jsx("div",{className:"text-center mt-1",children:n.jsxs("span",{className:"text-xs ".concat(ae?"text-green-400":"text-red-400"),children:[ae?" WINNING":" LOSING","  Profit: ",j.profitPercentage,"%"]})})]},j.id)})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(function(j){return n.jsxs("button",{onClick:function(){Ne(j.duration);var A=Le(j.duration);he<A&&Ee(A)},className:"p-2 rounded text-center border transition-colors notranslate ".concat(oe===j.duration?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"),disabled:ve,children:[n.jsx("div",{className:"text-sm font-medium notranslate",children:j.duration}),n.jsx("div",{className:"text-xs text-green-400 notranslate",children:j.profit})]},j.duration)})}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-gray-400 text-sm mb-2",children:["Minimum buy: ",Le(oe).toLocaleString()," USDT | Selected: ",he," USDT"]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[100,500,1e3,2e3].map(function(j){return n.jsx("button",{onClick:function(){return Ee(j)},className:"p-2 rounded text-sm transition-colors ".concat(he===j?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"),disabled:ve,children:j},j)})}),n.jsx("div",{className:"grid grid-cols-1 gap-2 mb-2",children:n.jsxs("button",{onClick:function(){var j=Math.floor(It)||0;Ee(j)},className:"p-2 rounded text-sm transition-colors ".concat(he===Math.floor(It||0)?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"),disabled:ve,children:["Max (",Math.floor(It||0)," USDT)"]})}),n.jsx("div",{className:"mt-2",children:n.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:he,onChange:function(j){var A=j.target.value.replace(/[^0-9.]/g,""),te=parseFloat(A)||0;Ee(te)},onBlur:function(j){var A=parseFloat(j.target.value)||0;A<100?Ee(100):A>(It||0)&&Ee(Math.floor(It||0))},className:"w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Enter amount (Min: 100, Max: ".concat(Math.floor(It||0),")")})})]}),n.jsx("div",{className:"text-gray-400 text-sm mb-4",children:f?n.jsxs(n.Fragment,{children:["Available: ",(It||0).toFixed(2)," USDT | Active Trades: ",ze.length,"/3"]}):n.jsx(n.Fragment,{children:"Sign in to view balance and start trading"})}),!1,f?(!(f!=null&&f.verificationStatus)||(f==null?void 0:f.verificationStatus)==="unverified")&&(f==null?void 0:f.role)!=="super_admin"?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-yellow-100 font-semibold mb-2",children:" Verification Required"}),n.jsx("div",{className:"text-yellow-200 text-sm mb-3",children:"Upload your verification documents to start trading"}),n.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm",children:"Upload Documents"})]})})}):(f==null?void 0:f.verificationStatus)==="pending"?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-blue-100 font-semibold mb-2",children:" Verification Pending"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})})}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:function(){return Jt("up")},disabled:ze.length>=3||he<100||It<he,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[n.jsx("div",{children:"Buy/Up"}),n.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",Lt(oe),"%  Payout: +",(he*Lt(oe)/100).toFixed(0)," USDT"]})]}),n.jsxs("button",{onClick:function(){return Jt("down")},disabled:ze.length>=3||he<100||It<he,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[n.jsx("div",{children:"Sell/Down"}),n.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",Lt(oe),"%  Payout: +",(he*Lt(oe)/100).toFixed(0)," USDT"]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[n.jsx("div",{children:"Buy Up"}),n.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]}),n.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[n.jsx("div",{children:"Buy Down"}),n.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]})]}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start options trading"})})]})]})]}),n.jsxs("div",{className:"w-80 border-l border-gray-700",children:[n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search coins (e.g. ETH, BTC, SOL)",value:V,onChange:function(j){return ws(j.target.value)},className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),n.jsx("div",{className:"px-4 mb-4",children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Spot"}),n.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Options"})]})}),n.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto notranslate",children:hr.length>0?hr.map(function(j,A){var te,ae=!(!((te=j.priceChangePercent24h)===null||te===void 0)&&te.startsWith("-")),ge={BTC:{icon:"",bg:"bg-orange-500"},ETH:{icon:"",bg:"bg-purple-500"},BNB:{icon:"B",bg:"bg-yellow-600"},SOL:{icon:"S",bg:"bg-purple-600"},XRP:{icon:"",bg:"bg-gray-600"},ADA:{icon:"A",bg:"bg-blue-500"},DOGE:{icon:"D",bg:"bg-yellow-500"},POL:{icon:"P",bg:"bg-purple-700"},DOT:{icon:"",bg:"bg-pink-500"},AVAX:{icon:"A",bg:"bg-red-500"}},ue=ge[j.coin]||{icon:j.coin[0],bg:"bg-gray-500"},me=parseFloat(j.price).toFixed(j.price.includes(".")&&parseFloat(j.price)<1?6:2);return n.jsxs("div",{onClick:function(){return di(j.rawSymbol)},className:"flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ".concat(d===j.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""),children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ".concat(ue.bg),children:ue.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:j.symbol}),n.jsx("div",{className:"text-gray-400 text-xs",children:j.coin})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-white text-sm",children:me}),n.jsx("div",{className:"text-xs ".concat(ae?"text-green-400":"text-red-400"),children:j.priceChangePercent24h})]})]},A)}):n.jsxs("div",{className:"text-center text-gray-400 py-4",children:[n.jsx("div",{className:"text-sm",children:"No coins found"}),n.jsx("div",{className:"text-xs mt-1",children:"Try searching for BTC, ETH, SOL, etc."})]})}),n.jsxs("div",{className:"border-t border-gray-700",children:[n.jsx("div",{className:"px-4 py-3",children:n.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Amount"})]})}),n.jsx("div",{className:"h-[200px] overflow-y-auto px-4 notranslate",children:n.jsx("div",{className:"space-y-1 py-2",children:R.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"No recent transactions"}),n.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Complete some trades to see transactions here"})]}):R.slice(0,8).map(function(j,A){var te=j.symbol?j.symbol.replace("USDT","/USDT"):"BTC/USDT",ae=new Date(j.endTime),ge=ae.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),ue=ae.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:"bg-gray-800/30 rounded px-2 py-2 mb-1.5 hover:bg-gray-800/50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-gray-400 text-xs font-medium",children:te}),n.jsx("span",{className:"text-xs font-bold ".concat(j.status==="won"?"text-green-400":"text-red-400"),children:j.status==="won"?" WON":" LOST"})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:j.direction==="up"?"BUY":"SELL"}),n.jsxs("span",{className:"text-gray-300",children:[j.amount.toFixed(0)," USDT"]})]}),n.jsxs("div",{className:"text-gray-400 font-mono text-right",children:[n.jsx("div",{children:ge}),n.jsx("div",{children:ue})]})]})]},A)})})})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[200px]",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("button",{onClick:function(){return U("open")},className:"pb-1 text-sm font-medium ".concat(M==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Active Trades(",ze.length,")"]}),n.jsxs("button",{onClick:function(){return U("history")},className:"pb-1 text-sm font-medium ".concat(M==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Trade History(",R.length,")"]}),M==="history"&&n.jsxs("button",{onClick:function(){console.log(" MANUAL REFRESH: User clicked refresh button"),Rr(!0),Ir()},disabled:tn,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 ".concat(tn?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:tn?"Refreshing...":"Refresh"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("label",{className:"flex items-center text-sm text-gray-400",children:[n.jsx("input",{type:"checkbox",className:"mr-2"}),"Hide other trading pairs"]}),M==="history"&&n.jsxs("button",{onClick:function(){if(console.log(" Manual refresh triggered"),f!=null&&f.id){var j=function(){return zs(e,void 0,void 0,function(){var A,te,ae,ge;return $s(this,function(ue){switch(ue.label){case 0:Rr(!0),ue.label=1;case 1:return ue.trys.push([1,5,6,7]),[4,fetch("/api/users/".concat(f.id,"/trades"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 2:return A=ue.sent(),A.ok?[4,A.json()]:[3,4];case 3:te=ue.sent(),console.log(" Refreshed trade history:",te.length),ae=te.filter(function(me){return me.result&&me.result!=="pending"&&me.status==="completed"}).map(function(me){var Fe=parseFloat(me.entry_price||"0"),$e=parseFloat(me.exit_price||"0"),yt=me.result==="win";if(console.log(" Trade ".concat(me.id,": Entry=").concat(Fe,", Exit=").concat($e,", Status=").concat(me.status,", Result=").concat(me.result)),!$e||$e===0){console.log(" Missing exit price for trade ".concat(me.id,", generating consistent fallback"));var jt=parseInt(me.id.toString().slice(-6))||123456,Tt=(jt*9301+49297)%233280/233280,Tr=.005,Gt=1e-4,Dt=Tr-Gt,ot=Tt*Dt+Gt,fr=1;me.direction==="up"?fr=yt?1:-1:me.direction==="down"&&(fr=yt?-1:1),$e=Fe*(1+ot*fr);var ir=.01;Math.abs($e-Fe)<ir&&($e=Fe+fr*ir),console.log(" Generated fallback exit price for trade ".concat(me.id,": ").concat($e))}else console.log(" Using stored exit price for trade ".concat(me.id,": ").concat($e));return{id:me.id,symbol:me.symbol||"BTCUSDT",amount:parseFloat(me.amount),direction:me.direction,duration:me.duration||30,entryPrice:Fe,currentPrice:$e,payout:yt?parseFloat(me.amount)+parseFloat(me.profit_loss||"0"):0,status:yt?"won":"lost",endTime:me.updated_at||me.created_at,startTime:me.created_at,profit:parseFloat(me.profit_loss||"0")}}),K(ae),ue.label=4;case 4:return[3,7];case 5:return ge=ue.sent(),console.error(" Error refreshing trade history:",ge),[3,7];case 6:return Rr(!1),[7];case 7:return[2]}})})};j()}},className:"text-gray-400 hover:text-white flex items-center space-x-1",disabled:tn,children:[n.jsx("svg",{className:"w-4 h-4 ".concat(tn?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{className:"text-xs",children:"Refresh"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs text-gray-400",children:[n.jsx("span",{className:"truncate",children:"Market/Direction"}),n.jsx("span",{className:"truncate text-center",children:"Entry Price"}),n.jsx("span",{className:"truncate text-center",children:"Current Price"}),n.jsx("span",{className:"truncate text-center",children:"Amount"}),n.jsx("span",{className:"truncate text-center",children:"Profit/Loss %"}),n.jsx("span",{className:"truncate text-center",children:"P&L (USDT)"}),n.jsx("span",{className:"truncate text-center",children:"Date & Time"}),n.jsx("span",{className:"truncate text-center",children:"Status"})]})}),n.jsxs("div",{className:"py-2 max-h-[300px] overflow-y-auto",children:[M==="open"&&n.jsx(n.Fragment,{children:ze.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})]}):ze.map(function(j){var A=Math.max(0,Math.ceil((j.endTime-Date.now())/1e3)),te=_e-j.entryPrice,ae=j.direction==="up"&&te>0||j.direction==="down"&&te<0,ge=function(Fe){return Fe===30?10:Fe===60?15:Fe===90?20:Fe===120?25:Fe===180?30:Fe===240?50:Fe===300?75:Fe===600?100:10},ue=j.profitPercentage||ge(j.duration||30),me=ae?j.amount*(1+j.profitPercentage/100)-j.amount:-(j.amount*ue/100);return n.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs border-b border-gray-800 hover:bg-gray-800/30 max-w-full overflow-hidden px-4 trade-row",children:[n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs truncate",children:d.replace("USDT","/USDT")}),n.jsx("span",{className:"font-bold truncate ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:j.direction==="up"?"BUY":"SELL"})]}),n.jsx("span",{className:"text-gray-300 truncate text-center",children:j.entryPrice.toFixed(2)}),n.jsx("span",{className:"text-white truncate text-center",children:se.toFixed(2)}),n.jsx("span",{className:"text-gray-300 truncate text-center",children:j.amount}),n.jsxs("span",{className:"text-gray-300 truncate text-center",children:[j.profitPercentage,"%"]}),n.jsxs("span",{className:"font-bold truncate text-center ".concat(ae?"text-green-400":"text-red-400"),children:[me>0?"+":"",me.toFixed(2)]}),n.jsxs("span",{className:"text-yellow-400 font-bold truncate text-center notranslate",children:[A,"s"]}),n.jsx("span",{className:"font-bold truncate text-center ".concat(ae?"text-green-400":"text-red-400"),children:ae?"":""})]},j.id)})}),M==="history"&&n.jsx(n.Fragment,{children:tn?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-8 h-8 mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Loading trade history..."})]}):R.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No trade history"}),n.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Complete some trades to see your history here"})]}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"mb-6",children:R.map(function(j){var A,te=function($e){return $e===30?10:$e===60?15:$e===90?20:$e===120?25:$e===180?30:$e===240?50:$e===300?75:$e===600?100:10},ae=te(j.duration||30),ge=j.profit!==void 0?j.profit:j.status==="won"?j.amount*ae/100:-j.amount,ue=new Date(j.endTime).toLocaleTimeString(),me=j.symbol?j.symbol.replace("USDT","/USDT"):"BTC/USDT",Fe=new Date(j.endTime).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return n.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs border-b border-gray-800 hover:bg-gray-800/30 max-w-full overflow-hidden px-4 trade-row",children:[n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("span",{className:"text-gray-400 text-xs truncate",children:me}),n.jsx("span",{className:"font-bold truncate ".concat(j.direction==="up"?"text-green-400":"text-red-400"),children:j.direction==="up"?"BUY":"SELL"})]}),n.jsx("span",{className:"text-gray-300 text-center",children:j.entryPrice.toFixed(2)}),n.jsx("span",{className:"text-gray-300 text-center",children:((A=j.currentPrice)===null||A===void 0?void 0:A.toFixed(2))||"N/A"}),n.jsx("span",{className:"text-gray-300 text-center",children:j.amount}),n.jsxs("span",{className:"text-gray-300 text-center",children:[ae,"%"]}),n.jsxs("span",{className:"font-bold text-center ".concat(j.status==="won"?"text-green-400":"text-red-400"),children:[j.status==="won"?"+":"",ge.toFixed(2)]}),n.jsx("span",{className:"text-gray-400 text-xs text-center",children:new Date(j.endTime).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),n.jsx("span",{className:"font-bold text-center ".concat(j.status==="won"?"text-green-400":"text-red-400"),children:j.status==="won"?"WIN":"LOSE"})]},j.id)})})})})]})]}),n.jsx(Od,{}),!1,ne&&console.log(" RENDER: Desktop notification with completedTrade:",{id:ne.id,amount:ne.amount,duration:ne.duration,status:ne.status,entryPrice:ne.entryPrice,currentPrice:ne.currentPrice,profit:ne.profit,profitPercentage:ne.profitPercentage,fullObject:JSON.stringify(ne)}),n.jsx(Z1,{trade:ne?{id:ne.id,direction:ne.direction,amount:ne.amount,entryPrice:ne.entryPrice,finalPrice:ne.currentPrice||ne.entryPrice,status:ne.status,payout:ne.payout||(ne.status==="won"?ne.amount+ne.amount*(ne.profitPercentage||10)/100:0),profitPercentage:ne.profitPercentage||10,profit:ne.profit,symbol:ne.symbol||"BTC/USDT",duration:ne.duration||30}:null,onClose:function(){console.log(" NOTIFICATION: onClose called"),ce(null),localStorage.removeItem("completedTrade")}},Re),vt&&Or&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-5 z-[999999]",onClick:function(){Xe(!1),document.body.style.overflow="auto"},children:n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 max-w-sm w-full text-white relative",onClick:function(j){return j.stopPropagation()},children:[n.jsxs("div",{className:"flex justify-between items-center mb-5",children:[n.jsx("div",{className:"text-lg font-bold",children:Or.symbol}),n.jsx("button",{onClick:function(){Xe(!1),document.body.style.overflow="auto"},className:"bg-transparent border-0 text-white text-2xl cursor-pointer p-0 w-6 h-6",children:""})]}),n.jsxs("div",{className:"text-center mb-5",children:[n.jsxs("div",{className:"text-4xl font-bold mb-2 ".concat(Or.pnl>=0?"text-green-400":"text-red-400"),children:[Or.pnl>=0?"+":"",Or.pnl.toFixed(0)," USDT"]}),n.jsx("div",{className:"text-gray-400 text-base",children:"Settlement completed"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Current price :"}),n.jsx("span",{children:Or.currentPrice})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Time :"}),n.jsx("span",{children:Or.duration})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Side :"}),n.jsx("span",{className:Or.side==="Buy Up"?"text-green-400":"text-red-400",children:Or.side})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Amount :"}),n.jsxs("span",{children:[Or.amount," USDT"]})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Price :"}),n.jsxs("span",{children:[Or.price.toFixed(2)," USDT"]})]})]}),n.jsx("div",{className:"text-gray-400 text-sm leading-relaxed",children:"The ultimate price for each option contract is determined by the system's settlement process."})]})})]})}catch(j){return console.error("OptionsPage render error:",j),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-400 text-xl mb-4",children:" Trading Page Error"}),n.jsx("div",{className:"text-gray-300 mb-4",children:"Something went wrong. Please refresh the page."}),n.jsx("button",{onClick:function(){return window.location.reload()},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded",children:"Refresh Page"})]})})}}function sN(){return n.jsx(XU,{})}function XU(){var t=m.useState("BTCUSDT"),e=t[0],r=t[1];return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        .trade-row {
          padding-top: 0.75rem;
          padding-bottom: 0.75rem;
          padding-right: 10px;
        }
      `}),n.jsx(vb,{symbol:e,updateInterval:2e3,children:n.jsx(QU,{selectedSymbol:e,setSelectedSymbol:r})})]})}var pt=function(){return pt=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pt.apply(this,arguments)},Fl=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Ul=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},iN=function(t,e,r){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))};function YU(t){var e=this,r=t.selectedSymbol,s=t.setSelectedSymbol,i=en().user,a=Cn().toast,o=ys(),c=g0(),u=c.lastMessage;c.subscribe;var l=c.connected,d=c.sendMessage,h=Ui(),f=m.useState(""),p=f[0],v=f[1],g=m.useState("open"),N=g[0],b=g[1],x=m.useState("buy"),y=x[0],w=x[1],C=m.useState("tradingview"),k=C[0],S=C[1],E=m.useState([]),_=E[0];E[1];var P=m.useState([]),W=P[0],F=P[1],I=m.useRef(!1),D=hu().priceData,q=yb(),V=q.changeText,re=q.changeColor,L=q.isPositive,M=bb(),U=M.high,Q=M.low,oe=M.volume,Ne=hE(),H=Ne.getPriceForSymbol,he=Ne.isLoading,Ee=H(r),B=(Ee==null?void 0:Ee.price)||(D==null?void 0:D.price)||0,se=B.toFixed(2);console.log(" Price Debug:",{selectedSymbol:r,selectedSymbolPriceData:Ee,currentPrice:B,formattedPrice:se,priceData:D,isPriceLoading:he});var G=function(O){var xe=H(O);return xe?{price:xe.price.toFixed(O.includes("SHIB")?8:2),change:"".concat(xe.priceChangePercent24h>=0?"+":"").concat(xe.priceChangePercent24h.toFixed(2),"%"),isPositive:xe.priceChangePercent24h>=0}:{price:"0.00",change:"+0.00%",isPositive:!0}};m.useEffect(function(){return console.log(" SpotPage mounted"),console.log(" User:",i),console.log(" SpotPage - Price from context:",D==null?void 0:D.price),console.log(" SpotPage - Selected symbol:",r),console.log(" SpotPage - Selected symbol price data:",Ee),console.log(" SpotPage - Current price:",B),function(){console.log(" SpotPage unmounted")}},[i,D,r,Ee,B]),m.useEffect(function(){i&&!I.current&&(Z(),I.current=!0)},[i]);var Z=function(){return Fl(e,void 0,void 0,function(){var O,xe,_e;return Ul(this,function(st){if(!i)return[2];try{if(O=localStorage.getItem("orderHistory_".concat(i.id||"user-1")),O)return xe=JSON.parse(O),F(xe),console.log(" Loaded order history from localStorage:",xe.length,"orders"),[2];_e=[{id:"1",symbol:"BTC/USDT",type:"buy",orderType:"limit",amount:"0.001",price:"110,750.00",total:"110.75",status:"filled",time:new Date(Date.now()-36e5).toLocaleString(),fee:"0.11"},{id:"2",symbol:"ETH/USDT",type:"sell",orderType:"market",amount:"0.05",price:"3,577.42",total:"178.87",status:"filled",time:new Date(Date.now()-72e5).toLocaleString(),fee:"0.18"},{id:"3",symbol:"BTC/USDT",type:"buy",orderType:"limit",amount:"0.0005",price:"110,500.00",total:"55.25",status:"filled",time:new Date(Date.now()-108e5).toLocaleString(),fee:"0.06"},{id:"4",symbol:"SOL/USDT",type:"buy",orderType:"market",amount:"2.5",price:"245.67",total:"614.18",status:"filled",time:new Date(Date.now()-144e5).toLocaleString(),fee:"0.61"},{id:"5",symbol:"XRP/USDT",type:"sell",orderType:"limit",amount:"100",price:"3.18",total:"318.00",status:"filled",time:new Date(Date.now()-18e6).toLocaleString(),fee:"0.32"}],F(_e),localStorage.setItem("orderHistory_".concat(i.id||"user-1"),JSON.stringify(_e)),console.log(" Created initial order history:",_e.length,"orders")}catch(Wt){console.error(" Error loading order history:",Wt)}return[2]})})},$=function(O){if(i)try{localStorage.setItem("orderHistory_".concat(i.id||"user-1"),JSON.stringify(O)),console.log(" Saved order history to localStorage:",O.length,"orders")}catch(xe){console.error(" Error saving order history:",xe)}},de=[pt(pt({symbol:"BTC/USDT",coin:"BTC",rawSymbol:"BTCUSDT"},G("BTCUSDT")),{icon:"",iconBg:"bg-orange-500"}),pt(pt({symbol:"ETH/USDT",coin:"ETH",rawSymbol:"ETHUSDT"},G("ETHUSDT")),{icon:"",iconBg:"bg-purple-500"}),pt(pt({symbol:"XRP/USDT",coin:"XRP",rawSymbol:"XRPUSDT"},G("XRPUSDT")),{icon:"",iconBg:"bg-gray-600"}),pt(pt({symbol:"LTC/USDT",coin:"LTC",rawSymbol:"LTCUSDT"},G("LTCUSDT")),{icon:"",iconBg:"bg-gray-500"}),pt(pt({symbol:"BNB/USDT",coin:"BNB",rawSymbol:"BNBUSDT"},G("BNBUSDT")),{icon:"B",iconBg:"bg-yellow-600"}),pt(pt({symbol:"SOL/USDT",coin:"SOL",rawSymbol:"SOLUSDT"},G("SOLUSDT")),{icon:"S",iconBg:"bg-purple-600"}),pt(pt({symbol:"TON/USDT",coin:"TON",rawSymbol:"TONUSDT"},G("TONUSDT")),{icon:"T",iconBg:"bg-blue-600"}),pt(pt({symbol:"DOGE/USDT",coin:"DOGE",rawSymbol:"DOGEUSDT"},G("DOGEUSDT")),{icon:"D",iconBg:"bg-yellow-500"}),pt(pt({symbol:"ADA/USDT",coin:"ADA",rawSymbol:"ADAUSDT"},G("ADAUSDT")),{icon:"A",iconBg:"bg-blue-500"}),pt(pt({symbol:"TRX/USDT",coin:"TRX",rawSymbol:"TRXUSDT"},G("TRXUSDT")),{icon:"",iconBg:"bg-red-600"}),pt(pt({symbol:"LINK/USDT",coin:"LINK",rawSymbol:"LINKUSDT"},G("LINKUSDT")),{icon:"",iconBg:"bg-blue-700"}),pt(pt({symbol:"AVAX/USDT",coin:"AVAX",rawSymbol:"AVAXUSDT"},G("AVAXUSDT")),{icon:"A",iconBg:"bg-red-500"}),pt(pt({symbol:"DOT/USDT",coin:"DOT",rawSymbol:"DOTUSDT"},G("DOTUSDT")),{icon:"",iconBg:"bg-pink-500"}),pt(pt({symbol:"POL/USDT",coin:"POL",rawSymbol:"POLUSDT"},G("POLUSDT")),{icon:"P",iconBg:"bg-purple-700"}),pt(pt({symbol:"UNI/USDT",coin:"UNI",rawSymbol:"UNIUSDT"},G("UNIUSDT")),{icon:"",iconBg:"bg-pink-600"}),pt(pt({symbol:"ATOM/USDT",coin:"ATOM",rawSymbol:"ATOMUSDT"},G("ATOMUSDT")),{icon:"",iconBg:"bg-blue-600"}),pt(pt({symbol:"FIL/USDT",coin:"FIL",rawSymbol:"FILUSDT"},G("FILUSDT")),{icon:"F",iconBg:"bg-gray-600"}),pt(pt({symbol:"ETC/USDT",coin:"ETC",rawSymbol:"ETCUSDT"},G("ETCUSDT")),{icon:"E",iconBg:"bg-green-600"}),pt(pt({symbol:"XLM/USDT",coin:"XLM",rawSymbol:"XLMUSDT"},G("XLMUSDT")),{icon:"",iconBg:"bg-indigo-500"})],Oe=de.filter(function(O){return O.coin.toLowerCase().includes(p.toLowerCase())||O.symbol.toLowerCase().includes(p.toLowerCase())}),ve=de.find(function(O){return O.rawSymbol===r})||de[0],We=function(O){console.log(" Selected trading pair:",O),s(O),v("")},Ht=function(O){if(v(O),O.length>0){var xe=de.filter(function(_e){return _e.coin.toLowerCase()===O.toLowerCase()});xe.length===1&&(console.log(" Auto-selecting exact match:",xe[0].rawSymbol),s(xe[0].rawSymbol))}},ze=function(O){console.log(" SPOT: TradingView symbol changed to:",O),console.log(" SPOT: Current selected symbol:",r),console.log(" SPOT: Available trading pairs:",de.map(function(st){return st.rawSymbol}));var xe=O.replace("BINANCE:","").replace("COINBASE:",""),_e=de.find(function(st){return st.rawSymbol===xe});console.log(" SPOT: Clean symbol:",xe),console.log(" SPOT: Matching pair:",_e),_e?(console.log(" SPOT: Found matching pair:",_e),s(xe)):console.log(" SPOT: Symbol not found in trading pairs, keeping current:",r)},ke=m.useState(""),at=ke[0],R=ke[1],K=m.useState(""),ee=K[0],ne=K[1],ce=m.useState(0),pe=ce[0],Re=ce[1],Y=m.useState(""),fe=Y[0],be=Y[1],nt=m.useState(""),Ct=nt[0],_t=nt[1],Gr=m.useState(0),vt=Gr[0],Xe=Gr[1],$n=m.useState(""),Or=$n[0],Kt=$n[1],Fs=m.useState(""),tn=Fs[0],Rr=Fs[1],Ir=Mr({queryKey:["/api/balances"],enabled:!!i,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:function(){return Fl(e,void 0,void 0,function(){var O,xe,_e,st;return Ul(this,function(Wt){switch(Wt.label){case 0:return console.log(" SPOT: Fetching balance from /api/balances for user:",i==null?void 0:i.id,i==null?void 0:i.username),console.log(" SPOT: Auth token:",((st=localStorage.getItem("authToken"))===null||st===void 0?void 0:st.substring(0,30))+"..."),[4,fetch("/api/balances",{credentials:"include",headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return O=Wt.sent(),console.log(" SPOT: Response status:",O.status,O.statusText),O.ok?[3,3]:[4,O.text()];case 2:throw xe=Wt.sent(),console.error(" SPOT: Balance API failed:",O.status,xe),new Error("Failed to fetch balance: ".concat(O.status," ").concat(xe));case 3:return[4,O.json()];case 4:return _e=Wt.sent(),console.log(" SPOT: Balance API response:",_e),[2,_e]}})})}}).data;Mr({queryKey:["/api/spot/orders"],enabled:!!i,queryFn:function(){return Fl(e,void 0,void 0,function(){var O;return Ul(this,function(xe){switch(xe.label){case 0:return[4,fetch("/api/spot/orders")];case 1:if(O=xe.sent(),!O.ok)throw new Error("Failed to fetch orders");return[2,O.json()]}})})}}).data;var Cr=(i==null?void 0:i.balance)||0,zt=function(O){if(!Ir||!Array.isArray(Ir))return console.log(" SPOT: No balances data available"),0;var xe=O.replace("USDT",""),_e=Ir.find(function(st){return st.symbol===xe});return console.log(" SPOT: Getting crypto balance for",xe,":",{allBalances:Ir,cryptoData:_e,available:_e==null?void 0:_e.available,parsed:parseFloat((_e==null?void 0:_e.available)||"0")}),parseFloat((_e==null?void 0:_e.available)||"0")},Ze=r.replace("USDT",""),hr=zt(r);console.log(" SPOT: Selected crypto balance:",Ze,"=",hr);var er=hr*B;console.log(" SPOT PAGE BALANCE DEBUG:",{"user.id":i==null?void 0:i.id,"user.balance (USDT)":i==null?void 0:i.balance,usdtBalance:Cr,selectedSymbol:r,selectedCryptoSymbol:Ze,selectedCryptoBalance:hr,currentPrice:B,selectedCryptoValueInUSDT:er,balances:Ir}),m.useEffect(function(){l&&(i!=null&&i.id)&&(d({type:"subscribe_user_balance",userId:i.id}),console.log(" SPOT: Subscribed to balance updates for user:",i.id))},[l,d,i==null?void 0:i.id]),m.useEffect(function(){var O;(u==null?void 0:u.type)==="balance_update"&&(console.log(" SPOT: Real-time balance update received:",u.data),console.log(" SPOT: Current user ID:",i==null?void 0:i.id,"Update for user:",(O=u.data)===null||O===void 0?void 0:O.userId),o.invalidateQueries({queryKey:["/api/balances"]}),o.invalidateQueries({queryKey:["/api/auth"]}),o.removeQueries({queryKey:["/api/balances"]}),setTimeout(function(){o.refetchQueries({queryKey:["/api/balances"]})},100))},[u,o,i==null?void 0:i.id]);var di=Mr({queryKey:["/api/market-data"],refetchInterval:5e3,queryFn:function(){return Fl(e,void 0,void 0,function(){var O;return Ul(this,function(xe){switch(xe.label){case 0:return[4,fetch("/api/market-data")];case 1:if(O=xe.sent(),!O.ok)throw new Error("Failed to fetch market data");return[2,O.json()]}})})}}).data,Rt=di==null?void 0:di.find(function(O){return O.symbol===r});Rt&&parseFloat(Rt.price);var ws=gn({mutationFn:function(O){return Fl(e,void 0,void 0,function(){var xe,_e,st,Wt,Ur,Lt,Le,xr;return Ul(this,function(Jt){switch(Jt.label){case 0:if(!(i!=null&&i.id))throw new Error("User not authenticated");return xe=B,_e=parseFloat(O.amount),st=xe*_e,[4,fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({userId:i.id,symbol:r,side:"buy",amount:_e,price:xe,type:O.type||"market"})})];case 1:return Wt=Jt.sent(),Wt.ok?[3,3]:[4,Wt.json()];case 2:throw Ur=Jt.sent(),new Error(Ur.message||"Failed to place buy order");case 3:return[4,Wt.json()];case 4:return Lt=Jt.sent(),Le={id:((xr=Lt.order)===null||xr===void 0?void 0:xr.id)||Date.now().toString(),symbol:r,type:"buy",orderType:O.type,amount:_e.toFixed(6),price:xe.toFixed(2),total:st.toFixed(2),status:"filled",time:new Date().toLocaleString(),fee:(st*.001).toFixed(2)},[2,{order:Le,executionPrice:xe,amount:_e,total:st,apiResult:Lt}]}})})},onSuccess:function(O){var xe=O.order,_e=O.executionPrice,st=O.amount,Wt=O.total;O.apiResult,F(function(Ur){var Lt=iN([xe],Ur);return $(Lt),Lt}),o.invalidateQueries({queryKey:["/api/balances"]}),a({title:"Buy order completed!",description:"Bought ".concat(st.toFixed(6)," ").concat(Ze," at ").concat(_e.toFixed(2)," USDT. New balance: ").concat((Cr-Wt).toFixed(2)," USDT"),duration:5e3}),ne(""),Re(0),console.log(" Buy order completed:",xe)},onError:function(O){a({title:"Failed to place buy order",description:O.message,variant:"destructive"})}}),$t=gn({mutationFn:function(O){return Fl(e,void 0,void 0,function(){var xe,_e,st,Wt,Ur,Lt,Le,xr;return Ul(this,function(Jt){switch(Jt.label){case 0:if(!(i!=null&&i.id))throw new Error("User not authenticated");return xe=B,_e=parseFloat(O.amount),st=xe*_e,[4,fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({userId:i.id,symbol:r,side:"sell",amount:_e,price:xe,type:O.type||"market"})})];case 1:return Wt=Jt.sent(),Wt.ok?[3,3]:[4,Wt.json()];case 2:throw Ur=Jt.sent(),new Error(Ur.message||"Failed to place sell order");case 3:return[4,Wt.json()];case 4:return Lt=Jt.sent(),Le={id:((xr=Lt.order)===null||xr===void 0?void 0:xr.id)||Date.now().toString(),symbol:r,type:"sell",orderType:O.type,amount:_e.toFixed(6),price:xe.toFixed(2),total:st.toFixed(2),status:"filled",time:new Date().toLocaleString(),fee:(st*.001).toFixed(2)},[2,{order:Le,executionPrice:xe,amount:_e,total:st,apiResult:Lt}]}})})},onSuccess:function(O){var xe=O.order,_e=O.executionPrice,st=O.amount,Wt=O.total;O.apiResult,F(function(Ur){var Lt=iN([xe],Ur);return $(Lt),Lt}),o.invalidateQueries({queryKey:["/api/balances"]}),a({title:"Sell order completed!",description:"Sold ".concat(st.toFixed(6)," ").concat(Ze," at ").concat(_e.toFixed(2)," USDT. New balance: ").concat((Cr+Wt).toFixed(2)," USDT"),duration:5e3}),_t(""),Xe(0),console.log(" Sell order completed:",xe)},onError:function(O){a({title:"Failed to place sell order",description:O.message,variant:"destructive"})}});m.useEffect(function(){var O;(u==null?void 0:u.type)==="balance_update"&&((O=u.data)===null||O===void 0?void 0:O.userId)===(i==null?void 0:i.id)&&(console.log(" Real-time balance update received in Spot page:",u.data),o.invalidateQueries({queryKey:["/api/balances"]}),(u.data.changeType==="spot_buy"||u.data.changeType==="spot_sell")&&a({title:"Balance Updated",description:"".concat(u.data.changeType==="spot_buy"?"Buy":"Sell"," order completed. New balance: ").concat(u.data.newBalance," USDT")}))},[u,i==null?void 0:i.id,o,a]),m.useEffect(function(){l&&(i!=null&&i.id)&&console.log(" Subscribing to balance updates for user:",i.id)},[l,i==null?void 0:i.id]);var rn=function(){var O=parseFloat(at)||0,xe=parseFloat(ee)||0;return(O*xe).toFixed(2)},js=function(){var O=parseFloat(fe)||0,xe=parseFloat(Ct)||0;return(O*xe).toFixed(2)};m.useEffect(function(){at&&ee?Kt(rn()):ee||Kt("")},[at,ee]),m.useEffect(function(){fe&&Ct?Rr(js()):Ct||Rr("")},[fe,Ct]);var Lr=function(O){Re(O);var xe=parseFloat(at)||B,_e=Cr/xe,st=(_e*O/100).toFixed(8);ne(st)},Wn=function(O){Xe(O);var xe=(hr*O/100).toFixed(8);_t(xe)},cn=function(){console.log(" Buy button clicked!"),console.log("User:",i),console.log("USDT Balance:",Cr),console.log("Buy Amount:",ee),console.log("Buy Price:",at);var O=parseFloat(ee);if(!O||O<=0){a({title:"Please enter a valid amount",variant:"destructive"});return}var xe=B*O;if(console.log("Calculated total:",xe),xe>Cr){a({title:"Insufficient USDT balance. Need ".concat(xe.toFixed(2)," but have ").concat(Cr.toFixed(2)),variant:"destructive"});return}console.log(" All validations passed, placing order..."),ws.mutate({type:"market",amount:O.toString(),price:void 0,total:xe.toString()})},It=function(){console.log(" Sell button clicked!"),console.log("User:",i),console.log("".concat(Ze," Balance:"),hr),console.log("Sell Amount:",Ct),console.log("Sell Price:",fe);var O=parseFloat(Ct);if(!O||O<=0){a({title:"Please enter a valid amount",variant:"destructive"});return}if(O>hr){a({title:"Insufficient ".concat(Ze," balance. Need ").concat(O.toFixed(8)," but have ").concat(hr.toFixed(8)),variant:"destructive"});return}var xe=B*O;console.log("Calculated total:",xe),console.log(" All validations passed, placing sell order..."),$t.mutate({type:"market",amount:O.toString(),price:void 0,total:xe.toString()})};m.useEffect(function(){console.log(" Price Update Effect:",{selectedSymbol:r,currentPrice:B,formattedPrice:se,isPriceLoading:he,buyPrice:at,sellPrice:fe,selectedSymbolPriceData:Ee}),!he&&B>0&&se!=="0.00"&&(console.log(" Updating prices to:",se),R(se),be(se))},[r,B,se,he,Ee]);var Fr=function(O){var xe,_e=O;if(!_e||isNaN(_e)||_e<=0){var st=(xe=H(r))===null||xe===void 0?void 0:xe.price;_e=st||(D==null?void 0:D.price)||166373.87}console.log(" Order Book - Base price:",O,"Safe price:",_e,"Symbol:",r);for(var Wt=[],Ur=[],Lt=0;Lt<14;Lt++){var Le=(Lt+1)*(Math.random()*.5+.1),xr=_e+Le,Jt=(Math.random()*2+.1).toFixed(4),j=(xr*parseFloat(Jt)).toFixed(2);Wt.push({price:xr.toFixed(2),volume:Jt,turnover:j})}for(var Lt=0;Lt<14;Lt++){var Le=(Lt+1)*(Math.random()*.5+.1),xr=_e-Le,A=(Math.random()*2+.1).toFixed(4),j=(xr*parseFloat(A)).toFixed(2);Ur.push({price:xr.toFixed(2),volume:A,turnover:j})}return{sellOrders:Wt,buyOrders:Ur}};return h?n.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[n.jsx(eb,{}),n.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg notranslate",children:ve.symbol}),n.jsxs("div",{className:"text-white text-xl font-bold notranslate",children:[ve.price," USDT"]}),n.jsx("div",{className:"text-sm font-semibold notranslate",style:{color:ve.isPositive?"#10b981":"#ef4444"},children:ve.change})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),n.jsx("div",{className:"text-white text-sm font-bold notranslate",children:Rt!=null&&Rt.volume24h?(parseFloat(Rt.volume24h)/1e6).toFixed(1)+"M BTC":"1.2M BTC"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-3 text-xs notranslate",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white font-medium",children:(Rt==null?void 0:Rt.high24h)||"119,558"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white font-medium",children:(Rt==null?void 0:Rt.low24h)||"117,205"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Volume"}),n.jsx("div",{className:"text-white font-medium",children:Rt!=null&&Rt.volume24h?(parseFloat(Rt.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Turnover"}),n.jsx("div",{className:"text-white font-medium",children:Rt!=null&&Rt.volume24h?(parseFloat(Rt.volume24h)*parseFloat(Rt.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"450px"},children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsx("select",{value:r,onChange:function(O){var xe=O.target.value;s(xe),ze(xe)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:de.map(function(O){return n.jsxs("option",{value:O.rawSymbol,className:"bg-gray-800 text-white",children:[O.coin,"/USDT"]},O.rawSymbol)})})}),n.jsx("div",{className:"w-full h-full",children:n.jsx(Sm,{children:n.jsx(wm,{type:"chart",symbol:"BINANCE:".concat(r),height:450,interval:"1",theme:"dark",container_id:"spot_mobile_tradingview_chart",onSymbolChange:ze})})})]}),n.jsxs("div",{className:"bg-[#10121E] min-h-screen",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-2",children:"Market Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Current Price"}),n.jsxs("div",{className:"text-white font-bold text-lg",children:[se," USDT"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Change"}),n.jsx("div",{className:"font-semibold",style:{color:re},children:V})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Volume"}),n.jsx("div",{className:"text-white font-semibold",children:"2,847.32 BTC"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Market Cap"}),n.jsx("div",{className:"text-white font-semibold",children:"1.2T USDT"})]})]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Order Book"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-red-400 text-sm font-medium mb-2",children:"Sell Orders"}),n.jsx("div",{className:"space-y-1",children:Fr(B).sellOrders.slice(0,5).map(function(O,xe){return n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-red-400",children:O.price}),n.jsx("span",{className:"text-gray-400",children:O.amount})]},xe)})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-green-400 text-sm font-medium mb-2",children:"Buy Orders"}),n.jsx("div",{className:"space-y-1",children:Fr(B).buyOrders.slice(0,5).map(function(O,xe){return n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-green-400",children:O.price}),n.jsx("span",{className:"text-gray-400",children:O.amount})]},xe)})})]})]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Market Overview"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{symbol:"BTC/USDT",price:se,change:V},{symbol:"ETH/USDT",price:"3,456.78",change:"+1.23%"},{symbol:"BNB/USDT",price:"712.45",change:"-0.45%"},{symbol:"ADA/USDT",price:"0.8272",change:"+0.60%"}].map(function(O,xe){return n.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[n.jsx("div",{className:"text-white text-sm font-medium",children:O.symbol}),n.jsxs("div",{className:"text-white text-lg font-bold",children:[O.price," USDT"]}),n.jsx("div",{className:"text-xs font-medium ".concat(O.change.startsWith("-")?"text-red-400":"text-green-400"),children:O.change})]},xe)})})]}),n.jsxs("div",{className:"px-4 py-4 space-y-4",children:[n.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[n.jsx("button",{onClick:function(){return w("buy")},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(y==="buy"?"bg-green-600 text-white":"text-gray-400 hover:text-white"),children:"Buy"}),n.jsx("button",{onClick:function(){return w("sell")},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(y==="sell"?"bg-red-600 text-white":"text-gray-400 hover:text-white"),children:"Sell"})]}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"text-sm font-medium text-blue-400 pb-2 border-b-2 border-blue-400 inline-block",children:"Market Order"})}),y==="buy"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Amount (",Ze,")"]}),n.jsx("input",{type:"number",value:ee,onChange:function(O){return ne(O.target.value)},placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-green-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),n.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:rn()})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded border border-blue-500/30",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"font-medium text-blue-400",children:" Available Balance"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-white font-bold",children:[Cr.toFixed(2)," USDT"]}),n.jsx("span",{className:"text-gray-400",children:""})]}),n.jsxs("div",{className:"text-green-400 font-medium",children:["Can buy  ",B>0?(Cr/B).toFixed(8):"0.00000000"," ",Ze]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-1 border-t border-gray-700",children:[" 1 ",Ze," = ",B>0?B.toFixed(2):"0.00"," USDT"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),n.jsx(X,{onClick:cn,disabled:!ee||ee==="0"||!i,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:i?"Buy ".concat(Ze):"Login to Trade"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:["Amount (",Ze,")"]}),n.jsx("input",{type:"number",value:Ct,onChange:function(O){return _t(O.target.value)},placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),n.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:js()})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded border border-red-500/30",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"font-medium text-red-400",children:" Available Balance"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-white font-bold",children:[hr.toFixed(8)," ",Ze]}),n.jsx("span",{className:"text-gray-400",children:""})]}),n.jsxs("div",{className:"text-red-400 font-medium",children:["Worth  ",er.toFixed(2)," USDT"]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-1 border-t border-gray-700",children:[" 1 ",Ze," = ",B.toFixed(2)," USDT"]}),hr===0&&n.jsxs("div",{className:"text-yellow-400 text-xs pt-1 border-t border-yellow-500/30 bg-yellow-500/10 p-2 rounded",children:[" You need to BUY ",Ze," first before you can SELL"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),n.jsx(X,{onClick:It,disabled:!Ct||Ct==="0"||!i||hr===0,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:i?hr===0?"No ".concat(Ze," to Sell"):"Sell ".concat(Ze):"Login to Trade"})]})]}),n.jsxs("div",{className:"px-4 py-4",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Recent Orders"}),n.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[W.slice(0,5).map(function(O){return n.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium ".concat(O.type==="buy"?"text-green-400":"text-red-400"),children:[O.type.toUpperCase()," ",O.symbol]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[O.amount," @ ",O.price," USDT"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium ".concat(O.status==="filled"?"text-green-400":O.status==="cancelled"?"text-red-400":"text-yellow-400"),children:O.status}),n.jsxs("div",{className:"text-xs text-gray-400",children:["$",O.total]})]})]}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.time})]},O.id)}),W.length===0&&n.jsx("div",{className:"text-center text-gray-400 py-4",children:"No recent orders"})]})]})]}),n.jsx(Od,{}),n.jsx(mm,{})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx(tb,{}),n.jsx("div",{className:"bg-[#10121E] flex min-h-screen",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-6 notranslate",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:ve.symbol}),n.jsxs("div",{className:"text-white text-2xl font-bold",children:[ve.price," USDT"]}),n.jsxs("div",{className:"text-gray-400 text-sm",children:[ve.price," USDT"]})]}),n.jsx("div",{className:"text-lg font-semibold",style:{color:ve.isPositive?"#10b981":"#ef4444"},children:ve.change}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Change 24h"}),n.jsx("div",{className:"text-white",style:{color:ve.isPositive?"#10b981":"#ef4444"},children:ve.change})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white",children:r==="BTCUSDT"?U?U.toFixed(2):"119558.19":(parseFloat(ve.price)*1.02).toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white",children:r==="BTCUSDT"?Q?Q.toFixed(2):"117204.65":(parseFloat(ve.price)*.98).toFixed(2)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-gray-400",children:["Volume 24h (",ve.coin,")"]}),n.jsx("div",{className:"text-white",children:r==="BTCUSDT"?oe?oe.toFixed(2):"681.35":(Math.random()*1e3+500).toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),n.jsx("div",{className:"text-white",children:r==="BTCUSDT"?"80520202.92":(parseFloat(ve.price)*(Math.random()*1e6+5e5)).toFixed(2)})]})]})]})})}),n.jsxs("div",{className:"flex min-h-[900px]",children:[n.jsxs("div",{className:"w-56 bg-[#10121E] border-r border-gray-700 min-h-[900px] notranslate",children:[n.jsxs("div",{className:"p-3 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:r.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold",style:{color:re},children:[se," USDT"]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Change 24h"}),n.jsx("div",{className:"text-sm",style:{color:re},children:V})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-yellow-600 rounded-sm"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-white text-sm",children:"0.01"}),n.jsx("span",{className:"text-gray-400",children:""})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-1 p-2 text-[10px] text-gray-400 border-b border-gray-700",children:[n.jsx("span",{className:"truncate",children:"Price"}),n.jsx("span",{className:"truncate text-center",children:"Volume"}),n.jsx("span",{className:"truncate text-right",children:"Total"})]}),n.jsxs("div",{className:"flex-1 min-h-[650px] overflow-y-auto",children:[n.jsx("div",{className:"space-y-0",children:Fr(B).sellOrders.map(function(O,xe){return n.jsxs("div",{className:"grid grid-cols-3 gap-1 px-1.5 py-0.5 text-xs hover:bg-[#3a3d57]",children:[n.jsx("span",{className:"text-red-400 truncate font-mono",children:O.price}),n.jsx("span",{className:"text-gray-300 truncate text-center font-mono",children:O.volume}),n.jsx("span",{className:"text-gray-300 truncate text-right font-mono",children:O.turnover})]},xe)})}),n.jsx("div",{className:"bg-[#10121E] p-2 my-1",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-lg",style:{color:re},children:se}),n.jsx("span",{style:{color:re},children:L?"":""}),n.jsxs("span",{className:"text-gray-400 text-sm",children:[se," USDT"]})]})}),n.jsx("div",{className:"space-y-0",children:Fr(B).buyOrders.map(function(O,xe){return n.jsxs("div",{className:"grid grid-cols-3 gap-1 px-1.5 py-0.5 text-xs hover:bg-[#3a3d57]",children:[n.jsx("span",{className:"text-green-400 truncate font-mono",children:O.price}),n.jsx("span",{className:"text-gray-300 truncate text-center font-mono",children:O.volume}),n.jsx("span",{className:"text-gray-300 truncate text-right font-mono",children:O.turnover})]},xe)})})]})]}),n.jsxs("div",{className:"flex-1 bg-[#10121E] flex flex-col",children:[n.jsx("div",{className:"p-2 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("div",{className:"text-xs text-gray-400",children:["Chart Sync: ",n.jsx("span",{className:"text-green-400",children:"Active"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[!1,n.jsx("button",{onClick:function(){return S("tradingview")},className:"text-xs transition-colors ".concat(k==="tradingview"?"text-white bg-blue-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"),children:"Trading view"}),n.jsx("button",{onClick:function(){return S("depth")},className:"text-xs transition-colors ".concat(k==="depth"?"text-white bg-blue-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"),children:"Depth"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})}),n.jsxs("div",{className:"h-[500px] relative bg-[#10121E] p-1",children:[!1,k==="tradingview"&&n.jsxs("div",{className:"relative h-full",children:[n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsx("select",{value:r,onChange:function(O){var xe=O.target.value;s(xe),ze(xe)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:de.map(function(O){return n.jsxs("option",{value:O.rawSymbol,className:"bg-gray-800 text-white",children:[O.coin,"/USDT"]},O.rawSymbol)})})}),n.jsx(Sm,{children:n.jsx(wm,{type:"chart",symbol:"BINANCE:".concat(r),height:490,interval:"1",theme:"dark",container_id:"spot_tradingview_chart",onSymbolChange:ze})})]}),k==="depth"&&n.jsxs("div",{className:"w-full h-full p-4",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Market Depth Chart"}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["Real-time order book visualization for ",r]})]}),n.jsx("div",{className:"w-full h-[400px] bg-gray-800 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400 text-lg mb-2",children:""}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Market Depth Chart"}),n.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Coming Soon"})]})})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-4 min-h-[450px] flex-shrink-0",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"text-sm font-medium text-blue-400 pb-2 border-b-2 border-blue-400 inline-block",children:"Market Order"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:ee,onChange:function(O){console.log("Buy amount changed:",O.target.value),ne(O.target.value),Re(0)},placeholder:"0.00000000",step:"0.000001"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:Ze})]})]}),n.jsxs("div",{className:"relative py-4",children:[n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"w-2 h-2 rounded-full z-10 ".concat(pe>0?"bg-green-400":"bg-gray-400"),style:{left:"".concat(pe,"%")}}),n.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),n.jsx("div",{className:"absolute h-0.5 bg-green-400 top-1/2 transform -translate-y-1/2",style:{width:"".concat(pe,"%")}})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[n.jsx("button",{onClick:function(){return Lr(0)},className:"hover:text-white transition-colors ".concat(pe===0?"text-green-400":""),children:"0"}),n.jsx("button",{onClick:function(){return Lr(25)},className:"hover:text-white transition-colors ".concat(pe===25?"text-green-400":""),children:"25%"}),n.jsx("button",{onClick:function(){return Lr(50)},className:"hover:text-white transition-colors ".concat(pe===50?"text-green-400":""),children:"50%"}),n.jsx("button",{onClick:function(){return Lr(75)},className:"hover:text-white transition-colors ".concat(pe===75?"text-green-400":""),children:"75%"}),n.jsx("button",{onClick:function(){return Lr(100)},className:"hover:text-white transition-colors ".concat(pe===100?"text-green-400":""),children:"100%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:Or,onChange:function(O){console.log("Buy turnover changed:",O.target.value),Kt(O.target.value);var xe=parseFloat(O.target.value)||0,_e=parseFloat(at)||B;if(_e>0){var st=(xe/_e).toFixed(6);console.log("Calculated buy amount:",st),ne(st)}},placeholder:"0.00"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded border border-blue-500/30 notranslate",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"font-medium text-blue-400",children:" Available Balance"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-white font-bold",children:[Cr.toFixed(2)," USDT"]}),n.jsx("span",{className:"text-gray-400",children:""})]}),n.jsxs("div",{className:"text-green-400 font-medium",children:["Can buy  ",B>0?(Cr/B).toFixed(8):"0.00000000"," ",Ze]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-1 border-t border-gray-700",children:[" 1 ",Ze," = ",B>0?B.toFixed(2):"0.00"," USDT"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),i?n.jsx("button",{onClick:cn,disabled:ws.isPending,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:ws.isPending?"Placing...":"Buy(".concat(Ze,")")}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:["Buy(",Ze,")"]}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:Ct,onChange:function(O){console.log("Sell amount changed:",O.target.value),_t(O.target.value),Xe(0)},placeholder:"0.00000000",step:"0.000001"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:Ze})]})]}),n.jsxs("div",{className:"relative py-4",children:[n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"w-2 h-2 rounded-full z-10 ".concat(vt>0?"bg-red-400":"bg-gray-400"),style:{left:"".concat(vt,"%")}}),n.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),n.jsx("div",{className:"absolute h-0.5 bg-red-400 top-1/2 transform -translate-y-1/2",style:{width:"".concat(vt,"%")}})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[n.jsx("button",{onClick:function(){return Wn(0)},className:"hover:text-white transition-colors ".concat(vt===0?"text-red-400":""),children:"0"}),n.jsx("button",{onClick:function(){return Wn(25)},className:"hover:text-white transition-colors ".concat(vt===25?"text-red-400":""),children:"25%"}),n.jsx("button",{onClick:function(){return Wn(50)},className:"hover:text-white transition-colors ".concat(vt===50?"text-red-400":""),children:"50%"}),n.jsx("button",{onClick:function(){return Wn(75)},className:"hover:text-white transition-colors ".concat(vt===75?"text-red-400":""),children:"75%"}),n.jsx("button",{onClick:function(){return Wn(100)},className:"hover:text-white transition-colors ".concat(vt===100?"text-red-400":""),children:"100%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:tn,onChange:function(O){console.log("Sell turnover changed:",O.target.value),Rr(O.target.value);var xe=parseFloat(O.target.value)||0,_e=parseFloat(fe)||B;if(_e>0){var st=(xe/_e).toFixed(6);console.log("Calculated sell amount:",st),_t(st)}},placeholder:"0.00"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded border border-red-500/30 notranslate",children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"font-medium text-red-400",children:" Available Balance"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-white font-bold",children:[hr.toFixed(8)," ",Ze]}),n.jsx("span",{className:"text-gray-400",children:""})]}),n.jsxs("div",{className:"text-red-400 font-medium",children:["Worth  ",er.toFixed(2)," USDT"]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-1 border-t border-gray-700",children:[" 1 ",Ze," = ",B.toFixed(2)," USDT"]}),hr===0&&n.jsxs("div",{className:"text-yellow-400 text-xs pt-1 border-t border-yellow-500/30 bg-yellow-500/10 p-2 rounded",children:[" You need to BUY ",Ze," first before you can SELL"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),i?n.jsx("button",{onClick:It,disabled:$t.isPending||hr===0,className:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:$t.isPending?"Placing...":hr===0?"No ".concat(Ze," to Sell"):"Sell (".concat(Ze,")")}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:["Sell (",Ze,")"]}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]})]})]})]}),n.jsxs("div",{className:"w-72 bg-[#10121E] border-l border-gray-700 min-h-[900px] flex flex-col",children:[n.jsx("div",{className:"p-4 flex-shrink-0",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search coins (e.g. ETH, BTC, SOL)",value:p,onChange:function(O){return Ht(O.target.value)},className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),n.jsx("div",{className:"px-4 mb-4 flex-shrink-0",children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),n.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Spot"}),n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Options"})]})}),n.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto flex-shrink-0",children:Oe.length>0?Oe.map(function(O,xe){return n.jsxs("div",{onClick:function(){return We(O.rawSymbol)},className:"flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ".concat(r===O.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""),children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ".concat(O.iconBg),children:O.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:O.symbol}),n.jsx("div",{className:"text-gray-400 text-xs",children:O.coin})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-white text-sm",children:O.price}),n.jsx("div",{className:"text-xs ".concat(O.isPositive?"text-green-400":"text-red-400"),children:O.change})]})]},xe)}):n.jsxs("div",{className:"text-center text-gray-400 py-4",children:[n.jsx("div",{className:"text-sm",children:"No coins found"}),n.jsx("div",{className:"text-xs mt-1",children:"Try searching for BTC, ETH, SOL, etc."})]})}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-t border-gray-700",children:[n.jsx("div",{className:"px-4 py-3 flex-shrink-0",children:n.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Amount"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:n.jsx("div",{className:"space-y-1 py-2",children:[{time:new Date().toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.0080",type:"buy"},{time:new Date(Date.now()-1e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.0001700",type:"buy"},{time:new Date(Date.now()-2e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.1000",type:"sell"},{time:new Date(Date.now()-3e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.0004200",type:"buy"},{time:new Date(Date.now()-5e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.0047",type:"sell"},{time:new Date(Date.now()-6e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:se,amount:"0.0016",type:"buy"},{time:new Date(Date.now()-7e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:B.toFixed(2),amount:"0.00070000",type:"sell"},{time:new Date(Date.now()-8e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:B.toFixed(2),amount:"0.0243",type:"buy"},{time:new Date(Date.now()-9e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.01).toFixed(2),amount:"0.0089",type:"buy"},{time:new Date(Date.now()-1e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.01).toFixed(2),amount:"0.0156",type:"sell"},{time:new Date(Date.now()-11e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.02).toFixed(2),amount:"0.0034",type:"buy"},{time:new Date(Date.now()-12e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.02).toFixed(2),amount:"0.0078",type:"sell"},{time:new Date(Date.now()-13e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.03).toFixed(2),amount:"0.0092",type:"buy"},{time:new Date(Date.now()-14e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.03).toFixed(2),amount:"0.0067",type:"sell"},{time:new Date(Date.now()-15e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.04).toFixed(2),amount:"0.0123",type:"buy"},{time:new Date(Date.now()-16e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.04).toFixed(2),amount:"0.0045",type:"sell"},{time:new Date(Date.now()-17e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.05).toFixed(2),amount:"0.0234",type:"buy"},{time:new Date(Date.now()-18e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.05).toFixed(2),amount:"0.0087",type:"sell"},{time:new Date(Date.now()-19e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.06).toFixed(2),amount:"0.0156",type:"buy"},{time:new Date(Date.now()-2e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(B-.06).toFixed(2),amount:"0.0098",type:"sell"}].map(function(O,xe){return n.jsxs("div",{className:"flex justify-between text-xs py-1 hover:bg-gray-800/50 rounded px-2 -mx-2",children:[n.jsx("span",{className:"text-gray-400 font-mono",children:O.time}),n.jsx("span",{className:"font-mono ".concat(O.type==="buy"?"text-green-400":"text-red-400"),children:O.price}),n.jsx("span",{className:"text-gray-300 font-mono",children:O.amount})]},xe)})})})]})]})]})]})}),n.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[300px]",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[n.jsx("div",{className:"flex items-center space-x-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:function(){return b("open")},className:"pb-1 text-sm font-medium ".concat(N==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Open orders(",_.length,")"]}),n.jsxs("button",{onClick:function(){return b("history")},className:"pb-1 text-sm font-medium ".concat(N==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"),children:["Order history(",W.length,")"]})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[n.jsx("input",{type:"checkbox",className:"rounded"}),n.jsx("span",{children:"Hide other trading pairs"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-3 text-gray-400 text-xs font-medium border-b border-gray-700",children:[n.jsx("div",{className:"truncate",children:"Trading pair"}),n.jsx("div",{className:"truncate text-center",children:"Type"}),n.jsx("div",{className:"truncate text-center",children:"Price"}),n.jsx("div",{className:"truncate text-center",children:"Amount"}),n.jsx("div",{className:"truncate text-center",children:"Total"}),n.jsx("div",{className:"truncate text-center",children:"Status"}),n.jsx("div",{className:"truncate text-center",children:"Time"})]}),n.jsx("div",{className:"min-h-[200px]",children:N==="open"?_.length>0?n.jsx("div",{className:"space-y-0.5",children:_.map(function(O){return n.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-2 text-xs hover:bg-gray-800/50 max-w-full overflow-hidden",children:[n.jsx("div",{className:"text-white truncate",children:O.symbol}),n.jsxs("div",{className:"".concat(O.type==="buy"?"text-green-400":"text-red-400"," truncate text-center"),children:[O.type.toUpperCase()," / ",O.orderType.toUpperCase()]}),n.jsx("div",{className:"text-white truncate text-center",children:O.price}),n.jsx("div",{className:"text-white truncate text-center",children:O.amount}),n.jsx("div",{className:"text-white truncate text-center",children:O.total}),n.jsx("div",{className:"text-yellow-400 truncate text-center",children:"Pending"}),n.jsx("div",{className:"text-gray-400 truncate text-center",children:O.time})]},O.id)})}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-500",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No open orders"})]}):W.length>0?n.jsx("div",{className:"space-y-0.5",children:W.map(function(O){return n.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-2 text-xs hover:bg-gray-800/50 max-w-full overflow-hidden",children:[n.jsx("div",{className:"text-white truncate",children:O.symbol}),n.jsxs("div",{className:"".concat(O.type==="buy"?"text-green-400":"text-red-400"," truncate text-center"),children:[O.type.toUpperCase()," / ",O.orderType.toUpperCase()]}),n.jsxs("div",{className:"text-white truncate text-center",children:[O.price," USDT"]}),n.jsx("div",{className:"text-white truncate text-center",children:O.amount}),n.jsxs("div",{className:"text-white truncate text-center",children:[O.total," USDT"]}),n.jsx("div",{className:"text-green-400 truncate text-center",children:"Filled"}),n.jsx("div",{className:"text-gray-400 truncate text-center",children:O.time})]},O.id)})}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-500",children:[n.jsx("path",{fill:"currentColor",d:"M32 8C18.7 8 8 18.7 8 32s10.7 24 24 24 24-10.7 24-24S45.3 8 32 8zm0 44c-11 0-20-9-20-20s9-20 20-20 20 9 20 20-9 20-20 20z"}),n.jsx("path",{fill:"currentColor",d:"M32 16c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm0 28c-6.6 0-12-5.4-12-12s5.4-12 12-12 12 5.4 12 12-5.4 12-12 12z"}),n.jsx("circle",{fill:"currentColor",cx:"32",cy:"32",r:"4"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No order history"})]})})]})]})}function JU(){var t=m.useState("BTCUSDT"),e=t[0],r=t[1];return n.jsx(vb,{symbol:e,updateInterval:2e3,children:n.jsx(YU,{selectedSymbol:e,setSelectedSymbol:r})})}function aN(t,[e,r]){return Math.min(r,Math.max(e,t))}function ZU(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var e7=[" ","Enter","ArrowUp","ArrowDown"],t7=[" ","Enter"],vl="Select",[M0,A0,r7]=i0(vl),[fu]=Rs(vl,[r7,uu]),O0=uu(),[n7,wo]=fu(vl),[s7,i7]=fu(vl),fE=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:u,dir:l,name:d,autoComplete:h,disabled:f,required:p,form:v}=t,g=O0(e),[N,b]=m.useState(null),[x,y]=m.useState(null),[w,C]=m.useState(!1),k=x0(l),[S,E]=co({prop:s,defaultProp:i??!1,onChange:a,caller:vl}),[_,P]=co({prop:o,defaultProp:c,onChange:u,caller:vl}),W=m.useRef(null),F=N?v||!!N.closest("form"):!0,[I,D]=m.useState(new Set),q=Array.from(I).map(V=>V.props.value).join(";");return n.jsx(mT,{...g,children:n.jsxs(n7,{required:p,scope:e,trigger:N,onTriggerChange:b,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:si(),value:_,onValueChange:P,open:S,onOpenChange:E,dir:k,triggerPointerDownPosRef:W,disabled:f,children:[n.jsx(M0.Provider,{scope:e,children:n.jsx(s7,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{D(re=>new Set(re).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{D(re=>{const L=new Set(re);return L.delete(V),L})},[]),children:r})}),F?n.jsxs(LE,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:_,onChange:V=>P(V.target.value),disabled:f,form:v,children:[_===void 0?n.jsx("option",{value:""}):null,Array.from(I)]},q):null]})})};fE.displayName=vl;var mE="SelectTrigger",pE=m.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...i}=t,a=O0(r),o=wo(mE,r),c=o.disabled||s,u=Bt(e,o.onTriggerChange),l=A0(r),d=m.useRef("touch"),[h,f,p]=UE(g=>{const N=l().filter(y=>!y.disabled),b=N.find(y=>y.value===o.value),x=BE(N,g,b);x!==void 0&&o.onValueChange(x.value)}),v=g=>{c||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(Uy,{asChild:!0,...a,children:n.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":FE(o.value)?"":void 0,...i,ref:u,onClick:Me(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Me(i.onPointerDown,g=>{d.current=g.pointerType;const N=g.target;N.hasPointerCapture(g.pointerId)&&N.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Me(i.onKeyDown,g=>{const N=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(N&&g.key===" ")&&e7.includes(g.key)&&(v(),g.preventDefault())})})})});pE.displayName=mE;var gE="SelectValue",xE=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:i,children:a,placeholder:o="",...c}=t,u=wo(gE,r),{onValueNodeHasChildrenChange:l}=u,d=a!==void 0,h=Bt(e,u.onValueNodeChange);return ln(()=>{l(d)},[l,d]),n.jsx(rt.span,{...c,ref:h,style:{pointerEvents:"none"},children:FE(u.value)?n.jsx(n.Fragment,{children:o}):a})});xE.displayName=gE;var a7="SelectIcon",vE=m.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...i}=t;return n.jsx(rt.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});vE.displayName=a7;var o7="SelectPortal",yE=t=>n.jsx(th,{asChild:!0,...t});yE.displayName=o7;var yl="SelectContent",bE=m.forwardRef((t,e)=>{const r=wo(yl,t.__scopeSelect),[s,i]=m.useState();if(ln(()=>{i(new DocumentFragment)},[]),!r.open){const a=s;return a?Sl.createPortal(n.jsx(wE,{scope:t.__scopeSelect,children:n.jsx(M0.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),a):null}return n.jsx(jE,{...t,ref:e})});bE.displayName=yl;var Ws=10,[wE,jo]=fu(yl),l7="SelectContentImpl",c7=cl("SelectContent.RemoveScroll"),jE=m.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:N,...b}=t,x=wo(yl,r),[y,w]=m.useState(null),[C,k]=m.useState(null),S=Bt(e,B=>w(B)),[E,_]=m.useState(null),[P,W]=m.useState(null),F=A0(r),[I,D]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(y)return Vy(y)},[y]),Wy();const V=m.useCallback(B=>{const[se,...G]=F().map(de=>de.ref.current),[Z]=G.slice(-1),$=document.activeElement;for(const de of B)if(de===$||(de==null||de.scrollIntoView({block:"nearest"}),de===se&&C&&(C.scrollTop=0),de===Z&&C&&(C.scrollTop=C.scrollHeight),de==null||de.focus(),document.activeElement!==$))return},[F,C]),re=m.useCallback(()=>V([E,y]),[V,E,y]);m.useEffect(()=>{I&&re()},[I,re]);const{onOpenChange:L,triggerPointerDownPosRef:M}=x;m.useEffect(()=>{if(y){let B={x:0,y:0};const se=Z=>{var $,de;B={x:Math.abs(Math.round(Z.pageX)-((($=M.current)==null?void 0:$.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((de=M.current)==null?void 0:de.y)??0))}},G=Z=>{B.x<=10&&B.y<=10?Z.preventDefault():y.contains(Z.target)||L(!1),document.removeEventListener("pointermove",se),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",G,{capture:!0})}}},[y,L,M]),m.useEffect(()=>{const B=()=>L(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[L]);const[U,Q]=UE(B=>{const se=F().filter($=>!$.disabled),G=se.find($=>$.ref.current===document.activeElement),Z=BE(se,B,G);Z&&setTimeout(()=>Z.ref.current.focus())}),oe=m.useCallback((B,se,G)=>{const Z=!q.current&&!G;(x.value!==void 0&&x.value===se||Z)&&(_(B),Z&&(q.current=!0))},[x.value]),Ne=m.useCallback(()=>y==null?void 0:y.focus(),[y]),H=m.useCallback((B,se,G)=>{const Z=!q.current&&!G;(x.value!==void 0&&x.value===se||Z)&&W(B)},[x.value]),he=s==="popper"?Zx:NE,Ee=he===Zx?{side:c,sideOffset:u,align:l,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:N}:{};return n.jsx(wE,{scope:r,content:y,viewport:C,onViewportChange:k,itemRefCallback:oe,selectedItem:E,onItemLeave:Ne,itemTextRefCallback:H,focusSelectedItem:re,selectedItemText:P,position:s,isPositioned:I,searchRef:U,children:n.jsx(w0,{as:c7,allowPinchZoom:!0,children:n.jsx(v0,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Me(i,B=>{var se;(se=x.trigger)==null||se.focus({preventScroll:!0}),B.preventDefault()}),children:n.jsx(su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:n.jsx(he,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...b,...Ee,onPlaced:()=>D(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Me(b.onKeyDown,B=>{const se=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!se&&B.key.length===1&&Q(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let Z=F().filter($=>!$.disabled).map($=>$.ref.current);if(["ArrowUp","End"].includes(B.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const $=B.target,de=Z.indexOf($);Z=Z.slice(de+1)}setTimeout(()=>V(Z)),B.preventDefault()}})})})})})})});jE.displayName=l7;var u7="SelectItemAlignedPosition",NE=m.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...i}=t,a=wo(yl,r),o=jo(yl,r),[c,u]=m.useState(null),[l,d]=m.useState(null),h=Bt(e,S=>d(S)),f=A0(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:N,selectedItemText:b,focusSelectedItem:x}=o,y=m.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&l&&g&&N&&b){const S=a.trigger.getBoundingClientRect(),E=l.getBoundingClientRect(),_=a.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(a.dir!=="rtl"){const $=P.left-E.left,de=_.left-$,Oe=S.left-de,ve=S.width+Oe,We=Math.max(ve,E.width),Ht=window.innerWidth-Ws,ze=aN(de,[Ws,Math.max(Ws,Ht-We)]);c.style.minWidth=ve+"px",c.style.left=ze+"px"}else{const $=E.right-P.right,de=window.innerWidth-_.right-$,Oe=window.innerWidth-S.right-de,ve=S.width+Oe,We=Math.max(ve,E.width),Ht=window.innerWidth-Ws,ze=aN(de,[Ws,Math.max(Ws,Ht-We)]);c.style.minWidth=ve+"px",c.style.right=ze+"px"}const W=f(),F=window.innerHeight-Ws*2,I=g.scrollHeight,D=window.getComputedStyle(l),q=parseInt(D.borderTopWidth,10),V=parseInt(D.paddingTop,10),re=parseInt(D.borderBottomWidth,10),L=parseInt(D.paddingBottom,10),M=q+V+I+L+re,U=Math.min(N.offsetHeight*5,M),Q=window.getComputedStyle(g),oe=parseInt(Q.paddingTop,10),Ne=parseInt(Q.paddingBottom,10),H=S.top+S.height/2-Ws,he=F-H,Ee=N.offsetHeight/2,B=N.offsetTop+Ee,se=q+V+B,G=M-se;if(se<=H){const $=W.length>0&&N===W[W.length-1].ref.current;c.style.bottom="0px";const de=l.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(he,Ee+($?Ne:0)+de+re),ve=se+Oe;c.style.height=ve+"px"}else{const $=W.length>0&&N===W[0].ref.current;c.style.top="0px";const Oe=Math.max(H,q+g.offsetTop+($?oe:0)+Ee)+G;c.style.height=Oe+"px",g.scrollTop=se-H+g.offsetTop}c.style.margin=`${Ws}px 0`,c.style.minHeight=U+"px",c.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,c,l,g,N,b,a.dir,s]);ln(()=>y(),[y]);const[w,C]=m.useState();ln(()=>{l&&C(window.getComputedStyle(l).zIndex)},[l]);const k=m.useCallback(S=>{S&&v.current===!0&&(y(),x==null||x(),v.current=!1)},[y,x]);return n.jsx(h7,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:n.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(rt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});NE.displayName=u7;var d7="SelectPopperPosition",Zx=m.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:i=Ws,...a}=t,o=O0(r);return n.jsx(By,{...o,...a,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zx.displayName=d7;var[h7,wb]=fu(yl,{}),ev="SelectViewport",SE=m.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...i}=t,a=jo(ev,r),o=wb(ev,r),c=Bt(e,a.onViewportChange),u=m.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(M0.Slot,{scope:r,children:n.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,l=>{const d=l.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(u.current-d.scrollTop);if(p>0){const v=window.innerHeight-Ws*2,g=parseFloat(h.style.minHeight),N=parseFloat(h.style.height),b=Math.max(g,N);if(b<v){const x=b+p,y=Math.min(v,x),w=x-y;h.style.height=y+"px",h.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});SE.displayName=ev;var CE="SelectGroup",[f7,m7]=fu(CE),p7=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,i=si();return n.jsx(f7,{scope:r,id:i,children:n.jsx(rt.div,{role:"group","aria-labelledby":i,...s,ref:e})})});p7.displayName=CE;var TE="SelectLabel",kE=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,i=m7(TE,r);return n.jsx(rt.div,{id:i.id,...s,ref:e})});kE.displayName=TE;var Cm="SelectItem",[g7,EE]=fu(Cm),PE=m.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:i=!1,textValue:a,...o}=t,c=wo(Cm,r),u=jo(Cm,r),l=c.value===s,[d,h]=m.useState(a??""),[f,p]=m.useState(!1),v=Bt(e,x=>{var y;return(y=u.itemRefCallback)==null?void 0:y.call(u,x,s,i)}),g=si(),N=m.useRef("touch"),b=()=>{i||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(g7,{scope:r,value:s,disabled:i,textId:g,isSelected:l,onItemTextChange:m.useCallback(x=>{h(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:n.jsx(M0.ItemSlot,{scope:r,value:s,disabled:i,textValue:d,children:n.jsx(rt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":l&&f,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Me(o.onFocus,()=>p(!0)),onBlur:Me(o.onBlur,()=>p(!1)),onClick:Me(o.onClick,()=>{N.current!=="mouse"&&b()}),onPointerUp:Me(o.onPointerUp,()=>{N.current==="mouse"&&b()}),onPointerDown:Me(o.onPointerDown,x=>{N.current=x.pointerType}),onPointerMove:Me(o.onPointerMove,x=>{var y;N.current=x.pointerType,i?(y=u.onItemLeave)==null||y.call(u):N.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(o.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=u.onItemLeave)==null||y.call(u))}),onKeyDown:Me(o.onKeyDown,x=>{var w;((w=u.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(t7.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});PE.displayName=Cm;var Wu="SelectItemText",_E=m.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:i,...a}=t,o=wo(Wu,r),c=jo(Wu,r),u=EE(Wu,r),l=i7(Wu,r),[d,h]=m.useState(null),f=Bt(e,b=>h(b),u.onItemTextChange,b=>{var x;return(x=c.itemTextRefCallback)==null?void 0:x.call(c,b,u.value,u.disabled)}),p=d==null?void 0:d.textContent,v=m.useMemo(()=>n.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:N}=l;return ln(()=>(g(v),()=>N(v)),[g,N,v]),n.jsxs(n.Fragment,{children:[n.jsx(rt.span,{id:u.textId,...a,ref:f}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Sl.createPortal(a.children,o.valueNode):null]})});_E.displayName=Wu;var DE="SelectItemIndicator",ME=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return EE(DE,r).isSelected?n.jsx(rt.span,{"aria-hidden":!0,...s,ref:e}):null});ME.displayName=DE;var tv="SelectScrollUpButton",AE=m.forwardRef((t,e)=>{const r=jo(tv,t.__scopeSelect),s=wb(tv,t.__scopeSelect),[i,a]=m.useState(!1),o=Bt(e,s.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let c=function(){const l=u.scrollTop>0;a(l)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?n.jsx(RE,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});AE.displayName=tv;var rv="SelectScrollDownButton",OE=m.forwardRef((t,e)=>{const r=jo(rv,t.__scopeSelect),s=wb(rv,t.__scopeSelect),[i,a]=m.useState(!1),o=Bt(e,s.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let c=function(){const l=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<l;a(d)};const u=r.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),i?n.jsx(RE,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=r;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});OE.displayName=rv;var RE=m.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...i}=t,a=jo("SelectScrollButton",r),o=m.useRef(null),c=A0(r),u=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),ln(()=>{var d;const l=c().find(h=>h.ref.current===document.activeElement);(d=l==null?void 0:l.ref.current)==null||d.scrollIntoView({block:"nearest"})},[c]),n.jsx(rt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Me(i.onPointerMove,()=>{var l;(l=a.onItemLeave)==null||l.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{u()})})}),x7="SelectSeparator",IE=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return n.jsx(rt.div,{"aria-hidden":!0,...s,ref:e})});IE.displayName=x7;var nv="SelectArrow",v7=m.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,i=O0(r),a=wo(nv,r),o=jo(nv,r);return a.open&&o.position==="popper"?n.jsx(zy,{...i,...s,ref:e}):null});v7.displayName=nv;var y7="SelectBubbleInput",LE=m.forwardRef(({__scopeSelect:t,value:e,...r},s)=>{const i=m.useRef(null),a=Bt(s,i),o=ZU(e);return m.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(c,e),c.dispatchEvent(h)}},[o,e]),n.jsx(rt.select,{...r,style:{...hC,...r.style},ref:a,defaultValue:e})});LE.displayName=y7;function FE(t){return t===""||t===void 0}function UE(t){const e=rs(t),r=m.useRef(""),s=m.useRef(0),i=m.useCallback(o=>{const c=r.current+o;e(c),function u(l){r.current=l,window.clearTimeout(s.current),l!==""&&(s.current=window.setTimeout(()=>u(""),1e3))}(c)},[e]),a=m.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,i,a]}function BE(t,e,r){const i=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=b7(t,Math.max(a,0));i.length===1&&(o=o.filter(l=>l!==r));const u=o.find(l=>l.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function b7(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var w7=fE,zE=pE,j7=xE,N7=vE,S7=yE,$E=bE,C7=SE,WE=kE,VE=PE,T7=_E,k7=ME,HE=AE,KE=OE,GE=IE,kl=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},ki=w7,Ei=j7,Qs=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=kl(t,["className","children"]);return n.jsxs(zE,{ref:e,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[s,n.jsx(N7,{asChild:!0,children:n.jsx(ha,{className:"h-4 w-4 opacity-50"})})]})});Qs.displayName=zE.displayName;var qE=m.forwardRef(function(t,e){var r=t.className,s=kl(t,["className"]);return n.jsx(HE,{ref:e,className:Je("flex cursor-default items-center justify-center py-1",r),...s,children:n.jsx(M5,{className:"h-4 w-4"})})});qE.displayName=HE.displayName;var QE=m.forwardRef(function(t,e){var r=t.className,s=kl(t,["className"]);return n.jsx(KE,{ref:e,className:Je("flex cursor-default items-center justify-center py-1",r),...s,children:n.jsx(ha,{className:"h-4 w-4"})})});QE.displayName=KE.displayName;var Xs=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=t.position,a=i===void 0?"popper":i,o=kl(t,["className","children","position"]);return n.jsx(S7,{children:n.jsxs($E,{ref:e,className:Je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a,...o,children:[n.jsx(qE,{}),n.jsx(C7,{className:Je("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),n.jsx(QE,{})]})})});Xs.displayName=$E.displayName;var E7=m.forwardRef(function(t,e){var r=t.className,s=kl(t,["className"]);return n.jsx(WE,{ref:e,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})});E7.displayName=WE.displayName;var Ft=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=kl(t,["className","children"]);return n.jsxs(VE,{ref:e,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(k7,{children:n.jsx(OC,{className:"h-4 w-4"})})}),n.jsx(T7,{children:s})]})});Ft.displayName=VE.displayName;var P7=m.forwardRef(function(t,e){var r=t.className,s=kl(t,["className"]);return n.jsx(GE,{ref:e,className:Je("-mx-1 my-1 h-px bg-muted",r),...s})});P7.displayName=GE.displayName;var jb="Progress",Nb=100,[_7]=Rs(jb),[D7,M7]=_7(jb),XE=m.forwardRef((t,e)=>{const{__scopeProgress:r,value:s=null,max:i,getValueLabel:a=A7,...o}=t;(i||i===0)&&!oN(i)&&console.error(O7(`${i}`,"Progress"));const c=oN(i)?i:Nb;s!==null&&!lN(s,c)&&console.error(R7(`${s}`,"Progress"));const u=lN(s,c)?s:null,l=Tm(u)?a(u,c):void 0;return n.jsx(D7,{scope:r,value:u,max:c,children:n.jsx(rt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Tm(u)?u:void 0,"aria-valuetext":l,role:"progressbar","data-state":ZE(u,c),"data-value":u??void 0,"data-max":c,...o,ref:e})})});XE.displayName=jb;var YE="ProgressIndicator",JE=m.forwardRef((t,e)=>{const{__scopeProgress:r,...s}=t,i=M7(YE,r);return n.jsx(rt.div,{"data-state":ZE(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});JE.displayName=YE;function A7(t,e){return`${Math.round(t/e*100)}%`}function ZE(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Tm(t){return typeof t=="number"}function oN(t){return Tm(t)&&!isNaN(t)&&t>0}function lN(t,e){return Tm(t)&&!isNaN(t)&&t<=e&&t>=0}function O7(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Nb}\`.`}function R7(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Nb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var e3=XE,I7=JE,L7=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},t3=m.forwardRef(function(t,e){var r=t.className,s=t.value,i=L7(t,["className","value"]);return n.jsx(e3,{ref:e,className:Je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...i,children:n.jsx(I7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});t3.displayName=e3.displayName;var F7=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},U7=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function B7(){var t=this,e=en().user,r=Cn().toast,s=ys(),i=g0().lastMessage,a=m.useState("BTCUSDT"),o=a[0],c=a[1],u=m.useState(30),l=u[0],d=u[1],h=m.useState(""),f=h[0],p=h[1],v=m.useState(null);v[0],v[1];var g=m.useState("0"),N=g[0],b=g[1],x=Mr({queryKey:["/api/market-data"],refetchInterval:5e3}).data,y=Mr({queryKey:["/api/options-settings"]}).data,w=Mr({queryKey:["/api/trades/active"],enabled:!!e}).data,C=Mr({queryKey:["/api/balances"],enabled:!!e}).data,k=gn({mutationFn:function(D){return F7(t,void 0,void 0,function(){var q,V,re,L;return U7(this,function(M){switch(M.label){case 0:return console.log(" TRADING PAGE: Placing trade with data:",D),console.log(" TRADING PAGE: User ID:",e==null?void 0:e.id),console.log(" TRADING PAGE: Auth token:",((L=localStorage.getItem("authToken"))===null||L===void 0?void 0:L.substring(0,30))+"..."),[4,fetch("/api/trades",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({userId:e==null?void 0:e.id,symbol:D.symbol,type:D.type,direction:D.direction,amount:D.amount,duration:D.duration})})];case 1:return q=M.sent(),console.log(" TRADING PAGE: Response status:",q.status),q.ok?[3,3]:[4,q.text()];case 2:throw V=M.sent(),console.error(" TRADING PAGE: Error response:",V),new Error(V||"Failed to place trade");case 3:return[4,q.json()];case 4:return re=M.sent(),console.log(" TRADING PAGE: Success response:",re),[2,re]}})})},onSuccess:function(){r({title:"Trade Placed Successfully",description:"Your binary options trade has been placed."}),s.invalidateQueries({queryKey:["/api/trades/active"]}),s.invalidateQueries({queryKey:["/api/balances"]}),p("")},onError:function(D){r({title:"Trade Failed",description:D.message||"Failed to place trade.",variant:"destructive"})}});m.useEffect(function(){if((i==null?void 0:i.type)==="price_update"&&i.data){var D=i.data;D.symbol===o&&b(D.price)}},[i,o]),m.useEffect(function(){if(x){var D=x.find(function(q){return q.symbol===o});D&&b(D.price)}},[x,o]),m.useEffect(function(){var D=setInterval(function(){if(w){var q=new Date().getTime();w.forEach(function(V){var re=new Date(V.expiresAt).getTime(),L=Math.max(0,re-q);L===0&&s.invalidateQueries({queryKey:["/api/trades/active"]})})}},1e3);return function(){return clearInterval(D)}},[w,s]);var S=x==null?void 0:x.find(function(D){return D.symbol===o}),E=(y==null?void 0:y.filter(function(D){return D.isActive}))||[],_=E.find(function(D){return D.duration===l}),P=Array.isArray(C)?C.find(function(D){return D.symbol==="USDT"}):null,W=function(D){if(!e){r({title:"Login Required",description:"Please login to place trades.",variant:"destructive"});return}if(!f||parseFloat(f)<parseFloat((_==null?void 0:_.minAmount)||"0")){r({title:"Invalid Amount",description:"Minimum amount is ".concat(_==null?void 0:_.minAmount," USDT"),variant:"destructive"});return}k.mutate({symbol:o,type:"options",direction:D,amount:f,duration:l})},F=function(D){var q=new Date().getTime(),V=new Date(D).getTime(),re=Math.max(0,V-q),L=Math.floor(re/1e3);return L},I=function(D){var q=Math.floor(D/60),V=D%60;return"".concat(q,":").concat(V.toString().padStart(2,"0"))};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"METACHROME Binary Options Trading"}),n.jsx("p",{className:"text-gray-300",children:"Trade binary options with customizable durations and admin-controlled outcomes"})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(je,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(gt,{children:n.jsxs(xt,{className:"text-white flex items-center gap-2",children:[n.jsx(Zs,{className:"w-5 h-5 text-purple-400"}),"Market Selection"]})}),n.jsx(Ce,{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:x==null?void 0:x.map(function(D){return n.jsxs(X,{variant:o===D.symbol?"default":"outline",className:"p-4 h-auto flex flex-col items-start ".concat(o===D.symbol?"bg-purple-600 hover:bg-purple-700":"bg-slate-700/50 hover:bg-slate-700"),onClick:function(){return c(D.symbol)},children:[n.jsx("div",{className:"font-semibold text-white",children:D.symbol.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-sm text-gray-300",children:["$",parseFloat(D.price).toLocaleString()]}),n.jsxs("div",{className:"text-xs flex items-center gap-1 ".concat(parseFloat(D.priceChangePercent24h)>=0?"text-green-400":"text-red-400"),children:[parseFloat(D.priceChangePercent24h)>=0?n.jsx(Rx,{className:"w-3 h-3"}):n.jsx(Ox,{className:"w-3 h-3"}),parseFloat(D.priceChangePercent24h).toFixed(2),"%"]})]},D.symbol)})})})]}),n.jsx(je,{className:"bg-slate-800/90 border-purple-500/20",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:o.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-4xl font-bold text-purple-400 mb-4",children:["$",parseFloat(N).toLocaleString()]}),S&&n.jsxs("div",{className:"flex items-center justify-center gap-2 ".concat(parseFloat(S.priceChangePercent24h)>=0?"text-green-400":"text-red-400"),children:[parseFloat(S.priceChangePercent24h)>=0?n.jsx(Zs,{className:"w-5 h-5"}):n.jsx(Ed,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[parseFloat(S.priceChangePercent24h).toFixed(2),"% ($",parseFloat(S.priceChange24h).toFixed(2),")"]})]})]})})}),n.jsxs(je,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:"Place Binary Options Trade"})}),n.jsxs(Ce,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),n.jsxs(ki,{value:l.toString(),onValueChange:function(D){return d(parseInt(D))},children:[n.jsx(Qs,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsx(Ei,{})}),n.jsx(Xs,{className:"bg-slate-700 border-slate-600",children:E.map(function(D){return n.jsxs(Ft,{value:D.duration.toString(),children:[D.duration," seconds - Min: $",D.minAmount," - Profit: ",D.profitPercentage,"%"]},D.id)})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (USDT)"}),n.jsx(Be,{type:"number",value:f,onChange:function(D){return p(D.target.value)},placeholder:"Enter amount",className:"bg-slate-700 border-slate-600 text-white",min:(_==null?void 0:_.minAmount)||"0",step:"0.01"}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Min: $",(_==null?void 0:_.minAmount)||"0"," | Available: $",(P==null?void 0:P.available)||"0"]})]})]}),_&&n.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Profit Percentage:"})," ",_.profitPercentage,"%"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Potential Profit:"})," $",f?(parseFloat(f)*parseFloat(_.profitPercentage)/100).toFixed(2):"0.00"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(X,{onClick:function(){return W("up")},disabled:k.isPending||!e,className:"bg-green-600 hover:bg-green-700 text-white h-12 text-lg font-semibold",children:[n.jsx(Rx,{className:"w-5 h-5 mr-2"}),"UP / CALL"]}),n.jsxs(X,{onClick:function(){return W("down")},disabled:k.isPending||!e,className:"bg-red-600 hover:bg-red-700 text-white h-12 text-lg font-semibold",children:[n.jsx(Ox,{className:"w-5 h-5 mr-2"}),"DOWN / PUT"]})]}),!e&&n.jsx("div",{className:"text-center text-yellow-400",children:"Please login to place trades"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(je,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:"Active Trades"})}),n.jsx(Ce,{className:"space-y-4",children:w&&w.length>0?w.map(function(D){var q=F(D.expiresAt),V=(D.duration-q)/D.duration*100;return n.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:D.symbol.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-sm text-gray-300",children:["$",D.amount," USDT"]})]}),n.jsx(Mt,{variant:D.direction==="up"?"default":"destructive",className:D.direction==="up"?"bg-green-600":"bg-red-600",children:D.direction.toUpperCase()})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Time Left:"}),n.jsx("span",{className:"text-white font-mono",children:I(q)})]}),n.jsx(t3,{value:V,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Entry Price:"}),n.jsxs("span",{className:"text-white",children:["$",parseFloat(D.price).toFixed(2)]})]})]})]},D.id)}):n.jsx("div",{className:"text-gray-400 text-center py-8",children:"No active trades"})})]}),e&&n.jsxs(je,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:"Account Balance"})}),n.jsxs(Ce,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:["$",(P==null?void 0:P.available)||"0.00"," USDT"]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Locked: $",(P==null?void 0:P.locked)||"0.00"," USDT"]})]})]})]})]})]})})}var R0="Dialog",[r3]=Rs(R0),[z7,ui]=r3(R0),n3=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=m.useRef(null),u=m.useRef(null),[l,d]=co({prop:s,defaultProp:i??!1,onChange:a,caller:R0});return n.jsx(z7,{scope:e,triggerRef:c,contentRef:u,contentId:si(),titleId:si(),descriptionId:si(),open:l,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};n3.displayName=R0;var s3="DialogTrigger",i3=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=ui(s3,r),a=Bt(e,i.triggerRef);return n.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Tb(i.open),...s,ref:a,onClick:Me(t.onClick,i.onOpenToggle)})});i3.displayName=s3;var Sb="DialogPortal",[$7,a3]=r3(Sb,{forceMount:void 0}),o3=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:i}=t,a=ui(Sb,e);return n.jsx($7,{scope:e,forceMount:r,children:m.Children.map(s,o=>n.jsx(Is,{present:r||a.open,children:n.jsx(th,{asChild:!0,container:i,children:o})}))})};o3.displayName=Sb;var km="DialogOverlay",l3=m.forwardRef((t,e)=>{const r=a3(km,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,a=ui(km,t.__scopeDialog);return a.modal?n.jsx(Is,{present:s||a.open,children:n.jsx(V7,{...i,ref:e})}):null});l3.displayName=km;var W7=cl("DialogOverlay.RemoveScroll"),V7=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=ui(km,r);return n.jsx(w0,{as:W7,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(rt.div,{"data-state":Tb(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),bl="DialogContent",c3=m.forwardRef((t,e)=>{const r=a3(bl,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,a=ui(bl,t.__scopeDialog);return n.jsx(Is,{present:s||a.open,children:a.modal?n.jsx(H7,{...i,ref:e}):n.jsx(K7,{...i,ref:e})})});c3.displayName=bl;var H7=m.forwardRef((t,e)=>{const r=ui(bl,t.__scopeDialog),s=m.useRef(null),i=Bt(e,r.contentRef,s);return m.useEffect(()=>{const a=s.current;if(a)return Vy(a)},[]),n.jsx(u3,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,a=>a.preventDefault())})}),K7=m.forwardRef((t,e)=>{const r=ui(bl,t.__scopeDialog),s=m.useRef(!1),i=m.useRef(!1);return n.jsx(u3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{var u,l;(u=t.onInteractOutside)==null||u.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((l=r.triggerRef.current)==null?void 0:l.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),u3=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,c=ui(bl,r),u=m.useRef(null),l=Bt(e,u);return Wy(),n.jsxs(n.Fragment,{children:[n.jsx(v0,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(su,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Tb(c.open),...o,ref:l,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(G7,{titleId:c.titleId}),n.jsx(Q7,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Cb="DialogTitle",d3=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=ui(Cb,r);return n.jsx(rt.h2,{id:i.titleId,...s,ref:e})});d3.displayName=Cb;var h3="DialogDescription",f3=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=ui(h3,r);return n.jsx(rt.p,{id:i.descriptionId,...s,ref:e})});f3.displayName=h3;var m3="DialogClose",p3=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,i=ui(m3,r);return n.jsx(rt.button,{type:"button",...s,ref:e,onClick:Me(t.onClick,()=>i.onOpenChange(!1))})});p3.displayName=m3;function Tb(t){return t?"open":"closed"}var g3="DialogTitleWarning",[DW,x3]=LA(g3,{contentName:bl,titleName:Cb,docsSlug:"dialog"}),G7=({titleId:t})=>{const e=x3(g3),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},q7="DialogDescriptionWarning",Q7=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x3(q7).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},X7=n3,Y7=i3,J7=o3,v3=l3,y3=c3,b3=d3,w3=f3,Z7=p3,uh=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},Bo=X7,cN=Y7,eB=J7,j3=m.forwardRef(function(t,e){var r=t.className,s=uh(t,["className"]);return n.jsx(v3,{ref:e,className:Je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});j3.displayName=v3.displayName;var Ha=m.forwardRef(function(t,e){var r=t.className,s=t.children,i=uh(t,["className","children"]);return n.jsxs(eB,{children:[n.jsx(j3,{}),n.jsxs(y3,{ref:e,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[s,n.jsxs(Z7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(hl,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});Ha.displayName=y3.displayName;var Ka=function(t){var e=t.className,r=uh(t,["className"]);return n.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",e),...r})};Ka.displayName="DialogHeader";var Ga=m.forwardRef(function(t,e){var r=t.className,s=uh(t,["className"]);return n.jsx(b3,{ref:e,className:Je("text-lg font-semibold leading-none tracking-tight",r),...s})});Ga.displayName=b3.displayName;var tB=m.forwardRef(function(t,e){var r=t.className,s=uh(t,["className"]);return n.jsx(w3,{ref:e,className:Je("text-sm text-muted-foreground",r),...s})});tB.displayName=w3.displayName;var rB="Label",N3=m.forwardRef((t,e)=>n.jsx(rt.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));N3.displayName=rB;var S3=N3,nB=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},sB=l0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cr=m.forwardRef(function(t,e){var r=t.className,s=nB(t,["className"]);return n.jsx(S3,{ref:e,className:Je(sB(),r),...s})});cr.displayName=S3.displayName;var dh={},iB=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},C3={},bs={};let kb;const aB=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];bs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};bs.getSymbolTotalCodewords=function(e){return aB[e]};bs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};bs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');kb=e};bs.isKanjiModeEnabled=function(){return typeof kb<"u"};bs.toSJIS=function(e){return kb(e)};var I0={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},t.from=function(s,i){if(t.isValid(s))return s;try{return e(s)}catch{return i}}})(I0);function T3(){this.buffer=[],this.length=0}T3.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var oB=T3;function hh(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}hh.prototype.set=function(t,e,r,s){const i=t*this.size+e;this.data[i]=r,s&&(this.reservedBit[i]=!0)};hh.prototype.get=function(t,e){return this.data[t*this.size+e]};hh.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};hh.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var lB=hh,k3={};(function(t){const e=bs.getSymbolSize;t.getRowColCoords=function(s){if(s===1)return[];const i=Math.floor(s/7)+2,a=e(s),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,c=[a-7];for(let u=1;u<i-1;u++)c[u]=c[u-1]-o;return c.push(6),c.reverse()},t.getPositions=function(s){const i=[],a=t.getRowColCoords(s),o=a.length;for(let c=0;c<o;c++)for(let u=0;u<o;u++)c===0&&u===0||c===0&&u===o-1||c===o-1&&u===0||i.push([a[c],a[u]]);return i}})(k3);var E3={};const cB=bs.getSymbolSize,uN=7;E3.getPositions=function(e){const r=cB(e);return[[0,0],[r-uN,0],[0,r-uN]]};var P3={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,c=0,u=0,l=null,d=null;for(let h=0;h<a;h++){c=u=0,l=d=null;for(let f=0;f<a;f++){let p=i.get(h,f);p===l?c++:(c>=5&&(o+=e.N1+(c-5)),l=p,c=1),p=i.get(f,h),p===d?u++:(u>=5&&(o+=e.N1+(u-5)),d=p,u=1)}c>=5&&(o+=e.N1+(c-5)),u>=5&&(o+=e.N1+(u-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let c=0;c<a-1;c++)for(let u=0;u<a-1;u++){const l=i.get(c,u)+i.get(c,u+1)+i.get(c+1,u)+i.get(c+1,u+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,c=0,u=0;for(let l=0;l<a;l++){c=u=0;for(let d=0;d<a;d++)c=c<<1&2047|i.get(l,d),d>=10&&(c===1488||c===93)&&o++,u=u<<1&2047|i.get(d,l),d>=10&&(u===1488||u===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let u=0;u<o;u++)a+=i.data[u];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function r(s,i,a){switch(s){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+s)}}t.applyMask=function(i,a){const o=a.size;for(let c=0;c<o;c++)for(let u=0;u<o;u++)a.isReserved(u,c)||a.xor(u,c,r(i,u,c))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let c=0,u=1/0;for(let l=0;l<o;l++){a(l),t.applyMask(l,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),d<u&&(u=d,c=l)}return c}})(P3);var L0={};const qa=I0,Zh=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ef=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];L0.getBlocksCount=function(e,r){switch(r){case qa.L:return Zh[(e-1)*4+0];case qa.M:return Zh[(e-1)*4+1];case qa.Q:return Zh[(e-1)*4+2];case qa.H:return Zh[(e-1)*4+3];default:return}};L0.getTotalCodewordsCount=function(e,r){switch(r){case qa.L:return ef[(e-1)*4+0];case qa.M:return ef[(e-1)*4+1];case qa.Q:return ef[(e-1)*4+2];case qa.H:return ef[(e-1)*4+3];default:return}};var _3={},F0={};const ad=new Uint8Array(512),Em=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ad[r]=e,Em[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ad[r]=ad[r-255]})();F0.log=function(e){if(e<1)throw new Error("log("+e+")");return Em[e]};F0.exp=function(e){return ad[e]};F0.mul=function(e,r){return e===0||r===0?0:ad[Em[e]+Em[r]]};(function(t){const e=F0;t.mul=function(s,i){const a=new Uint8Array(s.length+i.length-1);for(let o=0;o<s.length;o++)for(let c=0;c<i.length;c++)a[o+c]^=e.mul(s[o],i[c]);return a},t.mod=function(s,i){let a=new Uint8Array(s);for(;a.length-i.length>=0;){const o=a[0];for(let u=0;u<i.length;u++)a[u]^=e.mul(i[u],o);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},t.generateECPolynomial=function(s){let i=new Uint8Array([1]);for(let a=0;a<s;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(_3);const D3=_3;function Eb(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Eb.prototype.initialize=function(e){this.degree=e,this.genPoly=D3.generateECPolynomial(this.degree)};Eb.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const s=D3.mod(r,this.genPoly),i=this.degree-s.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(s,i),a}return s};var uB=Eb,M3={},No={},Pb={};Pb.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Bi={};const A3="[0-9]+",dB="[A-Z $%*+\\-./:]+";let Bd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Bd=Bd.replace(/u/g,"\\u");const hB="(?:(?![A-Z0-9 $%*+\\-./:]|"+Bd+`)(?:.|[\r
]))+`;Bi.KANJI=new RegExp(Bd,"g");Bi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Bi.BYTE=new RegExp(hB,"g");Bi.NUMERIC=new RegExp(A3,"g");Bi.ALPHANUMERIC=new RegExp(dB,"g");const fB=new RegExp("^"+Bd+"$"),mB=new RegExp("^"+A3+"$"),pB=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Bi.testKanji=function(e){return fB.test(e)};Bi.testNumeric=function(e){return mB.test(e)};Bi.testAlphanumeric=function(e){return pB.test(e)};(function(t){const e=Pb,r=Bi;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function s(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return s(a)}catch{return o}}})(No);(function(t){const e=bs,r=L0,s=I0,i=No,a=Pb,o=7973,c=e.getBCHDigit(o);function u(f,p,v){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,v,f))return g}function l(f,p){return i.getCharCountIndicator(f,p)+4}function d(f,p){let v=0;return f.forEach(function(g){const N=l(g.mode,p);v+=N+g.getBitsLength()}),v}function h(f,p){for(let v=1;v<=40;v++)if(d(f,v)<=t.getCapacity(v,p,i.MIXED))return v}t.from=function(p,v){return a.isValid(p)?parseInt(p,10):v},t.getCapacity=function(p,v,g){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const N=e.getSymbolTotalCodewords(p),b=r.getTotalCodewordsCount(p,v),x=(N-b)*8;if(g===i.MIXED)return x;const y=x-l(g,p);switch(g){case i.NUMERIC:return Math.floor(y/10*3);case i.ALPHANUMERIC:return Math.floor(y/11*2);case i.KANJI:return Math.floor(y/13);case i.BYTE:default:return Math.floor(y/8)}},t.getBestVersionForData=function(p,v){let g;const N=s.from(v,s.M);if(Array.isArray(p)){if(p.length>1)return h(p,N);if(p.length===0)return 1;g=p[0]}else g=p;return u(g.mode,g.getLength(),N)},t.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let v=p<<12;for(;e.getBCHDigit(v)-c>=0;)v^=o<<e.getBCHDigit(v)-c;return p<<12|v}})(M3);var O3={};const sv=bs,R3=1335,gB=21522,dN=sv.getBCHDigit(R3);O3.getEncodedBits=function(e,r){const s=e.bit<<3|r;let i=s<<10;for(;sv.getBCHDigit(i)-dN>=0;)i^=R3<<sv.getBCHDigit(i)-dN;return(s<<10|i)^gB};var I3={};const xB=No;function Hc(t){this.mode=xB.NUMERIC,this.data=t.toString()}Hc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Hc.prototype.getLength=function(){return this.data.length};Hc.prototype.getBitsLength=function(){return Hc.getBitsLength(this.data.length)};Hc.prototype.write=function(e){let r,s,i;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),i=parseInt(s,10),e.put(i,10);const a=this.data.length-r;a>0&&(s=this.data.substr(r),i=parseInt(s,10),e.put(i,a*3+1))};var vB=Hc;const yB=No,lg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Kc(t){this.mode=yB.ALPHANUMERIC,this.data=t}Kc.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Kc.prototype.getLength=function(){return this.data.length};Kc.prototype.getBitsLength=function(){return Kc.getBitsLength(this.data.length)};Kc.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let s=lg.indexOf(this.data[r])*45;s+=lg.indexOf(this.data[r+1]),e.put(s,11)}this.data.length%2&&e.put(lg.indexOf(this.data[r]),6)};var bB=Kc;const wB=No;function Gc(t){this.mode=wB.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Gc.getBitsLength=function(e){return e*8};Gc.prototype.getLength=function(){return this.data.length};Gc.prototype.getBitsLength=function(){return Gc.getBitsLength(this.data.length)};Gc.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var jB=Gc;const NB=No,SB=bs;function qc(t){this.mode=NB.KANJI,this.data=t}qc.getBitsLength=function(e){return e*13};qc.prototype.getLength=function(){return this.data.length};qc.prototype.getBitsLength=function(){return qc.getBitsLength(this.data.length)};qc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=SB.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var CB=qc,L3={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,s,i){var a={},o={};o[s]=0;var c=e.PriorityQueue.make();c.push(s,0);for(var u,l,d,h,f,p,v,g,N;!c.empty();){u=c.pop(),l=u.value,h=u.cost,f=r[l]||{};for(d in f)f.hasOwnProperty(d)&&(p=f[d],v=h+p,g=o[d],N=typeof o[d]>"u",(N||g>v)&&(o[d]=v,c.push(d,v),a[d]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",s," to ",i,"."].join("");throw new Error(b)}return a},extract_shortest_path_from_predecessor_list:function(r,s){for(var i=[],a=s;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,s,i){var a=e.single_source_shortest_paths(r,s,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var s=e.PriorityQueue,i={},a;r=r||{};for(a in s)s.hasOwnProperty(a)&&(i[a]=s[a]);return i.queue=[],i.sorter=r.sorter||s.default_sorter,i},default_sorter:function(r,s){return r.cost-s.cost},push:function(r,s){var i={value:r,cost:s};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(L3);var TB=L3.exports;(function(t){const e=No,r=vB,s=bB,i=jB,a=CB,o=Bi,c=bs,u=TB;function l(b){return unescape(encodeURIComponent(b)).length}function d(b,x,y){const w=[];let C;for(;(C=b.exec(y))!==null;)w.push({data:C[0],index:C.index,mode:x,length:C[0].length});return w}function h(b){const x=d(o.NUMERIC,e.NUMERIC,b),y=d(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let w,C;return c.isKanjiModeEnabled()?(w=d(o.BYTE,e.BYTE,b),C=d(o.KANJI,e.KANJI,b)):(w=d(o.BYTE_KANJI,e.BYTE,b),C=[]),x.concat(y,w,C).sort(function(S,E){return S.index-E.index}).map(function(S){return{data:S.data,mode:S.mode,length:S.length}})}function f(b,x){switch(x){case e.NUMERIC:return r.getBitsLength(b);case e.ALPHANUMERIC:return s.getBitsLength(b);case e.KANJI:return a.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function p(b){return b.reduce(function(x,y){const w=x.length-1>=0?x[x.length-1]:null;return w&&w.mode===y.mode?(x[x.length-1].data+=y.data,x):(x.push(y),x)},[])}function v(b){const x=[];for(let y=0;y<b.length;y++){const w=b[y];switch(w.mode){case e.NUMERIC:x.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:x.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:x.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:x.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return x}function g(b,x){const y={},w={start:{}};let C=["start"];for(let k=0;k<b.length;k++){const S=b[k],E=[];for(let _=0;_<S.length;_++){const P=S[_],W=""+k+_;E.push(W),y[W]={node:P,lastCount:0},w[W]={};for(let F=0;F<C.length;F++){const I=C[F];y[I]&&y[I].node.mode===P.mode?(w[I][W]=f(y[I].lastCount+P.length,P.mode)-f(y[I].lastCount,P.mode),y[I].lastCount+=P.length):(y[I]&&(y[I].lastCount=P.length),w[I][W]=f(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,x))}}C=E}for(let k=0;k<C.length;k++)w[C[k]].end=0;return{map:w,table:y}}function N(b,x){let y;const w=e.getBestModeForData(b);if(y=e.from(x,w),y!==e.BYTE&&y.bit<w.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(w));switch(y===e.KANJI&&!c.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new r(b);case e.ALPHANUMERIC:return new s(b);case e.KANJI:return new a(b);case e.BYTE:return new i(b)}}t.fromArray=function(x){return x.reduce(function(y,w){return typeof w=="string"?y.push(N(w,null)):w.data&&y.push(N(w.data,w.mode)),y},[])},t.fromString=function(x,y){const w=h(x,c.isKanjiModeEnabled()),C=v(w),k=g(C,y),S=u.find_path(k.map,"start","end"),E=[];for(let _=1;_<S.length-1;_++)E.push(k.table[S[_]].node);return t.fromArray(p(E))},t.rawSplit=function(x){return t.fromArray(h(x,c.isKanjiModeEnabled()))}})(I3);const U0=bs,cg=I0,kB=oB,EB=lB,PB=k3,_B=E3,iv=P3,av=L0,DB=uB,Pm=M3,MB=O3,AB=No,ug=I3;function OB(t,e){const r=t.size,s=_B.getPositions(e);for(let i=0;i<s.length;i++){const a=s[i][0],o=s[i][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||r<=a+c))for(let u=-1;u<=7;u++)o+u<=-1||r<=o+u||(c>=0&&c<=6&&(u===0||u===6)||u>=0&&u<=6&&(c===0||c===6)||c>=2&&c<=4&&u>=2&&u<=4?t.set(a+c,o+u,!0,!0):t.set(a+c,o+u,!1,!0))}}function RB(t){const e=t.size;for(let r=8;r<e-8;r++){const s=r%2===0;t.set(r,6,s,!0),t.set(6,r,s,!0)}}function IB(t,e){const r=PB.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let o=-2;o<=2;o++)for(let c=-2;c<=2;c++)o===-2||o===2||c===-2||c===2||o===0&&c===0?t.set(i+o,a+c,!0,!0):t.set(i+o,a+c,!1,!0)}}function LB(t,e){const r=t.size,s=Pm.getEncodedBits(e);let i,a,o;for(let c=0;c<18;c++)i=Math.floor(c/3),a=c%3+r-8-3,o=(s>>c&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function dg(t,e,r){const s=t.size,i=MB.getEncodedBits(e,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(s-15+a,8,o,!0),a<8?t.set(8,s-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(s-8,8,1,!0)}function FB(t,e){const r=t.size;let s=-1,i=r-1,a=7,o=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,c-u)){let l=!1;o<e.length&&(l=(e[o]>>>a&1)===1),t.set(i,c-u,l),a--,a===-1&&(o++,a=7)}if(i+=s,i<0||r<=i){i-=s,s=-s;break}}}function UB(t,e,r){const s=new kB;r.forEach(function(u){s.put(u.mode.bit,4),s.put(u.getLength(),AB.getCharCountIndicator(u.mode,t)),u.write(s)});const i=U0.getSymbolTotalCodewords(t),a=av.getTotalCodewordsCount(t,e),o=(i-a)*8;for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!==0;)s.putBit(0);const c=(o-s.getLengthInBits())/8;for(let u=0;u<c;u++)s.put(u%2?17:236,8);return BB(s,t,e)}function BB(t,e,r){const s=U0.getSymbolTotalCodewords(e),i=av.getTotalCodewordsCount(e,r),a=s-i,o=av.getBlocksCount(e,r),c=s%o,u=o-c,l=Math.floor(s/o),d=Math.floor(a/o),h=d+1,f=l-d,p=new DB(f);let v=0;const g=new Array(o),N=new Array(o);let b=0;const x=new Uint8Array(t.buffer);for(let S=0;S<o;S++){const E=S<u?d:h;g[S]=x.slice(v,v+E),N[S]=p.encode(g[S]),v+=E,b=Math.max(b,E)}const y=new Uint8Array(s);let w=0,C,k;for(C=0;C<b;C++)for(k=0;k<o;k++)C<g[k].length&&(y[w++]=g[k][C]);for(C=0;C<f;C++)for(k=0;k<o;k++)y[w++]=N[k][C];return y}function zB(t,e,r,s){let i;if(Array.isArray(t))i=ug.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const d=ug.rawSplit(t);l=Pm.getBestVersionForData(d,r)}i=ug.fromString(t,l||40)}else throw new Error("Invalid data");const a=Pm.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=UB(e,r,i),c=U0.getSymbolSize(e),u=new EB(c);return OB(u,e),RB(u),IB(u,e),dg(u,r,0),e>=7&&LB(u,e),FB(u,o),isNaN(s)&&(s=iv.getBestMask(u,dg.bind(null,u,r))),iv.applyMask(s,u),dg(u,r,s),{modules:u,version:e,errorCorrectionLevel:r,maskPattern:s,segments:i}}C3.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let s=cg.M,i,a;return typeof r<"u"&&(s=cg.from(r.errorCorrectionLevel,cg.M),i=Pm.from(r.version),a=iv.from(r.maskPattern),r.toSJISFunc&&U0.setToSJISFunction(r.toSJISFunc)),zB(e,i,s,a)};var F3={},_b={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let s=r.slice().replace("#","").split("");if(s.length<3||s.length===5||s.length>8)throw new Error("Invalid hex color: "+r);(s.length===3||s.length===4)&&(s=Array.prototype.concat.apply([],s.map(function(a){return[a,a]}))),s.length===6&&s.push("F","F");const i=parseInt(s.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+s.slice(0,6).join("")}}t.getOptions=function(s){s||(s={}),s.color||(s.color={});const i=typeof s.margin>"u"||s.margin===null||s.margin<0?4:s.margin,a=s.width&&s.width>=21?s.width:void 0,o=s.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(s.color.dark||"#000000ff"),light:e(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},t.getScale=function(s,i){return i.width&&i.width>=s+i.margin*2?i.width/(s+i.margin*2):i.scale},t.getImageWidth=function(s,i){const a=t.getScale(s,i);return Math.floor((s+i.margin*2)*a)},t.qrToImageData=function(s,i,a){const o=i.modules.size,c=i.modules.data,u=t.getScale(o,a),l=Math.floor((o+a.margin*2)*u),d=a.margin*u,h=[a.color.light,a.color.dark];for(let f=0;f<l;f++)for(let p=0;p<l;p++){let v=(f*l+p)*4,g=a.color.light;if(f>=d&&p>=d&&f<l-d&&p<l-d){const N=Math.floor((f-d)/u),b=Math.floor((p-d)/u);g=h[c[N*o+b]?1:0]}s[v++]=g.r,s[v++]=g.g,s[v++]=g.b,s[v]=g.a}}})(_b);(function(t){const e=_b;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function s(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,c){let u=c,l=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(l=s()),u=e.getOptions(u);const d=e.getImageWidth(a.modules.size,u),h=l.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,a,u),r(h,l,d),h.putImageData(f,0,0),l},t.renderToDataURL=function(a,o,c){let u=c;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const l=t.render(a,o,u),d=u.type||"image/png",h=u.rendererOpts||{};return l.toDataURL(d,h.quality)}})(F3);var U3={};const $B=_b;function hN(t,e){const r=t.a/255,s=e+'="'+t.hex+'"';return r<1?s+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':s}function hg(t,e,r){let s=t+e;return typeof r<"u"&&(s+=" "+r),s}function WB(t,e,r){let s="",i=0,a=!1,o=0;for(let c=0;c<t.length;c++){const u=Math.floor(c%e),l=Math.floor(c/e);!u&&!a&&(a=!0),t[c]?(o++,c>0&&u>0&&t[c-1]||(s+=a?hg("M",u+r,.5+l+r):hg("m",i,0),i=0,a=!1),u+1<e&&t[c+1]||(s+=hg("h",o),o=0)):i++}return s}U3.render=function(e,r,s){const i=$B.getOptions(r),a=e.modules.size,o=e.modules.data,c=a+i.margin*2,u=i.color.light.a?"<path "+hN(i.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+hN(i.color.dark,"stroke")+' d="'+WB(o,a,i.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof s=="function"&&s(null,f),f};const VB=iB,ov=C3,B3=F3,HB=U3;function Db(t,e,r,s,i){const a=[].slice.call(arguments,1),o=a.length,c=typeof a[o-1]=="function";if(!c&&!VB())throw new Error("Callback required as last argument");if(c){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=s=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=s,s=void 0):(i=s,s=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=s=void 0):o===2&&!e.getContext&&(s=r,r=e,e=void 0),new Promise(function(u,l){try{const d=ov.create(r,s);u(t(d,e,s))}catch(d){l(d)}})}try{const u=ov.create(r,s);i(null,t(u,e,s))}catch(u){i(u)}}dh.create=ov.create;dh.toCanvas=Db.bind(null,B3.render);dh.toDataURL=Db.bind(null,B3.renderToDataURL);dh.toString=Db.bind(null,function(t,e,r){return HB.render(t,r)});var z3=function(t){var e=t.value,r=t.size,s=r===void 0?128:r,i=t.className,a=i===void 0?"":i,o=m.useRef(null);return m.useEffect(function(){o.current&&e&&dh.toCanvas(o.current,e,{width:s,margin:1,color:{dark:"#000000",light:"#FFFFFF"}},function(c){c&&console.error("QR Code generation error:",c)})},[e,s]),n.jsx("div",{className:"inline-block bg-white p-1 rounded ".concat(a),children:n.jsx("canvas",{ref:o,className:"block",style:{width:s,height:s}})})},$3="https://js.stripe.com/v3",KB=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var GB=function(){for(var e=document.querySelectorAll('script[src^="'.concat($3,'"]')),r=0;r<e.length;r++){var s=e[r];if(KB.test(s.src))return s}return null},fN=function(e){var r="",s=document.createElement("script");s.src="".concat($3).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(s),s},qB=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},Mu=null,tf=null,rf=null,QB=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},XB=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},YB=function(e){return Mu!==null?Mu:(Mu=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=GB();if(!(i&&e)){if(!i)i=fN(e);else if(i&&rf!==null&&tf!==null){var a;i.removeEventListener("load",rf),i.removeEventListener("error",tf),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=fN(e)}}rf=XB(r,s),tf=QB(s),i.addEventListener("load",rf),i.addEventListener("error",tf)}catch(o){s(o);return}}),Mu.catch(function(r){return Mu=null,Promise.reject(r)}))},JB=function(e,r,s){if(e===null)return null;var i=e.apply(void 0,r);return qB(i,s),i},Au,W3=!1,V3=function(){return Au||(Au=YB(null).catch(function(e){return Au=null,Promise.reject(e)}),Au)};Promise.resolve().then(function(){return V3()}).catch(function(t){W3||console.warn(t)});var H3=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];W3=!0;var i=Date.now();return V3().then(function(a){return JB(a,r,i)})},K3={exports:{}},ZB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ez=ZB,tz=ez;function G3(){}function q3(){}q3.resetWarningCache=G3;var rz=function(){function t(s,i,a,o,c,u){if(u!==tz){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q3,resetWarningCache:G3};return r.PropTypes=r,r};K3.exports=rz();var nz=K3.exports;const wr=wv(nz);function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function pN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(s){Q3(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Df(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Df=function(e){return typeof e}:Df=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Q3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3(t,e){return sz(t)||iz(t,e)||az(t,e)||oz()}function sz(t){if(Array.isArray(t))return t}function iz(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var s=[],i=!0,a=!1,o,c;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(s.push(o.value),!(e&&s.length===e));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return s}}function az(t,e){if(t){if(typeof t=="string")return gN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function oz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var os=function(e,r,s){var i=!!s,a=Pe.useRef(s);Pe.useEffect(function(){a.current=s},[s]),Pe.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,o),function(){e.off(r,o)}},[i,r,e,a])},lv=function(e){var r=Pe.useRef(e);return Pe.useEffect(function(){r.current=e},[e]),r.current},Qc=function(e){return e!==null&&Df(e)==="object"},lz=function(e){return Qc(e)&&typeof e.then=="function"},cz=function(e){return Qc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},xN="[object Object]",uz=function t(e,r){if(!Qc(e)||!Qc(r))return e===r;var s=Array.isArray(e),i=Array.isArray(r);if(s!==i)return!1;var a=Object.prototype.toString.call(e)===xN,o=Object.prototype.toString.call(r)===xN;if(a!==o)return!1;if(!a&&!s)return e===r;var c=Object.keys(e),u=Object.keys(r);if(c.length!==u.length)return!1;for(var l={},d=0;d<c.length;d+=1)l[c[d]]=!0;for(var h=0;h<u.length;h+=1)l[u[h]]=!0;var f=Object.keys(l);if(f.length!==c.length)return!1;var p=e,v=r,g=function(b){return t(p[b],v[b])};return f.every(g)},Y3=function(e,r,s){return Qc(e)?Object.keys(e).reduce(function(i,a){var o=!Qc(r)||!uz(e[a],r[a]);return s.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?pN(pN({},i||{}),{},Q3({},a,e[a])):i},null):null},J3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",vN=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J3;if(e===null||cz(e))return e;throw new Error(r)},dz=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J3;if(lz(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return vN(i,r)})};var s=vN(e,r);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},hz=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},B0=Pe.createContext(null);B0.displayName="ElementsContext";var Z3=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},eP=function(e){var r=e.stripe,s=e.options,i=e.children,a=Pe.useMemo(function(){return dz(r)},[r]),o=Pe.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(s):null}}),c=X3(o,2),u=c[0],l=c[1];Pe.useEffect(function(){var f=!0,p=function(g){l(function(N){return N.stripe?N:{stripe:g,elements:g.elements(s)}})};return a.tag==="async"&&!u.stripe?a.stripePromise.then(function(v){v&&f&&p(v)}):a.tag==="sync"&&!u.stripe&&p(a.stripe),function(){f=!1}},[a,u,s]);var d=lv(r);Pe.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var h=lv(s);return Pe.useEffect(function(){if(u.elements){var f=Y3(s,h,["clientSecret","fonts"]);f&&u.elements.update(f)}},[s,h,u.elements]),Pe.useEffect(function(){hz(u.stripe)},[u.stripe]),Pe.createElement(B0.Provider,{value:u},i)};eP.propTypes={stripe:wr.any,options:wr.object};var fz=function(e){var r=Pe.useContext(B0);return Z3(r,e)},mz=function(){var e=fz("calls useElements()"),r=e.elements;return r};wr.func.isRequired;var tP=Pe.createContext(null);tP.displayName="CustomCheckoutSdkContext";var pz=function(e,r){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return e},gz=Pe.createContext(null);gz.displayName="CustomCheckoutContext";wr.any,wr.shape({clientSecret:wr.string.isRequired,elementsOptions:wr.object}).isRequired;var cv=function(e){var r=Pe.useContext(tP),s=Pe.useContext(B0);if(r&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?pz(r,e):Z3(s,e)},xz=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Hr=function(e,r){var s="".concat(xz(e),"Element"),i=function(u){var l=u.id,d=u.className,h=u.options,f=h===void 0?{}:h,p=u.onBlur,v=u.onFocus,g=u.onReady,N=u.onChange,b=u.onEscape,x=u.onClick,y=u.onLoadError,w=u.onLoaderStart,C=u.onNetworksChange,k=u.onConfirm,S=u.onCancel,E=u.onShippingAddressChange,_=u.onShippingRateChange,P=cv("mounts <".concat(s,">")),W="elements"in P?P.elements:null,F="customCheckoutSdk"in P?P.customCheckoutSdk:null,I=Pe.useState(null),D=X3(I,2),q=D[0],V=D[1],re=Pe.useRef(null),L=Pe.useRef(null);os(q,"blur",p),os(q,"focus",v),os(q,"escape",b),os(q,"click",x),os(q,"loaderror",y),os(q,"loaderstart",w),os(q,"networkschange",C),os(q,"confirm",k),os(q,"cancel",S),os(q,"shippingaddresschange",E),os(q,"shippingratechange",_),os(q,"change",N);var M;g&&(e==="expressCheckout"?M=g:M=function(){g(q)}),os(q,"ready",M),Pe.useLayoutEffect(function(){if(re.current===null&&L.current!==null&&(W||F)){var Q=null;F?Q=F.createElement(e,f):W&&(Q=W.create(e,f)),re.current=Q,V(Q),Q&&Q.mount(L.current)}},[W,F,f]);var U=lv(f);return Pe.useEffect(function(){if(re.current){var Q=Y3(f,U,["paymentRequest"]);Q&&"update"in re.current&&re.current.update(Q)}},[f,U]),Pe.useLayoutEffect(function(){return function(){if(re.current&&typeof re.current.destroy=="function")try{re.current.destroy(),re.current=null}catch{}}},[]),Pe.createElement("div",{id:l,className:d,ref:L})},a=function(u){cv("mounts <".concat(s,">"));var l=u.id,d=u.className;return Pe.createElement("div",{id:l,className:d})},o=r?a:i;return o.propTypes={id:wr.string,className:wr.string,onChange:wr.func,onBlur:wr.func,onFocus:wr.func,onReady:wr.func,onEscape:wr.func,onClick:wr.func,onLoadError:wr.func,onLoaderStart:wr.func,onNetworksChange:wr.func,onConfirm:wr.func,onCancel:wr.func,onShippingAddressChange:wr.func,onShippingRateChange:wr.func,options:wr.object},o.displayName=s,o.__elementType=e,o},Kr=typeof window>"u",vz=Pe.createContext(null);vz.displayName="EmbeddedCheckoutProviderContext";var yz=function(){var e=cv("calls useStripe()"),r=e.stripe;return r};Hr("auBankAccount",Kr);var yN=Hr("card",Kr);Hr("cardNumber",Kr);Hr("cardExpiry",Kr);Hr("cardCvc",Kr);Hr("fpxBank",Kr);Hr("iban",Kr);Hr("idealBank",Kr);Hr("p24Bank",Kr);Hr("epsBank",Kr);Hr("payment",Kr);Hr("expressCheckout",Kr);Hr("currencySelector",Kr);Hr("paymentRequestButton",Kr);Hr("linkAuthentication",Kr);Hr("address",Kr);Hr("shippingAddress",Kr);Hr("paymentMethodMessaging",Kr);Hr("affirmMessage",Kr);Hr("afterpayClearpayMessage",Kr);var uv=function(){return uv=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uv.apply(this,arguments)},nf=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},sf=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},bz=function(){function t(){this.publishableKey="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",this.publishableKey&&this.publishableKey!=="pk_test_your_key_here"?this.stripe=H3(this.publishableKey):this.stripe=Promise.resolve(null)}return t.prototype.createPaymentIntent=function(e,r){return nf(this,void 0,void 0,function(){var s,i,a;return sf(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:e,currency:r.toLowerCase()})})];case 1:return s=o.sent(),s.ok?[3,3]:[4,s.json()];case 2:throw i=o.sent(),new Error(i.message||"Failed to create payment intent");case 3:return[4,s.json()];case 4:return[2,o.sent()];case 5:throw a=o.sent(),console.error("Payment intent creation failed:",a),a;case 6:return[2]}})})},t.prototype.confirmPayment=function(e,r){return nf(this,void 0,void 0,function(){var s,i,a;return sf(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.stripe];case 1:if(s=o.sent(),!s)throw new Error("Stripe not loaded");return[4,s.confirmPayment(uv({clientSecret:e,confirmParams:{return_url:"".concat(window.location.origin,"/wallet?payment=success")}},r&&{paymentMethod:r}))];case 2:return i=o.sent(),[2,i];case 3:throw a=o.sent(),console.error("Payment confirmation failed:",a),a;case 4:return[2]}})})},t.prototype.createPaymentMethod=function(e){return nf(this,void 0,void 0,function(){var r,s,i,a,o;return sf(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.stripe];case 1:if(r=c.sent(),!r)throw new Error("Stripe not loaded");return[4,r.createPaymentMethod({type:"card",card:e})];case 2:if(s=c.sent(),i=s.error,a=s.paymentMethod,i)throw new Error(i.message);return[2,a];case 3:throw o=c.sent(),console.error("Payment method creation failed:",o),o;case 4:return[2]}})})},t.prototype.getStripe=function(){return nf(this,void 0,void 0,function(){return sf(this,function(e){switch(e.label){case 0:return[4,this.stripe];case 1:return[2,e.sent()]}})})},t}(),wz=new bz,bN=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},wN=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},jz="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",jN=H3(jz);function Nz(t){var e=this,r=t.amount,s=t.currency,i=t.onSuccess,a=t.onError,o=yz(),c=mz(),u=Cn().toast,l=m.useState(!1),d=l[0],h=l[1],f=m.useState(""),p=f[0],v=f[1];m.useEffect(function(){var b=function(){return bN(e,void 0,void 0,function(){var x,y;return wN(this,function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,wz.createPaymentIntent(r,s)];case 1:return x=w.sent().clientSecret,v(x),[3,3];case 2:return y=w.sent(),a(y instanceof Error?y.message:"Failed to initialize payment"),[3,3];case 3:return[2]}})})};b()},[r,s,a]);var g=function(b){return bN(e,void 0,void 0,function(){var x,y,w,C,k;return wN(this,function(S){switch(S.label){case 0:if(b.preventDefault(),!o||!c||!p)return[2];if(h(!0),x=c.getElement(yN),!x)return h(!1),[2];S.label=1;case 1:return S.trys.push([1,3,4,5]),[4,o.confirmCardPayment(p,{payment_method:{card:x}})];case 2:return y=S.sent(),w=y.error,C=y.paymentIntent,w?(a(w.message||"Payment failed"),u({title:"Payment Failed",description:w.message,variant:"destructive"})):C.status==="succeeded"&&(i(C.id),u({title:"Payment Successful",description:"Successfully processed payment of ".concat(r," ").concat(s.toUpperCase())})),[3,5];case 3:return k=S.sent(),a(k instanceof Error?k.message:"Payment processing failed"),[3,5];case 4:return h(!1),[7];case 5:return[2]}})})},N={style:{base:{fontSize:"16px",color:"#ffffff",backgroundColor:"transparent","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444"}}};return n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 mb-2 block",children:"Card Information"}),n.jsx("div",{className:"p-3 border border-gray-600 rounded-lg bg-gray-700",children:n.jsx(yN,{options:N})})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Amount: ",r," ",s.toUpperCase()]}),n.jsx("p",{className:"mt-1",children:"Your payment is secured by Stripe"})]}),n.jsx(X,{type:"submit",disabled:!o||d||!p,className:"w-full bg-green-600 hover:bg-green-700",children:d?"Processing...":"Pay ".concat(r," ").concat(s.toUpperCase())})]})}function Sz(t){var e=t.amount,r=t.currency,s=t.onSuccess,i=t.onError;return jN?n.jsx(eP,{stripe:jN,children:n.jsx(Nz,{amount:e,currency:r,onSuccess:s,onError:i})}):n.jsxs("div",{className:"text-center p-4 text-gray-400",children:[n.jsx("p",{children:"Credit card payments are currently unavailable."}),n.jsx("p",{className:"text-sm mt-2",children:"Please use cryptocurrency deposits instead."})]})}var _a=function(){return _a=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_a.apply(this,arguments)},Eo=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Po=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function Cz(){var t=this,e,r,s,i,a,o,c,u,l,d,h=m.useState("Balance"),f=h[0],p=h[1],v=m.useState(!0),g=v[0],N=v[1],b=Ui(),x=m.useState(""),y=x[0],w=x[1],C=m.useState(""),k=C[0],S=C[1],E=m.useState(""),_=E[0],P=E[1],W=m.useState("USDT-ERC20"),F=W[0],I=W[1],D=m.useState("ERC20"),q=D[0],V=D[1],re=m.useState(""),L=re[0],M=re[1],U=m.useState(null),Q=U[0],oe=U[1],Ne=m.useRef(null),H=m.useState(!1),he=H[0],Ee=H[1],B=m.useState(!1),se=B[0],G=B[1],Z=m.useState(!1),$=Z[0],de=Z[1],Oe=m.useState(""),ve=Oe[0],We=Oe[1],Ht=m.useState(""),ze=Ht[0],ke=Ht[1],at=m.useState(!1),R=at[0],K=at[1],ee=m.useState(null),ne=ee[0],ce=ee[1],pe=m.useState(""),Re=pe[0],Y=pe[1],fe=m.useState(!1),be=fe[0],nt=fe[1],Ct=m.useState(null),_t=Ct[0],Gr=Ct[1],vt=Cn().toast,Xe=en().user;m.useEffect(function(){Xe!=null&&Xe.address&&(S(Xe.address),console.log(" Withdrawal address auto-filled from profile:",Xe.address))},[Xe==null?void 0:Xe.address]);var $n=Mr({queryKey:["/api/users/".concat(Xe==null?void 0:Xe.id,"/trades")],enabled:!!(Xe!=null&&Xe.id),queryFn:function(){return Eo(t,void 0,void 0,function(){var j,A,te;return Po(this,function(ae){switch(ae.label){case 0:return ae.trys.push([0,3,,4]),[4,fetch("/api/users/".concat(Xe.id,"/trades"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return j=ae.sent(),j.ok?[4,j.json()]:(console.log("Trade history API failed, using empty array"),[2,[]]);case 2:return A=ae.sent(),console.log(" Trade history fetched for withdrawal validation:",A),[2,Array.isArray(A)?A:[]];case 3:return te=ae.sent(),console.error("Failed to fetch trade history:",te),[2,[]];case 4:return[2]}})})}}).data,Or=$n===void 0?[]:$n,Kt=Or.filter(function(j){return j.status==="completed"}).length,Fs=Mr({queryKey:["/api/users/".concat(Xe==null?void 0:Xe.id,"/withdrawals")],enabled:!!(Xe!=null&&Xe.id),queryFn:function(){return Eo(t,void 0,void 0,function(){var j,A,te;return Po(this,function(ae){switch(ae.label){case 0:return ae.trys.push([0,3,,4]),[4,fetch("/api/users/".concat(Xe.id,"/withdrawals"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return j=ae.sent(),j.ok?[4,j.json()]:(console.log("Withdrawal history API failed, using empty array"),[2,[]]);case 2:return A=ae.sent(),console.log(" Withdrawal history fetched:",A),[2,Array.isArray(A)?A:[]];case 3:return te=ae.sent(),console.error("Failed to fetch withdrawal history:",te),[2,[]];case 4:return[2]}})})},refetchInterval:3e4}).data,tn=Fs===void 0?[]:Fs,Rr=Mr({queryKey:["/api/users/".concat(Xe==null?void 0:Xe.id,"/deposits")],enabled:!!(Xe!=null&&Xe.id),queryFn:function(){return Eo(t,void 0,void 0,function(){var j,A,te;return Po(this,function(ae){switch(ae.label){case 0:return ae.trys.push([0,3,,4]),[4,fetch("/api/users/".concat(Xe.id,"/deposits"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return j=ae.sent(),j.ok?[4,j.json()]:(console.log("Deposit history API failed, using empty array"),[2,[]]);case 2:return A=ae.sent(),console.log(" Deposit history fetched:",A),[2,Array.isArray(A)?A:[]];case 3:return te=ae.sent(),console.error("Failed to fetch deposit history:",te),[2,[]];case 4:return[2]}})})},refetchInterval:3e4}).data,Ir=Rr===void 0?[]:Rr,Cr=ys(),zt={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:100,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:100,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:100,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},Ze=gn({mutationFn:function(j){return Eo(t,void 0,void 0,function(){var A,te,ae;return Po(this,function(ge){switch(ge.label){case 0:if(A=localStorage.getItem("authToken"),!A)throw new Error("No authentication token found");return[4,fetch("/api/deposits",{method:"POST",headers:{Authorization:"Bearer ".concat(A)},body:j})];case 1:return te=ge.sent(),te.ok?[3,3]:[4,te.json()];case 2:throw ae=ge.sent(),new Error(ae.message||"Failed to submit deposit");case 3:return[2,te.json()]}})})},onSuccess:function(j){vt({title:"Deposit Submitted",description:"Your deposit request has been submitted for review."}),w(""),oe(null),Cr.invalidateQueries({queryKey:["/api/balances"]}),Cr.invalidateQueries({queryKey:["/api/users/".concat(Xe==null?void 0:Xe.id,"/deposits")]})},onError:function(j){vt({title:"Deposit Failed",description:j.message,variant:"destructive"})}}),hr=function(j){var A,te=(A=j.target.files)===null||A===void 0?void 0:A[0];if(te){var ae=["image/jpeg","image/png","image/jpg","application/pdf"];if(!ae.includes(te.type)){vt({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(te.size>5*1024*1024){vt({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}oe(te)}},er=function(j){navigator.clipboard.writeText(j),vt({title:"Copied!",description:"Address copied to clipboard"})},di=function(){if(!y||parseFloat(y)<=0){vt({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!Q){vt({title:"Receipt Required",description:"Please upload a transaction receipt.",variant:"destructive"});return}var j=zt[F];if(parseFloat(y)<j.minAmount){vt({title:"Amount Too Small",description:"Minimum deposit amount is ".concat(j.minAmount," ").concat(F,"."),variant:"destructive"});return}var A=new FormData;A.append("amount",y),A.append("currency",F),A.append("receipt",Q),Ze.mutate(A)},Rt=function(){var j=zt[F],A=j.address;return console.log("QR Code value:",A),`METACHROME DEPOSIT ADDRESS
`.concat(j.network,`
`).concat(A,`

COPY THIS ADDRESS TO YOUR WALLET`)},ws=Mr({queryKey:["/api/balances"],enabled:!!Xe,refetchInterval:5e3,staleTime:0,cacheTime:0,queryFn:function(){return Eo(t,void 0,void 0,function(){var j,A,te,ae;return Po(this,function(ge){switch(ge.label){case 0:return console.log(" WALLET: Fetching balance from /api/balances for user:",Xe==null?void 0:Xe.id,Xe==null?void 0:Xe.username),console.log(" WALLET: Auth token:",((ae=localStorage.getItem("authToken"))===null||ae===void 0?void 0:ae.substring(0,30))+"..."),[4,fetch("/api/balances",{credentials:"include",headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return j=ge.sent(),console.log(" WALLET: Response status:",j.status,j.statusText),j.ok?[3,3]:[4,j.text()];case 2:throw A=ge.sent(),console.error(" WALLET: Balance API failed:",j.status,A),new Error("Failed to fetch balance: ".concat(j.status," ").concat(A));case 3:return[4,j.json()];case 4:return te=ge.sent(),console.log(" WALLET: Balance API response:",te),[2,te]}})})}}),$t=ws.data,rn=ws.isLoading,js=ib(),Lr=js.cryptoData,Wn=js.loading,cn=js.error;console.log(" WalletPage - Market Data:",{marketData:Lr,marketDataLoading:Wn,marketDataError:cn,dataLength:Lr==null?void 0:Lr.length});var It=[{id:"Balance",label:"Balance"},{id:"Deposit",label:"Deposit"},{id:"Withdraw",label:"Withdraw"},{id:"Transfer",label:"Transfer"}],Fr=function(j){if(j==="USDT"||j==="USDC"||j==="BUSD")return 1;var A=Lr==null?void 0:Lr.find(function(ue){return ue.symbol==="".concat(j,"/USDT")});if(A&&A.rawPrice){var te=A.rawPrice;return console.log(" getMarketPrice (from API):",{symbol:j,price:te,marketItem:A}),te}var ae={BTC:107e3,ETH:3700,SOL:200,BNB:600,XRP:2.4,ADA:.82,DOGE:.24,TRX:.25,LINK:20,AVAX:35,DOT:7,LTC:100},ge=ae[j]||0;return console.log(" getMarketPrice (fallback):",{symbol:j,fallbackPrice:ge,reason:"Market data not available"}),ge},O=parseFloat(((e=$t==null?void 0:$t.find(function(j){return j.symbol==="USDT"}))===null||e===void 0?void 0:e.available)||"0"),xe=($t==null?void 0:$t.reduce(function(j,A){var te=parseFloat(A.available||"0"),ae=Fr(A.symbol),ge=te*ae;return console.log(" Balance calculation:",{symbol:A.symbol,available:te,price:ae,usdtValue:ge}),j+ge},0))||O,_e=function(j,A){return Eo(t,void 0,void 0,function(){var te,ae,ge,ue,me,Fe,$e;return Po(this,function(yt){switch(yt.label){case 0:if(!Xe)return vt.error("Please login first"),[2];if(!A||parseFloat(A)<=0)return vt.error("Please enter a valid amount"),[2];if(te=$t==null?void 0:$t.find(function(jt){return jt.symbol===j}),!te||parseFloat(te.available)<parseFloat(A))return vt.error("Insufficient ".concat(j," balance")),[2];nt(!0),yt.label=1;case 1:return yt.trys.push([1,6,7,8]),console.log(" Converting ".concat(A," ").concat(j," to USDT...")),ae=Fr(j),console.log(" Current ".concat(j," price:"),ae),[4,fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},credentials:"include",body:JSON.stringify({userId:Xe.id,symbol:"".concat(j,"USDT"),side:"sell",amount:parseFloat(A),price:ae,type:"market"})})];case 2:return ge=yt.sent(),ge.ok?[3,4]:[4,ge.json()];case 3:throw ue=yt.sent(),new Error(ue.message||"Convert failed");case 4:return[4,ge.json()];case 5:return me=yt.sent(),console.log(" Convert successful:",me),Fe=(parseFloat(A)*ae).toFixed(2),vt.success("Successfully converted ".concat(A," ").concat(j," to ").concat(Fe," USDT")),K(!1),ce(null),Y(""),Cr.invalidateQueries({queryKey:["/api/balances"]}),[3,8];case 6:return $e=yt.sent(),console.error(" Convert error:",$e),vt.error($e.message||"Failed to convert"),[3,8];case 7:return nt(!1),[7];case 8:return[2]}})})},st=function(j,A){ce(j),Y(A),K(!0)};console.log(" WALLET PAGE - Balance data:",{userId:Xe==null?void 0:Xe.id,userBalances:$t,usdtBalance:O,totalBalanceUSDT:xe,balancesLoading:rn});var Wt=gn({mutationFn:function(j){return Eo(t,void 0,void 0,function(){var A,te,ae;return Po(this,function(ge){switch(ge.label){case 0:if(A=localStorage.getItem("authToken"),!A)throw new Error("Please login first to make a withdrawal");return[4,fetch("/api/withdrawals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)},body:JSON.stringify({amount:j.amount,currency:j.currency,address:j.address,password:j.password})})];case 1:return te=ge.sent(),te.ok?[3,3]:[4,te.json()];case 2:throw ae=ge.sent(),new Error(ae.error||ae.message||"Withdrawal failed");case 3:return[2,te.json()]}})})},onSuccess:function(j){vt({title:"Withdrawal Initiated",description:"Withdrawal of ".concat(j.amount," ").concat(j.currency," has been initiated and is pending approval")}),S(""),P(""),M(""),Cr.invalidateQueries({queryKey:["/api/balances"]})},onError:function(j){vt({title:"Withdrawal Failed",description:j.message,variant:"destructive"})}}),Ur=function(){if(!ve.trim()){vt({title:"Transaction Hash Required",description:"Please provide a valid transaction hash for verification",variant:"destructive"});return}Ze.mutate(_a(_a({},_t),{txHash:ve})),Ee(!1),We(""),Gr(null)},Lt=function(){if(!ze.trim()){vt({title:"Transfer Reference Required",description:"Please provide your bank transfer reference number",variant:"destructive"});return}Ze.mutate(_a(_a({},_t),{paymentData:{transferReference:ze}})),G(!1),ke(""),Gr(null)},Le=function(j){Ze.mutate(_a(_a({},_t),{paymentData:{paymentIntentId:j}})),de(!1),Gr(null)},xr=function(j){vt({title:"Payment Failed",description:j,variant:"destructive"})},Jt=$t||[];return n.jsxs("div",{className:"min-h-screen bg-[#1a1b2e]",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center space-x-1 mb-8 border-b border-gray-600 overflow-x-auto scrollbar-hide",children:It.map(function(j){return n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return p(j.id)},className:"whitespace-nowrap flex-shrink-0 ".concat(f===j.id?"bg-transparent text-white border-b-2 border-purple-500 rounded-none pb-3":"bg-transparent text-gray-400 hover:text-white rounded-none pb-3"),children:j.label},j.id)})})}),f==="Balance"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-[26px] md:text-[31px] font-bold text-white mb-2",children:"Balance"}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Total Balances"}),n.jsx("span",{className:"text-gray-400",children:""})]}),n.jsx("button",{onClick:function(){return N(!g)},className:"text-purple-400 text-sm hover:text-purple-300",children:g?"Simple View":"Detailed View"})]}),n.jsx("div",{className:"font-bold text-white leading-[2.5rem] ".concat(b?"text-[24px]":"text-[30px]"),children:rn?n.jsx("span",{className:"animate-pulse",children:"Loading..."}):"".concat(xe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDT")}),n.jsxs("div",{className:"mt-4 bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[n.jsxs("div",{className:"text-blue-400 text-sm font-medium flex items-center mb-2",children:[n.jsx("span",{className:"mr-2",children:""}),"Auto-Conversion System Active"]}),n.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[n.jsx("div",{children:" All cryptocurrency deposits are automatically converted to USDT"}),n.jsx("div",{children:" Real-time conversion with competitive rates"}),n.jsx("div",{children:" Unified balance for easy management and instant withdrawals"})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"My assets"}),n.jsx("div",{className:"text-sm text-gray-400",children:$t?"".concat($t.filter(function(j){return parseFloat(j.available)>0}).length," assets"):"0 assets"})]}),rn?n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-8",children:n.jsx("div",{className:"text-center text-gray-400",children:n.jsx("div",{className:"animate-pulse",children:"Loading assets..."})})}):$t&&$t.some(function(j){return parseFloat(j.available)>0})?n.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"hidden md:grid grid-cols-5 gap-4 p-4 bg-gray-700/30 border-b border-gray-600",children:[n.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Name"}),n.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Available assets"}),n.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Occupy"}),n.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Amount in USDT"}),n.jsx("div",{className:"text-sm font-medium text-gray-300 text-right",children:"Action"})]}),n.jsx("div",{className:"divide-y divide-gray-600",children:$t.filter(function(j){return parseFloat(j.available)>0}).map(function(j){var A=parseFloat(j.available),te=parseFloat(j.locked||"0"),ae=Fr(j.symbol),ge=A*ae,ue={BTC:"",ETH:"",SOL:"",USDT:"",BNB:"BNB",USDC:"USDC",BUSD:"BUSD"},me={BTC:"bg-orange-500",ETH:"bg-blue-500",SOL:"bg-purple-500",USDT:"bg-green-500",BNB:"bg-yellow-500",USDC:"bg-blue-600",BUSD:"bg-yellow-600"};return n.jsxs("div",{children:[n.jsxs("div",{className:"hidden md:grid grid-cols-5 gap-4 p-4 hover:bg-gray-700/20 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 ".concat(me[j.symbol]||"bg-gray-500"," rounded-full flex items-center justify-center text-white font-bold text-sm"),children:ue[j.symbol]||j.symbol.charAt(0)}),n.jsx("span",{className:"text-white font-medium",children:j.symbol})]}),n.jsx("div",{className:"text-white",children:A.toFixed(8)}),n.jsx("div",{className:"text-white",children:te.toFixed(8)}),n.jsx("div",{className:"text-white",children:ge.toFixed(2)}),n.jsx("div",{className:"text-right",children:j.symbol!=="USDT"?n.jsx("button",{onClick:function(){return st(j.symbol,A.toString())},className:"px-4 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors",children:"Convert to USDT"}):n.jsx("span",{className:"text-gray-500 text-sm",children:"-"})})]}),n.jsxs("div",{className:"md:hidden p-4 hover:bg-gray-700/20 transition-colors",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 ".concat(me[j.symbol]||"bg-gray-500"," rounded-full flex items-center justify-center text-white font-bold"),children:ue[j.symbol]||j.symbol.charAt(0)}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-medium",children:j.symbol}),n.jsxs("div",{className:"text-gray-400 text-sm",children:[ge.toFixed(2)," USDT"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Available"}),n.jsx("div",{className:"text-white",children:A.toFixed(8)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 mb-1",children:"Occupy"}),n.jsx("div",{className:"text-white",children:te.toFixed(8)})]})]}),j.symbol!=="USDT"&&n.jsx("button",{onClick:function(){return st(j.symbol,A.toString())},className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors",children:"Convert to USDT"})]})]},j.symbol)})})]}):n.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx("span",{className:"text-2xl text-gray-400",children:""})}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Data"}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"You don't have any cryptocurrency assets yet."}),n.jsx("p",{className:"text-gray-500 text-xs",children:"Start trading or deposit funds to see your assets here."})]})})]})]})}),f==="Deposit"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Deposit"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Add Funds"}),n.jsx(Zt,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),n.jsxs("select",{value:F,onChange:function(j){return I(j.target.value)},className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"BTC",children:"BTC"}),n.jsx("option",{value:"ETH",children:"ETH"}),n.jsx("option",{value:"SOL",children:"SOL"}),n.jsx("option",{value:"USDT-ERC20",children:"USDT-ERC20"}),n.jsx("option",{value:"USDT-TRC20",children:"USDT-TRC20"}),n.jsx("option",{value:"USDT-BEP20",children:"USDT-BEP20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"depositAmount",className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{id:"depositAmount",name:"depositAmount",type:"text",inputMode:"decimal",placeholder:"Please enter the recharge amount",value:y,onChange:function(j){var A=j.target.value.replace(/[^0-9.]/g,""),te=A.split(".");te.length>2||w(A)},className:"w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ".concat(y?"border-gray-600":"border-red-500")}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",(r=zt[F])===null||r===void 0?void 0:r.minAmount," ",F]}),y&&parseFloat(y)>0&&!F.startsWith("USDT")&&n.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-500/30 rounded-lg",children:[n.jsx("div",{className:"flex items-center mb-2",children:n.jsx("span",{className:"text-purple-400 text-sm font-medium",children:" Auto-convert:"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-300 text-xs",children:"You deposit:"}),n.jsxs("span",{className:"text-white text-sm font-bold",children:[y," ",F]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-300 text-xs",children:"Current price:"}),n.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[Fr(F).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDT"]})]}),n.jsx("div",{className:"border-t border-purple-500/20 my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-purple-300 text-xs font-medium",children:"You will receive:"}),n.jsxs("span",{className:"text-green-400 text-base font-bold",children:[" ",(parseFloat(y)*Fr(F)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDT"]})]})]}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2 italic",children:["* Your ",F," will be automatically converted to USDT at the current market rate"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),n.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[n.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:[" Send ",F," to this address to deposit funds to your METACHROME account"]}),n.jsxs("p",{className:"text-yellow-300 text-xs",children:[n.jsx("strong",{children:"Important:"})," Only send on ",(s=zt[F])===null||s===void 0?void 0:s.network,". Sending on wrong network will result in loss of funds!"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(i=zt[F])===null||i===void 0?void 0:i.address}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:function(){var j;return er((j=zt[F])===null||j===void 0?void 0:j.address)},children:n.jsx(lm,{className:"w-4 h-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(a=zt[F])===null||a===void 0?void 0:a.network]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(o=zt[F])===null||o===void 0?void 0:o.description})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:n.jsx(z3,{value:Rt(),size:200,className:"mx-auto"})}),n.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),n.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",n.jsx("strong",{children:(c=zt[F])===null||c===void 0?void 0:c.network})]}),n.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(u=zt[F])===null||u===void 0?void 0:u.address]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs(X,{onClick:function(){var j;return er((j=zt[F])===null||j===void 0?void 0:j.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[n.jsx(lm,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:" How to use:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ".concat(Q?"border-gray-600":"border-red-500"),onClick:function(){var j;return(j=Ne.current)===null||j===void 0?void 0:j.click()},children:Q?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(ri,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:Q.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(td,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{id:"receiptUpload",name:"receiptUpload",ref:Ne,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:hr,className:"hidden"})]}),(!y||!Q)&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[n.jsx("p",{className:"text-yellow-300 text-sm",children:" Please complete all required fields:"}),n.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!y&&n.jsx("li",{children:" Enter deposit amount"}),!Q&&n.jsx("li",{children:" Upload transaction receipt"})]})]}),n.jsx(X,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:di,disabled:Ze.isPending||!y||!Q,children:Ze.isPending?"Processing...":"Confirm recharge"})]})})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsxs(Ce,{className:"p-6",children:[n.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Recent Deposits"}),n.jsxs("div",{className:"space-y-4",children:[Ir.length>0?Ir.slice(0,3).map(function(j,A){return n.jsx("div",{className:"border-b border-gray-700 pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-white text-sm font-medium",children:[j.amount," ",j.currency]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[j.currency," Network"]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(j.created_at||j.timestamp).toLocaleDateString()," ",new Date(j.created_at||j.timestamp).toLocaleTimeString()]})]}),n.jsx("span",{className:"px-2 py-1 rounded text-xs ".concat(j.status==="pending"?"bg-yellow-500/20 text-yellow-400":j.status==="approved"||j.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:j.status==="approved"?"Completed":j.status==="pending"?"Pending":j.status==="rejected"?"Rejected":j.status.charAt(0).toUpperCase()+j.status.slice(1)})]})},j.id||A)}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No deposit history"})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{className:"text-purple-400 hover:text-purple-300 text-sm transition-colors",children:"View All History"})})]})]})})})]})]})}),f==="Withdraw"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Withdraw"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 text-sm font-medium",children:"Cryptocurrency"}),n.jsx("div",{className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white",children:"USDT"})]}),n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 text-sm font-medium",children:"Network"}),n.jsxs("select",{value:q,onChange:function(j){return V(j.target.value)},className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[n.jsx("option",{value:"ERC20",children:"USDT ERC20 (Ethereum Network)"}),n.jsx("option",{value:"TRC20",children:"USDT TRC20 (Tron Network)"}),n.jsx("option",{value:"BEP20",children:"USDT BEP20 (BNB Chain)"})]}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Please ensure you select the correct network to avoid loss of funds"})]}),n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Amount"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(Be,{id:"withdrawAmount",name:"withdrawAmount",type:"text",inputMode:"decimal",placeholder:"0.00",value:_,onChange:function(j){var A=j.target.value.replace(/[^0-9.]/g,""),te=A.split(".");te.length>2||P(A)},className:"bg-gray-700 border-gray-600 text-white pr-16 focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:"USDT"})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[n.jsxs("span",{children:["Available: ",((l=Jt.find(function(j){return j.symbol==="USDT"}))===null||l===void 0?void 0:l.available)||"0"," USDT"]}),n.jsx("button",{onClick:function(){var j;return P(((j=Jt.find(function(A){return A.symbol==="USDT"}))===null||j===void 0?void 0:j.available)||"0")},className:"text-purple-400 hover:text-purple-300",children:"Max"})]})]}),n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Address"}),n.jsx(Be,{id:"withdrawAddress",name:"withdrawAddress",type:"text",placeholder:k||"Set withdrawal address in Profile first",value:k,disabled:!0,className:"mt-2 bg-gray-700 border-gray-600 text-white opacity-75 cursor-not-allowed"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:" Withdrawal address is locked and auto-filled from your Profile. To change it, update your profile settings."})]}),n.jsxs("div",{children:[n.jsx(cr,{className:"text-gray-300 text-sm font-medium",children:"Login Password"}),n.jsx(Be,{id:"fundPassword",name:"fundPassword",type:"password",placeholder:"Enter your login password",value:L,onChange:function(j){return M(j.target.value)},className:"mt-2 bg-gray-700 border-gray-600 text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Your login password is required for security verification"})]}),Kt<2&&n.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600/50 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-yellow-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-yellow-500 font-semibold text-sm mb-1",children:"Minimum Trade Requirement"}),n.jsxs("p",{className:"text-yellow-200/80 text-sm",children:["You need to complete at least ",n.jsx("strong",{children:"2 trades"})," before you can withdraw. Current completed trades: ",n.jsxs("strong",{children:[Kt,"/2"]})]}),n.jsxs("p",{className:"text-yellow-200/60 text-xs mt-2",children:["Please complete ",2-Kt," more trade",2-Kt>1?"s":""," to unlock withdrawal."]})]})]})}),n.jsx(X,{onClick:function(){if(Kt<2){vt({title:"Withdrawal Not Available",description:"You need to complete at least 2 trades before withdrawing. Current: ".concat(Kt,"/2 trades completed."),variant:"destructive"});return}if(!k||!_||!L||parseFloat(_)<=0){vt({title:"Invalid Input",description:"Please fill in all required fields",variant:"destructive"});return}Wt.mutate({address:k,amount:_,currency:"USDT",password:L})},disabled:Kt<2||!k||!_||!L||Wt.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:Wt.isPending?"Processing Withdrawal...":Kt<2?"Complete ".concat(2-Kt," More Trade").concat(2-Kt>1?"s":""," to Withdraw"):"Confirm Withdrawal"})]})})})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsxs(Ce,{className:"p-6",children:[n.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Recent Withdrawals"}),n.jsxs("div",{className:"space-y-4",children:[tn.length>0?tn.slice(0,3).map(function(j,A){return n.jsx("div",{className:"border-b border-gray-700 pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-white text-sm font-medium",children:[j.amount," ",j.currency]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[j.currency," Network"]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(j.created_at||j.timestamp).toLocaleDateString()," ",new Date(j.created_at||j.timestamp).toLocaleTimeString()]})]}),n.jsx("span",{className:"px-2 py-1 rounded text-xs ".concat(j.status==="pending"?"bg-yellow-500/20 text-yellow-400":j.status==="approved"||j.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:j.status==="approved"?"Completed":j.status.charAt(0).toUpperCase()+j.status.slice(1)})]})},j.id||A)}):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No withdrawal history"})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{className:"text-purple-400 hover:text-purple-300 text-sm transition-colors",children:"View All History"})})]})]})})})]})]})}),f==="Transfer"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Transfer"}),n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(c0,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Transfer Feature"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Transfer functionality will be available soon. Stay tuned for updates."}),n.jsx(X,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"Coming Soon"})]})})})]})})]}),n.jsx(Bo,{open:he,onOpenChange:Ee,children:n.jsxs(Ha,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ka,{children:n.jsx(Ga,{className:"text-white",children:"Enter Transaction Hash"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your transaction hash for verification. This helps us confirm your deposit."}),n.jsxs("div",{children:[n.jsx(cr,{htmlFor:"txHash",className:"text-gray-300",children:"Transaction Hash"}),n.jsx(Be,{id:"txHash",type:"text",placeholder:"0x...",value:ve,onChange:function(j){return We(j.target.value)},className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(X,{variant:"outline",onClick:function(){Ee(!1),We(""),Gr(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),n.jsx(X,{onClick:Ur,disabled:!ve.trim()||Ze.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:Ze.isPending?"Processing...":"Confirm"})]})]})]})}),n.jsx(Bo,{open:se,onOpenChange:G,children:n.jsxs(Ha,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ka,{children:n.jsx(Ga,{className:"text-white",children:"Enter Bank Transfer Reference"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your bank transfer reference number. This helps us verify your payment."}),n.jsxs("div",{children:[n.jsx(cr,{htmlFor:"bankRef",className:"text-gray-300",children:"Transfer Reference Number"}),n.jsx(Be,{id:"bankRef",type:"text",placeholder:"Enter reference number",value:ze,onChange:function(j){return ke(j.target.value)},className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(X,{variant:"outline",onClick:function(){G(!1),ke(""),Gr(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),n.jsx(X,{onClick:Lt,disabled:!ze.trim()||Ze.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:Ze.isPending?"Processing...":"Confirm"})]})]})]})}),n.jsx(Bo,{open:$,onOpenChange:de,children:n.jsxs(Ha,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ka,{children:n.jsx(Ga,{className:"text-white",children:"Credit/Debit Card Payment"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Complete your payment securely with Stripe. Your card information is encrypted and secure."}),_t&&n.jsx(Sz,{amount:_t.amount,currency:"usd",onSuccess:Le,onError:xr}),n.jsx(X,{variant:"outline",onClick:function(){de(!1),Gr(null)},className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})}),n.jsx(Bo,{open:R,onOpenChange:K,children:n.jsxs(Ha,{className:"bg-gray-800 border-gray-700 text-white max-w-md",children:[n.jsx(Ka,{children:n.jsxs(Ga,{className:"text-xl font-bold",children:["Convert ",ne," to USDT"]})}),n.jsx("div",{className:"space-y-4 py-4",children:ne&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-400",children:["Available ",ne,":"]}),n.jsx("span",{className:"text-white font-medium",children:((d=$t==null?void 0:$t.find(function(j){return j.symbol===ne}))===null||d===void 0?void 0:d.available)||"0"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Current Price:"}),n.jsxs("span",{className:"text-white font-medium",children:["$",Fr(ne).toLocaleString()," USDT"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"You will receive:"}),n.jsxs("span",{className:"text-green-400 font-bold",children:["~$",(parseFloat(Re||"0")*Fr(ne)).toFixed(2)," USDT"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm text-gray-400",children:"Amount to convert:"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",value:Re,onChange:function(j){return Y(j.target.value)},placeholder:"0.00",step:"0.00000001",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-purple-500"}),n.jsx("button",{onClick:function(){var j,A=((j=$t==null?void 0:$t.find(function(te){return te.symbol===ne}))===null||j===void 0?void 0:j.available)||"0";Y(A)},className:"absolute right-3 top-1/2 -translate-y-1/2 px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-xs rounded transition-colors",children:"MAX"})]})]}),n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:n.jsxs("p",{className:"text-yellow-400 text-xs",children:[" This will instantly sell your ",ne," at market price and convert to USDT. This action cannot be undone."]})})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(X,{variant:"outline",onClick:function(){K(!1),ce(null),Y("")},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",disabled:be,children:"Cancel"}),n.jsx(X,{onClick:function(){return ne&&_e(ne,Re)},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",disabled:be||!Re||parseFloat(Re)<=0,children:be?"Converting...":"Convert Now"})]})]})})]})}const Tz="/assets/support_banner_desktop-1767465592682.jpg",kz="/assets/support_banner_mobile-1767465592682.jpg";var Ez=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Pz=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Na=function(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},_z=function(t){var e=t.split(/(\*\*.*?\*\*)/g);return e.map(function(r,s){return r.startsWith("**")&&r.endsWith("**")?n.jsx("strong",{children:r.slice(2,-2)},s):n.jsx("span",{children:r},s)})};function Dz(t){var e=this,r=t.onContactSupport,s=t.isOpen,i=t.onClose,a=m.useState([]),o=a[0],c=a[1],u=m.useState(""),l=u[0],d=u[1],h=m.useState([]),f=h[0],p=h[1],v=m.useState(!1),g=v[0],N=v[1],b=m.useState(!0),x=b[0],y=b[1],w=m.useState(!1),C=w[0],k=w[1],S=m.useRef(null),E=m.useCallback(function(I,D){D===void 0&&(D=0),setTimeout(function(){var q={id:Date.now().toString(),text:I,sender:"bot",timestamp:new Date};c(function(V){return Na(Na([],V,!0),[q],!1)})},D)},[]),_=m.useCallback(function(){return Ez(e,void 0,void 0,function(){var I,D,q,V;return Pz(this,function(re){switch(re.label){case 0:I=[{id:"1",question:"Deposit Funds",answer:` Go to Wallet  Deposit, choose your preferred network, and send funds to the displayed address. Confirmations may take up to 24 hours. Please double-check all details before sending.
For further help, tap **Contact Support** below.`,category:"deposit"},{id:"2",question:"Withdraw Funds",answer:` Go to Wallet  Withdraw, enter your wallet address and amount, then submit. Processing time may take up to 24 hours. Please double-check all details before confirming.
For further help, tap **Contact Support** below.`,category:"withdrawal"},{id:"3",question:"Spot Trading",answer:` Instantly buy or sell crypto at real-time market prices. You fully own the asset once the trade is completed.
For further help, tap **Contact Support** below.`,category:"spot"},{id:"4",question:"Options Trading",answer:` Trade short-term price movements with 8 available timeframes (30s600s) and fixed return ratios.
Correct predictions earn payouts based on the option's return rate.
For further help, tap **Contact Support** below.`,category:"options"},{id:"5",question:"Account Verification (KYC)",answer:` Complete your verification under Profile  Verify. Upload your valid ID (ID/Driver License/Passport) to enable trading and withdrawal features.
The process may take up to 24 hours  once approved, your account status will show Verified.
For further help, tap **Contact Support** below.`,category:"verification"},{id:"6",question:"Supported Cryptocurrencies",answer:` We offer 20 tradable crypto assets available on our platform. Check the Markets page for the full list and latest updates.
For further help, tap **Contact Support** below.`,category:"general"}],p(I),re.label=1;case 1:return re.trys.push([1,6,,7]),[4,fetch("/api/chat/faq")];case 2:return D=re.sent(),D.ok?[4,D.json()]:[3,4];case 3:return q=re.sent(),console.log(" Loaded FAQs from API:",q),q&&q.length>0&&p(q.slice(0,6)),[3,5];case 4:console.log(" FAQ API returned non-OK status, using fallback FAQs"),re.label=5;case 5:return[3,7];case 6:return V=re.sent(),console.error(" Error loading FAQs, using fallback:",V),[3,7];case 7:return[2]}})})},[]);m.useEffect(function(){if(s&&!C&&(_(),E(` Hello! I'm your METACHROME assistant. How can I help you today?

You can ask me common questions or click **Contact Support** to chat with our team.`),k(!0)),!s&&C){var I=setTimeout(function(){c([]),k(!1),y(!0),d("")},300);return function(){return clearTimeout(I)}}},[s,C,_,E]),m.useEffect(function(){var I;o.length>0&&((I=S.current)===null||I===void 0||I.scrollIntoView({behavior:"smooth"}))},[o]);var P=function(I){var D={id:Date.now().toString(),text:I,sender:"user",timestamp:new Date};c(function(q){return Na(Na([],q,!0),[D],!1)})},W=function(I){P(I.question),y(!1);var D={id:"typing",text:"",sender:"bot",timestamp:new Date,isTyping:!0};c(function(q){return Na(Na([],q,!0),[D],!1)}),setTimeout(function(){c(function(q){return q.filter(function(V){return V.id!=="typing"})}),E(I.answer),setTimeout(function(){y(!0)},1e3)},1500)},F=function(){if(l.trim()){P(l);var I=l.toLowerCase();d(""),y(!1);var D={id:"typing",text:"",sender:"bot",timestamp:new Date,isTyping:!0};c(function(q){return Na(Na([],q,!0),[D],!1)}),setTimeout(function(){c(function(U){return U.filter(function(Q){return Q.id!=="typing"})});for(var q=!1,V=0,re=f;V<re.length;V++){var L=re[V],M=L.question.toLowerCase().split(" ");if(M.some(function(U){return I.includes(U)})){E(L.answer),q=!0;break}}q||(I.includes("deposit")||I.includes("fund")?E("To deposit funds, go to Wallet page, click Deposit, select your cryptocurrency, and send funds to the displayed address. Need more specific help?"):I.includes("withdraw")||I.includes("cash out")?E("To withdraw, go to Wallet page, click Withdraw, enter amount and wallet address. Superadmin will approve within 24 hours. Need assistance?"):I.includes("trade")||I.includes("trading")?E("We offer 30s (min 100 USDT, 10% profit) and 60s (min 1000 USDT, 15% profit) trading. Go to Trade page to start. Want more details?"):I.includes("verify")||I.includes("kyc")?E("Upload your ID and proof of address in Profile > Verification. Review takes 24-48 hours. Need help with documents?"):E("I'm not sure about that specific question. Would you like to contact our support team for personalized assistance?")),setTimeout(function(){E("Anything else I can help with?"),y(!0)},1e3)},1500)}};return s?n.jsx("div",{className:"fixed ".concat(g?"bottom-4 right-4":"bottom-0 right-0 md:bottom-4 md:right-4"," z-50 ").concat(g?"w-auto":"w-full md:w-96"," ").concat(g?"h-auto":"h-[calc(100vh-80px)] md:h-[600px]"," transition-all duration-300"),children:n.jsxs(je,{className:"bg-[#1a1f2e] border-purple-500/30 shadow-2xl h-full flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-4 flex items-center justify-between rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Sj,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold",children:"METACHROME Assistant"}),n.jsx("p",{className:"text-purple-200 text-xs",children:"Online 24/7"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:function(){return N(!g)},className:"text-white hover:bg-white/20 p-2 rounded transition-colors",children:g?n.jsx(B5,{className:"w-4 h-4"}):n.jsx($5,{className:"w-4 h-4"})}),n.jsx("button",{onClick:i,className:"text-white hover:bg-white/20 p-2 rounded transition-colors",children:n.jsx(hl,{className:"w-4 h-4"})})]})]}),!g&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-4 space-y-4 bg-[#0f1419]",children:[o.map(function(I){return n.jsx("div",{className:"flex ".concat(I.sender==="user"?"justify-end":"justify-start"),children:n.jsxs("div",{className:"flex gap-2 max-w-[80%] ".concat(I.sender==="user"?"flex-row-reverse":"flex-row"),children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(I.sender==="user"?"bg-purple-600":"bg-gray-600"),children:I.sender==="user"?n.jsx(ni,{className:"w-4 h-4 text-white"}):n.jsx(Sj,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"rounded-lg p-3 ".concat(I.sender==="user"?"bg-purple-600 text-white":"bg-gray-700 text-gray-100"),children:I.isTyping?n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):n.jsx("p",{className:"whitespace-pre-line",style:{fontSize:"calc(0.75rem + 4px)"},children:_z(I.text)})}),n.jsx("p",{className:"text-gray-500 mt-1 px-1",style:{fontSize:"calc(0.75rem + 4px)"},children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},I.id)}),x&&f.length>0&&n.jsx("div",{className:"space-y-2",children:f.map(function(I){return n.jsx("button",{onClick:function(){return W(I)},className:"w-full text-left bg-gray-700/50 hover:bg-gray-700 text-gray-200 p-3 rounded-lg transition-colors border border-gray-600/30",style:{fontSize:"calc(0.875rem + 4px)"},children:I.question},I.id)})}),n.jsx("div",{ref:S})]}),n.jsxs("div",{className:"p-4 pb-24 md:pb-4 bg-[#1a1f2e] border-t border-gray-700",children:[n.jsxs("div",{className:"flex gap-2 mb-3",children:[n.jsx("input",{type:"text",value:l,onChange:function(I){return d(I.target.value)},onKeyPress:function(I){return I.key==="Enter"&&F()},placeholder:"Type your message...",className:"flex-1 bg-gray-700 text-white px-4 py-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",style:{fontSize:"calc(0.875rem + 4px)"}}),n.jsx(X,{onClick:F,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-4",children:n.jsx(c0,{className:"w-4 h-4"})})]}),n.jsx(X,{onClick:r,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 text-base font-medium mb-2 md:mb-0",children:"Contact Support"})]})]})]})}):null}var yi=function(){return yi=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yi.apply(this,arguments)},Mz=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Az=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function Oz(t){var e=this,r=t.isOpen,s=t.onClose,i=t.userEmail,a=t.userName,o=m.useState({name:a||"",email:i||"",subject:"",message:""}),c=o[0],u=o[1],l=m.useState(null),d=l[0],h=l[1],f=m.useState(null),p=f[0],v=f[1],g=m.useState(!1),N=g[0],b=g[1],x=Cn().toast,y=function(C){var k,S=(k=C.target.files)===null||k===void 0?void 0:k[0];if(S){if(S.size>5*1024*1024){x({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}if(!S.type.startsWith("image/")){x({title:"Invalid file type",description:"Please select an image file",variant:"destructive"});return}h(S);var E=new FileReader;E.onloadend=function(){v(E.result)},E.readAsDataURL(S)}},w=function(C){return Mz(e,void 0,void 0,function(){var k,S,E;return Az(this,function(_){switch(_.label){case 0:if(C.preventDefault(),!c.name.trim())return x({title:"Name required",description:"Please enter your name",variant:"destructive"}),[2];if(!c.email.trim()||!c.email.includes("@"))return x({title:"Valid email required",description:"Please enter a valid email address",variant:"destructive"}),[2];if(!c.subject.trim())return x({title:"Subject required",description:"Please enter a subject",variant:"destructive"}),[2];if(!c.message.trim())return x({title:"Message required",description:"Please enter your message",variant:"destructive"}),[2];b(!0),_.label=1;case 1:return _.trys.push([1,3,4,5]),k=new FormData,k.append("name",c.name),k.append("email",c.email),k.append("subject",c.subject),k.append("message",c.message),d&&k.append("image",d),[4,fetch("/api/contact-agent",{method:"POST",body:k})];case 2:if(S=_.sent(),S.ok)x({title:"Message sent successfully!",description:"Our team will get back to you within 24 hours."}),u({name:a||"",email:i||"",subject:"",message:""}),h(null),v(null),setTimeout(function(){s()},2e3);else throw new Error("Failed to send message");return[3,5];case 3:return E=_.sent(),console.error("Error sending message:",E),x({title:"Failed to send message",description:"Please try again or email us directly at support@metachrome.io",variant:"destructive"}),[3,5];case 4:return b(!1),[7];case 5:return[2]}})})};return r?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 pb-24 md:pb-4",children:n.jsxs(je,{className:"bg-[#1a1f2e] border-purple-500/30 shadow-2xl w-full max-w-md max-h-[calc(100vh-120px)] md:max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-4 flex items-center justify-between sticky top-0 z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(IC,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold",children:"Contact Support"}),n.jsx("p",{className:"text-purple-200 text-xs",children:"We'll respond within 24 hours"})]})]}),n.jsx("button",{onClick:s,className:"text-white hover:bg-white/20 p-2 rounded transition-colors",children:n.jsx(hl,{className:"w-4 h-4"})})]}),n.jsxs("form",{onSubmit:w,className:"p-6 pb-8 md:pb-6 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white text-xs font-medium mb-1.5",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:c.name,onChange:function(C){return u(yi(yi({},c),{name:C.target.value}))},placeholder:"Enter your name",className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white text-xs font-medium mb-1.5",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",value:c.email,onChange:function(C){return u(yi(yi({},c),{email:C.target.value}))},placeholder:"Enter your email",className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white text-xs font-medium mb-1.5",children:["Subject ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:c.subject,onChange:function(C){return u(yi(yi({},c),{subject:C.target.value}))},placeholder:"Enter the subject",className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-white text-xs font-medium mb-1.5",children:["Message ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:c.message,onChange:function(C){return u(yi(yi({},c),{message:C.target.value}))},placeholder:"Type your message...",rows:8,className:"w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-white text-xs font-medium mb-1.5",children:"Upload image (optional)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"image-upload"}),n.jsxs("label",{htmlFor:"image-upload",className:"flex items-center justify-center gap-2 w-full bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg cursor-pointer transition-colors text-sm",children:[n.jsx(Pd,{className:"w-4 h-4"}),n.jsx("span",{children:d?d.name:"Upload image (optional)"})]})]}),p&&n.jsxs("div",{className:"mt-2 relative",children:[n.jsx("img",{src:p,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:function(){h(null),v(null)},className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white p-1 rounded-full",children:n.jsx(hl,{className:"w-4 h-4"})})]})]}),n.jsx(X,{type:"submit",disabled:N,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-2.5 text-sm font-medium disabled:opacity-50",children:N?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(c0,{className:"w-4 h-4"}),"Send"]})})]})]})}):null}var Rz=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Iz=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function Lz(){var t=this,e=m.useState(null);e[0],e[1];var r=m.useState(null),s=r[0],i=r[1],a=m.useState(!1),o=a[0],c=a[1],u=m.useState(!1),l=u[0],d=u[1],h=m.useState(null),f=h[0],p=h[1],v=m.useState(!0),g=v[0],N=v[1],b=Ui();m.useEffect(function(){console.log("Fetching current user..."),N(!0);var w=localStorage.getItem("user");if(w)try{var C=JSON.parse(w);if(console.log("User from localStorage:",C),C&&C.id){p(C),N(!1);return}}catch(k){console.error("Error parsing stored user:",k)}fetch("/api/auth",{credentials:"include"}).then(function(k){if(console.log("User API response status:",k.status,k.ok),!k.ok)throw new Error("HTTP ".concat(k.status));return k.json()}).then(function(k){console.log("User data received:",k),k&&k.id?(p(k),localStorage.setItem("user",JSON.stringify(k))):console.warn("No valid user data received")}).catch(function(k){console.error("Error fetching user:",k)}).finally(function(){N(!1)})},[]);var x=[{icon:"/icon_support_email.png",title:"Email Us",description:"Email our support team for general queries or platform assistance.",contact:"support@metachrome.io",action:"Email",color:"from-purple-500 to-purple-600"},{icon:"/icon_support_livechat.png",title:"Live Chat",description:"Get in touch with our team members over Live Chat 24/7.",contact:"",action:"Live Chat",color:"from-purple-500 to-purple-600"}],y=[{question:"What is METACHROME?",answer:"METACHROME is a next-generation option trading platform designed to make crypto trading secure, simple, and accessible for everyone."},{question:"Why use METACHROME?",answer:"Because it's legit, easy to use, and fully integrated with Google and MetaMask. Our platform combines transparency, simplicity, and trust."},{question:"How to make a deposit on METACHROME?",answer:"You'll need a crypto wallet or exchange account. Buy USDT/BTC/ETH/SOL on your preferred exchange/wallet. Send it to your designated METACHROME wallet address. Your balance will appear automatically after confirmation."},{question:"How to start trading on METACHROME?",answer:"Once your deposit is confirmed, open the Trading Dashboard, choose your pair and duration, then place your trade."},{question:"Is METACHROME safe?",answer:"Yes. We use blockchain-based transactions, SSL encryption, and non-custodial wallet connections to keep your funds secure."},{question:"What assets are supported on METACHROME?",answer:"Currently, we only provide USDT (TRC20, ERC20, and BEP20). More assets will be added soon."},{question:"Do I need KYC?",answer:"Yes. All users are required to complete KYC verification before trading or withdrawing. This process ensures security, prevents fraud, and complies with global financial regulations."}];return n.jsxs("div",{className:"min-h-[10vh] bg-[#0B0E11]",children:[n.jsx("section",{className:"relative overflow-hidden bg-black w-full ".concat(b?"pt-[25px] pb-0":"py-8"),children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"relative overflow-hidden rounded-lg ".concat(b?"h-auto":"h-80"),children:[n.jsx("img",{src:b?kz:Tz,alt:"Support Banner",className:"w-full h-full object-contain"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]})})}),n.jsx("section",{className:"bg-black",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ".concat(b?"py-4":"py-8 sm:py-16"),children:n.jsx("div",{className:"grid gap-6 ".concat(b?"grid-cols-1 mb-8":"grid-cols-1 md:grid-cols-2 gap-8 mb-20"),children:x.map(function(w,C){return n.jsx(je,{className:"bg-[#1A1D29] border-gray-800 overflow-hidden hover:bg-[#1E2329] transition-colors rounded-xl",children:n.jsxs(Ce,{className:"".concat(b?"p-6":"p-8"," text-center h-full flex flex-col"),children:[n.jsx("div",{className:"".concat(b?"mb-4":"mb-6"),children:n.jsx("img",{src:w.icon,alt:w.title,className:"mx-auto object-contain ".concat(b?"w-12 h-12":"w-16 h-16"),onLoad:function(){return console.log("Support icon loaded:",w.icon)},onError:function(k){console.error("Support icon failed to load:",k.target.src)}})}),n.jsx("h3",{className:"font-semibold text-white ".concat(b?"text-lg mb-3":"text-xl mb-4"),children:w.title}),n.jsx("p",{className:"text-gray-400 leading-relaxed flex-grow ".concat(b?"mb-4 text-sm":"mb-6 text-sm"),children:w.description}),w.contact&&n.jsx("p",{className:"text-white font-medium ".concat(b?"mb-4 text-sm":"mb-6"),children:w.contact}),w.title!=="Email Us"&&n.jsx(X,{onClick:function(){return c(!0)},className:"w-full text-white rounded-lg font-medium hover:opacity-90 ".concat(b?"py-2":"py-3"),style:{backgroundColor:"#AB00FF",fontSize:b?"calc(0.875rem + 4px)":"1rem"},children:"Live Chat"})]})},C)})})})}),n.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-16",children:b?n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-sm sm:text-base px-2",children:"Essential information to support your trading journey."}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64",children:n.jsx("img",{src:bm,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),n.jsx("div",{className:"space-y-4 px-2",children:y.map(function(w,C){return n.jsxs(xm,{open:s===C,onOpenChange:function(){return i(s===C?null:C)},children:[n.jsx(vm,{asChild:!0,children:n.jsx(je,{className:"bg-black border-2 transition-all duration-300 cursor-pointer ".concat(s===C?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"),children:n.jsx(Ce,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium pr-3 text-sm transition-colors duration-300 ".concat(s===C?"text-purple-400":"text-white"),children:w.question}),n.jsx(ha,{className:"w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ".concat(s===C?"rotate-180 text-purple-400":"")})]})})})}),n.jsx(ym,{children:n.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:w.answer})})})]},C)})})]}):n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Essential information to support your trading journey."}),n.jsx("div",{className:"p-0 m-0",children:n.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:n.jsx("img",{src:bm,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),n.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:y.map(function(w,C){return n.jsxs(xm,{open:s===C,onOpenChange:function(){return i(s===C?null:C)},children:[n.jsx(vm,{asChild:!0,children:n.jsx(je,{className:"bg-black border-2 transition-all duration-300 cursor-pointer ".concat(s===C?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"),children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium pr-4 text-lg transition-colors duration-300 ".concat(s===C?"text-purple-400":"text-white"),children:w.question}),n.jsx(ha,{className:"w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ".concat(s===C?"rotate-180 text-purple-400":"")})]})})})}),n.jsx(ym,{children:n.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-lg",children:w.answer})})})]},C)})})]})}),o&&n.jsx(Dz,{isOpen:o,onClose:function(){return c(!1)},onContactSupport:function(){return Rz(t,void 0,void 0,function(){var w,C,k,S;return Iz(this,function(E){switch(E.label){case 0:if(console.log("=== Contact Support Clicked ==="),console.log("Current user state:",f),console.log("Is loading user:",g),w=f,!(!w||!w.id))return[3,7];if(console.log("User not loaded, trying localStorage..."),C=localStorage.getItem("user"),C)try{w=JSON.parse(C),console.log("User from localStorage:",w),w&&w.id?p(w):w=null}catch(_){console.error("Error parsing stored user:",_),w=null}if(!(!w||!w.id))return[3,7];console.log("Fetching from API..."),E.label=1;case 1:return E.trys.push([1,6,,7]),[4,fetch("/api/auth")];case 2:return k=E.sent(),console.log("Fetch response:",k.status,k.ok),k.ok?[4,k.json()]:[3,4];case 3:return w=E.sent(),console.log("User fetched:",w),w&&w.id?(p(w),localStorage.setItem("user",JSON.stringify(w))):(console.error("Invalid user data:",w),w=null),[3,5];case 4:console.error("Fetch failed with status:",k.status),E.label=5;case 5:return[3,7];case 6:return S=E.sent(),console.error("Error fetching user:",S),[3,7];case 7:return!w||!w.id?(console.error("No valid user found, showing alert"),alert("Please login first to contact live support"),[2]):(console.log("Opening contact form for user:",w.id,w.username||w.email),d(!0),setTimeout(function(){c(!1)},100),[2])}})})}}),l&&n.jsx(Oz,{isOpen:l,onClose:function(){return d(!1)},userEmail:(f==null?void 0:f.email)||(f==null?void 0:f.username),userName:f!=null&&f.firstName&&(f!=null&&f.lastName)?"".concat(f.firstName," ").concat(f.lastName):(f==null?void 0:f.username)||(f==null?void 0:f.email)})]})}function Fz(){return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"rgb(13 11 31 / 98%)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"font-bold text-white mb-4",style:{fontSize:"calc(1.875rem + 5px)"},children:"Trade Policy  Metachrome"}),n.jsxs("p",{className:"text-gray-400 mb-8",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("strong",{children:"Effective Date:"})," October 26, 2024"]}),n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"1. Introduction"}),n.jsxs("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:['Metachrome (hereinafter referred to as "the Company") operates the website ',n.jsx("strong",{children:"https://www.metachrome.io/"}),' and related applications (hereinafter referred to as "the Platform") dedicated to the trading of digital assets and the provision of associated services (hereinafter referred to as "the Services").']}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:'All individuals or entities who access or use this Platform are regarded as users (hereinafter referred to as "the Users," or "you").'}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"This Trade Policy describes the terms, conditions, rules, and practices governing trading activities conducted via the Platform, including how trades are executed, processed, settled, and maintained."}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"By accessing or using the Platform, you acknowledge and accept this Trade Policy. This Policy may be updated from time to time; continued use of the Platform constitutes acceptance of such updates. Users are responsible for reviewing this Trade Policy periodically."}),n.jsx("hr",{className:"my-8 border-gray-700"}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"2. Scope of Trading Services"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"The Platform provides a marketplace for the trading of digital assets, including but not limited to cryptocurrencies, tokens, and other blockchain-based instruments. The Company acts as a facilitator and does not provide investment advice, financial planning, or recommendations regarding specific trades."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"3. Account Registration and Verification"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"To access trading services, users must register an account and complete any required identity verification procedures (KYC/AML). The Company reserves the right to request additional documentation or information at any time."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"4. Order Types and Execution"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"The Platform supports various order types including market orders, limit orders, and stop orders. All orders are subject to availability, market conditions, and the Platform's matching engine. The Company does not guarantee execution at any specific price."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"5. Fees and Charges"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Trading on the Platform may be subject to fees including but not limited to trading fees, withdrawal fees, and network fees. All applicable fees are disclosed on the Platform and may be updated from time to time."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"6. Market Risks"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Digital asset trading involves substantial risk. Prices can be highly volatile and may result in significant losses. Users acknowledge that they trade at their own risk and the Company is not liable for any trading losses."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"7. Prohibited Activities"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Users are prohibited from engaging in market manipulation, wash trading, spoofing, or any other fraudulent or deceptive trading practices. Violation may result in account suspension or termination."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"8. Settlement and Clearing"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Trades are settled according to the Platform's settlement procedures. The Company reserves the right to reverse or cancel trades in cases of error, fraud, or system malfunction."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"9. Dispute Resolution"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Any disputes arising from trading activities shall be resolved in accordance with the Platform's Terms of Service and applicable law."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"10. Amendments"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"The Company reserves the right to amend this Trade Policy at any time. Users will be notified of material changes and continued use constitutes acceptance of the amended policy."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"11. Contact Information"}),n.jsxs("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:["For questions regarding this Trade Policy, please contact us at ",n.jsx("a",{href:"mailto:support@metachrome.io",className:"text-purple-400 hover:underline",children:"support@metachrome.io"})]}),n.jsx("hr",{className:"my-8 border-gray-700"}),n.jsxs("p",{className:"text-sm text-gray-400 mt-8",style:{fontSize:"calc(0.875rem - 2px)"},children:[n.jsx("strong",{children:"Last Updated:"})," October 26, 2024"]})]})]})})}function Uz(){return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"rgb(13 11 31 / 98%)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"font-bold text-white mb-4",style:{fontSize:"calc(1.875rem + 5px)"},children:"Terms of Service  Metachrome"}),n.jsxs("p",{className:"text-gray-400 mb-8",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("strong",{children:"Last updated:"})," October 26, 2024"]}),n.jsx("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4 mb-8",children:n.jsxs("p",{className:"text-gray-200",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("strong",{children:"Important:"})," By opening an account, using ",n.jsx("a",{href:"https://www.metachrome.io",className:"text-purple-400 hover:underline",children:"metachrome.io"}),' and/or any Services provided by Metachrome, you acknowledge that you have read, understood, and agreed to these Terms of Service (the "Terms"). If you do not agree, you must cease using the Platform immediately.']})}),n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(1) Our Agreement"}),n.jsx("h3",{className:"font-semibold text-white mt-6 mb-3",style:{fontSize:"calc(1.25rem - 4px)"},children:"1.1 Preliminaries"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:'These Terms of Service constitute a legally binding agreement between you and Metachrome ("we," "us," or "our"). By accessing or using our Platform, you agree to be bound by these Terms.'}),n.jsx("h3",{className:"font-semibold text-white mt-6 mb-3",style:{fontSize:"calc(1.25rem - 4px)"},children:"1.2 Definitions"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:'"Platform"'})," means the Metachrome website, mobile applications, and all related services"]}),n.jsxs("li",{children:[n.jsx("strong",{children:'"Services"'})," means all trading, wallet, and related services provided by Metachrome"]}),n.jsxs("li",{children:[n.jsx("strong",{children:'"User"'})," or ",n.jsx("strong",{children:'"you"'})," means any person or entity using the Platform"]}),n.jsxs("li",{children:[n.jsx("strong",{children:'"Digital Assets"'})," means cryptocurrencies, tokens, and other blockchain-based assets"]})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(2) Eligibility"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"To use our Services, you must:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Be at least 18 years of age"}),n.jsx("li",{children:"Have the legal capacity to enter into binding contracts"}),n.jsx("li",{children:"Not be located in a jurisdiction where our Services are prohibited"}),n.jsx("li",{children:"Comply with all applicable laws and regulations"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(3) Account Registration"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"You must register an account to access certain Services. You agree to:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Provide accurate and complete information"}),n.jsx("li",{children:"Maintain the security of your account credentials"}),n.jsx("li",{children:"Notify us immediately of any unauthorized access"}),n.jsx("li",{children:"Accept responsibility for all activities under your account"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(4) Trading Services"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Our Platform facilitates the trading of Digital Assets. You acknowledge that:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Trading involves substantial risk and may result in losses"}),n.jsx("li",{children:"We do not provide investment advice or recommendations"}),n.jsx("li",{children:"All trading decisions are your sole responsibility"}),n.jsx("li",{children:"Market conditions may affect order execution"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(5) Fees and Charges"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"You agree to pay all applicable fees as disclosed on the Platform, including:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Trading fees"}),n.jsx("li",{children:"Withdrawal fees"}),n.jsx("li",{children:"Network transaction fees"}),n.jsx("li",{children:"Any other fees disclosed on the Platform"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(6) Prohibited Activities"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"You agree not to:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Engage in market manipulation or fraudulent trading"}),n.jsx("li",{children:"Use the Platform for money laundering or illegal activities"}),n.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),n.jsx("li",{children:"Violate any applicable laws or regulations"}),n.jsx("li",{children:"Interfere with other users' access to the Platform"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(7) Intellectual Property"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"All content, trademarks, and intellectual property on the Platform are owned by Metachrome or our licensors. You may not use, copy, or distribute any content without our prior written permission."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(8) Limitation of Liability"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"To the maximum extent permitted by law, Metachrome shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of the Platform or Services."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(9) Indemnification"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"You agree to indemnify and hold harmless Metachrome from any claims, damages, or expenses arising from your use of the Platform or violation of these Terms."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(10) Termination"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We reserve the right to suspend or terminate your account at any time for violation of these Terms or for any other reason at our sole discretion."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(11) Governing Law"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"These Terms shall be governed by and construed in accordance with applicable law. Any disputes shall be resolved through binding arbitration."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(12) Changes to Terms"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We reserve the right to modify these Terms at any time. Material changes will be notified to users, and continued use constitutes acceptance of the modified Terms."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"(13) Contact Us"}),n.jsxs("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:["For questions about these Terms, please contact us at ",n.jsx("a",{href:"mailto:support@metachrome.io",className:"text-purple-400 hover:underline",children:"support@metachrome.io"})]}),n.jsx("hr",{className:"my-8 border-gray-700"}),n.jsxs("p",{className:"text-sm text-gray-400 mt-8",style:{fontSize:"calc(0.875rem - 2px)"},children:[n.jsx("strong",{children:"Last Updated:"})," October 26, 2024"]})]})]})})}function Bz(){return n.jsx("div",{className:"min-h-screen",style:{backgroundColor:"rgb(13 11 31 / 98%)"},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("h1",{className:"font-bold text-white mb-4",style:{fontSize:"calc(1.875rem + 5px)"},children:"Privacy Policy  Metachrome"}),n.jsxs("p",{className:"text-gray-400 mb-8",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("strong",{children:"Effective date:"})," October 26, 2024  ",n.jsx("strong",{children:"Last updated:"})," October 26, 2024"]}),n.jsx("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4 mb-8",children:n.jsxs("p",{className:"text-gray-200",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("strong",{children:"Summary (TL;DR):"})," This Policy explains what personal data we collect, why we collect it, how we use and share it, how long we keep it, and your rightsespecially under the EU/UK GDPR. If you disagree with this Policy, please do not use the Platform."]})}),n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"1. Introduction"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:'Metachrome ("we," "us," or "our") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your personal information when you use our Platform and Services.'}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"By using our Platform, you consent to the data practices described in this Policy. If you do not agree with this Policy, please do not access or use our Services."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"2. Information We Collect"}),n.jsx("h3",{className:"font-semibold text-white mt-6 mb-3",style:{fontSize:"calc(1.25rem - 4px)"},children:"2.1 Personal Information"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We collect personal information that you provide to us, including:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Name, email address, and contact information"}),n.jsx("li",{children:"Government-issued identification documents (for KYC/AML compliance)"}),n.jsx("li",{children:"Financial information (bank account details, transaction history)"}),n.jsx("li",{children:"Proof of address and other verification documents"})]}),n.jsx("h3",{className:"font-semibold text-white mt-6 mb-3",style:{fontSize:"calc(1.25rem - 4px)"},children:"2.2 Automatically Collected Information"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"When you use our Platform, we automatically collect:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"IP address and device information"}),n.jsx("li",{children:"Browser type and operating system"}),n.jsx("li",{children:"Usage data and analytics"}),n.jsx("li",{children:"Cookies and similar tracking technologies"})]}),n.jsx("h3",{className:"font-semibold text-white mt-6 mb-3",style:{fontSize:"calc(1.25rem - 4px)"},children:"2.3 Transaction Information"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We collect information about your trading activities, including:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Trade history and order details"}),n.jsx("li",{children:"Wallet addresses and transaction records"}),n.jsx("li",{children:"Deposit and withdrawal information"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"3. How We Use Your Information"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We use your information for the following purposes:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"To provide and maintain our Services"}),n.jsx("li",{children:"To verify your identity and comply with KYC/AML regulations"}),n.jsx("li",{children:"To process transactions and manage your account"}),n.jsx("li",{children:"To detect and prevent fraud and security threats"}),n.jsx("li",{children:"To communicate with you about your account and our Services"}),n.jsx("li",{children:"To improve our Platform and develop new features"}),n.jsx("li",{children:"To comply with legal obligations and regulatory requirements"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"4. How We Share Your Information"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We may share your information with:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Service Providers:"})," Third-party vendors who assist us in operating our Platform"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Regulatory Authorities:"})," Government agencies and law enforcement when required by law"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Business Partners:"})," With your consent, for specific purposes"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legal Proceedings:"})," When necessary to comply with legal obligations or protect our rights"]})]}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We do not sell your personal information to third parties."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"5. Data Security"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We implement appropriate technical and organizational measures to protect your personal information, including:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Encryption of sensitive data"}),n.jsx("li",{children:"Secure server infrastructure"}),n.jsx("li",{children:"Regular security audits and monitoring"}),n.jsx("li",{children:"Access controls and authentication measures"})]}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"However, no method of transmission over the Internet is 100% secure, and we cannot guarantee absolute security."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"6. Data Retention"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We retain your personal information for as long as necessary to:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsx("li",{children:"Provide our Services to you"}),n.jsx("li",{children:"Comply with legal and regulatory obligations"}),n.jsx("li",{children:"Resolve disputes and enforce our agreements"})]}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"After this period, we will securely delete or anonymize your information."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"7. Your Rights (GDPR)"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"If you are located in the EU/UK, you have the following rights:"}),n.jsxs("ul",{className:"list-disc pl-6 mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Access:"})," Request a copy of your personal data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Rectification:"})," Correct inaccurate or incomplete data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Erasure:"})," Request deletion of your data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Restriction:"})," Limit how we use your data"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Data Portability:"})," Receive your data in a structured format"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Object:"})," Object to certain processing activities"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Right to Withdraw Consent:"})," Withdraw consent at any time"]})]}),n.jsxs("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:["To exercise these rights, please contact us at ",n.jsx("a",{href:"mailto:privacy@metachrome.io",className:"text-purple-400 hover:underline",children:"privacy@metachrome.io"})]}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"8. Cookies and Tracking"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We use cookies and similar technologies to enhance your experience. You can control cookie settings through your browser preferences."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"9. International Data Transfers"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Your information may be transferred to and processed in countries outside your jurisdiction. We ensure appropriate safeguards are in place to protect your data."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"10. Children's Privacy"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"Our Services are not intended for individuals under 18 years of age. We do not knowingly collect personal information from children."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"11. Changes to This Policy"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"We may update this Privacy Policy from time to time. We will notify you of material changes by posting the updated Policy on our Platform."}),n.jsx("h2",{className:"font-bold text-white mt-8 mb-4",style:{fontSize:"calc(1.5rem - 4px)"},children:"12. Contact Us"}),n.jsx("p",{className:"text-gray-300 mb-4",style:{fontSize:"calc(1rem - 2px)"},children:"For questions about this Privacy Policy or our data practices, please contact us at:"}),n.jsxs("ul",{className:"list-none mb-4 text-gray-300",style:{fontSize:"calc(1rem - 2px)"},children:[n.jsxs("li",{children:["Email: ",n.jsx("a",{href:"mailto:privacy@metachrome.io",className:"text-purple-400 hover:underline",children:"privacy@metachrome.io"})]}),n.jsxs("li",{children:["Support: ",n.jsx("a",{href:"mailto:support@metachrome.io",className:"text-purple-400 hover:underline",children:"support@metachrome.io"})]})]}),n.jsx("hr",{className:"my-8 border-gray-700"}),n.jsxs("p",{className:"text-sm text-gray-400 mt-8",style:{fontSize:"calc(0.875rem - 2px)"},children:[n.jsx("strong",{children:"Last Updated:"})," October 26, 2024"]})]})]})})}var So=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},Ao=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:e,className:Je("w-full caption-bottom text-sm",r),...s})})});Ao.displayName="Table";var Oo=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("thead",{ref:e,className:Je("[&_tr]:border-b",r),...s})});Oo.displayName="TableHeader";var Ro=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("tbody",{ref:e,className:Je("[&_tr:last-child]:border-0",r),...s})});Ro.displayName="TableBody";var zz=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("tfoot",{ref:e,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})});zz.displayName="TableFooter";var wn=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("tr",{ref:e,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});wn.displayName="TableRow";var ut=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("th",{ref:e,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});ut.displayName="TableHead";var it=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("td",{ref:e,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});it.displayName="TableCell";var $z=m.forwardRef(function(t,e){var r=t.className,s=So(t,["className"]);return n.jsx("caption",{ref:e,className:Je("mt-4 text-sm text-muted-foreground",r),...s})});$z.displayName="TableCaption";var z0="Tabs",[Wz]=Rs(z0,[y0]),rP=y0(),[Vz,Mb]=Wz(z0),nP=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:u="automatic",...l}=t,d=x0(c),[h,f]=co({prop:s,onChange:i,defaultProp:a??"",caller:z0});return n.jsx(Vz,{scope:r,baseId:si(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:u,children:n.jsx(rt.div,{dir:d,"data-orientation":o,...l,ref:e})})});nP.displayName=z0;var sP="TabsList",iP=m.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...i}=t,a=Mb(sP,r),o=rP(r);return n.jsx(PT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:n.jsx(rt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});iP.displayName=sP;var aP="TabsTrigger",oP=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:i=!1,...a}=t,o=Mb(aP,r),c=rP(r),u=uP(o.baseId,s),l=dP(o.baseId,s),d=s===o.value;return n.jsx(_T,{asChild:!0,...c,focusable:!i,active:d,children:n.jsx(rt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":l,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:Me(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:Me(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:Me(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(s)})})})});oP.displayName=aP;var lP="TabsContent",cP=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:i,children:a,...o}=t,c=Mb(lP,r),u=uP(c.baseId,s),l=dP(c.baseId,s),d=s===c.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Is,{present:i||d,children:({present:f})=>n.jsx(rt.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!f,id:l,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});cP.displayName=lP;function uP(t,e){return`${t}-trigger-${e}`}function dP(t,e){return`${t}-content-${e}`}var Hz=nP,hP=iP,fP=oP,mP=cP,Ab=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},pP=Hz,_m=m.forwardRef(function(t,e){var r=t.className,s=Ab(t,["className"]);return n.jsx(hP,{ref:e,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});_m.displayName=hP.displayName;var Xr=m.forwardRef(function(t,e){var r=t.className,s=Ab(t,["className"]);return n.jsx(fP,{ref:e,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});Xr.displayName=fP.displayName;var jn=m.forwardRef(function(t,e){var r=t.className,s=Ab(t,["className"]);return n.jsx(mP,{ref:e,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});jn.displayName=mP.displayName;const af=43200,NN=1440,SN=Symbol.for("constructDateFrom");function Ob(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&SN in t?t[SN](e):t instanceof Date?new t.constructor(e):new Date(e)}function mo(t,e){return Ob(t,t)}let Kz={};function Gz(){return Kz}function CN(t){const e=mo(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Rb(t,...e){const r=Ob.bind(null,t||e.find(s=>typeof s=="object"));return e.map(r)}function Mf(t,e){const r=+mo(t)-+mo(e);return r<0?-1:r>0?1:r}function qz(t){return Ob(t,Date.now())}function Qz(t,e,r){const[s,i]=Rb(r==null?void 0:r.in,t,e),a=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return a*12+o}function Xz(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Yz(t,e){return+mo(t)-+mo(e)}function Jz(t,e){const r=mo(t);return r.setHours(23,59,59,999),r}function Zz(t,e){const r=mo(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function e9(t,e){const r=mo(t);return+Jz(r)==+Zz(r)}function t9(t,e,r){const[s,i,a]=Rb(r==null?void 0:r.in,t,t,e),o=Mf(i,a),c=Math.abs(Qz(i,a));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*c);let u=Mf(i,a)===-o;e9(s)&&c===1&&Mf(s,a)===1&&(u=!1);const l=o*(c-+u);return l===0?0:l}function r9(t,e,r){const s=Yz(t,e)/1e3;return Xz(r==null?void 0:r.roundingMethod)(s)}const n9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s9=(t,e,r)=>{let s;const i=n9[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function fg(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const i9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l9={date:fg({formats:i9,defaultWidth:"full"}),time:fg({formats:a9,defaultWidth:"full"}),dateTime:fg({formats:o9,defaultWidth:"full"})},c9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u9=(t,e,r,s)=>c9[t];function Ou(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const d9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x9=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},v9={ordinalNumber:x9,era:Ou({values:d9,defaultWidth:"wide"}),quarter:Ou({values:h9,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ou({values:f9,defaultWidth:"wide"}),day:Ou({values:m9,defaultWidth:"wide"}),dayPeriod:Ou({values:p9,defaultWidth:"wide",formattingValues:g9,defaultFormattingWidth:"wide"})};function Ru(t){return(e,r={})=>{const s=r.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?b9(c,h=>h.test(o)):y9(c,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;const d=e.slice(o.length);return{value:l,rest:d}}}function y9(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function b9(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function w9(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(i.length);return{value:o,rest:c}}}const j9=/^(\d+)(th|st|nd|rd)?/i,N9=/\d+/i,S9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C9={any:[/^b/i,/^(a|c)/i]},T9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},k9={any:[/1/i,/2/i,/3/i,/4/i]},E9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},D9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O9={ordinalNumber:w9({matchPattern:j9,parsePattern:N9,valueCallback:t=>parseInt(t,10)}),era:Ru({matchPatterns:S9,defaultMatchWidth:"wide",parsePatterns:C9,defaultParseWidth:"any"}),quarter:Ru({matchPatterns:T9,defaultMatchWidth:"wide",parsePatterns:k9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ru({matchPatterns:E9,defaultMatchWidth:"wide",parsePatterns:P9,defaultParseWidth:"any"}),day:Ru({matchPatterns:_9,defaultMatchWidth:"wide",parsePatterns:D9,defaultParseWidth:"any"}),dayPeriod:Ru({matchPatterns:M9,defaultMatchWidth:"any",parsePatterns:A9,defaultParseWidth:"any"})},R9={code:"en-US",formatDistance:s9,formatLong:l9,formatRelative:u9,localize:v9,match:O9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I9(t,e,r){const s=Gz(),i=(r==null?void 0:r.locale)??s.locale??R9,a=2520,o=Mf(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[u,l]=Rb(r==null?void 0:r.in,...o>0?[e,t]:[t,e]),d=r9(l,u),h=(CN(l)-CN(u))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,c):d<10?i.formatDistance("lessThanXSeconds",10,c):d<20?i.formatDistance("lessThanXSeconds",20,c):d<40?i.formatDistance("halfAMinute",0,c):d<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):f===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",f,c);if(f<45)return i.formatDistance("xMinutes",f,c);if(f<90)return i.formatDistance("aboutXHours",1,c);if(f<NN){const v=Math.round(f/60);return i.formatDistance("aboutXHours",v,c)}else{if(f<a)return i.formatDistance("xDays",1,c);if(f<af){const v=Math.round(f/NN);return i.formatDistance("xDays",v,c)}else if(f<af*2)return p=Math.round(f/af),i.formatDistance("aboutXMonths",p,c)}if(p=t9(l,u),p<12){const v=Math.round(f/af);return i.formatDistance("xMonths",v,c)}else{const v=p%12,g=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",g,c):v<9?i.formatDistance("overXYears",g,c):i.formatDistance("almostXYears",g+1,c)}}function L9(t,e){return I9(t,qz(t),e)}var lc=function(){return lc=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lc.apply(this,arguments)},mg=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},pg=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},TN=function(t,e,r){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))};function F9(t){var e=this,r=t.onTabChange,s=m.useState([]),i=s[0],a=s[1],o=m.useState(!1),c=o[0],u=o[1],l=m.useState(0),d=l[0],h=l[1],f=m.useRef(null),p=m.useRef(null);console.log(" NotificationBell component rendered"),console.log(" Current state:",{notificationsCount:i.length,unreadCount:d,isOpen:c}),m.useEffect(function(){var S=0,E=3,_,P=function(){console.log(" Connecting to notification stream... (attempt",S+1,")");var F=localStorage.getItem("authToken");if(!F){console.error(" No auth token found, cannot connect to notification stream");return}var I="/sse/notifications/stream?token=".concat(encodeURIComponent(F));console.log(" SSE URL:",I);var D=new EventSource(I,{withCredentials:!0});return console.log(" EventSource created, readyState:",D.readyState),D.onopen=function(){console.log(" Notification stream connected successfully!"),console.log(" EventSource readyState:",D.readyState),S=0},D.onmessage=function(q){try{console.log(" SSE message received:",q.data);var V=JSON.parse(q.data);if(V.type==="connected"){console.log(" Notification stream ready");return}if((V.type==="deposit"||V.type==="withdrawal"||V.type==="registration"||V.type==="verification")&&(console.log(" New notification received:",V),a(function(L){return TN([V],L,!0)}),b(),Notification.permission==="granted")){var re="";V.type==="registration"?re="".concat(V.username," (").concat(V.email||"N/A",") registered"):V.type==="verification"?re="".concat(V.username," uploaded ID for verification"):re="".concat(V.username," requested ").concat(V.amount," ").concat(V.currency),new Notification("New ".concat(V.type," ").concat(V.type==="registration"||V.type==="verification"?"":"request"),{body:re,icon:"/new-metachrome-logo.png"})}}catch(L){console.error(" Error parsing notification:",L,"Raw data:",q.data)}},D.onerror=function(q){if(console.error(" Notification stream error:",q),console.error(" Error details:",{readyState:D.readyState,url:D.url}),D.close(),S<E){S++;var V=Math.min(1e3*Math.pow(2,S),1e4);console.log(" Retrying connection in ".concat(V,"ms... (").concat(S,"/").concat(E,")")),_=setTimeout(P,V)}else console.error(" Max retries reached. Notification stream disabled."),console.log(" Please check if you are logged in as super_admin and refresh the page.")},p.current=D,D},W=P();return Notification.permission==="default"&&Notification.requestPermission().then(function(F){console.log(" Notification permission:",F)}),v(),function(){_&&clearTimeout(_),W&&W.close()}},[]),m.useEffect(function(){var S=i.filter(function(E){return!E.read}).length;h(S)},[i]),m.useEffect(function(){function S(E){f.current&&!f.current.contains(E.target)&&u(!1)}return document.addEventListener("mousedown",S),function(){return document.removeEventListener("mousedown",S)}},[]);var v=function(){return mg(e,void 0,void 0,function(){var S,E,_;return pg(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),[4,fetch("/api/admin/notifications",{credentials:"include"})];case 1:return S=P.sent(),S.ok?[4,S.json()]:[3,3];case 2:E=P.sent(),a(E.notifications||[]),P.label=3;case 3:return[3,5];case 4:return _=P.sent(),console.error("Error fetching notifications:",_),[3,5];case 5:return[2]}})})},g=function(S){return mg(e,void 0,void 0,function(){var E;return pg(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,fetch("/api/admin/notifications/".concat(S,"/read"),{method:"POST",credentials:"include"})];case 1:return _.sent(),a(function(P){return P.map(function(W){return W.id===S?lc(lc({},W),{read:!0}):W})}),[3,3];case 2:return E=_.sent(),console.error("Error marking notification as read:",E),[3,3];case 3:return[2]}})})},N=function(){return mg(e,void 0,void 0,function(){var S;return pg(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,fetch("/api/admin/notifications/read-all",{method:"POST",credentials:"include"})];case 1:return E.sent(),a(function(_){return _.map(function(P){return lc(lc({},P),{read:!0})})}),[3,3];case 2:return S=E.sent(),console.error("Error marking all as read:",S),[3,3];case 3:return[2]}})})},b=function(){try{var S=new(window.AudioContext||window.webkitAudioContext),E=S.createOscillator(),_=S.createGain();E.connect(_),_.connect(S.destination),E.frequency.value=800,E.type="sine",_.gain.setValueAtTime(.3,S.currentTime),_.gain.exponentialRampToValueAtTime(.01,S.currentTime+.5),E.start(S.currentTime),E.stop(S.currentTime+.5)}catch(P){console.error("Error playing notification sound:",P)}},x=function(){var S={id:"test-".concat(Date.now()),type:"deposit",userId:"test-user-id",username:"Test User",amount:"1000",currency:"USDT",timestamp:new Date,read:!1};console.log(" Adding test notification:",S),a(function(E){return TN([S],E)}),b()};m.useEffect(function(){return window.testNotification=x,console.log(" Test function available: window.testNotification()"),function(){delete window.testNotification}},[]);var y=function(S){return S==="deposit"?"":S==="withdrawal"?"":S==="registration"?"":S==="verification"?"":""},w=function(S){return S==="deposit"?"text-green-400":S==="withdrawal"?"text-yellow-400":S==="registration"?"text-blue-400":S==="verification"?"text-purple-400":"text-gray-400"},C=function(S){return S==="deposit"?"New Deposit":S==="withdrawal"?"New Withdrawal":S==="registration"?"New User Registration":S==="verification"?"ID Verification Upload":"Notification"},k=function(S){S.read||g(S.id),r&&(S.type==="registration"?r("users"):S.type==="deposit"||S.type==="withdrawal"?r("pending"):S.type==="verification"&&r("verification")),u(!1)};return n.jsxs("div",{className:"relative",ref:f,children:[n.jsxs("button",{onClick:function(){console.log(" Bell clicked, isOpen:",c),u(!c)},className:"relative p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors border border-gray-600",title:"Notifications",children:[n.jsx(Pp,{className:"w-6 h-6"}),d>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:d>9?"9+":d})]}),c&&n.jsxs(je,{className:"absolute right-0 mt-2 w-96 max-h-[500px] overflow-hidden bg-gray-800 border-gray-700 shadow-xl z-50",children:[n.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-white font-semibold flex items-center space-x-2",children:[n.jsx(Pp,{className:"w-5 h-5"}),n.jsx("span",{children:"Notifications"}),d>0&&n.jsx(Mt,{className:"bg-red-500 text-white",children:d})]}),d>0&&n.jsx("button",{onClick:N,className:"text-xs text-blue-400 hover:text-blue-300",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:i.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-400",children:[n.jsx(Pp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No notifications yet"})]}):i.map(function(S){return n.jsx("div",{onClick:function(){return k(S)},className:"p-4 border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ".concat(S.read?"":"bg-gray-700/30"),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("span",{className:"text-2xl",children:y(S.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"font-semibold ".concat(w(S.type)),children:C(S.type)}),!S.read&&n.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),n.jsx("p",{className:"text-sm text-gray-300",children:S.type==="registration"?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-medium",children:S.username})," registered with email"," ",n.jsx("span",{className:"font-bold text-white",children:S.email})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-medium",children:S.username})," requested"," ",n.jsxs("span",{className:"font-bold text-white",children:[S.amount," ",S.currency]})]})}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:L9(new Date(S.timestamp),{addSuffix:!0})})]})]})},S.id)})}),i.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-700 text-center",children:n.jsx("button",{className:"text-sm text-blue-400 hover:text-blue-300",onClick:function(){r&&r("pending"),u(!1)},children:"View all transactions "})})]})]})}var Dm=function(){return Dm=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dm.apply(this,arguments)},Bl=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},zl=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},of=function(t,e,r){if(r||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},U9=function(t){if(!t)return"";try{var e=new Date(t);return isNaN(e.getTime())?"":e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(r){return console.error("Error formatting timestamp:",r),""}};function B9(){var t=this,e,r,s=m.useState([]),i=s[0],a=s[1],o=m.useState(null),c=o[0],u=o[1],l=m.useState([]),d=l[0],h=l[1],f=m.useState(""),p=f[0],v=f[1],g=m.useState(""),N=g[0],b=g[1],x=m.useState("all"),y=x[0],w=x[1],C=m.useState(!1),k=C[0],S=C[1],E=m.useState(""),_=E[0],P=E[1],W=m.useRef(null),F=m.useRef(null),I=Cn().toast;m.useEffect(function(){return q(),re(),V(),function(){F.current&&F.current.close()}},[]),m.useEffect(function(){c&&L(c.id)},[c]),m.useEffect(function(){D()},[d]);var D=function(){var B;(B=W.current)===null||B===void 0||B.scrollIntoView({behavior:"smooth"})},q=function(){return Bl(t,void 0,void 0,function(){var B,se,G,Z;return zl(this,function($){switch($.label){case 0:return $.trys.push([0,5,,6]),B=localStorage.getItem("authToken"),B?[4,fetch("/api/auth",{headers:{Authorization:"Bearer ".concat(B)},credentials:"include"})]:(console.error("No auth token found"),[2]);case 1:return se=$.sent(),se.ok?[4,se.json()]:[3,3];case 2:return G=$.sent(),P(G.id),console.log(" Admin loaded:",G.id),[3,4];case 3:console.error("Failed to load admin:",se.status),$.label=4;case 4:return[3,6];case 5:return Z=$.sent(),console.error("Error loading admin:",Z),[3,6];case 6:return[2]}})})},V=function(){var B=window.location.protocol==="https:"?"wss:":"ws:",se="".concat(B,"//").concat(window.location.host,"/ws");try{var G=new WebSocket(se);G.onopen=function(){console.log(" Admin WebSocket connected"),G.send(JSON.stringify({type:"subscribe_admin_chat",data:{}}))},G.onmessage=function(Z){var $;try{var de=JSON.parse(Z.data);de.type==="new_message"?(c&&de.data.conversation_id===c.id&&h(function(Oe){return of(of([],Oe,!0),[de.data],!1)}),re(),I({title:"New message",description:"From ".concat((($=de.data.sender)===null||$===void 0?void 0:$.username)||"User")})):de.type==="new_conversation"&&(re(),I({title:"New conversation",description:"A user has started a new chat"}))}catch(Oe){console.error("Error parsing WebSocket message:",Oe)}},G.onerror=function(Z){console.error("WebSocket error:",Z)},G.onclose=function(){console.log("WebSocket disconnected, reconnecting..."),setTimeout(V,3e3)},F.current=G}catch(Z){console.error("Error connecting WebSocket:",Z)}},re=function(){return Bl(t,void 0,void 0,function(){var B,se,G;return zl(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,4,,5]),[4,fetch("/api/admin/chat/conversations")];case 1:return B=Z.sent(),B.ok?[4,B.json()]:[3,3];case 2:se=Z.sent(),a(se),Z.label=3;case 3:return[3,5];case 4:return G=Z.sent(),console.error("Error loading conversations:",G),[3,5];case 5:return[2]}})})},L=function(B){return Bl(t,void 0,void 0,function(){var se,G,Z;return zl(this,function($){switch($.label){case 0:S(!0),$.label=1;case 1:return $.trys.push([1,6,7,8]),[4,fetch("/api/admin/chat/messages/".concat(B))];case 2:return se=$.sent(),se.ok?[4,se.json()]:[3,5];case 3:return G=$.sent(),h(G),[4,fetch("/api/admin/chat/mark-read/".concat(B),{method:"POST"})];case 4:$.sent(),$.label=5;case 5:return[3,8];case 6:return Z=$.sent(),console.error("Error loading messages:",Z),[3,8];case 7:return S(!1),[7];case 8:return[2]}})})},M=function(){return Bl(t,void 0,void 0,function(){var B,se,G,Z,$,de;return zl(this,function(Oe){switch(Oe.label){case 0:if(!p.trim()||!c)return[2];if(!_)return console.error(" No admin ID available"),I({title:"Send Failed",description:"Admin ID not loaded. Please refresh the page.",variant:"destructive"}),[2];B=p,v(""),console.log(" Sending message:",{conversationId:c.id,senderId:_,message:B}),se={id:"temp-"+Date.now(),conversation_id:c.id,sender_id:_,sender_type:"admin",message:B,is_read:!1,created_at:new Date().toISOString()},h(function(ve){return of(of([],ve,!0),[se],!1)}),Oe.label=1;case 1:return Oe.trys.push([1,7,,8]),[4,fetch("/api/admin/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversationId:c.id,message:B,senderId:_,senderType:"admin"})})];case 2:return G=Oe.sent(),console.log(" Send response:",G.status,G.ok),G.ok?[4,G.json()]:[3,4];case 3:return Z=Oe.sent(),console.log(" Message sent successfully:",Z),h(function(ve){return ve.map(function(We){return We.id===se.id?Z:We})}),F.current&&F.current.readyState===WebSocket.OPEN&&(F.current.send(JSON.stringify({type:"admin_message",data:{userId:c.user_id,message:Z}})),console.log(" WebSocket message sent to user:",c.user_id)),I({title:"Message Sent",description:"Your message has been sent successfully"}),[3,6];case 4:return[4,G.json().catch(function(){return{error:"Unknown error"}})];case 5:$=Oe.sent(),console.error(" Send failed:",G.status,$),h(function(ve){return ve.filter(function(We){return We.id!==se.id})}),I({title:"Send Failed",description:$.error||"Failed to send message",variant:"destructive"}),Oe.label=6;case 6:return[3,8];case 7:return de=Oe.sent(),console.error(" Error sending message:",de),h(function(ve){return ve.filter(function(We){return We.id!==se.id})}),I({title:"Send Failed",description:"Network error. Please try again.",variant:"destructive"}),[3,8];case 8:return[2]}})})},U=function(B,se){return Bl(t,void 0,void 0,function(){var G,Z;return zl(this,function($){switch($.label){case 0:if(se.stopPropagation(),!confirm("Are you sure you want to delete this entire conversation? This action cannot be undone."))return[2];$.label=1;case 1:return $.trys.push([1,3,,4]),[4,fetch("/api/admin/chat/conversation/".concat(B),{method:"DELETE"})];case 2:if(G=$.sent(),G.ok)a(function(de){return de.filter(function(Oe){return Oe.id!==B})}),(c==null?void 0:c.id)===B&&(u(null),h([])),I({title:"Conversation Deleted",description:"Conversation and all messages have been removed successfully"});else throw new Error("Failed to delete conversation");return[3,4];case 3:return Z=$.sent(),console.error("Error deleting conversation:",Z),I({title:"Delete Failed",description:"Failed to delete conversation. Please try again.",variant:"destructive"}),[3,4];case 4:return[2]}})})},Q=function(B,se){return Bl(t,void 0,void 0,function(){var G,Z;return zl(this,function($){switch($.label){case 0:return $.trys.push([0,2,,3]),[4,fetch("/api/admin/chat/conversation/".concat(B,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:se})})];case 1:return G=$.sent(),G.ok&&(re(),(c==null?void 0:c.id)===B&&u(function(de){return de?Dm(Dm({},de),{status:se}):null}),I({title:"Status Updated",description:"Conversation marked as ".concat(se)})),[3,3];case 2:return Z=$.sent(),console.error("Error updating status:",Z),[3,3];case 3:return[2]}})})},oe=function(B){var se=B.match(/ File: (https:\/\/[^\s\n]+supabase\.co\/storage\/[^\s\n]+)/);if(se)return se[1];var G=B.match(/ File: (\/api\/uploads\/contact\/[^\s\n]+|\/uploads\/contact\/[^\s\n]+|\/uploads\/[^\s\n]+)/);if(G){var Z=G[1],$=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",de=$?window.location.origin:"https://metachrome-v4-production.up.railway.app";return"".concat(de).concat(Z)}return null},Ne=function(B){var se=oe(B.message),G=B.message;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm whitespace-pre-line",children:G}),se&&n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:se,alt:"Attachment",className:"max-w-full h-auto rounded-lg border border-gray-600 cursor-pointer hover:opacity-90 transition-opacity",onClick:function(){return window.open(se,"_blank")},onError:function(Z){console.error("Failed to load image:",se),Z.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><text x="50%" y="50%" text-anchor="middle" fill="gray">Image not found</text></svg>'}}),n.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(X,{size:"sm",variant:"secondary",className:"bg-black/50 hover:bg-black/70 text-white",onClick:function(Z){Z.stopPropagation(),window.open(se,"_blank")},children:n.jsx(O5,{className:"w-4 h-4"})})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{size:"sm",variant:"outline",className:"text-xs",onClick:function(){return window.open(se,"_blank")},children:[n.jsx(F5,{className:"w-3 h-3 mr-1"}),"View Full Size"]}),n.jsxs(X,{size:"sm",variant:"outline",className:"text-xs",onClick:function(){var Z=document.createElement("a");Z.href=se,Z.download=se.split("/").pop()||"image.jpg",Z.click()},children:[n.jsx(ul,{className:"w-3 h-3 mr-1"}),"Download"]})]})]})]})},H=i.filter(function(B){var se,G,Z,$,de=N===""||((G=(se=B.user)===null||se===void 0?void 0:se.username)===null||G===void 0?void 0:G.toLowerCase().includes(N.toLowerCase()))||(($=(Z=B.user)===null||Z===void 0?void 0:Z.email)===null||$===void 0?void 0:$.toLowerCase().includes(N.toLowerCase())),Oe=y==="all"||B.status===y;return de&&Oe}),he=function(B){switch(B){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"normal":return"bg-blue-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},Ee=function(B){switch(B){case"active":return n.jsx(ri,{className:"w-4 h-4 text-green-500"});case"waiting":return n.jsx(om,{className:"w-4 h-4 text-yellow-500"});case"closed":return n.jsx(Zo,{className:"w-4 h-4 text-gray-500"});default:return n.jsx(Ax,{className:"w-4 h-4 text-gray-500"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(je,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Active Chats"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:i.filter(function(B){return B.status==="active"}).length})]}),n.jsx(Tf,{className:"w-8 h-8 text-blue-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-yellow-600 to-yellow-700 border-yellow-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-100 text-sm",children:"Waiting"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:i.filter(function(B){return B.status==="waiting"}).length})]}),n.jsx(om,{className:"w-8 h-8 text-yellow-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm",children:"Total Today"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:i.filter(function(B){var se=new Date().toDateString();return new Date(B.created_at).toDateString()===se}).length})]}),n.jsx(ni,{className:"w-8 h-8 text-green-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm",children:"Unread"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:i.reduce(function(B,se){return B+(se.unread_count||0)},0)})]}),n.jsx(Ax,{className:"w-8 h-8 text-purple-200"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(je,{className:"bg-[#1a1f2e] border-gray-700 lg:col-span-1",children:[n.jsxs(gt,{children:[n.jsxs(xt,{className:"text-white flex items-center gap-2",children:[n.jsx(Tf,{className:"w-5 h-5"}),"Conversations"]}),n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(Be,{placeholder:"Search users...",value:N,onChange:function(B){return b(B.target.value)},className:"pl-10 bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("select",{value:y,onChange:function(B){return w(B.target.value)},className:"w-full bg-gray-700 border-gray-600 text-white rounded-md px-3 py-2",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"waiting",children:"Waiting"}),n.jsx("option",{value:"closed",children:"Closed"})]})]})]}),n.jsx(Ce,{className:"p-0",children:n.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:H.length===0?n.jsx("div",{className:"p-6 text-center text-gray-400",children:"No conversations found"}):H.map(function(B){var se,G;return n.jsxs("div",{className:"p-4 border-b border-gray-700 transition-colors relative group ".concat((c==null?void 0:c.id)===B.id?"bg-purple-600/20":"hover:bg-gray-700/50"),children:[n.jsx(X,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-900/20 z-10",onClick:function(Z){return U(B.id,Z)},title:"Delete conversation",children:n.jsx(Vl,{className:"w-4 h-4"})}),n.jsxs("div",{onClick:function(){return u(B)},className:"cursor-pointer",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2 pr-8",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:n.jsx(ni,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:((se=B.user)===null||se===void 0?void 0:se.username)||((G=B.user)===null||G===void 0?void 0:G.email)||"Unknown User"}),n.jsx("p",{className:"text-xs text-gray-400",children:new Date(B.last_message_at).toLocaleString()})]})]}),Ee(B.status)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mt,{className:"".concat(he(B.priority)," text-white text-xs"),children:B.priority}),n.jsx(Mt,{variant:"outline",className:"text-xs",children:B.category}),(B.unread_count||0)>0&&n.jsx(Mt,{className:"bg-red-500 text-white text-xs",children:B.unread_count})]})]})]},B.id)})})})]}),n.jsx(je,{className:"bg-[#1a1f2e] border-gray-700 lg:col-span-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx(gt,{className:"border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-white",children:((e=c.user)===null||e===void 0?void 0:e.username)||((r=c.user)===null||r===void 0?void 0:r.email)}),n.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[c.category,"  ",c.priority," priority"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(X,{size:"sm",variant:"outline",onClick:function(){return Q(c.id,"active")},disabled:c.status==="active",children:"Active"}),n.jsx(X,{size:"sm",variant:"outline",onClick:function(){return Q(c.id,"closed")},disabled:c.status==="closed",children:"Close"})]})]})}),n.jsxs(Ce,{className:"p-0",children:[n.jsxs("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4 bg-[#0f1419]",children:[k?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-gray-400",children:"Loading messages..."})}):d.length===0?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No messages yet"}):d.map(function(B){return n.jsx("div",{className:"flex message-item ".concat(B.sender_type==="admin"?"justify-end":"justify-start"," mb-4"),children:n.jsxs("div",{className:"flex gap-2 max-w-[80%] ".concat(B.sender_type==="admin"?"flex-row-reverse":"flex-row"),children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(B.sender_type==="admin"?"bg-blue-600":B.sender_type==="user"?"bg-purple-600":"bg-gray-600"),children:n.jsx(ni,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"rounded-lg p-3 ".concat(B.sender_type==="admin"?"bg-blue-600 text-white":B.sender_type==="user"?"bg-gray-700 text-white":"bg-gray-600 text-white"),children:Ne(B)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 px-1",children:U9(B.created_at)})]})]})},B.id)}),n.jsx("div",{ref:W})]}),n.jsx("div",{className:"p-4 border-t border-gray-700",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Be,{placeholder:"Type your message...",value:p,onChange:function(B){return v(B.target.value)},onKeyPress:function(B){return B.key==="Enter"&&M()},className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(X,{onClick:M,disabled:!p.trim(),className:"bg-purple-600 hover:bg-purple-700",children:n.jsx(c0,{className:"w-4 h-4"})})]})})]})]}):n.jsx(Ce,{className:"flex items-center justify-center h-[500px]",children:n.jsxs("div",{className:"text-center text-gray-400",children:[n.jsx(Tf,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Select a conversation to start chatting"})]})})})]})]})}var z9=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},$9=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function W9(t){var e=this,r=t.onUnreadCountChange,s=m.useState(0),i=s[0],a=s[1],o=m.useRef(null),c=m.useRef(null);m.useEffect(function(){return c.current=new Audio("/notification.mp3"),c.current.volume=.5,"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),u(),l(),function(){o.current&&o.current.close()}},[]),m.useEffect(function(){r&&r(i)},[i,r]);var u=function(){return z9(e,void 0,void 0,function(){var f,p,v;return $9(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),[4,fetch("/api/admin/chat/unread-count")];case 1:return f=g.sent(),f.ok?[4,f.json()]:[3,3];case 2:p=g.sent(),a(p.count||0),g.label=3;case 3:return[3,5];case 4:return v=g.sent(),console.error("Error fetching unread count:",v),[3,5];case 5:return[2]}})})},l=function(){var f=window.location.protocol==="https:"?"wss:":"ws:",p="".concat(f,"//").concat(window.location.host,"/ws");try{var v=new WebSocket(p);v.onopen=function(){console.log(" Chat notification WebSocket connected"),v.send(JSON.stringify({type:"subscribe_admin_chat",data:{}}))},v.onmessage=function(g){try{var N=JSON.parse(g.data);N.type==="new_message"&&N.data.sender_type==="user"&&(a(function(b){return b+1}),d(),h(N.data))}catch(b){console.error("Error parsing WebSocket message:",b)}},v.onerror=function(g){console.error("Chat notification WebSocket error:",g)},v.onclose=function(){console.log("Chat notification WebSocket disconnected, reconnecting..."),setTimeout(l,3e3)},o.current=v}catch(g){console.error("Error connecting chat notification WebSocket:",g)}},d=function(){try{c.current&&(c.current.currentTime=0,c.current.play().catch(function(f){console.log("Could not play notification sound:",f)}))}catch(f){console.error("Error playing notification sound:",f)}},h=function(f){var p;if("Notification"in window&&Notification.permission==="granted"){var v=new Notification("New Chat Message",{body:"".concat(f.sender_username||"User",": ").concat(((p=f.message)===null||p===void 0?void 0:p.substring(0,50))||"New message"),icon:"/new-metachrome-logo.png",badge:"/new-metachrome-logo.png",tag:"chat-notification",requireInteraction:!1});v.onclick=function(){window.focus(),v.close()},setTimeout(function(){return v.close()},5e3)}};return i===0?null:n.jsx(Mt,{variant:"destructive",className:"ml-2 bg-red-600 text-white animate-pulse",children:i>99?"99+":i})}var kN=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},EN=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},V9=function(t,e,r){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))};function H9(){var t=this,e=m.useState([]),r=e[0],s=e[1],i=m.useState(null),a=i[0],o=i[1],c=m.useState(!0),u=c[0],l=c[1],d=m.useState(null),h=d[0],f=d[1],p=m.useState(""),v=p[0],g=p[1],N=m.useState(""),b=N[0],x=N[1],y=m.useState(""),w=y[0],C=y[1],k=m.useState(""),S=k[0],E=k[1],_=m.useState(""),P=_[0],W=_[1],F=m.useState(50),I=F[0],D=F[1],q=m.useState(0),V=q[0],re=q[1],L=m.useState(0),M=L[0],U=L[1],Q=["TRADING","BALANCE","VERIFICATION","TRANSACTIONS","USER_MANAGEMENT","CHAT","REDEEM_CODES","SYSTEM"],oe=["TRADING_CONTROL_SET","BALANCE_UPDATED","DEPOSIT_APPROVED","DEPOSIT_REJECTED","WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","USER_DELETED","USER_ROLE_CHANGED","VERIFICATION_APPROVED","VERIFICATION_REJECTED","USER_CREATED","USER_UPDATED"];m.useEffect(function(){Ne(),H()},[v,b,S,P,I,V]);var Ne=function(){return kN(t,void 0,void 0,function(){var G,Z,$,de,Oe,ve;return EN(this,function(We){switch(We.label){case 0:return We.trys.push([0,3,4,5]),l(!0),G=new URLSearchParams,v&&G.append("actionType",v),b&&G.append("actionCategory",b),S&&G.append("startDate",S),P&&G.append("endDate",P),G.append("limit",I.toString()),G.append("offset",V.toString()),Z=localStorage.getItem("authToken"),[4,fetch("/api/admin/activity-logs?".concat(G),{headers:{Authorization:Z?"Bearer ".concat(Z):"","Content-Type":"application/json"},credentials:"include"})];case 1:if($=We.sent(),!$.ok)throw console.error(" Activity logs fetch failed:",$.status,$.statusText),new Error("Failed to fetch logs");return[4,$.json()];case 2:return de=We.sent(),console.log(" Activity logs response:",{logs:(ve=de.logs)===null||ve===void 0?void 0:ve.length,total:de.total}),s(de.logs||[]),U(de.total||de.totalCount||0),[3,5];case 3:return Oe=We.sent(),console.error("Error fetching logs:",Oe),s([]),[3,5];case 4:return l(!1),[7];case 5:return[2]}})})},H=function(){return kN(t,void 0,void 0,function(){var G,Z,$,de;return EN(this,function(Oe){switch(Oe.label){case 0:return Oe.trys.push([0,3,,4]),G=localStorage.getItem("authToken"),[4,fetch("/api/admin/activity-logs/stats",{headers:{Authorization:G?"Bearer ".concat(G):"","Content-Type":"application/json"},credentials:"include"})];case 1:if(Z=Oe.sent(),!Z.ok)throw new Error("Failed to fetch stats");return[4,Z.json()];case 2:return $=Oe.sent(),o($),[3,4];case 3:return de=Oe.sent(),console.error("Error fetching stats:",de),[3,4];case 4:return[2]}})})},he=r.filter(function(G){var Z,$,de;if(w){var Oe=w.toLowerCase();return((Z=G.admin_username)===null||Z===void 0?void 0:Z.toLowerCase().includes(Oe))||(($=G.action_description)===null||$===void 0?void 0:$.toLowerCase().includes(Oe))||((de=G.target_username)===null||de===void 0?void 0:de.toLowerCase().includes(Oe))}return!0}),Ee=function(){var G=["ID","Timestamp","Admin","Category","Action Type","Description","Target User"],Z=he.map(function(We){return[We.id,new Date(We.created_at).toLocaleString(),We.admin_username,We.action_category,We.action_type,We.action_description,We.target_username||"N/A"]}),$=V9([G],Z).map(function(We){return We.join(",")}).join(`
`),de=new Blob([$],{type:"text/csv"}),Oe=URL.createObjectURL(de),ve=document.createElement("a");ve.href=Oe,ve.download="activity-logs-".concat(new Date().toISOString(),".csv"),ve.click()},B=function(){var G=JSON.stringify(he,null,2),Z=new Blob([G],{type:"application/json"}),$=URL.createObjectURL(Z),de=document.createElement("a");de.href=$,de.download="activity-logs-".concat(new Date().toISOString(),".json"),de.click()},se=function(){g(""),x(""),C(""),E(""),W(""),re(0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pi,{className:"w-8 h-8 text-purple-400"}),n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Admin Activity Logs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:Ee,disabled:he.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[n.jsx(ul,{className:"w-4 h-4"}),"Download CSV"]}),n.jsxs("button",{onClick:B,disabled:he.length===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[n.jsx(ul,{className:"w-4 h-4"}),"Download JSON"]})]})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Logs"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalCount})]}),n.jsx(Py,{className:"w-8 h-8 text-purple-400"})]})}),n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 Hours"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a.last24Hours})]}),n.jsx(Pi,{className:"w-8 h-8 text-green-400"})]})}),n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Object.keys(a.byCategory).length})]}),n.jsx(kd,{className:"w-8 h-8 text-blue-400"})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(kd,{className:"w-5 h-5 text-purple-400"}),n.jsx("h3",{className:"text-xl font-semibold text-white",children:"Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(iu,{className:"w-4 h-4 inline mr-1"}),"Search"]}),n.jsx("input",{type:"text",value:w,onChange:function(G){return C(G.target.value)},placeholder:"Search description, admin, user...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Category"}),n.jsxs("select",{value:b,onChange:function(G){return x(G.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[n.jsx("option",{value:"",children:"All Categories"}),Q.map(function(G){return n.jsx("option",{value:G,children:G},G)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Type"}),n.jsxs("select",{value:v,onChange:function(G){return g(G.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[n.jsx("option",{value:"",children:"All Types"}),oe.map(function(G){return n.jsx("option",{value:G,children:G},G)})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(am,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),n.jsx("input",{type:"date",value:S,onChange:function(G){return E(G.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(am,{className:"w-4 h-4 inline mr-1"}),"End Date"]}),n.jsx("input",{type:"date",value:P,onChange:function(G){return W(G.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Items per page"}),n.jsxs("select",{value:I,onChange:function(G){return D(Number(G.target.value))},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white",children:[n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"}),n.jsx("option",{value:"200",children:"200"})]})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:se,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Reset Filters"})})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):he.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400 text-lg",children:"No activity logs found"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-900/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Timestamp"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Admin"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Target User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-700",children:he.map(function(G){return n.jsxs("tr",{className:"hover:bg-gray-700/50 transition-colors",children:[n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-300",children:["#",G.id]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:new Date(G.created_at).toLocaleString()}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ni,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{className:"text-white font-medium",children:G.admin_username})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(G.action_category==="TRADING"?"bg-blue-500/20 text-blue-400":G.action_category==="BALANCE"?"bg-green-500/20 text-green-400":G.action_category==="VERIFICATION"?"bg-yellow-500/20 text-yellow-400":G.action_category==="TRANSACTIONS"?"bg-purple-500/20 text-purple-400":G.action_category==="USER_MANAGEMENT"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"),children:G.action_category})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:G.action_type}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 max-w-xs truncate",children:G.action_description}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:G.target_username||"N/A"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:function(){return f(G)},className:"text-purple-400 hover:text-purple-300 text-sm font-medium",children:"View Details"})})]},G.id)})})]})}),!u&&he.length>0&&n.jsxs("div",{className:"bg-gray-900/50 px-4 py-3 flex items-center justify-between border-t border-gray-700",children:[n.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",V+1," to ",Math.min(V+I,M)," of ",M," logs"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:function(){return re(Math.max(0,V-I))},disabled:V===0,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Previous"}),n.jsx("button",{onClick:function(){return re(V+I)},disabled:V+I>=M,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next"})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full border border-gray-700 max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Activity Log Details"}),n.jsx("button",{onClick:function(){return f(null)},className:"text-gray-400 hover:text-white",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Log ID"}),n.jsxs("p",{className:"text-white font-medium",children:["#",h.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Timestamp"}),n.jsx("p",{className:"text-white font-medium",children:new Date(h.created_at).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Admin"}),n.jsx("p",{className:"text-white font-medium",children:h.admin_username})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Admin Email"}),n.jsx("p",{className:"text-white font-medium",children:h.admin_email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Category"}),n.jsx("p",{className:"text-white font-medium",children:h.action_category})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Action Type"}),n.jsx("p",{className:"text-white font-medium",children:h.action_type})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Description"}),n.jsx("p",{className:"text-white font-medium",children:h.action_description})]}),h.target_username&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Target User"}),n.jsx("p",{className:"text-white font-medium",children:h.target_username})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Target Email"}),n.jsx("p",{className:"text-white font-medium",children:h.target_email||"N/A"})]})]}),h.ip_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"IP Address"}),n.jsx("p",{className:"text-white font-medium",children:h.ip_address})]})]}),h.metadata&&Object.keys(h.metadata).length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Metadata"}),n.jsx("pre",{className:"bg-gray-900 p-3 rounded text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(h.metadata,null,2)})]})]})]})})})]})}var Qe=function(){return Qe=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qe.apply(this,arguments)},yr=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},br=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},lf=function(t,e,r){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},gP=function(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=t.replace(/[^0-9.-]/g,""),r=parseFloat(e);return isNaN(r)?0:r}return 0},cf=function(t){var e=gP(t),r=Math.round(e*100)/100;return r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},PN=function(t){return t.reduce(function(e,r){var s=gP(r.balance);return e+s},0)},K9=function(t){if(t.symbol)return t.symbol;if(t.currency)return t.currency;if(t.type==="withdrawal"&&t.description){var e=t.description.match(/- (BTC|ETH|USDT|SOL|USDT-ERC20|USDT-TRC20|USDT-BEP20)/);if(e)return e[1]}return"USDT"},G9=function(t){var e=K9(t),r=typeof t.amount=="string"?parseFloat(t.amount):t.amount;return"".concat(r.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:8})," ").concat(e)};function gg(){var t=this,e,r,s,i,a,o,c=en().user,u=m.useState([]),l=u[0],d=u[1],h=m.useState([]),f=h[0],p=h[1],v=m.useState([]),g=v[0],N=v[1],b=m.useState({deposits:[],withdrawals:[],total:0}),x=b[0],y=b[1],w=m.useState(null),C=w[0],k=w[1],S=m.useState(!1);S[0];var E=S[1],_=m.useState([]),P=_[0],W=_[1],F=m.useState(null),I=F[0],D=F[1],q=m.useState([]),V=q[0],re=q[1],L=m.useState(null),M=L[0],U=L[1],Q=m.useState(!1),oe=Q[0],Ne=Q[1],H=m.useState(!1),he=H[0],Ee=H[1],B=m.useState(null),se=B[0],G=B[1],Z=m.useState({code:"",bonusAmount:"",maxUses:"",description:""}),$=Z[0],de=Z[1],Oe=m.useState({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),ve=Oe[0],We=Oe[1],Ht=m.useState(!1),ze=Ht[0],ke=Ht[1],at=m.useState(!1),R=at[0],K=at[1],ee=m.useState(!1),ne=ee[0],ce=ee[1],pe=m.useState(!1),Re=pe[0],Y=pe[1],fe=m.useState(null),be=fe[0],nt=fe[1],Ct=m.useState(""),_t=Ct[0],Gr=Ct[1],vt=m.useState(""),Xe=vt[0],$n=vt[1],Or=m.useState(""),Kt=Or[0],Fs=Or[1],tn=m.useState(""),Rr=tn[0],Ir=tn[1],Cr=m.useState([]),zt=Cr[0],Ze=Cr[1],hr=m.useState(null),er=hr[0],di=hr[1],Rt=m.useState(""),ws=Rt[0],$t=Rt[1],rn=m.useState("overview"),js=rn[0],Lr=rn[1],Wn=m.useState(new Set),cn=Wn[0],It=Wn[1],Fr=m.useState(!0),O=Fr[0],xe=Fr[1],_e=m.useState(new Date),st=_e[0],Wt=_e[1],Ur=m.useState(!1);Ur[0];var Lt=Ur[1],Le=JSON.parse(localStorage.getItem("user")||"{}"),xr=localStorage.getItem("authToken")||"",Jt=Le.role==="super_admin"||Le.role==="superadmin"||Le.username==="superadmin"||xr.includes("superadmin")||xr.includes("admin-session-superadmin");console.log(" Current user:",Le),console.log(" Auth token:",xr.substring(0,30)+"..."),console.log(" Current user role:",Le.role),console.log(" Is Super Admin:",Jt),console.log(" Role check details:",{role:Le.role,username:Le.username,isSuper:Le.role==="super_admin",isSuperadmin:Le.role==="superadmin",isUsernameSuper:Le.username==="superadmin",tokenHasSuper:xr.includes("superadmin"),tokenHasAdminSession:xr.includes("admin-session-superadmin"),finalResult:Jt});var j=function(){return yr(t,void 0,void 0,function(){var T,J,ie,le,Te,tt,Ve,Ke;return br(this,function(Et){switch(Et.label){case 0:return Et.trys.push([0,8,,9]),console.log(" FORCE refreshing transactions with aggressive cache busting..."),"serviceWorker"in navigator&&"caches"in window?[4,caches.keys()]:[3,3];case 1:return T=Et.sent(),[4,Promise.all(T.map(function(vr){return caches.delete(vr)}))];case 2:Et.sent(),Et.label=3;case 3:return J=Date.now(),ie=Math.random().toString(36).substring(7),le=Math.random().toString(36).substring(2,15),Te="/api/admin/transactions?_t=".concat(J,"&_r=").concat(ie,"&_bust=").concat(Date.now(),"&_force=").concat(le,"&_nocache=").concat(Math.random()),console.log(" Force fetching from URL:",Te),[4,fetch(Te,{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest","If-None-Match":"*","X-Force-Refresh":"true"},cache:"no-store"})];case 4:return tt=Et.sent(),tt.ok?[4,tt.json()]:[3,6];case 5:return Ve=Et.sent(),console.log(" FORCE refreshed transactions:",Ve.length,"transactions"),console.log(" First 3 transaction IDs:",Ve.slice(0,3).map(function(vr){return vr.id})),N(lf([],Ve)),[2,!0];case 6:return console.error(" Failed to force refresh transactions:",tt.status),[2,!1];case 7:return[3,9];case 8:return Ke=Et.sent(),console.error(" Force refresh error:",Ke),[2,!1];case 9:return[2]}})})},A=function(){return yr(t,void 0,void 0,function(){return br(this,function(T){switch(T.label){case 0:return[4,j()];case 1:return[2,T.sent()]}})})},te=function(){return yr(t,void 0,void 0,function(){var T,J,ie,le,Te,tt,Ve,Ke,Et,vr,ar,hi,fi,Vt,To,$i,mr,bt,as,un,dt,pr,Br,Br,dn,tr,Br,mi,pi,Us,Ns,nn,hn,Ss,rr,Pl,_l,bu;return br(this,function(et){switch(et.label){case 0:E(!0),T=!1,et.label=1;case 1:et.trys.push([1,56,57,58]),console.log(" Fetching all data..."),J=Date.now(),ie={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},et.label=2;case 2:return et.trys.push([2,7,,8]),[4,fetch("/api/admin/users?_t=".concat(J),{headers:ie})];case 3:return le=et.sent(),le.ok?[4,le.json()]:[3,5];case 4:return Te=et.sent(),console.log(" Users loaded:",Te),Te.length>0&&console.log(" First user password check:",{hasPassword:!!Te[0].password,passwordValue:Te[0].password,passwordType:typeof Te[0].password}),d(Te),[3,6];case 5:console.error(" Failed to fetch users:",le.status),T=!0,et.label=6;case 6:return[3,8];case 7:return tt=et.sent(),console.error(" Users fetch error:",tt),T=!0,[3,8];case 8:return et.trys.push([8,13,,14]),[4,fetch("/api/admin/live-trades?_t=".concat(J),{headers:ie})];case 9:return Ve=et.sent(),Ve.ok?[4,Ve.json()]:[3,11];case 10:return Ke=et.sent(),console.log(" Live trades loaded:",Ke),Et=Ke.trades||Ke,p(Et),[3,12];case 11:console.error(" Failed to fetch trades:",Ve.status),T=!0,et.label=12;case 12:return[3,14];case 13:return vr=et.sent(),console.error(" Trades fetch error:",vr),T=!0,[3,14];case 14:return et.trys.push([14,19,,20]),[4,fetch("/api/admin/transactions?_t=".concat(J,"&_r=").concat(Math.random()),{headers:Qe(Qe({},ie),{"X-Requested-With":"XMLHttpRequest","If-None-Match":"*"})})];case 15:return ar=et.sent(),ar.ok?[4,ar.json()]:[3,17];case 16:return hi=et.sent(),console.log(" Transactions loaded:",hi.length,"transactions"),N(hi),[3,18];case 17:console.error(" Failed to fetch transactions:",ar.status),T=!0,et.label=18;case 18:return[3,20];case 19:return fi=et.sent(),console.error(" Transactions fetch error:",fi),T=!0,[3,20];case 20:return et.trys.push([20,25,,26]),[4,fetch("/api/admin/stats?_t=".concat(J),{headers:ie})];case 21:return Vt=et.sent(),Vt.ok?[4,Vt.json()]:[3,23];case 22:return To=et.sent(),console.log(" Stats loaded:",To),k(To),[3,24];case 23:console.error(" Failed to fetch stats:",Vt.status),T=!0,et.label=24;case 24:return[3,26];case 25:return $i=et.sent(),console.error(" Stats fetch error:",$i),T=!0,[3,26];case 26:return et.trys.push([26,31,,32]),[4,fetch("/api/admin/pending-requests?_t=".concat(J),{headers:ie})];case 27:return mr=et.sent(),mr.ok?[4,mr.json()]:[3,29];case 28:return bt=et.sent(),console.log(" Pending requests loaded:",bt),y(bt),[3,30];case 29:console.error(" Failed to fetch pending requests:",mr.status),T=!0,et.label=30;case 30:return[3,32];case 31:return as=et.sent(),console.error(" Pending requests fetch error:",as),T=!0,[3,32];case 32:return et.trys.push([32,42,,43]),[4,fetch("/api/admin/pending-verifications-enhanced?_t=".concat(J),{headers:ie})];case 33:return un=et.sent(),un.ok?[4,un.json()]:[3,35];case 34:return dt=et.sent(),console.log(" Enhanced pending verifications loaded:",dt),dt.enhanced?(W(dt.pending||[]),console.log(" Set ".concat(dt.pendingCount||0," pending verifications")),console.log(" Total documents in database: ".concat(dt.totalCount||0)),pr=dt.total||[],Br={pending:pr.filter(function(nr){return nr.verification_status==="pending"}).length,approved:pr.filter(function(nr){return nr.verification_status==="approved"}).length,rejected:pr.filter(function(nr){return nr.verification_status==="rejected"}).length,total:pr.length},D(Br)):(W(dt),Br={pending:dt.filter(function(nr){return nr.verification_status==="pending"}).length,approved:dt.filter(function(nr){return nr.verification_status==="approved"}).length,rejected:dt.filter(function(nr){return nr.verification_status==="rejected"}).length,total:dt.length},D(Br)),[3,41];case 35:console.error(" Failed to fetch enhanced pending verifications:",un.status),et.label=36;case 36:return et.trys.push([36,40,,41]),[4,fetch("/api/admin/pending-verifications?_t=".concat(J),{headers:ie})];case 37:return dn=et.sent(),dn.ok?[4,dn.json()]:[3,39];case 38:tr=et.sent(),W(tr),Br={pending:tr.filter(function(nr){return nr.verification_status==="pending"}).length,approved:tr.filter(function(nr){return nr.verification_status==="approved"}).length,rejected:tr.filter(function(nr){return nr.verification_status==="rejected"}).length,total:tr.length},D(Br),et.label=39;case 39:return[3,41];case 40:return mi=et.sent(),console.error(" Fallback verification fetch error:",mi),T=!0,[3,41];case 41:return[3,43];case 42:return pi=et.sent(),console.error(" Enhanced pending verifications fetch error:",pi),T=!0,[3,43];case 43:return et.trys.push([43,54,,55]),[4,fetch("/api/admin/redeem-codes?_t=".concat(J),{headers:ie})];case 44:return Us=et.sent(),Us.ok?[4,Us.json()]:[3,52];case 45:Ns=et.sent(),console.log(" Redeem codes loaded:",Ns),nn=Ns.codes||[],et.label=46;case 46:return et.trys.push([46,50,,51]),[4,fetch("/api/admin/redeem-codes-usage-all?_t=".concat(J),{headers:ie})];case 47:return hn=et.sent(),hn.ok?[4,hn.json()]:[3,49];case 48:Ss=et.sent(),rr=Ss.data||[],nn=nn.map(function(nr){return Qe(Qe({},nr),{redemptions:rr.filter(function(qr){return qr.code===nr.code})})}),console.log(" Codes with redemption history:",nn),et.label=49;case 49:return[3,51];case 50:return Pl=et.sent(),console.log(" Could not fetch redemption history:",Pl),[3,51];case 51:return re(nn),U(Ns.stats||{}),[3,53];case 52:console.error(" Failed to fetch redeem codes:",Us.status),T=!0,et.label=53;case 53:return[3,55];case 54:return _l=et.sent(),console.error(" Redeem codes fetch error:",_l),T=!0,[3,55];case 55:return T?ht({title:"Warning",description:"Some data failed to load. Check console for details.",variant:"destructive"}):console.log(" All data loaded successfully"),[3,58];case 56:return bu=et.sent(),console.error(" Unexpected error fetching data:",bu),ht({title:"Error",description:"Unexpected error occurred while loading data",variant:"destructive"}),[3,58];case 57:return E(!1),[7];case 58:return[2]}})})},ae=function(){return yr(t,void 0,void 0,function(){var T,J,ie,le,Te,tt,Ve,Ke,Et,vr,ar,hi,fi;return br(this,function(Vt){switch(Vt.label){case 0:Vt.trys.push([0,22,,23]),T=Date.now(),J={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},ie=!1,Vt.label=1;case 1:return Vt.trys.push([1,5,,6]),[4,fetch("/api/admin/users?_t=".concat(T),{headers:J})];case 2:return le=Vt.sent(),le.ok?[4,le.json()]:[3,4];case 3:Te=Vt.sent(),JSON.stringify(Te)!==JSON.stringify(l)&&(d(Te),ie=!0),Vt.label=4;case 4:return[3,6];case 5:return Vt.sent(),console.log(" Silent users fetch failed"),[3,6];case 6:return Vt.trys.push([6,10,,11]),[4,fetch("/api/admin/pending-requests?_t=".concat(T),{headers:J})];case 7:return tt=Vt.sent(),tt.ok?[4,tt.json()]:[3,9];case 8:Ve=Vt.sent(),JSON.stringify(Ve)!==JSON.stringify(x)&&(y(Ve),ie=!0),Vt.label=9;case 9:return[3,11];case 10:return Vt.sent(),console.log(" Silent pending requests fetch failed"),[3,11];case 11:return Vt.trys.push([11,15,,16]),[4,fetch("/api/admin/transactions?_t=".concat(T,"&_r=").concat(Math.random()),{headers:Qe(Qe({},J),{"X-Requested-With":"XMLHttpRequest","If-None-Match":"*"})})];case 12:return Ke=Vt.sent(),Ke.ok?[4,Ke.json()]:[3,14];case 13:Et=Vt.sent(),JSON.stringify(Et)!==JSON.stringify(g)&&(N(Et),ie=!0),Vt.label=14;case 14:return[3,16];case 15:return Vt.sent(),console.log(" Silent transactions fetch failed"),[3,16];case 16:return Vt.trys.push([16,20,,21]),[4,fetch("/api/admin/live-trades?_t=".concat(T),{headers:J})];case 17:return vr=Vt.sent(),vr.ok?[4,vr.json()]:[3,19];case 18:ar=Vt.sent(),hi=ar.trades||ar,JSON.stringify(hi)!==JSON.stringify(f)&&(p(hi),ie=!0),Vt.label=19;case 19:return[3,21];case 20:return Vt.sent(),console.log(" Silent trades fetch failed"),[3,21];case 21:return ie&&(Wt(new Date),Lt(!0),setTimeout(function(){return Lt(!1)},5e3)),[3,23];case 22:return fi=Vt.sent(),console.log(" Silent fetch error:",fi),[3,23];case 23:return[2]}})})},ge=function(){return yr(t,void 0,void 0,function(){var T,J,ie;return br(this,function(le){switch(le.label){case 0:if(!ve.username||!ve.email||!ve.password)return ht({title:"Error",description:"Please fill in all required fields",variant:"destructive"}),[2];le.label=1;case 1:return le.trys.push([1,6,,7]),console.log(" Creating user:",ve),[4,fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ve)})];case 2:return T=le.sent(),T.ok?[4,T.json()]:[3,4];case 3:return J=le.sent(),console.log(" User created:",J),ht({title:"Success",description:"User ".concat(J.username," created successfully!")}),We({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),te(),[3,5];case 4:throw new Error("Failed to create user");case 5:return[3,7];case 6:return ie=le.sent(),console.error(" Error creating user:",ie),ht({title:"Error",description:"Failed to create user",variant:"destructive"}),[3,7];case 7:return[2]}})})},ue=function(T,J){return yr(t,void 0,void 0,function(){var ie,le,Te;return br(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,5,,6]),console.log(" Updating trading mode:",T,J),[4,fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:T,controlType:J})})];case 1:return ie=tt.sent(),ie.ok?[4,ie.json()]:[3,3];case 2:return le=tt.sent(),console.log(" Trading mode updated:",le),ht({title:"Success",description:"Trading mode updated to ".concat(J.toUpperCase()),duration:2e3}),d(function(Ve){return Ve.map(function(Ke){return Ke.id===T?Qe(Qe({},Ke),{trading_mode:J}):Ke})}),console.log(" Trading mode for user ".concat(T," updated to ").concat(J.toUpperCase()," in UI")),[3,4];case 3:throw new Error("Failed to update trading mode");case 4:return[3,6];case 5:return Te=tt.sent(),console.error(" Error updating trading mode:",Te),ht({title:"Error",description:"Failed to update trading mode",variant:"destructive"}),[3,6];case 6:return[2]}})})},me=function(T,J){return yr(t,void 0,void 0,function(){var ie,le,Te;return br(this,function(tt){switch(tt.label){case 0:return tt.trys.push([0,5,,6]),console.log(" Controlling trade:",T,J),[4,fetch("/api/admin/trades/".concat(T,"/control"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:J})})];case 1:return ie=tt.sent(),ie.ok?[4,ie.json()]:[3,3];case 2:return le=tt.sent(),console.log(" Trade controlled:",le),ht({title:"Trade Controlled",description:"Trade set to ".concat(J.toUpperCase())}),p(f.map(function(Ve){return Ve.id===T?Qe(Qe({},Ve),{result:J}):Ve})),te(),[3,4];case 3:throw new Error("Failed to control trade");case 4:return[3,6];case 5:return Te=tt.sent(),console.error(" Error controlling trade:",Te),ht({title:"Error",description:"Failed to control trade",variant:"destructive"}),[3,6];case 6:return[2]}})})},Fe=function(T){return yr(t,void 0,void 0,function(){var J,ie,le,Te,tt;return br(this,function(Ve){switch(Ve.label){case 0:return Ve.trys.push([0,6,,7]),console.log(" Deleting trade:",T),J=lf([],f),p(function(Ke){return Ke.filter(function(Et){return Et.id!==T})}),[4,fetch("/api/admin/trades/".concat(T),{method:"DELETE",headers:{"Content-Type":"application/json"}})];case 1:return ie=Ve.sent(),ie.ok?[4,ie.json()]:[3,3];case 2:return le=Ve.sent(),console.log(" Trade deleted:",le),ht({title:"Trade Deleted",description:le.message||"Trade deleted successfully",duration:3e3}),te(),[3,5];case 3:return console.log(" Delete failed, restoring original state..."),p(J),[4,ie.text()];case 4:throw Te=Ve.sent(),new Error(Te||"Failed to delete trade");case 5:return[3,7];case 6:return tt=Ve.sent(),console.error(" Error deleting trade:",tt),p(function(Ke){return lf([],f)}),ht({title:"Error",description:tt instanceof Error?tt.message:"Failed to delete trade",variant:"destructive",duration:5e3}),[3,7];case 7:return[2]}})})},$e=m.useState(!1),yt=$e[0],jt=$e[1],Tt=m.useState(!1),Tr=Tt[0],Gt=Tt[1],Dt=m.useState(null),ot=Dt[0],fr=Dt[1],ir=m.useState({}),Nt=ir[0],Tn=ir[1];m.useEffect(function(){console.log(" Edit form data updated:",Nt)},[Nt]);var zi=function(T){console.log(" Viewing user:",T),fr(T),jt(!0)},xa=function(T){console.log(" Editing user:",T),fr(T);var J={username:T.username,email:T.email,balance:T.balance,trading_mode:T.trading_mode,role:T.role,status:T.status,wallet_address:T.wallet_address||""};console.log(" Setting edit form data:",J),Tn(J),Gt(!0)},Vn=function(){return yr(t,void 0,void 0,function(){var T,J;return br(this,function(ie){switch(ie.label){case 0:return ie.trys.push([0,2,,3]),[4,fetch("/api/admin/users/".concat(ot.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(Nt)})];case 1:if(T=ie.sent(),T.ok)ht({title:"Success",description:"User updated successfully"}),Gt(!1),setTimeout(function(){te()},100);else throw new Error("Failed to update user");return[3,3];case 2:return J=ie.sent(),console.error(" Error updating user:",J),ht({title:"Error",description:"Failed to update user",variant:"destructive"}),[3,3];case 3:return[2]}})})},kn=function(T){return yr(t,void 0,void 0,function(){var J,ie;return br(this,function(le){switch(le.label){case 0:if(!confirm('Are you sure you want to delete user "'.concat(T.username,'"? This action cannot be undone.')))return[2];le.label=1;case 1:return le.trys.push([1,3,,4]),[4,fetch("/api/admin/users/".concat(T.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})];case 2:if(J=le.sent(),J.ok)ht({title:"Success",description:'User "'.concat(T.username,'" deleted successfully')}),setTimeout(function(){te()},100);else throw new Error("Failed to delete user");return[3,4];case 3:return ie=le.sent(),console.error(" Error deleting user:",ie),ht({title:"Error",description:"Failed to delete user",variant:"destructive"}),[3,4];case 4:return[2]}})})},G0=function(){return yr(t,void 0,void 0,function(){var T,J;return br(this,function(ie){switch(ie.label){case 0:if(!be||!_t)return[2];ie.label=1;case 1:return ie.trys.push([1,6,,7]),[4,fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:be.id,amount:Number(_t),note:"Admin deposit for ".concat(be.username)})})];case 2:return T=ie.sent(),T.ok?[4,T.json()]:[3,4];case 3:return J=ie.sent(),ht({title:"Success",description:J.message}),Gr(""),ke(!1),setTimeout(function(){te()},100),[3,5];case 4:throw new Error("Failed to process deposit");case 5:return[3,7];case 6:return ie.sent(),ht({title:"Error",description:"Failed to process deposit",variant:"destructive"}),[3,7];case 7:return[2]}})})},q0=function(){return yr(t,void 0,void 0,function(){var T,J,ie,le;return br(this,function(Te){switch(Te.label){case 0:if(!be||!Xe)return[2];Te.label=1;case 1:return Te.trys.push([1,7,,8]),[4,fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:be.id,amount:Number(Xe),note:"Admin withdrawal for ".concat(be.username)})})];case 2:return T=Te.sent(),T.ok?[4,T.json()]:[3,4];case 3:return J=Te.sent(),ht({title:"Success",description:J.message}),$n(""),K(!1),setTimeout(function(){te()},100),[3,6];case 4:return[4,T.json()];case 5:throw ie=Te.sent(),new Error(ie.error||"Failed to process withdrawal");case 6:return[3,8];case 7:return le=Te.sent(),ht({title:"Error",description:le.message||"Failed to process withdrawal",variant:"destructive"}),[3,8];case 8:return[2]}})})},pu=function(){return yr(t,void 0,void 0,function(){var T,J,ie,le;return br(this,function(Te){switch(Te.label){case 0:if(!be||!Kt)return[2];Te.label=1;case 1:return Te.trys.push([1,7,,8]),[4,fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:be.id,newPassword:Kt})})];case 2:return T=Te.sent(),T.ok?[4,T.json()]:[3,4];case 3:return J=Te.sent(),ht({title:"Success",description:J.message}),Fs(""),ce(!1),setTimeout(function(){te()},100),[3,6];case 4:return[4,T.json()];case 5:throw ie=Te.sent(),new Error(ie.error||"Failed to change password");case 6:return[3,8];case 7:return le=Te.sent(),ht({title:"Error",description:le.message||"Failed to change password",variant:"destructive"}),[3,8];case 8:return[2]}})})},ss=function(){return yr(t,void 0,void 0,function(){var T,J;return br(this,function(ie){switch(ie.label){case 0:if(!be)return[2];ie.label=1;case 1:return ie.trys.push([1,6,,7]),[4,fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:be.id,walletAddress:Rr})})];case 2:return T=ie.sent(),T.ok?[4,T.json()]:[3,4];case 3:return J=ie.sent(),ht({title:"Success",description:J.message}),nt(Qe(Qe({},be),{wallet_address:Rr})),d(function(le){return le.map(function(Te){return Te.id===be.id?Qe(Qe({},Te),{wallet_address:Rr}):Te})}),Ir(""),El(be.id),setTimeout(function(){te()},100),[3,5];case 4:throw new Error("Failed to update wallet address");case 5:return[3,7];case 6:return ie.sent(),ht({title:"Error",description:"Failed to update wallet address",variant:"destructive"}),[3,7];case 7:return[2]}})})},El=function(T){return yr(t,void 0,void 0,function(){var J,ie,le;return br(this,function(Te){switch(Te.label){case 0:return Te.trys.push([0,4,,5]),[4,fetch("/api/superadmin/wallet-history/".concat(T))];case 1:return J=Te.sent(),J.ok?[4,J.json()]:[3,3];case 2:ie=Te.sent(),Ze(ie.history||[]),Te.label=3;case 3:return[3,5];case 4:return le=Te.sent(),console.error("Failed to load wallet history:",le),Ze([]),[3,5];case 5:return[2]}})})},gu=function(T,J,ie){return yr(t,void 0,void 0,function(){var le,Te,tt,Ve;return br(this,function(Ke){switch(Ke.label){case 0:xe(!1),Ke.label=1;case 1:return Ke.trys.push([1,7,8,9]),console.log(" Deposit action:",T,J,ie),[4,fetch("/api/admin/deposits/".concat(T,"/action"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({action:J,reason:ie})})];case 2:return le=Ke.sent(),le.ok?[4,le.json()]:[3,4];case 3:return Te=Ke.sent(),ht({title:"Deposit ".concat(J==="approve"?"Approved":"Rejected"),description:Te.message||"Deposit ".concat(J,"d successfully"),duration:3e3}),te(),[3,6];case 4:return[4,le.text()];case 5:throw tt=Ke.sent(),new Error(tt||"Failed to process deposit");case 6:return[3,9];case 7:return Ve=Ke.sent(),console.error("Failed to process deposit:",Ve),ht({title:"Error",description:Ve instanceof Error?Ve.message:"Failed to process deposit",variant:"destructive",duration:5e3}),[3,9];case 8:return xe(!0),[7];case 9:return[2]}})})},Co=function(T,J,ie){return yr(t,void 0,void 0,function(){var le,Te,tt,Ve;return br(this,function(Ke){switch(Ke.label){case 0:xe(!1),Ke.label=1;case 1:return Ke.trys.push([1,7,8,9]),console.log(" Withdrawal action:",T,J,ie),[4,fetch("/api/admin/withdrawals/".concat(T,"/action"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({action:J,reason:ie})})];case 2:return le=Ke.sent(),le.ok?[4,le.json()]:[3,4];case 3:return Te=Ke.sent(),ht({title:"Withdrawal ".concat(J==="approve"?"Approved":"Rejected"),description:Te.message||"Withdrawal ".concat(J,"d successfully"),duration:3e3}),te(),[3,6];case 4:return[4,le.text()];case 5:throw tt=Ke.sent(),new Error(tt||"Failed to process withdrawal");case 6:return[3,9];case 7:return Ve=Ke.sent(),console.error("Failed to process withdrawal:",Ve),ht({title:"Error",description:Ve instanceof Error?Ve.message:"Failed to process withdrawal",variant:"destructive",duration:5e3}),[3,9];case 8:return xe(!0),[7];case 9:return[2]}})})},xu=function(T,J,ie){return yr(t,void 0,void 0,function(){var le,Te,tt,Ve;return br(this,function(Ke){switch(Ke.label){case 0:return Ke.trys.push([0,6,,7]),console.log(" Document action:",T,J,ie),[4,fetch("/api/admin/verify-document/".concat(T),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({status:J==="approve"?"approved":"rejected",adminNotes:ie||"Document ".concat(J,"d by admin")})})];case 1:return le=Ke.sent(),le.ok?[4,le.json()]:[3,3];case 2:return Te=Ke.sent(),ht({title:"Document ".concat(J==="approve"?"Approved":"Rejected"),description:Te.message||"Document ".concat(J,"d successfully"),duration:3e3}),te(),[3,5];case 3:return[4,le.text()];case 4:throw tt=Ke.sent(),new Error(tt||"Failed to process document");case 5:return[3,7];case 6:return Ve=Ke.sent(),console.error("Failed to process document:",Ve),ht({title:"Error",description:Ve instanceof Error?Ve.message:"Failed to process document",variant:"destructive",duration:5e3}),[3,7];case 7:return[2]}})})},Q0=function(T){return yr(t,void 0,void 0,function(){var J,ie,le,Te,tt,Ve;return br(this,function(Ke){switch(Ke.label){case 0:return Ke.trys.push([0,7,,8]),console.log(" Deleting transaction:",T),console.log(" Current transactions count before deletion:",g.length),J=lf([],g),N(function(Et){return Et.map(function(vr){return vr.id===T?Qe(Qe({},vr),{deleting:!0}):vr})}),[4,fetch("/api/admin/transactions/".concat(T),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return ie=Ke.sent(),ie.ok?[4,ie.json()]:[3,4];case 2:return le=Ke.sent(),console.log(" Delete response:",le),console.log(" Immediately refreshing transactions after successful deletion..."),[4,A()];case 3:return Te=Ke.sent(),Te?ht({title:"Transaction Deleted",description:le.message||"Transaction deleted successfully",duration:3e3}):(N(function(Et){return Et.filter(function(vr){return vr.id!==T})}),ht({title:"Transaction Deleted",description:"Transaction deleted (manual update)",duration:3e3})),[3,6];case 4:return console.log(" Delete failed, restoring original state..."),N(J),[4,ie.text()];case 5:throw tt=Ke.sent(),new Error(tt||"Failed to delete transaction");case 6:return[3,8];case 7:return Ve=Ke.sent(),console.error("Failed to delete transaction:",Ve),console.log(" Error occurred, restoring original state..."),N(function(Et){return Et.filter(function(vr){return!vr.deleting})}),ht({title:"Error",description:Ve instanceof Error?Ve.message:"Failed to delete transaction",variant:"destructive",duration:5e3}),[3,8];case 8:return[2]}})})},X0=function(T){var J="/api/admin/receipt/".concat(T,"/view");window.open(J,"receiptViewer","width=800,height=600,scrollbars=yes,resizable=yes")},vu=function(T,J){return yr(t,void 0,void 0,function(){var ie,le,Te,tt,Ve;return br(this,function(Ke){switch(Ke.label){case 0:return Ke.trys.push([0,6,,7]),console.log(" Redeem code action:",T,J),J==="edit"?(ie=V.find(function(Et){return Et.id===T||Et.code===T}),ie?(G(ie),Ee(!0)):ht({title:"Error",description:"Code not found",variant:"destructive"}),[2]):[4,fetch("/api/admin/redeem-codes/".concat(T,"/action"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({action:J})})];case 1:return le=Ke.sent(),le.ok?[4,le.json()]:[3,3];case 2:return Te=Ke.sent(),ht({title:"Code ".concat(J==="disable"?"Disabled":"Deleted"),description:Te.message||"Code ".concat(J,"d successfully"),duration:3e3}),setTimeout(function(){te()},100),[3,5];case 3:return[4,le.text()];case 4:throw tt=Ke.sent(),new Error(tt||"Failed to ".concat(J," code"));case 5:return[3,7];case 6:return Ve=Ke.sent(),console.error("Failed to ".concat(J," redeem code:"),Ve),ht({title:"Error",description:Ve instanceof Error?Ve.message:"Failed to ".concat(J," code"),variant:"destructive",duration:5e3}),[3,7];case 7:return[2]}})})},Y0=function(){return yr(t,void 0,void 0,function(){var T,J,ie;return br(this,function(le){switch(le.label){case 0:return le.trys.push([0,6,,7]),!se||!se.bonus_amount?(ht({title:"Missing Information",description:"Please fill in bonus amount",variant:"destructive"}),[2]):[4,fetch("/api/admin/redeem-codes/".concat(se.id,"/action"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({action:"edit",newAmount:parseFloat(se.bonus_amount),newDescription:se.description,newMaxUses:se.max_uses?parseInt(se.max_uses):null})})];case 1:return T=le.sent(),T.ok?[4,T.json()]:[3,3];case 2:return le.sent(),ht({title:"Code Updated",description:"Redeem code ".concat(se.code," updated successfully"),duration:3e3}),Ee(!1),G(null),te(),[3,5];case 3:return[4,T.text()];case 4:throw J=le.sent(),new Error(J||"Failed to update code");case 5:return[3,7];case 6:return ie=le.sent(),console.error("Failed to update redeem code:",ie),ht({title:"Error",description:ie instanceof Error?ie.message:"Failed to update code",variant:"destructive",duration:5e3}),[3,7];case 7:return[2]}})})},mh=function(){return yr(t,void 0,void 0,function(){var T,J,ie;return br(this,function(le){switch(le.label){case 0:return le.trys.push([0,6,,7]),!$.code||!$.bonusAmount?(ht({title:"Missing Information",description:"Please fill in code and bonus amount",variant:"destructive"}),[2]):[4,fetch("/api/admin/redeem-codes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))},body:JSON.stringify({code:$.code.toUpperCase(),bonusAmount:parseFloat($.bonusAmount),maxUses:$.maxUses?parseInt($.maxUses):null,description:$.description||"Bonus code for ".concat($.bonusAmount," USDT")})})];case 1:return T=le.sent(),T.ok?[4,T.json()]:[3,3];case 2:return le.sent(),ht({title:"Code Created",description:"Redeem code ".concat($.code," created successfully"),duration:3e3}),Ne(!1),de({code:"",bonusAmount:"",maxUses:"",description:""}),te(),[3,5];case 3:return[4,T.text()];case 4:throw J=le.sent(),new Error(J||"Failed to create code");case 5:return[3,7];case 6:return ie=le.sent(),console.error("Failed to create redeem code:",ie),ht({title:"Error",description:ie instanceof Error?ie.message:"Failed to create code",variant:"destructive",duration:5e3}),[3,7];case 7:return[2]}})})},yu=function(T){It(function(J){var ie=new Set(J);return ie.has(T)?ie.delete(T):ie.add(T),ie})},va=function(T,J){switch(console.log(" Opening super admin modal:",J,"for user:",T.username),nt(T),Ir(T.wallet_address||""),J){case"deposit":ke(!0);break;case"withdrawal":K(!0);break;case"password":ce(!0);break;case"wallet":Y(!0),El(T.id);break}};m.useEffect(function(){te();var T=null;return O&&(T=setInterval(function(){console.log(" AUTO-REFRESH: Silent polling for new data..."),ae()},15e3)),function(){T&&(clearInterval(T),console.log(" AUTO-REFRESH: Polling stopped"))}},[O]);var is=function(T){var J=Date.now(),ie=new Date(T).getTime(),le=Math.max(0,ie-J);return Math.floor(le/1e3)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        .admin-table-container {
          scrollbar-width: thin;
          scrollbar-color: #6b7280 #374151;
        }
        .admin-table-container::-webkit-scrollbar {
          height: 8px;
        }
        .admin-table-container::-webkit-scrollbar-track {
          background: #374151;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb {
          background: #6b7280;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx("div",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(pn,{className:"w-8 h-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"METACHROME Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Complete Trading Platform Control"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[(c==null?void 0:c.role)==="super_admin"&&n.jsx(F9,{onTabChange:Lr}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 rounded-lg px-3 py-2 border border-gray-600",children:[n.jsx("div",{className:"w-2 h-2 rounded-full ".concat(O?"bg-green-500 animate-pulse":"bg-gray-500")}),n.jsxs("div",{className:"text-xs text-gray-400",children:[n.jsx("div",{className:"font-medium",children:O?"Live Updates":"Paused"}),n.jsx("div",{className:"text-[10px]",children:st.toLocaleTimeString()})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 rounded-lg px-3 py-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm font-bold",children:c!=null&&c.username?c.username.substring(0,2).toUpperCase():"SA"})}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-white font-medium",children:(c==null?void 0:c.username)||"superadmin"}),n.jsx("div",{className:"text-gray-400 text-xs",children:(c==null?void 0:c.role)==="super_admin"?"Super Admin":"Admin"})]})]})]})]})})}),n.jsx("div",{className:"max-w-full mx-auto p-6",children:n.jsxs(pP,{value:js,onValueChange:Lr,className:"space-y-6",children:[n.jsxs(_m,{className:"flex w-full overflow-x-auto bg-gray-800 border-gray-700 scrollbar-hide gap-2 p-2",children:[n.jsxs(Xr,{value:"overview",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(pc,{className:"w-4 h-4 mr-2"}),"Overview"]}),n.jsxs(Xr,{value:"users",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Ih,{className:"w-4 h-4 mr-2"}),"Users"]}),n.jsxs(Xr,{value:"trades",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Trades"]}),n.jsxs(Xr,{value:"transactions",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(_p,{className:"w-4 h-4 mr-2"}),"Transactions"]}),n.jsxs(Xr,{value:"pending",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),"Pending Requests"]}),n.jsxs(Xr,{value:"verification",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(R5,{className:"w-4 h-4 mr-2"}),"Verification"]}),n.jsxs(Xr,{value:"redeem-codes",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(I5,{className:"w-4 h-4 mr-2"}),"Redeem Codes"]}),n.jsxs(Xr,{value:"controls",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Controls"]}),n.jsxs(Xr,{value:"support",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Tf,{className:"w-4 h-4 mr-2"}),"Support",n.jsx(W9,{})]}),n.jsxs(Xr,{value:"activity-logs",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Activity Logs"]})]}),n.jsxs(jn,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(je,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:(C==null?void 0:C.totalUsers)||l.length})]}),n.jsx(Ih,{className:"w-8 h-8 text-blue-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(f)?f.filter(function(T){return T.result==="pending"}).length:0})]}),n.jsx(Pi,{className:"w-8 h-8 text-green-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",f.reduce(function(T,J){return T+parseFloat(J.amount||0)},0).toLocaleString()]})]}),n.jsx(_p,{className:"w-8 h-8 text-purple-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-100 text-sm",children:"Total Balance"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:[PN(l).toLocaleString()," USDT"]})]}),n.jsx(Zs,{className:"w-8 h-8 text-orange-200"})]})})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Quick Actions"}),n.jsx(Zt,{className:"text-gray-400",children:"Common administrative tasks"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{className:"h-20 bg-blue-600 hover:bg-blue-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ih,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Manage Users"})]})}),n.jsx(X,{className:"h-20 bg-green-600 hover:bg-green-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pi,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Monitor Trades"})]})}),n.jsx(X,{className:"h-20 bg-purple-600 hover:bg-purple-700",onClick:function(){return window.location.href="/admin/test"},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bc,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Test Features"})]})})]})})]})]}),n.jsxs(jn,{value:"users",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:l.length})]}),n.jsx(Ih,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(l)?l.filter(function(T){return T.status==="active"}).length:0})]}),n.jsx(ri,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Platform Balance"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[PN(l).toLocaleString()," USDT"]}),n.jsx("p",{className:"text-sm text-gray-400",children:"All crypto auto-converted to USDT"})]}),n.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded",children:" Unified USDT balance system"})]}),n.jsx(Lx,{className:"w-8 h-8 text-purple-500"})]})})}),n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Controlled Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(l)?l.filter(function(T){return T.trading_mode!=="normal"}).length:0})]}),n.jsx(kj,{className:"w-8 h-8 text-orange-500"})]})})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsxs(xt,{className:"text-white flex items-center space-x-2",children:[n.jsx(td,{className:"w-5 h-5"}),n.jsx("span",{children:"Create New User"})]}),n.jsx(Zt,{className:"text-gray-400",children:"Add new users to the trading platform"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsx(Be,{placeholder:"Username",value:ve.username,onChange:function(T){return We(Qe(Qe({},ve),{username:T.target.value}))},className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Be,{placeholder:"Email",type:"email",value:ve.email,onChange:function(T){return We(Qe(Qe({},ve),{email:T.target.value}))},className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Be,{placeholder:"Password",type:"password",value:ve.password,onChange:function(T){return We(Qe(Qe({},ve),{password:T.target.value}))},className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Be,{placeholder:"Balance",type:"number",value:ve.balance,onChange:function(T){return We(Qe(Qe({},ve),{balance:Number(T.target.value)}))},className:"bg-gray-700 border-gray-600 text-white"}),n.jsxs(ki,{value:ve.role,onValueChange:function(T){return We(Qe(Qe({},ve),{role:T}))},children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(Ei,{})}),n.jsxs(Xs,{children:[n.jsx(Ft,{value:"user",children:"User"}),(Le==null?void 0:Le.role)==="super_admin"&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{value:"admin",children:"Admin"}),n.jsx(Ft,{value:"super_admin",children:"Super Admin"})]})]})]}),n.jsx(X,{onClick:ge,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Create User"})]})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"User Management"}),n.jsx(Zt,{className:"text-gray-400",children:"Manage all platform users and their trading settings"})]}),n.jsxs(Ce,{children:[n.jsx("div",{className:"mb-4",children:n.jsx(Be,{placeholder:"Search users by username, email, or ID...",value:ws,onChange:function(T){return $t(T.target.value)},className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto admin-table-container",style:{maxWidth:"100%"},children:n.jsxs(Ao,{className:"w-full",style:{minWidth:"1400px"},children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300 min-w-[200px]",children:"User"}),n.jsx(ut,{className:"text-gray-300 min-w-[250px]",children:"Email"}),Jt&&n.jsx(ut,{className:"text-gray-300 min-w-[150px]",children:"Password"}),n.jsx(ut,{className:"text-gray-300 min-w-[120px]",children:"Balance"}),n.jsx(ut,{className:"text-gray-300 min-w-[100px]",children:"Role"}),n.jsx(ut,{className:"text-gray-300 min-w-[100px]",children:"Status"}),n.jsx(ut,{className:"text-gray-300 min-w-[120px]",children:"Trading Mode"}),n.jsx(ut,{className:"text-gray-300 min-w-[400px]",children:"Actions"})]})}),n.jsx(Ro,{children:Array.isArray(l)?n.jsxs(n.Fragment,{children:[console.log(" Rendering users table with",l.length,"users"),l.filter(function(T){var J,ie,le;if((Le==null?void 0:Le.role)==="admin"&&(T.role==="super_admin"||T.role==="superadmin"))return!1;if(!ws)return!0;var Te=ws.toLowerCase();return((J=T.username)===null||J===void 0?void 0:J.toLowerCase().includes(Te))||((ie=T.email)===null||ie===void 0?void 0:ie.toLowerCase().includes(Te))||((le=T.id)===null||le===void 0?void 0:le.toLowerCase().includes(Te))}).sort(function(T,J){var ie=new Date(T.created_at||0).getTime(),le=new Date(J.created_at||0).getTime();return le-ie}).map(function(T){var J;return n.jsxs(wn,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(it,{children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold",children:T.username.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-white font-medium truncate",title:T.username,children:T.username.length>20?"".concat(T.username.slice(0,20),"..."):T.username}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["ID: ",T.id?T.id.slice(0,8):"N/A","..."]})]})]})}),n.jsx(it,{className:"text-white",children:n.jsx("div",{className:"truncate",title:T.email,children:T.email.length>30?"".concat(T.email.slice(0,30),"..."):T.email})}),Jt&&n.jsx(it,{className:"text-white",children:n.jsx("div",{className:"flex items-center space-x-2",children:!((J=T.username)===null||J===void 0)&&J.startsWith("0x")?n.jsx("span",{className:"text-xs text-purple-400 bg-purple-900/30 px-2 py-1 rounded",children:" Wallet Login"}):T.password_plain?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-mono text-sm break-all text-green-400",style:{wordBreak:"break-all",maxWidth:"200px"},title:cn.has(T.id)?T.password_plain:"Click eye to reveal",children:cn.has(T.id)?T.password_plain:""}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return yu(T.id)},className:"text-gray-400 hover:text-white h-6 w-6 p-0 flex-shrink-0",title:cn.has(T.id)?"Hide password":"Show password",children:cn.has(T.id)?n.jsx(dl,{className:"w-3 h-3"}):n.jsx(Oi,{className:"w-3 h-3"})})]}):n.jsx("span",{className:"text-xs text-orange-400 bg-orange-900/30 px-2 py-1 rounded",title:"Reset password via edit to make it viewable",children:" Reset to view"})})}),n.jsx(it,{className:"text-white",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium text-green-400",children:[cf(T.balance)," USDT"]}),n.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded border border-blue-700",children:" Auto-converts all crypto deposits to USDT"})]})}),n.jsx(it,{children:n.jsx(Mt,{variant:T.role==="super_admin"?"default":T.role==="admin"?"secondary":"outline",children:T.role})}),n.jsx(it,{children:n.jsx(Mt,{variant:T.status==="active"?"default":"destructive",children:T.status})}),n.jsx(it,{children:n.jsxs(ki,{value:T.trading_mode,onValueChange:function(ie){return ue(T.id,ie)},children:[n.jsx(Qs,{className:"w-24 bg-gray-700 border-gray-600",children:n.jsx(Ei,{})}),n.jsxs(Xs,{children:[n.jsx(Ft,{value:"win",children:n.jsx("span",{className:"text-green-600 font-bold",children:"WIN"})}),n.jsx(Ft,{value:"normal",children:n.jsx("span",{className:"text-blue-600 font-bold",children:"NORMAL"})}),n.jsx(Ft,{value:"lose",children:n.jsx("span",{className:"text-red-600 font-bold",children:"LOSE"})})]})]})}),n.jsx(it,{className:"min-w-[300px]",children:n.jsxs("div",{className:"flex items-center space-x-1 flex-wrap",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){console.log(" View button clicked for user:",T.username),zi(T)},className:"text-gray-400 hover:text-white",title:"View User Details",children:n.jsx(Oi,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){console.log(" Edit button clicked for user:",T.username),xa(T)},className:"text-gray-400 hover:text-white",title:"Edit User",children:n.jsx(Tj,{className:"w-4 h-4"})}),((Le==null?void 0:Le.role)==="admin"||(Le==null?void 0:Le.role)==="super_admin")&&n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){console.log(" Deposit button clicked for user:",T.username),va(T,"deposit")},className:"text-green-400 hover:text-green-300",title:"Deposit Money",children:n.jsx(td,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){console.log(" Withdrawal button clicked for user:",T.username),va(T,"withdrawal")},className:"text-red-400 hover:text-red-300",title:"Withdraw Money",children:n.jsx(W5,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return va(T,"password")},className:"text-blue-400 hover:text-blue-300",title:"Change Password",children:n.jsx(U5,{className:"w-4 h-4"})}),(Le==null?void 0:Le.role)==="super_admin"&&n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return va(T,"wallet")},className:"text-purple-400 hover:text-purple-300",title:"Update Wallet Address",children:n.jsx(Lx,{className:"w-4 h-4"})}),function(){return(Le==null?void 0:Le.role)==="super_admin"?T.id!==Le.id?n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return kn(T)},className:"text-red-500 hover:text-red-400 border border-red-500",title:"Delete User",children:n.jsx(Vl,{className:"w-4 h-4"})}):null:(Le==null?void 0:Le.role)==="admin"&&T.role==="user"&&T.id!==Le.id?n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return kn(T)},className:"text-red-500 hover:text-red-400 border border-red-500",title:"Delete User",children:n.jsx(Vl,{className:"w-4 h-4"})}):null}()]})]})})]},T.id)})]}):[]})]})})]})]})]}),n.jsxs(jn,{value:"trades",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(je,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(f)?f.filter(function(T){return T.result==="pending"}).length:0})]}),n.jsx(V5,{className:"w-8 h-8 text-green-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Win Rate"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:[(C==null?void 0:C.winRate)||0,"%"]})]}),n.jsx(kj,{className:"w-8 h-8 text-blue-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",f.reduce(function(T,J){return T+parseFloat(J.amount||0)},0).toLocaleString()]})]}),n.jsx(pc,{className:"w-8 h-8 text-purple-200"})]})})}),n.jsx(je,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-100 text-sm",children:"Total P&L"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",function(){var T=(C==null?void 0:C.totalProfit)||0,J=(C==null?void 0:C.totalLoss)||0,ie=T-J;return ie.toLocaleString()}()]})]}),n.jsx(Zs,{className:"w-8 h-8 text-orange-200"})]})})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(xt,{className:"text-white flex items-center space-x-2",children:[n.jsx(Pi,{className:"w-5 h-5"}),n.jsx("span",{children:"Live Trading Monitor"})]}),n.jsx(Zt,{className:"text-gray-400",children:"Real-time trading activity with manual controls"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Live"})]})]})}),n.jsx(Ce,{children:n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:n.jsxs(Ao,{children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300",children:"Trade ID"}),n.jsx(ut,{className:"text-gray-300",children:"User"}),n.jsx(ut,{className:"text-gray-300",children:"Symbol"}),n.jsx(ut,{className:"text-gray-300",children:"Direction"}),n.jsx(ut,{className:"text-gray-300",children:"Amount"}),n.jsx(ut,{className:"text-gray-300",children:"Duration"}),n.jsx(ut,{className:"text-gray-300",children:"Entry Price"}),n.jsx(ut,{className:"text-gray-300",children:"Status"}),n.jsx(ut,{className:"text-gray-300",children:"Time Left"}),n.jsx(ut,{className:"text-gray-300",children:"Control"})]})}),n.jsx(Ro,{children:Array.isArray(f)?f.slice(0,10).map(function(T){var J=is(T.expires_at);return n.jsxs(wn,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(it,{children:n.jsxs("div",{className:"text-white font-mono text-sm",children:[T.id?T.id.slice(0,8):"N/A","..."]})}),n.jsx(it,{className:"text-white",children:T.username||"Unknown"}),n.jsx(it,{className:"text-white font-medium",children:T.symbol}),n.jsx(it,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[T.direction==="up"?n.jsx(Rx,{className:"w-4 h-4 text-green-500"}):n.jsx(Ox,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"text-white",children:T.direction==="up"?"BUY":"SELL"})]})}),n.jsxs(it,{className:"text-white",children:[T.amount.toLocaleString()," USDT"]}),n.jsxs(it,{className:"text-white",children:[T.duration,"s"]}),n.jsxs(it,{className:"text-white font-mono",children:[T.entry_price," USDT"]}),n.jsx(it,{children:n.jsx(Mt,{variant:T.result==="win"?"default":T.result==="lose"?"destructive":"secondary",children:T.result||"pending"})}),n.jsx(it,{children:T.result==="pending"?n.jsxs("span",{className:"text-sm font-medium ".concat(J<=10?"text-red-400":"text-yellow-400"),children:[J,"s"]}):n.jsx("span",{className:"text-gray-400 text-sm",children:"Completed"})}),n.jsx(it,{children:n.jsxs("div",{className:"flex items-center space-x-1",children:[T.result==="pending"?n.jsxs(n.Fragment,{children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return me(T.id,"win")},className:"text-green-400 hover:text-green-300",title:"Force Win",children:n.jsx(ri,{className:"w-4 h-4"})}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return me(T.id,"lose")},className:"text-red-400 hover:text-red-300",title:"Force Lose",children:n.jsx(Zo,{className:"w-4 h-4"})})]}):null,n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return Fe(T.id)},className:"text-gray-400 hover:text-red-400",title:"Delete Trade",children:n.jsx(Vl,{className:"w-4 h-4"})})]})})]},T.id)}):[]})]})})})]})]}),n.jsx(jn,{value:"transactions",className:"space-y-6",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-white",children:"Financial Transactions"}),n.jsx(Zt,{className:"text-gray-400",children:"Monitor all financial transactions"})]}),n.jsx(X,{onClick:function(){return yr(t,void 0,void 0,function(){var T,J,ie;return br(this,function(le){switch(le.label){case 0:if(!confirm("Fix all pending trade transactions? This will mark them as completed."))return[2];le.label=1;case 1:return le.trys.push([1,7,,8]),[4,fetch("/api/admin/fix-pending-trade-transactions",{method:"POST",headers:{"Content-Type":"application/json"}})];case 2:return T=le.sent(),[4,T.json()];case 3:return J=le.sent(),T.ok?(alert(" Fixed ".concat(J.summary.updated," pending trade transactions")),[4,loadData()]):[3,5];case 4:return le.sent(),[3,6];case 5:alert(" Error: ".concat(J.message)),le.label=6;case 6:return[3,8];case 7:return ie=le.sent(),console.error("Error fixing pending transactions:",ie),alert(" Failed to fix pending transactions"),[3,8];case 8:return[2]}})})},className:"bg-blue-600 hover:bg-blue-700",children:"Fix Pending Trade Transactions"})]})}),n.jsxs(Ce,{children:[n.jsxs("div",{className:"bg-gray-800 border border-yellow-500 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:" Debug Info"}),n.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[n.jsxs("div",{children:["React State Count: ",n.jsx("span",{className:"text-white font-mono",children:g.length})]}),n.jsxs("div",{children:["First 3 IDs: ",n.jsx("span",{className:"text-white font-mono text-xs",children:g.slice(0,3).map(function(T){return T.id.slice(0,8)}).join(", ")})]}),n.jsxs("div",{children:["Last Updated: ",n.jsx("span",{className:"text-white font-mono",children:new Date().toLocaleTimeString()})]}),n.jsxs("div",{children:["Pending Trade Txns: ",n.jsx("span",{className:"text-white font-mono",children:g.filter(function(T){return(T.type==="trade_win"||T.type==="trade_loss")&&T.status==="pending"}).length})]})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:n.jsxs(Ao,{children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300",children:"Transaction ID"}),n.jsx(ut,{className:"text-gray-300",children:"User"}),n.jsx(ut,{className:"text-gray-300",children:"Type"}),n.jsx(ut,{className:"text-gray-300",children:"Amount"}),n.jsx(ut,{className:"text-gray-300",children:"Status"}),n.jsx(ut,{className:"text-gray-300",children:"Date"}),n.jsx(ut,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(Ro,{children:Array.isArray(g)?g.map(function(T){var J;return n.jsxs(wn,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(it,{children:n.jsxs("div",{className:"text-white font-mono text-sm",children:[T.id?T.id.slice(0,8):"N/A","..."]})}),n.jsx(it,{className:"text-white",children:((J=T.users)===null||J===void 0?void 0:J.username)||"Unknown"}),n.jsx(it,{children:n.jsx(Mt,{variant:T.type==="deposit"?"default":"secondary",children:T.type})}),n.jsx(it,{className:"text-white font-medium",children:G9(T)}),n.jsx(it,{children:n.jsx(Mt,{variant:T.status==="completed"?"default":"secondary",children:T.status})}),n.jsx(it,{className:"text-white",children:new Date(T.created_at).toLocaleDateString()}),n.jsx(it,{children:n.jsx(X,{size:"sm",variant:"destructive",onClick:function(){return Q0(T.id)},disabled:T.deleting,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50",children:T.deleting?n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsx(Vl,{className:"w-4 h-4"})})})]},T.id)}):[]})]})})]})]})}),n.jsx(jn,{value:"controls",className:"space-y-6",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"System Controls"}),n.jsx(Zt,{className:"text-gray-400",children:"Platform-wide controls and settings"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"Trading Controls"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(X,{className:"w-full bg-green-600 hover:bg-green-700",children:"Enable All Trading"}),n.jsx(X,{className:"w-full bg-yellow-600 hover:bg-yellow-700",children:"Pause Trading"}),n.jsx(X,{className:"w-full bg-red-600 hover:bg-red-700",children:"Emergency Stop"})]})]}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"Market Status"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Price Feed:"}),n.jsx(Mt,{className:"bg-green-600",children:"Live"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Auto Mode:"}),n.jsx(Mt,{className:"bg-blue-600",children:"Enabled"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Manual Override:"}),n.jsx(Mt,{variant:"outline",children:"Ready"})]})]})]}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"System Health"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Server:"}),n.jsx(Mt,{className:"bg-green-600",children:"Online"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Database:"}),n.jsx(Mt,{className:"bg-green-600",children:"Connected"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"WebSocket:"}),n.jsx(Mt,{className:"bg-green-600",children:"Active"})]})]})]})]})})]})}),n.jsx(jn,{value:"pending",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsxs(xt,{className:"text-white flex items-center space-x-2",children:[n.jsx(_p,{className:"w-5 h-5 text-green-400"}),n.jsx("span",{children:"Pending Deposits"}),n.jsx(Mt,{variant:"secondary",className:"ml-2",children:((e=x==null?void 0:x.deposits)===null||e===void 0?void 0:e.length)||0})]}),n.jsx(Zt,{className:"text-gray-400",children:"Review and approve user deposit requests"})]}),n.jsx(Ce,{children:n.jsx("div",{className:"space-y-4",children:((r=x==null?void 0:x.deposits)===null||r===void 0?void 0:r.length)===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(pn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending deposits"})]}):(s=x==null?void 0:x.deposits)===null||s===void 0?void 0:s.map(function(T){var J,ie;return n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:T.username}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Balance: ",T.user_balance," USDT"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-400",children:[T.amount," ",T.currency]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[T.currency," Network"]})]})]}),T.tx_hash&&n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400",children:"Transaction Hash:"}),n.jsx("p",{className:"text-blue-400 font-mono break-all",children:T.tx_hash})]}),T.receipt&&n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400 mb-2",children:"Receipt:"}),n.jsx("div",{className:"bg-gray-600 rounded-lg p-3",children:!((J=T.receipt.mimetype)===null||J===void 0)&&J.startsWith("image/")?n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:T.receipt.url,alt:"Transaction Receipt",className:"max-w-full h-32 object-contain rounded border border-gray-500",onError:function(le){le.currentTarget.style.display="none";var Te=le.currentTarget.nextElementSibling;Te&&(Te.style.display="block")}}),n.jsx("div",{style:{display:"none"},className:"text-red-400 text-xs",children:"Failed to load image"}),n.jsx("a",{href:T.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"View Full Size"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-white text-xs",children:T.receipt.originalName}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[T.receipt.mimetype,"  ",Math.round(T.receipt.size/1024),"KB"]}),n.jsx("a",{href:T.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"Download File"})]})})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Requested: ",new Date(T.created_at).toLocaleString()]}),n.jsxs("p",{children:["Status: ",n.jsx("span",{className:"text-yellow-400",children:T.status})]})]}),T.receiptUploaded&&T.receiptViewUrl&&n.jsxs("div",{className:"bg-gray-600 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:" Receipt Uploaded:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(X,{onClick:function(){var le;return X0(((le=T.receiptFile)===null||le===void 0?void 0:le.filename)||"")},variant:"outline",size:"sm",className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:"View Receipt"}),((ie=T.receiptFile)===null||ie===void 0?void 0:ie.originalname)&&n.jsx("span",{className:"text-xs text-gray-400",children:T.receiptFile.originalname})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(X,{onClick:function(){return gu(T.id,"approve")},className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(X,{onClick:function(){return gu(T.id,"reject","Invalid transaction proof")},variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},T.id)})})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsxs(xt,{className:"text-white flex items-center space-x-2",children:[n.jsx(Zs,{className:"w-5 h-5 text-red-400"}),n.jsx("span",{children:"Pending Withdrawals"}),n.jsx(Mt,{variant:"secondary",className:"ml-2",children:((i=x==null?void 0:x.withdrawals)===null||i===void 0?void 0:i.length)||0})]}),n.jsx(Zt,{className:"text-gray-400",children:"Review and approve user withdrawal requests"})]}),n.jsx(Ce,{children:n.jsx("div",{className:"space-y-4",children:((a=x==null?void 0:x.withdrawals)===null||a===void 0?void 0:a.length)===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(pn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending withdrawals"})]}):(o=x==null?void 0:x.withdrawals)===null||o===void 0?void 0:o.map(function(T){return n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:T.username}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{className:"text-green-400 font-medium",children:["Balance: ",T.user_balance," USDT"]}),n.jsx("p",{className:"text-blue-400 text-xs",children:" Unified USDT balance (auto-converted)"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-red-400",children:[T.amount," ",T.currency]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[T.currency," Network"]})]})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400",children:"Wallet Address:"}),n.jsx("p",{className:"text-blue-400 font-mono break-all",children:T.wallet_address})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Requested: ",new Date(T.created_at).toLocaleString()]}),n.jsxs("p",{children:["Status: ",n.jsx("span",{className:"text-yellow-400",children:T.status})]})]}),n.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-3 my-3",children:[n.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center mb-1",children:[n.jsx("span",{className:"mr-2",children:""}),"Withdrawal Processing"]}),n.jsxs("div",{className:"text-green-300 text-xs",children:["Approving this withdrawal will deduct ",n.jsxs("span",{className:"font-bold text-red-400",children:[T.amount," USDT"]})," from the user's unified USDT balance. Simple and instant processing with auto-conversion system."]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(X,{onClick:function(){return Co(T.id,"approve")},className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(X,{onClick:function(){return Co(T.id,"reject","Insufficient verification")},variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},T.id)})})})]})]})}),n.jsx(jn,{value:"verification",className:"space-y-6",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Document Verification"}),n.jsx(Zt,{className:"text-gray-400",children:"Review and approve user verification documents"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:(I==null?void 0:I.pending)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Pending Review"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:(I==null?void 0:I.approved)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Approved"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-400",children:(I==null?void 0:I.rejected)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Rejected"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-400",children:(I==null?void 0:I.total)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Total Documents"})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:n.jsxs(Ao,{children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300",children:"User"}),n.jsx(ut,{className:"text-gray-300",children:"Document Type"}),n.jsx(ut,{className:"text-gray-300",children:"Submitted"}),n.jsx(ut,{className:"text-gray-300",children:"Status"}),n.jsx(ut,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(Ro,{children:P.length===0?n.jsx(wn,{className:"border-gray-700",children:n.jsx(it,{colSpan:5,className:"text-center py-8 text-gray-400",children:"No pending verification documents"})}):P.filter(function(T){return T.verification_status==="pending"}).map(function(T){var J,ie,le,Te,tt;return n.jsxs(wn,{className:"border-gray-700",children:[n.jsx(it,{className:"text-white",children:((J=T.users)===null||J===void 0?void 0:J.email)||((ie=T.users)===null||ie===void 0?void 0:ie.username)||"Unknown User"}),n.jsx(it,{className:"text-gray-300",children:((le=T.document_type)===null||le===void 0?void 0:le.replace("_"," ").replace(/\b\w/g,function(Ve){return Ve.toUpperCase()}))||"Unknown Type"}),n.jsx(it,{className:"text-gray-300",children:T.created_at?new Date(T.created_at).toLocaleString():"Unknown"}),n.jsx(it,{children:n.jsx(Mt,{className:T.verification_status==="pending"?"bg-yellow-600":T.verification_status==="approved"?"bg-green-600":T.verification_status==="rejected"?"bg-red-600":"bg-gray-600",children:((Te=T.verification_status)===null||Te===void 0?void 0:Te.charAt(0).toUpperCase())+((tt=T.verification_status)===null||tt===void 0?void 0:tt.slice(1))||"Unknown"})}),n.jsx(it,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(X,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:function(){return window.open(T.document_url,"docViewer","width=800,height=600")},children:[n.jsx(Oi,{className:"w-4 h-4 mr-1"}),"View"]}),n.jsxs(X,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:function(){return xu(T.id,"approve")},children:[n.jsx(ri,{className:"w-4 h-4 mr-1"}),"Approve"]}),n.jsxs(X,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:function(){return xu(T.id,"reject","Document review required")},children:[n.jsx(Zo,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},T.id)})})]})})]})})]})}),n.jsx(jn,{value:"redeem-codes",className:"space-y-6",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-white",children:"Redeem Code Management"}),n.jsx(Zt,{className:"text-gray-400",children:"Create and manage promotional redeem codes"})]}),n.jsxs(X,{className:"bg-purple-600 hover:bg-purple-700",onClick:function(){return Ne(!0)},children:[n.jsx(td,{className:"w-4 h-4 mr-2"}),"Create Code"]})]})}),n.jsx(Ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:(M==null?void 0:M.activeCodes)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Active Codes"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:(M==null?void 0:M.totalRedeemed)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Total Redeemed"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[(M==null?void 0:M.bonusDistributed)||0," USDT"]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Bonus Distributed"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[(M==null?void 0:M.usageRate)||0,"%"]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Usage Rate"})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:n.jsxs(Ao,{children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300",children:"Code"}),n.jsx(ut,{className:"text-gray-300",children:"Bonus Amount"}),n.jsx(ut,{className:"text-gray-300",children:"Usage"}),n.jsx(ut,{className:"text-gray-300",children:"Status"}),n.jsx(ut,{className:"text-gray-300",children:"Created"}),n.jsx(ut,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(Ro,{children:V.length===0?n.jsx(wn,{className:"border-gray-700",children:n.jsx(it,{colSpan:6,className:"text-center py-8 text-gray-400",children:"No redeem codes found"})}):V.map(function(T){var J,ie;return n.jsxs(wn,{className:"border-gray-700",children:[n.jsx(it,{className:"text-white font-mono",children:T.code}),n.jsxs(it,{className:"text-green-400",children:[T.bonus_amount," USDT"]}),n.jsxs(it,{className:"text-gray-300",children:[T.used_count||0," / ",T.max_uses||""]}),n.jsx(it,{children:n.jsx(Mt,{className:T.status==="active"?"bg-green-600":T.status==="disabled"?"bg-red-600":"bg-gray-600",children:((J=T.status)===null||J===void 0?void 0:J.charAt(0).toUpperCase())+((ie=T.status)===null||ie===void 0?void 0:ie.slice(1))||"Unknown"})}),n.jsx(it,{className:"text-gray-300",children:T.created_at?new Date(T.created_at).toLocaleDateString():"Unknown"}),n.jsx(it,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(X,{size:"sm",variant:"outline",className:"border-gray-600",onClick:function(){return vu(T.code||T.id,"edit")},children:[n.jsx(Tj,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsx(X,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:function(){return vu(T.code||T.id,"disable")},disabled:T.status==="disabled"||!T.is_active,children:"Disable"}),n.jsx(X,{size:"sm",className:"bg-gray-600 hover:bg-gray-700",onClick:function(){return vu(T.code||T.id,"delete")},children:n.jsx(Vl,{className:"w-4 h-4"})})]})})]},T.id)})})]})}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"User Redemption History"}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:n.jsxs(Ao,{children:[n.jsx(Oo,{children:n.jsxs(wn,{className:"bg-gray-700",children:[n.jsx(ut,{className:"text-gray-300",children:"Code"}),n.jsx(ut,{className:"text-gray-300",children:"User"}),n.jsx(ut,{className:"text-gray-300",children:"Amount"}),n.jsx(ut,{className:"text-gray-300",children:"Redeemed Date"}),n.jsx(ut,{className:"text-gray-300",children:"Status"}),n.jsx(ut,{className:"text-gray-300",children:"Trades Progress"})]})}),n.jsx(Ro,{children:function(){var T=V.flatMap(function(J){return(J.redemptions||[]).map(function(ie){return Qe(Qe({},ie),{codeInfo:J})})}).sort(function(J,ie){return new Date(ie.date).getTime()-new Date(J.date).getTime()});return T.length===0?n.jsx(wn,{className:"border-gray-700",children:n.jsx(it,{colSpan:6,className:"text-center py-8 text-gray-400",children:"No redemptions yet"})}):T.map(function(J,ie){return n.jsxs(wn,{className:"border-gray-700",children:[n.jsx(it,{className:"text-white font-mono",children:J.code}),n.jsx(it,{className:"text-blue-400",children:J.user}),n.jsxs(it,{className:"text-green-400",children:[J.amount," USDT"]}),n.jsxs(it,{className:"text-gray-300",children:[new Date(J.date).toLocaleDateString()," ",new Date(J.date).toLocaleTimeString()]}),n.jsx(it,{children:n.jsx(Mt,{className:J.status==="completed"?"bg-green-600":J.status==="pending_trades"?"bg-yellow-600":"bg-gray-600",children:J.status==="completed"?"Completed":"Pending Trades"})}),n.jsxs(it,{className:"text-gray-300",children:[J.tradesCompleted,"/",J.tradesRequired]})]},"redemption-".concat(ie))})}()})]})})]})]})})]})}),n.jsx(jn,{value:"support",className:"space-y-6",children:n.jsx(B9,{})}),n.jsx(jn,{value:"activity-logs",className:"space-y-6",children:n.jsx(H9,{})})]})}),yt&&ot&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-md w-full border border-gray-700 flex flex-col max-h-[90vh]",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-gray-700",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:" User Details"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return jt(!1)},className:"text-gray-400 hover:text-white",children:""})]}),n.jsx("div",{className:"overflow-y-auto flex-1 px-6 py-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Username:"}),n.jsx("span",{className:"text-white font-medium",children:ot.username})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Email:"}),n.jsx("span",{className:"text-white",children:ot.email})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex justify-between",children:n.jsx("span",{className:"text-gray-400",children:"Balance Details:"})}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-green-400 font-medium",children:"USDT Balance"}),n.jsxs("span",{className:"text-white font-bold",children:[cf(ot.balance)," USDT"]})]}),n.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded p-3",children:[n.jsxs("div",{className:"text-blue-400 text-xs font-medium flex items-center mb-2",children:[n.jsx("span",{className:"mr-2",children:""}),"Auto-Conversion System"]}),n.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[n.jsx("div",{children:" All cryptocurrency deposits (BTC, ETH, SOL, etc.) are automatically converted to USDT"}),n.jsx("div",{children:" Real-time conversion rates with minimal fees (0.1-0.2%)"}),n.jsx("div",{children:" Unified balance system - only USDT is stored"}),n.jsx("div",{children:" Withdrawals are processed directly from USDT balance"})]})]}),n.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-2",children:[n.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center",children:[n.jsx("span",{className:"mr-2",children:""}),"Benefits"]}),n.jsx("div",{className:"text-green-300 text-xs mt-1",children:" Simplified balance management  No conversion delays  Instant withdrawals"})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Role:"}),n.jsx("span",{className:"text-white",children:ot.role})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Status:"}),n.jsx("span",{className:"text-white",children:ot.status})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Trading Mode:"}),n.jsx("span",{className:"text-white font-medium",children:(ot.trading_mode||"normal").toUpperCase()})]}),n.jsx("div",{className:"border-t border-gray-700 pt-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("span",{className:"text-gray-400",children:"Wallet Address:"}),n.jsx("div",{className:"flex-1 ml-3",children:ot.wallet_address?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-white font-mono text-xs bg-gray-700 px-2 py-1 rounded break-all flex-1",children:ot.wallet_address}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return navigator.clipboard.writeText(ot.wallet_address||"")},className:"text-gray-400 hover:text-white p-1 flex-shrink-0",title:"Copy address",children:""})]}),Jt&&n.jsx(X,{variant:"outline",size:"sm",onClick:function(){jt(!1),va(ot,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:" Manage"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-gray-500 italic text-sm",children:"Not set"}),Jt&&n.jsx(X,{variant:"outline",size:"sm",onClick:function(){jt(!1),va(ot,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:" Set Address"})]})})]})}),n.jsx("div",{className:"border-t border-gray-700 pt-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("span",{className:"text-gray-400",children:"Phone Number:"}),n.jsx("div",{className:"flex-1 ml-3 text-right",children:ot.phone?n.jsx("span",{className:"text-white font-mono text-sm",children:ot.phone}):n.jsx("span",{className:"text-gray-500 italic text-sm",children:"Not set"})})]})}),n.jsx("div",{className:"border-t border-gray-700 pt-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("span",{className:"text-gray-400",children:"Withdrawal Address:"}),n.jsx("div",{className:"flex-1 ml-3",children:ot.address?n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"text-white text-sm bg-gray-700 px-2 py-1 rounded break-all flex-1",children:ot.address}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return navigator.clipboard.writeText(ot.address||"")},className:"text-gray-400 hover:text-white p-1 flex-shrink-0",title:"Copy withdrawal address",children:""})]})}):n.jsx("span",{className:"text-gray-500 italic text-sm",children:"Not set"})})]})}),n.jsxs("div",{className:"flex justify-between border-t border-gray-700 pt-3",children:[n.jsx("span",{className:"text-gray-400",children:"Created:"}),n.jsx("span",{className:"text-white",children:new Date(ot.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Last Login:"}),n.jsx("span",{className:"text-white",children:ot.last_login?new Date(ot.last_login).toLocaleDateString():"Never"})]})]})}),n.jsx("div",{className:"p-6 pt-4 border-t border-gray-700",children:n.jsx("div",{className:"flex justify-end",children:n.jsx(X,{onClick:function(){return jt(!1)},className:"bg-purple-600 hover:bg-purple-700",children:"Close"})})})]})}),Tr&&ot&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:" Edit User"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return Gt(!1)},className:"text-gray-400 hover:text-white",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Username"}),n.jsx(Be,{value:Nt.username||"",onChange:function(T){console.log(" Username changed:",T.target.value),Tn(Qe(Qe({},Nt),{username:T.target.value}))},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",autoComplete:"off",disabled:!1,readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Email"}),n.jsx(Be,{type:"email",value:Nt.email||"",onChange:function(T){console.log(" Email changed:",T.target.value),Tn(Qe(Qe({},Nt),{email:T.target.value}))},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter email",autoComplete:"off",disabled:!1,readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Balance"}),n.jsx(Be,{type:"number",value:Nt.balance||0,onChange:function(T){console.log(" Balance changed:",T.target.value),Tn(Qe(Qe({},Nt),{balance:Number(T.target.value)}))},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter balance",step:"0.01",min:"0",disabled:!1,readOnly:!1})]}),(Le==null?void 0:Le.role)==="super_admin"&&n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Wallet Address"}),n.jsx(Be,{value:Nt.wallet_address||"",onChange:function(T){console.log(" Wallet address changed:",T.target.value),Tn(Qe(Qe({},Nt),{wallet_address:T.target.value}))},placeholder:"Enter wallet address (0x...)",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Trading Mode"}),n.jsxs(ki,{value:Nt.trading_mode,onValueChange:function(T){return Tn(Qe(Qe({},Nt),{trading_mode:T}))},children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(Ei,{placeholder:"Select trading mode"})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"win",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-green-400 font-bold",children:"WIN"})}),n.jsx(Ft,{value:"normal",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-blue-400 font-bold",children:"NORMAL"})}),n.jsx(Ft,{value:"lose",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-red-400 font-bold",children:"LOSE"})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Role"}),n.jsxs(ki,{value:Nt.role,onValueChange:function(T){return Tn(Qe(Qe({},Nt),{role:T}))},children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(Ei,{placeholder:"Select role"})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"user",className:"text-white hover:bg-gray-600",children:"User"}),(Le==null?void 0:Le.role)==="super_admin"&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{value:"admin",className:"text-white hover:bg-gray-600",children:"Admin"}),n.jsx(Ft,{value:"superadmin",className:"text-white hover:bg-gray-600",children:"Super Admin"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Status"}),n.jsxs(ki,{value:Nt.status,onValueChange:function(T){return Tn(Qe(Qe({},Nt),{status:T}))},children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(Ei,{placeholder:"Select status"})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"active",className:"text-white hover:bg-gray-600",children:"Active"}),n.jsx(Ft,{value:"inactive",className:"text-white hover:bg-gray-600",children:"Inactive"}),n.jsx(Ft,{value:"suspended",className:"text-white hover:bg-gray-600",children:"Suspended"}),n.jsx(Ft,{value:"banned",className:"text-white hover:bg-gray-600",children:"Banned"})]})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return Gt(!1)},children:"Cancel"}),n.jsx(X,{onClick:Vn,className:"bg-purple-600 hover:bg-purple-700",children:"Save Changes"})]})]})}),((Le==null?void 0:Le.role)==="admin"||(Le==null?void 0:Le.role)==="super_admin")&&n.jsxs(n.Fragment,{children:[ze&&be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" Deposit to"}),n.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:n.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:be.username})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),n.jsx(Be,{type:"number",value:_t,onChange:function(T){return Gr(T.target.value)},placeholder:"Enter deposit amount",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",cf(be.balance)," USDT"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return ke(!1)},children:"Cancel"}),n.jsx(X,{onClick:G0,className:"bg-green-600 hover:bg-green-700",children:"Process Deposit"})]})]})}),R&&be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" Withdraw from"}),n.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:n.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:be.username})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),n.jsx(Be,{type:"number",value:Xe,onChange:function(T){return $n(T.target.value)},placeholder:"Enter withdrawal amount",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",cf(be.balance)," USDT"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return K(!1)},children:"Cancel"}),n.jsx(X,{onClick:q0,className:"bg-red-600 hover:bg-red-700",children:"Process Withdrawal"})]})]})}),ne&&be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" Change Password for"}),n.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:n.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:be.username})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"New Password"}),n.jsx(Be,{type:"password",value:Kt,onChange:function(T){return Fs(T.target.value)},placeholder:"Enter new password",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsx("div",{className:"text-sm text-yellow-400",children:" This will immediately change the user's login password"})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return ce(!1)},children:"Cancel"}),n.jsx(X,{onClick:pu,className:"bg-blue-600 hover:bg-blue-700",children:"Change Password"})]})]})}),(Le==null?void 0:Le.role)==="super_admin"&&Re&&be&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-lg w-full mx-4 border border-gray-700 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" Manage Wallet for"}),n.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:n.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:be.username})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Current Wallet Address"}),n.jsx("div",{className:"text-sm",children:be.wallet_address?n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("span",{className:"font-mono text-green-400 bg-gray-800 px-2 py-1 rounded break-all flex-1 text-xs",children:be.wallet_address}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return navigator.clipboard.writeText(be.wallet_address||"")},className:"text-gray-400 hover:text-white p-1 flex-shrink-0",title:"Copy address",children:""})]}):n.jsx("span",{className:"text-gray-400 italic",children:"No wallet address set"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"New Wallet Address"}),n.jsx(Be,{value:Rr,onChange:function(T){return Ir(T.target.value)},placeholder:"Enter new wallet address",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:"Previous Wallet Addresses"}),zt.length>0?n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.isArray(zt)?zt.map(function(T,J){return n.jsxs("div",{className:"bg-gray-700 p-3 rounded flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-mono text-sm text-gray-300",children:T.address?"".concat(T.address.slice(0,10),"...").concat(T.address.slice(-8)):"N/A"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Changed: ",new Date(T.changed_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return Ir(T.address)},className:"text-blue-400 hover:text-blue-300 text-xs",title:"Use this address",children:"Use"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return navigator.clipboard.writeText(T.address)},className:"text-gray-400 hover:text-white p-1",title:"Copy address",children:""})]})]},J)}):[]}):n.jsx("div",{className:"bg-gray-700 p-3 rounded text-center",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No previous wallet addresses found"})})]}),n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 p-3 rounded",children:n.jsx("div",{className:"text-yellow-400 text-sm",children:" Changing the wallet address will move the current address to history"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return Y(!1)},children:"Cancel"}),n.jsx(X,{onClick:ss,className:"bg-purple-600 hover:bg-purple-700",disabled:!Rr||Rr===be.wallet_address,children:"Update Wallet"})]})]})})]}),n.jsx(Bo,{open:!!er,onOpenChange:function(){return di(null)},children:n.jsxs(Ha,{className:"max-w-4xl max-h-[90vh] bg-gray-800 border-gray-700",children:[n.jsx(Ka,{children:n.jsxs(Ga,{className:"text-white",children:["Receipt: ",er==null?void 0:er.filename]})}),n.jsx("div",{className:"flex justify-center items-center p-4",children:er&&n.jsx("img",{src:er.url,alt:"Receipt",className:"max-w-full max-h-[70vh] object-contain rounded-lg",onError:function(T){console.error("Failed to load receipt image"),T.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzMzMzMzMyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmaWxsPSIjNjY2NjY2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UmVjZWlwdCBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+"}})})]})}),oe&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:" Create Redeem Code"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return Ne(!1)},className:"text-gray-400 hover:text-white",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Code *"}),n.jsx(Be,{value:$.code,onChange:function(T){return de(Qe(Qe({},$),{code:T.target.value.toUpperCase()}))},placeholder:"e.g., BONUS100",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Bonus Amount (USDT) *"}),n.jsx(Be,{type:"number",value:$.bonusAmount,onChange:function(T){return de(Qe(Qe({},$),{bonusAmount:T.target.value}))},placeholder:"100",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Max Uses (optional)"}),n.jsx(Be,{type:"number",value:$.maxUses,onChange:function(T){return de(Qe(Qe({},$),{maxUses:T.target.value}))},placeholder:"Leave empty for unlimited",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Description (optional)"}),n.jsx(Be,{value:$.description,onChange:function(T){return de(Qe(Qe({},$),{description:T.target.value}))},placeholder:"Bonus code description",className:"bg-gray-700 border-gray-600 text-white"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){return Ne(!1)},children:"Cancel"}),n.jsx(X,{onClick:mh,className:"bg-purple-600 hover:bg-purple-700",children:"Create Code"})]})]})}),he&&se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:" Edit Redeem Code"}),n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){Ee(!1),G(null)},className:"text-gray-400 hover:text-white",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Code"}),n.jsx("input",{type:"text",value:se.code,disabled:!0,className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md text-white opacity-50 cursor-not-allowed"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Code cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bonus Amount (USDT)"}),n.jsx("input",{type:"number",step:"0.01",value:se.bonus_amount,onChange:function(T){return G(Qe(Qe({},se),{bonus_amount:T.target.value}))},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Uses (optional)"}),n.jsx("input",{type:"number",value:se.max_uses||"",onChange:function(T){return G(Qe(Qe({},se),{max_uses:T.target.value}))},placeholder:"Unlimited",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),n.jsx("input",{type:"text",value:se.description||"",onChange:function(T){return G(Qe(Qe({},se),{description:T.target.value}))},placeholder:"Code description",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(X,{variant:"outline",onClick:function(){Ee(!1),G(null)},children:"Cancel"}),n.jsx(X,{onClick:Y0,className:"bg-blue-600 hover:bg-blue-700",children:"Update Code"})]})]})})]})]})}var fh=t=>t.type==="checkbox",zo=t=>t instanceof Date,qn=t=>t==null;const xP=t=>typeof t=="object";var Vr=t=>!qn(t)&&!Array.isArray(t)&&xP(t)&&!zo(t),vP=t=>Vr(t)&&t.target?fh(t.target)?t.target.checked:t.target.value:t,q9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,yP=(t,e)=>t.has(q9(e)),Q9=t=>{const e=t.constructor&&t.constructor.prototype;return Vr(e)&&e.hasOwnProperty("isPrototypeOf")},Ib=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qr(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ib&&(t instanceof Blob||s))&&(r||Vr(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Q9(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Qr(t[i]));else return t;return e}var $0=t=>/^\w*$/.test(t),_r=t=>t===void 0,Lb=t=>Array.isArray(t)?t.filter(Boolean):[],Fb=t=>Lb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(t,e,r)=>{if(!e||!Vr(t))return r;const s=($0(e)?[e]:Fb(e)).reduce((i,a)=>qn(i)?i:i[a],t);return _r(s)||s===t?_r(t[e])?r:t[e]:s},cs=t=>typeof t=="boolean",Xt=(t,e,r)=>{let s=-1;const i=$0(e)?[e]:Fb(e),a=i.length,o=a-1;for(;++s<a;){const c=i[s];let u=r;if(s!==o){const l=t[c];u=Vr(l)||Array.isArray(l)?l:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Mm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ub=Pe.createContext(null);Ub.displayName="HookFormContext";const W0=()=>Pe.useContext(Ub),X9=t=>{const{children:e,...r}=t;return Pe.createElement(Ub.Provider,{value:r},e)};var bP=(t,e,r,s=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Ys.all&&(e._proxyFormState[o]=!s||Ys.all),r&&(r[o]=!0),t[o]}});return i};const Bb=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect;function Y9(t){const e=W0(),{control:r=e.control,disabled:s,name:i,exact:a}=t||{},[o,c]=Pe.useState(r._formState),u=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Bb(()=>r._subscribe({name:i,formState:u.current,exact:a,callback:l=>{!s&&c({...r._formState,...l})}}),[i,s,a]),Pe.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),Pe.useMemo(()=>bP(o,r,u.current,!1),[o,r])}var ds=t=>typeof t=="string",wP=(t,e,r,s,i)=>ds(t)?(s&&e.watch.add(t),De(r,t,i)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),De(r,a))):(s&&(e.watchAll=!0),r),dv=t=>qn(t)||!xP(t);function ea(t,e,r=new WeakSet){if(dv(t)||dv(e))return t===e;if(zo(t)&&zo(e))return t.getTime()===e.getTime();const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of s){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=e[a];if(zo(o)&&zo(c)||Vr(o)&&Vr(c)||Array.isArray(o)&&Array.isArray(c)?!ea(o,c,r):o!==c)return!1}}return!0}function J9(t){const e=W0(),{control:r=e.control,name:s,defaultValue:i,disabled:a,exact:o,compute:c}=t||{},u=Pe.useRef(i),l=Pe.useRef(c),d=Pe.useRef(void 0);l.current=c;const h=Pe.useMemo(()=>r._getWatch(s,u.current),[r,s]),[f,p]=Pe.useState(l.current?l.current(h):h);return Bb(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:v=>{if(!a){const g=wP(s,r._names,v.values||r._formValues,!1,u.current);if(l.current){const N=l.current(g);ea(N,d.current)||(p(N),d.current=N)}else p(g)}}}),[r,a,s,o]),Pe.useEffect(()=>r._removeUnmounted()),f}function Z9(t){const e=W0(),{name:r,disabled:s,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,c=yP(i._names.array,r),u=Pe.useMemo(()=>De(i._formValues,r,De(i._defaultValues,r,o)),[i,r,o]),l=J9({control:i,name:r,defaultValue:u,exact:!0}),d=Y9({control:i,name:r,exact:!0}),h=Pe.useRef(t),f=Pe.useRef(void 0),p=Pe.useRef(i.register(r,{...t.rules,value:l,...cs(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const v=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!De(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!De(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!De(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!De(d.validatingFields,r)},error:{enumerable:!0,get:()=>De(d.errors,r)}}),[d,r]),g=Pe.useCallback(y=>p.current.onChange({target:{value:vP(y),name:r},type:Mm.CHANGE}),[r]),N=Pe.useCallback(()=>p.current.onBlur({target:{value:De(i._formValues,r),name:r},type:Mm.BLUR}),[r,i._formValues]),b=Pe.useCallback(y=>{const w=De(i._fields,r);w&&y&&(w._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:C=>y.setCustomValidity(C),reportValidity:()=>y.reportValidity()})},[i._fields,r]),x=Pe.useMemo(()=>({name:r,value:l,...cs(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:g,onBlur:N,ref:b}),[r,s,d.disabled,g,N,b,l]);return Pe.useEffect(()=>{const y=i._options.shouldUnregister||a,w=f.current;w&&w!==r&&!c&&i.unregister(w),i.register(r,{...h.current.rules,...cs(h.current.disabled)?{disabled:h.current.disabled}:{}});const C=(k,S)=>{const E=De(i._fields,k);E&&E._f&&(E._f.mount=S)};if(C(r,!0),y){const k=Qr(De(i._options.defaultValues,r,h.current.defaultValue));Xt(i._defaultValues,r,k),_r(De(i._formValues,r))&&Xt(i._formValues,r,k)}return!c&&i.register(r),f.current=r,()=>{(c?y&&!i._state.action:y)?i.unregister(r):C(r,!1)}},[r,i,c,a]),Pe.useEffect(()=>{i._setDisabledField({disabled:s,name:r})},[s,r,i]),Pe.useMemo(()=>({field:x,formState:d,fieldState:v}),[x,d,v])}const e$=t=>t.render(Z9(t));var jP=(t,e,r,s,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:i||!0}}:{},od=t=>Array.isArray(t)?t:[t],_N=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function NP(t,e){const r={};for(const s in t)if(t.hasOwnProperty(s)){const i=t[s],a=e[s];if(i&&Vr(i)&&a){const o=NP(i,a);Vr(o)&&(r[s]=o)}else t[s]&&(r[s]=a)}return r}var Gn=t=>Vr(t)&&!Object.keys(t).length,zb=t=>t.type==="file",Js=t=>typeof t=="function",Am=t=>{if(!Ib)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},SP=t=>t.type==="select-multiple",$b=t=>t.type==="radio",t$=t=>$b(t)||fh(t),xg=t=>Am(t)&&t.isConnected;function r$(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=_r(t)?s++:t[e[s++]];return t}function n$(t){for(const e in t)if(t.hasOwnProperty(e)&&!_r(t[e]))return!1;return!0}function zr(t,e){const r=Array.isArray(e)?e:$0(e)?[e]:Fb(e),s=r.length===1?t:r$(t,r),i=r.length-1,a=r[i];return s&&delete s[a],i!==0&&(Vr(s)&&Gn(s)||Array.isArray(s)&&n$(s))&&zr(t,r.slice(0,-1)),t}var s$=t=>{for(const e in t)if(Js(t[e]))return!0;return!1};function CP(t){return Array.isArray(t)||Vr(t)&&!s$(t)}function hv(t,e={}){for(const r in t)CP(t[r])?(e[r]=Array.isArray(t[r])?[]:{},hv(t[r],e[r])):_r(t[r])||(e[r]=!0);return e}function Hl(t,e,r){r||(r=hv(e));for(const s in t)CP(t[s])?_r(e)||dv(r[s])?r[s]=hv(t[s],Array.isArray(t[s])?[]:{}):Hl(t[s],qn(e)?{}:e[s],r[s]):r[s]=!ea(t[s],e[s]);return r}const DN={value:!1,isValid:!1},MN={value:!0,isValid:!0};var TP=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_r(t[0].attributes.value)?_r(t[0].value)||t[0].value===""?MN:{value:t[0].value,isValid:!0}:MN:DN}return DN},kP=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>_r(t)?t:e?t===""?NaN:t&&+t:r&&ds(t)?new Date(t):s?s(t):t;const AN={isValid:!1,value:null};var EP=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,AN):AN;function ON(t){const e=t.ref;return zb(e)?e.files:$b(e)?EP(t.refs).value:SP(e)?[...e.selectedOptions].map(({value:r})=>r):fh(e)?TP(t.refs).value:kP(_r(e.value)?t.ref.value:e.value,t)}var i$=(t,e,r,s)=>{const i={};for(const a of t){const o=De(e,a);o&&Xt(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:s}},Om=t=>t instanceof RegExp,Iu=t=>_r(t)?t:Om(t)?t.source:Vr(t)?Om(t.value)?t.value.source:t.value:t,RN=t=>({isOnSubmit:!t||t===Ys.onSubmit,isOnBlur:t===Ys.onBlur,isOnChange:t===Ys.onChange,isOnAll:t===Ys.all,isOnTouch:t===Ys.onTouched});const IN="AsyncFunction";var a$=t=>!!t&&!!t.validate&&!!(Js(t.validate)&&t.validate.constructor.name===IN||Vr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===IN)),o$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),LN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const ld=(t,e,r,s)=>{for(const i of r||Object.keys(t)){const a=De(t,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(ld(c,e))break}else if(Vr(c)&&ld(c,e))break}}};function FN(t,e,r){const s=De(t,r);if(s||$0(r))return{error:s,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=De(e,a),c=De(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:r}}var l$=(t,e,r,s)=>{r(t);const{name:i,...a}=t;return Gn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||Ys.all))},c$=(t,e,r)=>!t||!e||t===e||od(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),u$=(t,e,r,s,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?s.isOnBlur:i.isOnBlur)?!t:(r?s.isOnChange:i.isOnChange)?t:!0,d$=(t,e)=>!Lb(De(t,e)).length&&zr(t,e),h$=(t,e,r)=>{const s=od(De(t,r));return Xt(s,"root",e[r]),Xt(t,r,s),t};function UN(t,e,r="validate"){if(ds(t)||Array.isArray(t)&&t.every(ds)||cs(t)&&!t)return{type:r,message:ds(t)?t:"",ref:e}}var $l=t=>Vr(t)&&!Om(t)?t:{value:t,message:""},BN=async(t,e,r,s,i,a)=>{const{ref:o,refs:c,required:u,maxLength:l,minLength:d,min:h,max:f,pattern:p,validate:v,name:g,valueAsNumber:N,mount:b}=t._f,x=De(r,g);if(!b||e.has(g))return{};const y=c?c[0]:o,w=F=>{i&&y.reportValidity&&(y.setCustomValidity(cs(F)?"":F||""),y.reportValidity())},C={},k=$b(o),S=fh(o),E=k||S,_=(N||zb(o))&&_r(o.value)&&_r(x)||Am(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,P=jP.bind(null,g,s,C),W=(F,I,D,q=Vi.maxLength,V=Vi.minLength)=>{const re=F?I:D;C[g]={type:F?q:V,message:re,ref:o,...P(F?q:V,re)}};if(a?!Array.isArray(x)||!x.length:u&&(!E&&(_||qn(x))||cs(x)&&!x||S&&!TP(c).isValid||k&&!EP(c).isValid)){const{value:F,message:I}=ds(u)?{value:!!u,message:u}:$l(u);if(F&&(C[g]={type:Vi.required,message:I,ref:y,...P(Vi.required,I)},!s))return w(I),C}if(!_&&(!qn(h)||!qn(f))){let F,I;const D=$l(f),q=$l(h);if(!qn(x)&&!isNaN(x)){const V=o.valueAsNumber||x&&+x;qn(D.value)||(F=V>D.value),qn(q.value)||(I=V<q.value)}else{const V=o.valueAsDate||new Date(x),re=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",M=o.type=="week";ds(D.value)&&x&&(F=L?re(x)>re(D.value):M?x>D.value:V>new Date(D.value)),ds(q.value)&&x&&(I=L?re(x)<re(q.value):M?x<q.value:V<new Date(q.value))}if((F||I)&&(W(!!F,D.message,q.message,Vi.max,Vi.min),!s))return w(C[g].message),C}if((l||d)&&!_&&(ds(x)||a&&Array.isArray(x))){const F=$l(l),I=$l(d),D=!qn(F.value)&&x.length>+F.value,q=!qn(I.value)&&x.length<+I.value;if((D||q)&&(W(D,F.message,I.message),!s))return w(C[g].message),C}if(p&&!_&&ds(x)){const{value:F,message:I}=$l(p);if(Om(F)&&!x.match(F)&&(C[g]={type:Vi.pattern,message:I,ref:o,...P(Vi.pattern,I)},!s))return w(I),C}if(v){if(Js(v)){const F=await v(x,r),I=UN(F,y);if(I&&(C[g]={...I,...P(Vi.validate,I.message)},!s))return w(I.message),C}else if(Vr(v)){let F={};for(const I in v){if(!Gn(F)&&!s)break;const D=UN(await v[I](x,r),y,I);D&&(F={...D,...P(I,D.message)},w(D.message),s&&(C[g]=F))}if(!Gn(F)&&(C[g]={ref:y,...F},!s))return C}}return w(!0),C};const f$={mode:Ys.onSubmit,reValidateMode:Ys.onChange,shouldFocusError:!0};function m$(t={}){let e={...f$,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Js(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=Vr(e.defaultValues)||Vr(e.values)?Qr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Qr(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:_N(),state:_N()},p=e.criteriaMode===Ys.all,v=R=>K=>{clearTimeout(l),l=setTimeout(R,K)},g=async R=>{if(!e.disabled&&(d.isValid||h.isValid||R)){const K=e.resolver?Gn((await S()).errors):await _(s,!0);K!==r.isValid&&f.state.next({isValid:K})}},N=(R,K)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((R||Array.from(c.mount)).forEach(ee=>{ee&&(K?Xt(r.validatingFields,ee,K):zr(r.validatingFields,ee))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Gn(r.validatingFields)}))},b=(R,K=[],ee,ne,ce=!0,pe=!0)=>{if(ne&&ee&&!e.disabled){if(o.action=!0,pe&&Array.isArray(De(s,R))){const Re=ee(De(s,R),ne.argA,ne.argB);ce&&Xt(s,R,Re)}if(pe&&Array.isArray(De(r.errors,R))){const Re=ee(De(r.errors,R),ne.argA,ne.argB);ce&&Xt(r.errors,R,Re),d$(r.errors,R)}if((d.touchedFields||h.touchedFields)&&pe&&Array.isArray(De(r.touchedFields,R))){const Re=ee(De(r.touchedFields,R),ne.argA,ne.argB);ce&&Xt(r.touchedFields,R,Re)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Hl(i,a)),f.state.next({name:R,isDirty:W(R,K),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xt(a,R,K)},x=(R,K)=>{Xt(r.errors,R,K),f.state.next({errors:r.errors})},y=R=>{r.errors=R,f.state.next({errors:r.errors,isValid:!1})},w=(R,K,ee,ne)=>{const ce=De(s,R);if(ce){const pe=De(a,R,_r(ee)?De(i,R):ee);_r(pe)||ne&&ne.defaultChecked||K?Xt(a,R,K?pe:ON(ce._f)):D(R,pe),o.mount&&g()}},C=(R,K,ee,ne,ce)=>{let pe=!1,Re=!1;const Y={name:R};if(!e.disabled){if(!ee||ne){(d.isDirty||h.isDirty)&&(Re=r.isDirty,r.isDirty=Y.isDirty=W(),pe=Re!==Y.isDirty);const fe=ea(De(i,R),K);Re=!!De(r.dirtyFields,R),fe?zr(r.dirtyFields,R):Xt(r.dirtyFields,R,!0),Y.dirtyFields=r.dirtyFields,pe=pe||(d.dirtyFields||h.dirtyFields)&&Re!==!fe}if(ee){const fe=De(r.touchedFields,R);fe||(Xt(r.touchedFields,R,ee),Y.touchedFields=r.touchedFields,pe=pe||(d.touchedFields||h.touchedFields)&&fe!==ee)}pe&&ce&&f.state.next(Y)}return pe?Y:{}},k=(R,K,ee,ne)=>{const ce=De(r.errors,R),pe=(d.isValid||h.isValid)&&cs(K)&&r.isValid!==K;if(e.delayError&&ee?(u=v(()=>x(R,ee)),u(e.delayError)):(clearTimeout(l),u=null,ee?Xt(r.errors,R,ee):zr(r.errors,R)),(ee?!ea(ce,ee):ce)||!Gn(ne)||pe){const Re={...ne,...pe&&cs(K)?{isValid:K}:{},errors:r.errors,name:R};r={...r,...Re},f.state.next(Re)}},S=async R=>{N(R,!0);const K=await e.resolver(a,e.context,i$(R||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return N(R),K},E=async R=>{const{errors:K}=await S(R);if(R)for(const ee of R){const ne=De(K,ee);ne?Xt(r.errors,ee,ne):zr(r.errors,ee)}else r.errors=K;return K},_=async(R,K,ee={valid:!0})=>{for(const ne in R){const ce=R[ne];if(ce){const{_f:pe,...Re}=ce;if(pe){const Y=c.array.has(pe.name),fe=ce._f&&a$(ce._f);fe&&d.validatingFields&&N([pe.name],!0);const be=await BN(ce,c.disabled,a,p,e.shouldUseNativeValidation&&!K,Y);if(fe&&d.validatingFields&&N([pe.name]),be[pe.name]&&(ee.valid=!1,K))break;!K&&(De(be,pe.name)?Y?h$(r.errors,be,pe.name):Xt(r.errors,pe.name,be[pe.name]):zr(r.errors,pe.name))}!Gn(Re)&&await _(Re,K,ee)}}return ee.valid},P=()=>{for(const R of c.unMount){const K=De(s,R);K&&(K._f.refs?K._f.refs.every(ee=>!xg(ee)):!xg(K._f.ref))&&B(R)}c.unMount=new Set},W=(R,K)=>!e.disabled&&(R&&K&&Xt(a,R,K),!ea(U(),i)),F=(R,K,ee)=>wP(R,c,{...o.mount?a:_r(K)?i:ds(R)?{[R]:K}:K},ee,K),I=R=>Lb(De(o.mount?a:i,R,e.shouldUnregister?De(i,R,[]):[])),D=(R,K,ee={})=>{const ne=De(s,R);let ce=K;if(ne){const pe=ne._f;pe&&(!pe.disabled&&Xt(a,R,kP(K,pe)),ce=Am(pe.ref)&&qn(K)?"":K,SP(pe.ref)?[...pe.ref.options].forEach(Re=>Re.selected=ce.includes(Re.value)):pe.refs?fh(pe.ref)?pe.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(ce)?Re.checked=!!ce.find(Y=>Y===Re.value):Re.checked=ce===Re.value||!!ce)}):pe.refs.forEach(Re=>Re.checked=Re.value===ce):zb(pe.ref)?pe.ref.value="":(pe.ref.value=ce,pe.ref.type||f.state.next({name:R,values:Qr(a)})))}(ee.shouldDirty||ee.shouldTouch)&&C(R,ce,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&M(R)},q=(R,K,ee)=>{for(const ne in K){if(!K.hasOwnProperty(ne))return;const ce=K[ne],pe=R+"."+ne,Re=De(s,pe);(c.array.has(R)||Vr(ce)||Re&&!Re._f)&&!zo(ce)?q(pe,ce,ee):D(pe,ce,ee)}},V=(R,K,ee={})=>{const ne=De(s,R),ce=c.array.has(R),pe=Qr(K);Xt(a,R,pe),ce?(f.array.next({name:R,values:Qr(a)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&ee.shouldDirty&&f.state.next({name:R,dirtyFields:Hl(i,a),isDirty:W(R,pe)})):ne&&!ne._f&&!qn(pe)?q(R,pe,ee):D(R,pe,ee),LN(R,c)&&f.state.next({...r,name:R}),f.state.next({name:o.mount?R:void 0,values:Qr(a)})},re=async R=>{o.mount=!0;const K=R.target;let ee=K.name,ne=!0;const ce=De(s,ee),pe=fe=>{ne=Number.isNaN(fe)||zo(fe)&&isNaN(fe.getTime())||ea(fe,De(a,ee,fe))},Re=RN(e.mode),Y=RN(e.reValidateMode);if(ce){let fe,be;const nt=K.type?ON(ce._f):vP(R),Ct=R.type===Mm.BLUR||R.type===Mm.FOCUS_OUT,_t=!o$(ce._f)&&!e.resolver&&!De(r.errors,ee)&&!ce._f.deps||u$(Ct,De(r.touchedFields,ee),r.isSubmitted,Y,Re),Gr=LN(ee,c,Ct);Xt(a,ee,nt),Ct?(!K||!K.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(R),u&&u(0)):ce._f.onChange&&ce._f.onChange(R);const vt=C(ee,nt,Ct),Xe=!Gn(vt)||Gr;if(!Ct&&f.state.next({name:ee,type:R.type,values:Qr(a)}),_t)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Ct&&g():Ct||g()),Xe&&f.state.next({name:ee,...Gr?{}:vt});if(!Ct&&Gr&&f.state.next({...r}),e.resolver){const{errors:$n}=await S([ee]);if(pe(nt),ne){const Or=FN(r.errors,s,ee),Kt=FN($n,s,Or.name||ee);fe=Kt.error,ee=Kt.name,be=Gn($n)}}else N([ee],!0),fe=(await BN(ce,c.disabled,a,p,e.shouldUseNativeValidation))[ee],N([ee]),pe(nt),ne&&(fe?be=!1:(d.isValid||h.isValid)&&(be=await _(s,!0)));ne&&(ce._f.deps&&(!Array.isArray(ce._f.deps)||ce._f.deps.length>0)&&M(ce._f.deps),k(ee,be,fe,vt))}},L=(R,K)=>{if(De(r.errors,K)&&R.focus)return R.focus(),1},M=async(R,K={})=>{let ee,ne;const ce=od(R);if(e.resolver){const pe=await E(_r(R)?R:ce);ee=Gn(pe),ne=R?!ce.some(Re=>De(pe,Re)):ee}else R?(ne=(await Promise.all(ce.map(async pe=>{const Re=De(s,pe);return await _(Re&&Re._f?{[pe]:Re}:Re)}))).every(Boolean),!(!ne&&!r.isValid)&&g()):ne=ee=await _(s);return f.state.next({...!ds(R)||(d.isValid||h.isValid)&&ee!==r.isValid?{}:{name:R},...e.resolver||!R?{isValid:ee}:{},errors:r.errors}),K.shouldFocus&&!ne&&ld(s,L,R?ce:c.mount),ne},U=(R,K)=>{let ee={...o.mount?a:i};return K&&(ee=NP(K.dirtyFields?r.dirtyFields:r.touchedFields,ee)),_r(R)?ee:ds(R)?De(ee,R):R.map(ne=>De(ee,ne))},Q=(R,K)=>({invalid:!!De((K||r).errors,R),isDirty:!!De((K||r).dirtyFields,R),error:De((K||r).errors,R),isValidating:!!De(r.validatingFields,R),isTouched:!!De((K||r).touchedFields,R)}),oe=R=>{R&&od(R).forEach(K=>zr(r.errors,K)),f.state.next({errors:R?r.errors:{}})},Ne=(R,K,ee)=>{const ne=(De(s,R,{_f:{}})._f||{}).ref,ce=De(r.errors,R)||{},{ref:pe,message:Re,type:Y,...fe}=ce;Xt(r.errors,R,{...fe,...K,ref:ne}),f.state.next({name:R,errors:r.errors,isValid:!1}),ee&&ee.shouldFocus&&ne&&ne.focus&&ne.focus()},H=(R,K)=>Js(R)?f.state.subscribe({next:ee=>"values"in ee&&R(F(void 0,K),ee)}):F(R,K,!0),he=R=>f.state.subscribe({next:K=>{c$(R.name,K.name,R.exact)&&l$(K,R.formState||d,ze,R.reRenderRoot)&&R.callback({values:{...a},...r,...K,defaultValues:i})}}).unsubscribe,Ee=R=>(o.mount=!0,h={...h,...R.formState},he({...R,formState:h})),B=(R,K={})=>{for(const ee of R?od(R):c.mount)c.mount.delete(ee),c.array.delete(ee),K.keepValue||(zr(s,ee),zr(a,ee)),!K.keepError&&zr(r.errors,ee),!K.keepDirty&&zr(r.dirtyFields,ee),!K.keepTouched&&zr(r.touchedFields,ee),!K.keepIsValidating&&zr(r.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&zr(i,ee);f.state.next({values:Qr(a)}),f.state.next({...r,...K.keepDirty?{isDirty:W()}:{}}),!K.keepIsValid&&g()},se=({disabled:R,name:K})=>{(cs(R)&&o.mount||R||c.disabled.has(K))&&(R?c.disabled.add(K):c.disabled.delete(K))},G=(R,K={})=>{let ee=De(s,R);const ne=cs(K.disabled)||cs(e.disabled);return Xt(s,R,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:R}},name:R,mount:!0,...K}}),c.mount.add(R),ee?se({disabled:cs(K.disabled)?K.disabled:e.disabled,name:R}):w(R,!0,K.value),{...ne?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:Iu(K.min),max:Iu(K.max),minLength:Iu(K.minLength),maxLength:Iu(K.maxLength),pattern:Iu(K.pattern)}:{},name:R,onChange:re,onBlur:re,ref:ce=>{if(ce){G(R,K),ee=De(s,R);const pe=_r(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Re=t$(pe),Y=ee._f.refs||[];if(Re?Y.find(fe=>fe===pe):pe===ee._f.ref)return;Xt(s,R,{_f:{...ee._f,...Re?{refs:[...Y.filter(xg),pe,...Array.isArray(De(i,R))?[{}]:[]],ref:{type:pe.type,name:R}}:{ref:pe}}}),w(R,!1,void 0,pe)}else ee=De(s,R,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(yP(c.array,R)&&o.action)&&c.unMount.add(R)}}},Z=()=>e.shouldFocusError&&ld(s,L,c.mount),$=R=>{cs(R)&&(f.state.next({disabled:R}),ld(s,(K,ee)=>{const ne=De(s,ee);ne&&(K.disabled=ne._f.disabled||R,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ce=>{ce.disabled=ne._f.disabled||R}))},0,!1))},de=(R,K)=>async ee=>{let ne;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ce=Qr(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:Re}=await S();r.errors=pe,ce=Qr(Re)}else await _(s);if(c.disabled.size)for(const pe of c.disabled)zr(ce,pe);if(zr(r.errors,"root"),Gn(r.errors)){f.state.next({errors:{}});try{await R(ce,ee)}catch(pe){ne=pe}}else K&&await K({...r.errors},ee),Z(),setTimeout(Z);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gn(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},Oe=(R,K={})=>{De(s,R)&&(_r(K.defaultValue)?V(R,Qr(De(i,R))):(V(R,K.defaultValue),Xt(i,R,Qr(K.defaultValue))),K.keepTouched||zr(r.touchedFields,R),K.keepDirty||(zr(r.dirtyFields,R),r.isDirty=K.defaultValue?W(R,Qr(De(i,R))):W()),K.keepError||(zr(r.errors,R),d.isValid&&g()),f.state.next({...r}))},ve=(R,K={})=>{const ee=R?Qr(R):i,ne=Qr(ee),ce=Gn(R),pe=ce?i:ne;if(K.keepDefaultValues||(i=ee),!K.keepValues){if(K.keepDirtyValues){const Re=new Set([...c.mount,...Object.keys(Hl(i,a))]);for(const Y of Array.from(Re))De(r.dirtyFields,Y)?Xt(pe,Y,De(a,Y)):V(Y,De(pe,Y))}else{if(Ib&&_r(R))for(const Re of c.mount){const Y=De(s,Re);if(Y&&Y._f){const fe=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(Am(fe)){const be=fe.closest("form");if(be){be.reset();break}}}}if(K.keepFieldsRef)for(const Re of c.mount)V(Re,De(pe,Re));else s={}}a=e.shouldUnregister?K.keepDefaultValues?Qr(i):{}:Qr(pe),f.array.next({values:{...pe}}),f.state.next({values:{...pe}})}c={mount:K.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!K.keepIsValid||!!K.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:K.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:K.keepDirty?r.isDirty:!!(K.keepDefaultValues&&!ea(R,i)),isSubmitted:K.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:K.keepDirtyValues?K.keepDefaultValues&&a?Hl(i,a):r.dirtyFields:K.keepDefaultValues&&R?Hl(i,R):K.keepDirty?r.dirtyFields:{},touchedFields:K.keepTouched?r.touchedFields:{},errors:K.keepErrors?r.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},We=(R,K)=>ve(Js(R)?R(a):R,K),Ht=(R,K={})=>{const ee=De(s,R),ne=ee&&ee._f;if(ne){const ce=ne.refs?ne.refs[0]:ne.ref;ce.focus&&(ce.focus(),K.shouldSelect&&Js(ce.select)&&ce.select())}},ze=R=>{r={...r,...R}},at={control:{register:G,unregister:B,getFieldState:Q,handleSubmit:de,setError:Ne,_subscribe:he,_runSchema:S,_focusError:Z,_getWatch:F,_getDirty:W,_setValid:g,_setFieldArray:b,_setDisabledField:se,_setErrors:y,_getFieldArray:I,_reset:ve,_resetDefaultValues:()=>Js(e.defaultValues)&&e.defaultValues().then(R=>{We(R,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:$,_subjects:f,_proxyFormState:d,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(R){o=R},get _defaultValues(){return i},get _names(){return c},set _names(R){c=R},get _formState(){return r},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:Ee,trigger:M,register:G,handleSubmit:de,watch:H,setValue:V,getValues:U,reset:We,resetField:Oe,clearErrors:oe,unregister:B,setError:Ne,setFocus:Ht,getFieldState:Q};return{...at,formControl:at}}function V0(t={}){const e=Pe.useRef(void 0),r=Pe.useRef(void 0),[s,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Js(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Js(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!Js(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...c}=m$(t);e.current={...c,formState:s}}const a=e.current.control;return a._options=t,Bb(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),Pe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Pe.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Pe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Pe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),Pe.useEffect(()=>{t.values&&!ea(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),Pe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=bP(s,a),e.current}const zN=(t,e,r)=>{if(t&&"reportValidity"in t){const s=De(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},PP=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?zN(s.ref,r,t):s.refs&&s.refs.forEach(i=>zN(i,r,t))}},p$=(t,e)=>{e.shouldUseNativeValidation&&PP(t,e);const r={};for(const s in t){const i=De(e.fields,s),a=Object.assign(t[s]||{},{ref:i&&i.ref});if(g$(e.names||Object.keys(t),s)){const o=Object.assign({},De(r,s));Xt(o,"root",a),Xt(r,s,o)}else Xt(r,s,a)}return r},g$=(t,e)=>t.some(r=>r.startsWith(e+"."));var x$=function(t,e){for(var r={};t.length;){var s=t[0],i=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var u=r[o].types,l=u&&u[s.code];r[o]=jP(o,e,r,i,l?[].concat(l,s.message):s.message)}t.shift()}return r},Wb=function(t,e,r){return r===void 0&&(r={}),function(s,i,a){try{return Promise.resolve(function(o,c){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(l){return a.shouldUseNativeValidation&&PP({},a),{errors:{},values:r.raw?s:l}})}catch(l){return c(l)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:p$(x$(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Ut;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function s(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ut||(Ut={}));var $N;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})($N||($N={}));const He=Ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Da=t=>{switch(typeof t){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(t)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(t)?He.array:t===null?He.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?He.promise:typeof Map<"u"&&t instanceof Map?He.map:typeof Set<"u"&&t instanceof Set?He.set:typeof Date<"u"&&t instanceof Date?He.date:He.object;default:return He.unknown}},Se=Ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let c=s,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(c[l]=c[l]||{_errors:[]},c[l]._errors.push(r(o))):c[l]=c[l]||{_errors:[]},c=c[l],u++}}};return i(this),s}static assert(e){if(!(e instanceof pa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else s.push(e(i));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}pa.create=t=>new pa(t);const fv=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===He.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ut.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ut.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ut.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${Ut.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ut.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ut.assertNever(t)}return{message:r}};let v$=fv;function y$(){return v$}const b$=t=>{const{data:e,path:r,errorMaps:s,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const u=s.filter(l=>!!l).slice().reverse();for(const l of u)c=l(o,{data:e,defaultError:c}).message;return{...i,path:a,message:c}};function Ie(t,e){const r=y$(),s=b$({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===fv?void 0:fv].filter(i=>!!i)});t.common.issues.push(s)}class gs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const i of r){if(i.status==="aborted")return lt;i.status==="dirty"&&e.dirty(),s.push(i.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const i of r){const a=await i.key,o=await i.value;s.push({key:a,value:o})}return gs.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return lt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const lt=Object.freeze({status:"aborted"}),Vu=t=>({status:"dirty",value:t}),Ls=t=>({status:"valid",value:t}),WN=t=>t.status==="aborted",VN=t=>t.status==="dirty",Xc=t=>t.status==="valid",Rm=t=>typeof Promise<"u"&&t instanceof Promise;var Ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ge||(Ge={}));class po{constructor(e,r,s,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const HN=(t,e)=>{if(Xc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new pa(t.common.issues);return this._error=r,this._error}}};function wt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:i}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,c)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??s??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??r??c.defaultError}},description:i}}class Ot{get description(){return this._def.description}_getType(e){return Da(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Da(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gs,ctx:{common:e.parent.common,data:e.data,parsedType:Da(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Rm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Da(e)},i=this._parseSync({data:e,path:s.path,parent:s});return HN(s,i)}"~validate"(e){var s,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Da(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return Xc(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Xc(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Da(e)},i=this._parse({data:e,path:s.path,parent:s}),a=await(Rm(i)?i:Promise.resolve(i));return HN(s,a)}refine(e,r){const s=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),c=()=>a.addIssue({code:Se.custom,...s(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(e,r){return this._refinement((s,i)=>e(s)?!0:(i.addIssue(typeof r=="function"?r(s,i):r),!1))}_refinement(e){return new Jc({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return io.create(this,this._def)}nullable(){return Zc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ii.create(this)}promise(){return Um.create(this,this._def)}or(e){return Lm.create([this,e],this._def)}and(e){return Fm.create(this,e,this._def)}transform(e){return new Jc({...wt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new gv({...wt(this._def),innerType:this,defaultValue:r,typeName:ct.ZodDefault})}brand(){return new W$({typeName:ct.ZodBranded,type:this,...wt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new xv({...wt(this._def),innerType:this,catchValue:r,typeName:ct.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Vb.create(this,e)}readonly(){return vv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const w$=/^c[^\s-]{8,}$/i,j$=/^[0-9a-z]+$/,N$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C$=/^[a-z0-9_-]{21}$/i,T$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,k$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vg;const _$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,M$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,R$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_P="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I$=new RegExp(`^${_P}$`);function DP(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function L$(t){return new RegExp(`^${DP(t)}$`)}function F$(t){let e=`${_P}T${DP(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function U$(t,e){return!!((e==="v4"||!e)&&_$.test(t)||(e==="v6"||!e)&&M$.test(t))}function B$(t,e){if(!T$.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function z$(t,e){return!!((e==="v4"||!e)&&D$.test(t)||(e==="v6"||!e)&&A$.test(t))}class Qa extends Ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==He.string){const a=this._getOrReturnCtx(e);return Ie(a,{code:Se.invalid_type,expected:He.string,received:a.parsedType}),lt}const s=new gs;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,c=e.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(e,i),o?Ie(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Ie(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")E$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"email",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")vg||(vg=new RegExp(P$,"u")),vg.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")S$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")C$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")w$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")j$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")N$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ie(i,{validation:"url",code:Se.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"regex",code:Se.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?F$(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?I$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?L$(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?k$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"duration",code:Se.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?U$(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"ip",code:Se.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?B$(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?z$(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?O$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"base64",code:Se.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?R$.test(e.data)||(i=this._getOrReturnCtx(e,i),Ie(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),s.dirty()):Ut.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(i=>e.test(i),{validation:r,code:Se.invalid_string,...Ge.errToObj(s)})}_addCheck(e){return new Qa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ge.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ge.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ge.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ge.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ge.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ge.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ge.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ge.errToObj(r)})}nonempty(e){return this.min(1,Ge.errToObj(e))}trim(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qa.create=t=>new Qa({checks:[],typeName:ct.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...wt(t)});function $$(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=r>s?r:s,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class zd extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==He.number){const a=this._getOrReturnCtx(e);return Ie(a,{code:Se.invalid_type,expected:He.number,received:a.parsedType}),lt}let s;const i=new gs;for(const a of this._def.checks)a.kind==="int"?Ut.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?$$(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.not_finite,message:a.message}),i.dirty()):Ut.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ge.toString(r))}setLimit(e,r,s,i){return new zd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Ge.toString(i)}]})}_addCheck(e){return new zd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ut.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}zd.create=t=>new zd({checks:[],typeName:ct.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...wt(t)});class $d extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==He.bigint)return this._getInvalidInput(e);let s;const i=new gs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ut.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ie(r,{code:Se.invalid_type,expected:He.bigint,received:r.parsedType}),lt}gte(e,r){return this.setLimit("min",e,!0,Ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ge.toString(r))}setLimit(e,r,s,i){return new $d({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Ge.toString(i)}]})}_addCheck(e){return new $d({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}$d.create=t=>new $d({checks:[],typeName:ct.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...wt(t)});class mv extends Ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.boolean,received:s.parsedType}),lt}return Ls(e.data)}}mv.create=t=>new mv({typeName:ct.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...wt(t)});class Im extends Ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==He.date){const a=this._getOrReturnCtx(e);return Ie(a,{code:Se.invalid_type,expected:He.date,received:a.parsedType}),lt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ie(a,{code:Se.invalid_date}),lt}const s=new gs;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ie(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Ut.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Im({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ge.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ge.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Im.create=t=>new Im({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ct.ZodDate,...wt(t)});class KN extends Ot{_parse(e){if(this._getType(e)!==He.symbol){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.symbol,received:s.parsedType}),lt}return Ls(e.data)}}KN.create=t=>new KN({typeName:ct.ZodSymbol,...wt(t)});class GN extends Ot{_parse(e){if(this._getType(e)!==He.undefined){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.undefined,received:s.parsedType}),lt}return Ls(e.data)}}GN.create=t=>new GN({typeName:ct.ZodUndefined,...wt(t)});class qN extends Ot{_parse(e){if(this._getType(e)!==He.null){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.null,received:s.parsedType}),lt}return Ls(e.data)}}qN.create=t=>new qN({typeName:ct.ZodNull,...wt(t)});class QN extends Ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Ls(e.data)}}QN.create=t=>new QN({typeName:ct.ZodAny,...wt(t)});class XN extends Ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ls(e.data)}}XN.create=t=>new XN({typeName:ct.ZodUnknown,...wt(t)});class go extends Ot{_parse(e){const r=this._getOrReturnCtx(e);return Ie(r,{code:Se.invalid_type,expected:He.never,received:r.parsedType}),lt}}go.create=t=>new go({typeName:ct.ZodNever,...wt(t)});class YN extends Ot{_parse(e){if(this._getType(e)!==He.undefined){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.void,received:s.parsedType}),lt}return Ls(e.data)}}YN.create=t=>new YN({typeName:ct.ZodVoid,...wt(t)});class Ii extends Ot{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),i=this._def;if(r.parsedType!==He.array)return Ie(r,{code:Se.invalid_type,expected:He.array,received:r.parsedType}),lt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,c=r.data.length<i.exactLength.value;(o||c)&&(Ie(r,{code:o?Se.too_big:Se.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ie(r,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ie(r,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>i.type._parseAsync(new po(r,o,r.path,c)))).then(o=>gs.mergeArray(s,o));const a=[...r.data].map((o,c)=>i.type._parseSync(new po(r,o,r.path,c)));return gs.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Ii({...this._def,minLength:{value:e,message:Ge.toString(r)}})}max(e,r){return new Ii({...this._def,maxLength:{value:e,message:Ge.toString(r)}})}length(e,r){return new Ii({...this._def,exactLength:{value:e,message:Ge.toString(r)}})}nonempty(e){return this.min(1,e)}}Ii.create=(t,e)=>new Ii({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...wt(e)});function Kl(t){if(t instanceof $r){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=io.create(Kl(s))}return new $r({...t._def,shape:()=>e})}else return t instanceof Ii?new Ii({...t._def,type:Kl(t.element)}):t instanceof io?io.create(Kl(t.unwrap())):t instanceof Zc?Zc.create(Kl(t.unwrap())):t instanceof wl?wl.create(t.items.map(e=>Kl(e))):t}class $r extends Ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ut.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==He.object){const l=this._getOrReturnCtx(e);return Ie(l,{code:Se.invalid_type,expected:He.object,received:l.parsedType}),lt}const{status:s,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof go&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||c.push(l);const u=[];for(const l of o){const d=a[l],h=i.data[l];u.push({key:{status:"valid",value:l},value:d._parse(new po(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof go){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of c)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")c.length>0&&(Ie(i,{code:Se.unrecognized_keys,keys:c}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of c){const h=i.data[d];u.push({key:{status:"valid",value:d},value:l._parse(new po(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of u){const h=await d.key,f=await d.value;l.push({key:h,value:f,alwaysSet:d.alwaysSet})}return l}).then(l=>gs.mergeObjectSync(s,l)):gs.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(e){return Ge.errToObj,new $r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Ge.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new $r({...this._def,unknownKeys:"strip"})}passthrough(){return new $r({...this._def,unknownKeys:"passthrough"})}extend(e){return new $r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ct.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new $r({...this._def,catchall:e})}pick(e){const r={};for(const s of Ut.objectKeys(e))e[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new $r({...this._def,shape:()=>r})}omit(e){const r={};for(const s of Ut.objectKeys(this.shape))e[s]||(r[s]=this.shape[s]);return new $r({...this._def,shape:()=>r})}deepPartial(){return Kl(this)}partial(e){const r={};for(const s of Ut.objectKeys(this.shape)){const i=this.shape[s];e&&!e[s]?r[s]=i:r[s]=i.optional()}return new $r({...this._def,shape:()=>r})}required(e){const r={};for(const s of Ut.objectKeys(this.shape))if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof io;)a=a._def.innerType;r[s]=a}return new $r({...this._def,shape:()=>r})}keyof(){return MP(Ut.objectKeys(this.shape))}}$r.create=(t,e)=>new $r({shape:()=>t,unknownKeys:"strip",catchall:go.create(),typeName:ct.ZodObject,...wt(e)});$r.strictCreate=(t,e)=>new $r({shape:()=>t,unknownKeys:"strict",catchall:go.create(),typeName:ct.ZodObject,...wt(e)});$r.lazycreate=(t,e)=>new $r({shape:t,unknownKeys:"strip",catchall:go.create(),typeName:ct.ZodObject,...wt(e)});class Lm extends Ot{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new pa(c.ctx.common.issues));return Ie(r,{code:Se.invalid_union,unionErrors:o}),lt}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of s){const l={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(u=>new pa(u));return Ie(r,{code:Se.invalid_union,unionErrors:c}),lt}}get options(){return this._def.options}}Lm.create=(t,e)=>new Lm({options:t,typeName:ct.ZodUnion,...wt(e)});function pv(t,e){const r=Da(t),s=Da(e);if(t===e)return{valid:!0,data:t};if(r===He.object&&s===He.object){const i=Ut.objectKeys(e),a=Ut.objectKeys(t).filter(c=>i.indexOf(c)!==-1),o={...t,...e};for(const c of a){const u=pv(t[c],e[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(r===He.array&&s===He.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],c=e[a],u=pv(o,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===He.date&&s===He.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Fm extends Ot{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),i=(a,o)=>{if(WN(a)||WN(o))return lt;const c=pv(a.value,o.value);return c.valid?((VN(a)||VN(o))&&r.dirty(),{status:r.value,value:c.data}):(Ie(s,{code:Se.invalid_intersection_types}),lt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Fm.create=(t,e,r)=>new Fm({left:t,right:e,typeName:ct.ZodIntersection,...wt(r)});class wl extends Ot{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==He.array)return Ie(s,{code:Se.invalid_type,expected:He.array,received:s.parsedType}),lt;if(s.data.length<this._def.items.length)return Ie(s,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&s.data.length>this._def.items.length&&(Ie(s,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new po(s,o,s.path,c)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>gs.mergeArray(r,o)):gs.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new wl({...this._def,rest:e})}}wl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wl({items:t,typeName:ct.ZodTuple,rest:null,...wt(e)})};class JN extends Ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==He.map)return Ie(s,{code:Se.invalid_type,expected:He.map,received:s.parsedType}),lt;const i=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([c,u],l)=>({key:i._parse(new po(s,c,s.path,[l,"key"])),value:a._parse(new po(s,u,s.path,[l,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,d=await u.value;if(l.status==="aborted"||d.status==="aborted")return lt;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(l.value,d.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const u of o){const l=u.key,d=u.value;if(l.status==="aborted"||d.status==="aborted")return lt;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(l.value,d.value)}return{status:r.value,value:c}}}}JN.create=(t,e,r)=>new JN({valueType:e,keyType:t,typeName:ct.ZodMap,...wt(r)});class Wd extends Ot{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==He.set)return Ie(s,{code:Se.invalid_type,expected:He.set,received:s.parsedType}),lt;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(Ie(s,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(Ie(s,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(u){const l=new Set;for(const d of u){if(d.status==="aborted")return lt;d.status==="dirty"&&r.dirty(),l.add(d.value)}return{status:r.value,value:l}}const c=[...s.data.values()].map((u,l)=>a._parse(new po(s,u,s.path,l)));return s.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(e,r){return new Wd({...this._def,minSize:{value:e,message:Ge.toString(r)}})}max(e,r){return new Wd({...this._def,maxSize:{value:e,message:Ge.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Wd.create=(t,e)=>new Wd({valueType:t,minSize:null,maxSize:null,typeName:ct.ZodSet,...wt(e)});class ZN extends Ot{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ZN.create=(t,e)=>new ZN({getter:t,typeName:ct.ZodLazy,...wt(e)});class eS extends Ot{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ie(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}eS.create=(t,e)=>new eS({value:t,typeName:ct.ZodLiteral,...wt(e)});function MP(t,e){return new Yc({values:t,typeName:ct.ZodEnum,...wt(e)})}class Yc extends Ot{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return Ie(r,{expected:Ut.joinValues(s),received:r.parsedType,code:Se.invalid_type}),lt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return Ie(r,{received:r.data,code:Se.invalid_enum_value,options:s}),lt}return Ls(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Yc.create(e,{...this._def,...r})}exclude(e,r=this._def){return Yc.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Yc.create=MP;class tS extends Ot{_parse(e){const r=Ut.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==He.string&&s.parsedType!==He.number){const i=Ut.objectValues(r);return Ie(s,{expected:Ut.joinValues(i),received:s.parsedType,code:Se.invalid_type}),lt}if(this._cache||(this._cache=new Set(Ut.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ut.objectValues(r);return Ie(s,{received:s.data,code:Se.invalid_enum_value,options:i}),lt}return Ls(e.data)}get enum(){return this._def.values}}tS.create=(t,e)=>new tS({values:t,typeName:ct.ZodNativeEnum,...wt(e)});class Um extends Ot{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.promise&&r.common.async===!1)return Ie(r,{code:Se.invalid_type,expected:He.promise,received:r.parsedType}),lt;const s=r.parsedType===He.promise?r.data:Promise.resolve(r.data);return Ls(s.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Um.create=(t,e)=>new Um({type:t,typeName:ct.ZodPromise,...wt(e)});class Jc extends Ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ie(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return lt;const u=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return u.status==="aborted"?lt:u.status==="dirty"||r.value==="dirty"?Vu(u.value):u});{if(r.value==="aborted")return lt;const c=this._def.schema._parseSync({data:o,path:s.path,parent:s});return c.status==="aborted"?lt:c.status==="dirty"||r.value==="dirty"?Vu(c.value):c}}if(i.type==="refinement"){const o=c=>{const u=i.refinement(c,a);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?lt:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?lt:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(i.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Xc(o))return lt;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Xc(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:r.value,value:c})):lt);Ut.assertNever(i)}}Jc.create=(t,e,r)=>new Jc({schema:t,typeName:ct.ZodEffects,effect:e,...wt(r)});Jc.createWithPreprocess=(t,e,r)=>new Jc({schema:e,effect:{type:"preprocess",transform:t},typeName:ct.ZodEffects,...wt(r)});class io extends Ot{_parse(e){return this._getType(e)===He.undefined?Ls(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}io.create=(t,e)=>new io({innerType:t,typeName:ct.ZodOptional,...wt(e)});class Zc extends Ot{_parse(e){return this._getType(e)===He.null?Ls(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zc.create=(t,e)=>new Zc({innerType:t,typeName:ct.ZodNullable,...wt(e)});class gv extends Ot{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===He.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gv.create=(t,e)=>new gv({innerType:t,typeName:ct.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...wt(e)});class xv extends Ot{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Rm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pa(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pa(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}xv.create=(t,e)=>new xv({innerType:t,typeName:ct.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...wt(e)});class rS extends Ot{_parse(e){if(this._getType(e)!==He.nan){const s=this._getOrReturnCtx(e);return Ie(s,{code:Se.invalid_type,expected:He.nan,received:s.parsedType}),lt}return{status:"valid",value:e.data}}}rS.create=t=>new rS({typeName:ct.ZodNaN,...wt(t)});class W$ extends Ot{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Vb extends Ot{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?lt:a.status==="dirty"?(r.dirty(),Vu(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(e,r){return new Vb({in:e,out:r,typeName:ct.ZodPipeline})}}class vv extends Ot{_parse(e){const r=this._def.innerType._parse(e),s=i=>(Xc(i)&&(i.value=Object.freeze(i.value)),i);return Rm(r)?r.then(i=>s(i)):s(r)}unwrap(){return this._def.innerType}}vv.create=(t,e)=>new vv({innerType:t,typeName:ct.ZodReadonly,...wt(e)});var ct;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ct||(ct={}));const Si=Qa.create,AP=mv.create;go.create;Ii.create;const Hb=$r.create;Lm.create;Fm.create;wl.create;const V$=Yc.create;Um.create;io.create;Zc.create;var yv=function(){return yv=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yv.apply(this,arguments)},mu=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},H0=X9,OP=m.createContext({}),Qn=function(t){var e=mu(t,[]);return n.jsx(OP.Provider,{value:{name:e.name},children:n.jsx(e$,{...e})})},K0=function(){var t=m.useContext(OP),e=m.useContext(RP),r=W0(),s=r.getFieldState,i=r.formState,a=s(t.name,i);if(!t)throw new Error("useFormField should be used within <FormField>");var o=e.id;return yv({id:o,name:t.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message")},a)},RP=m.createContext({}),An=m.forwardRef(function(t,e){var r=t.className,s=mu(t,["className"]),i=m.useId();return n.jsx(RP.Provider,{value:{id:i},children:n.jsx("div",{ref:e,className:Je("space-y-2",r),...s})})});An.displayName="FormItem";var On=m.forwardRef(function(t,e){var r=t.className,s=mu(t,["className"]),i=K0(),a=i.error,o=i.formItemId;return n.jsx(cr,{ref:e,className:Je(a&&"text-destructive",r),htmlFor:o,...s})});On.displayName="FormLabel";var Rn=m.forwardRef(function(t,e){var r=mu(t,[]),s=K0(),i=s.error,a=s.formItemId,o=s.formDescriptionId,c=s.formMessageId;return n.jsx(oC,{ref:e,id:a,"aria-describedby":i?"".concat(o," ").concat(c):"".concat(o),"aria-invalid":!!i,...r})});Rn.displayName="FormControl";var H$=m.forwardRef(function(t,e){var r=t.className,s=mu(t,["className"]),i=K0().formDescriptionId;return n.jsx("p",{ref:e,id:i,className:Je("text-sm text-muted-foreground",r),...s})});H$.displayName="FormDescription";var In=m.forwardRef(function(t,e){var r,s=t.className,i=t.children,a=mu(t,["className","children"]),o=K0(),c=o.error,u=o.formMessageId,l=c?String((r=c==null?void 0:c.message)!==null&&r!==void 0?r:""):i;return l?n.jsx("p",{ref:e,id:u,className:Je("text-sm font-medium text-destructive",s),...a,children:l}):null});In.displayName="FormMessage";var K$=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},G$=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},q$=Hb({username:Si().min(1,"Username is required"),password:Si().min(1,"Password is required")});function Q$(){var t=this,e=ns(),r=e[1],s=Cn().toast,i=en(),a=i.user,o=i.adminLogin,c=i.isAdminLoginPending;m.useEffect(function(){var d=localStorage.getItem("authToken"),h=localStorage.getItem("user");d&&(d.startsWith("demo-token-")||h&&JSON.parse(h).role==="user")&&(console.log(" Clearing non-admin session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"))},[]),m.useEffect(function(){a&&(a.role==="admin"||a.role==="super_admin"||a.role==="superadmin"?(console.log(" User already authenticated as admin, redirecting..."),r("/admin")):(console.log(" Non-admin user detected, clearing session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"),window.location.reload()))},[a,r]);var u=V0({resolver:Wb(q$),defaultValues:{username:"",password:""}}),l=function(d){return K$(t,void 0,void 0,function(){var h,f;return G$(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,o(d)];case 1:return h=p.sent(),console.log(" Login result:",h),s({title:"Login Successful",description:"Welcome back, ".concat(d.username,"!")}),h&&h.user&&(localStorage.setItem("authToken",h.token),localStorage.setItem("user",JSON.stringify(h.user)),console.log(" Stored user data:",h.user),console.log(" Forcing page reload to update auth state..."),setTimeout(function(){window.location.href="/admin/dashboard"},1e3)),[3,3];case 2:return f=p.sent(),s({title:"Login Failed",description:f.message||"Invalid admin credentials",variant:"destructive"}),[3,3];case 3:return[2]}})})};return n.jsx("div",{className:"bg-gray-900 flex items-center justify-center px-4 py-8 w-full",style:{minHeight:"100vh"},children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:n.jsx(pn,{className:"text-white w-6 h-6"})})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Login"}),n.jsx("p",{className:"text-gray-400 mt-2",children:"Access the METACHROME admin dashboard"})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Sign In"}),n.jsx(Zt,{className:"text-gray-400",children:"Enter your admin credentials to continue"})]}),n.jsx(Ce,{className:"pb-6",children:n.jsx(H0,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(l),className:"space-y-4",children:[n.jsx(Qn,{control:u.control,name:"username",render:function(d){var h=d.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-white",children:"Username"}),n.jsx(Rn,{children:n.jsx(Be,{...h,placeholder:"Enter your username",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:u.control,name:"password",render:function(d){var h=d.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-white",children:"Password"}),n.jsx(Rn,{children:n.jsx(Be,{...h,type:"password",placeholder:"Enter your password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(In,{})]})}}),n.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(cm,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):n.jsxs(n.Fragment,{children:[n.jsx(cm,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})})})]})]})})}var X$=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Y$=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function J$(){var t=this,e=ns(),r=e[1],s=Cn().toast,i=en(),a=i.user,o=i.adminLogin,c=i.isAdminLoginPending;m.useEffect(function(){var d=localStorage.getItem("authToken"),h=localStorage.getItem("user");d&&(d.startsWith("demo-token-")||h&&JSON.parse(h).role==="user")&&(console.log(" Clearing non-admin session for admin staff login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"))},[]),m.useEffect(function(){a&&(a.role==="admin"?(console.log(" Admin staff already authenticated, redirecting..."),r("/admin-staff/dashboard")):a.role==="super_admin"||a.role==="superadmin"?(console.log(" Superadmin detected, redirecting to superadmin dashboard"),r("/admin/dashboard")):(console.log(" Non-admin user detected, clearing session for admin staff login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"),window.location.reload()))},[a,r]);var u=V0({defaultValues:{username:"",password:""}}),l=function(d){return X$(t,void 0,void 0,function(){var h,f;return Y$(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,o(d)];case 1:return h=p.sent(),console.log(" Admin staff login result:",h),h&&h.user&&h.user.role==="admin"?(s({title:"Login Successful",description:"Welcome back, ".concat(d.username,"!")}),localStorage.setItem("authToken",h.token),localStorage.setItem("user",JSON.stringify(h.user)),console.log(" Stored admin staff data:",h.user),setTimeout(function(){window.location.href="/admin-staff/dashboard"},1e3)):h&&h.user&&(h.user.role==="super_admin"||h.user.role==="superadmin")?(s({title:"Access Denied",description:"Please use the superadmin login page.",variant:"destructive"}),localStorage.removeItem("authToken"),localStorage.removeItem("user")):s({title:"Login Failed",description:"Invalid admin credentials",variant:"destructive"}),[3,3];case 2:return f=p.sent(),console.error(" Admin staff login error:",f),s({title:"Login Failed",description:f.message||"Invalid credentials",variant:"destructive"}),[3,3];case 3:return[2]}})})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center p-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs(je,{className:"bg-gray-800 border-purple-500",children:[n.jsxs(gt,{className:"space-y-1 text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full",children:n.jsx(pn,{className:"w-8 h-8 text-white"})})}),n.jsx(xt,{className:"text-2xl font-bold text-white",children:"Admin Staff Login"}),n.jsx(Zt,{className:"text-gray-400",children:"Sign in to access the admin control panel"})]}),n.jsx(Ce,{children:n.jsx(H0,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(l),className:"space-y-4",children:[n.jsx(Qn,{control:u.control,name:"username",render:function(d){var h=d.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-white",children:"Username"}),n.jsx(Rn,{children:n.jsx(Be,{...h,placeholder:"Enter your username",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:u.control,name:"password",render:function(d){var h=d.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-white",children:"Password"}),n.jsx(Rn,{children:n.jsx(Be,{...h,type:"password",placeholder:"Enter your password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(In,{})]})}}),n.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(cm,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):n.jsxs(n.Fragment,{children:[n.jsx(cm,{className:"mr-2 h-4 w-4"}),"Sign In as Admin"]})})]})})})]})})})}function Z$(){var t=ns(),e=t[1];return m.useEffect(function(){var r=localStorage.getItem("authToken"),s=localStorage.getItem("user");if(console.log(" AdminRedirect - Token:",!!r),console.log(" AdminRedirect - User:",s),r&&s)try{var i=JSON.parse(s);console.log(" AdminRedirect - Parsed user:",i),i.role==="admin"||i.role==="super_admin"||i.role==="superadmin"?(console.log(" AdminRedirect - Valid admin, redirecting to dashboard"),e("/admin/dashboard")):(console.log(" AdminRedirect - Not admin, redirecting to login"),e("/admin/login"))}catch(a){console.error(" AdminRedirect - Error parsing user:",a),e("/admin/login")}else console.log(" AdminRedirect - No token/user, redirecting to login"),e("/admin/login")},[e]),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(RC,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Redirecting to dashboard..."})]})})}var IP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nS=Pe.createContext&&Pe.createContext(IP),ao=function(){return ao=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ao.apply(this,arguments)},eW=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r};function LP(t){return t&&t.map(function(e,r){return Pe.createElement(e.tag,ao({key:r},e.attr),LP(e.child))})}function FP(t){return function(e){return Pe.createElement(tW,ao({attr:ao({},t.attr)},e),LP(t.child))}}function tW(t){var e=function(r){var s=t.attr,i=t.size,a=t.title,o=eW(t,["attr","size","title"]),c=i||r.size||"1em",u;return r.className&&(u=r.className),t.className&&(u=(u?u+" ":"")+t.className),Pe.createElement("svg",ao({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:u,style:ao(ao({color:t.color||r.color},r.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Pe.createElement("title",null,a),t.children)};return nS!==void 0?Pe.createElement(nS.Consumer,null,function(r){return e(r)}):e(IP)}function UP(t){return FP({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(t)}function BP(t){return FP({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"}}]})(t)}var yg=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},bg=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},rW=Hb({email:Si().min(1,"Username, email, or wallet address is required"),password:Si().min(1,"Password is required"),rememberMe:AP().optional()});function nW(){var t=this,e=ns(),r=e[1],s=Cn().toast,i=en(),a=i.userLogin,o=i.isUserLoginPending,c=i.metamaskLogin,u=m.useState(!1),l=u[0],d=u[1],h=m.useState(!1),f=h[0],p=h[1],v=ys(),g=V0({resolver:Wb(rW),defaultValues:{email:"",password:"",rememberMe:!1}}),N=function(y){return yg(t,void 0,void 0,function(){var w,C,k,S,E,_;return bg(this,function(P){switch(P.label){case 0:P.trys.push([0,7,,8]),console.log(" Starting login process...",{email:y.email}),w=y.email,console.log(" Calling userLogin with:",{username:w,password:"***"}),console.log(" Testing direct fetch..."),P.label=1;case 1:return P.trys.push([1,4,,6]),[4,fetch("/api/auth/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:y.password}),credentials:"include"})];case 2:return C=P.sent(),console.log(" Direct fetch response:",{status:C.status,statusText:C.statusText,ok:C.ok,headers:Object.fromEntries(C.headers.entries())}),[4,C.text()];case 3:if(k=P.sent(),console.log(" Response text:",k),C.ok)return S=JSON.parse(k),console.log(" Parsed response:",S),S.token&&(localStorage.setItem("authToken",S.token),console.log(" Token stored:",S.token)),S.user&&(localStorage.setItem("user",JSON.stringify(S.user)),console.log(" User data stored:",S.user)),v.setQueryData(["/api/auth"],S.user),v.invalidateQueries({queryKey:["/api/auth"]}),console.log(" Query cache updated"),s({title:"Login Successful",description:"Welcome back!"}),setTimeout(function(){console.log(" Redirecting to dashboard..."),r("/dashboard")},100),[2];throw new Error("Direct fetch failed: ".concat(C.status," ").concat(k));case 4:return E=P.sent(),console.error(" Direct fetch failed:",E),console.log(" Falling back to userLogin hook..."),[4,a({username:w,password:y.password})];case 5:return P.sent(),console.log(" Login successful"),s({title:"Login Successful",description:"Welcome back!"}),r("/dashboard"),[3,6];case 6:return[3,8];case 7:return _=P.sent(),console.error(" Login error:",_),console.error("Error details:",{message:_.message,stack:_.stack,name:_.name}),s({title:"Login Failed",description:_.message||"Invalid credentials",variant:"destructive"}),[3,8];case 8:return[2]}})})},b=function(){return yg(t,void 0,void 0,function(){var y,w,C,k,S;return bg(this,function(E){switch(E.label){case 0:if(console.log(" Starting MetaMask connection..."),console.log("Window ethereum:",window.ethereum),console.log("Is MetaMask:",(S=window.ethereum)===null||S===void 0?void 0:S.isMetaMask),!window.ethereum)return console.error(" No ethereum provider found"),s({title:"MetaMask Not Found",description:"Please install MetaMask extension to continue.",variant:"destructive"}),[2];if(!window.ethereum.isMetaMask)return console.error(" Ethereum provider is not MetaMask"),s({title:"MetaMask Not Detected",description:"Please make sure MetaMask extension is enabled.",variant:"destructive"}),[2];s({title:" Secure Connection",description:"METACHROME will never ask for your private keys or seed phrase. We only request your wallet address for authentication.",duration:5e3}),p(!0),E.label=1;case 1:return E.trys.push([1,4,5,6]),console.log(" Requesting account access..."),[4,window.ethereum.request({method:"eth_requestAccounts"})];case 2:if(y=E.sent(),console.log(" Accounts received:",y),y.length===0)throw new Error("No accounts found. Please unlock MetaMask.");return w=y[0],console.log(" Authenticating wallet:",w),console.log(" Authenticating wallet:",w),[4,c({walletAddress:w})];case 3:return C=E.sent(),console.log(" Auth successful:",C),C.user&&C.token&&(localStorage.setItem("authToken",C.token),localStorage.setItem("user",JSON.stringify(C.user))),s({title:" MetaMask Connected",description:"Welcome back! Wallet ".concat(w.slice(0,6),"...").concat(w.slice(-4)," authenticated successfully!")}),console.log(" Redirecting to dashboard..."),setTimeout(function(){r("/dashboard")},500),[3,6];case 4:return k=E.sent(),console.error(" MetaMask connection error:",k),k.code===4001?s({title:"Connection Cancelled",description:"You cancelled the MetaMask connection request.",variant:"destructive"}):s({title:"Connection Failed",description:k.message||"Failed to connect MetaMask. Please try again.",variant:"destructive"}),[3,6];case 5:return p(!1),[7];case 6:return[2]}})})},x=function(){return yg(t,void 0,void 0,function(){return bg(this,function(y){try{s({title:"Google Login",description:"Redirecting to Google authentication..."}),setTimeout(function(){s({title:"Google OAuth Issue",description:"If you see 'refused to connect', please contact support.",variant:"destructive"})},5e3),window.location.href="/api/auth/google"}catch{s({title:"Google Login Failed",description:"Please try again or use email login",variant:"destructive"})}return[2]})})};return n.jsx("div",{className:"min-h-screen bg-gray-900",children:n.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[n.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B",overflow:"visible"},children:[n.jsx(kt,{href:"/",children:n.jsx("div",{className:"hidden lg:block absolute top-6 left-6 lg:top-8 lg:left-8 cursor-pointer hover:opacity-80 transition-opacity z-20",children:n.jsx("img",{src:oh,alt:"METACHROME",className:"h-8 lg:h-10 w-auto"})})}),n.jsxs("div",{className:"text-center z-10 max-w-md relative py-8 px-4",style:{marginTop:"0px",opacity:1,visibility:"visible",display:"block"},children:[n.jsx("p",{className:"text-white text-sm lg:text-lg mb-2 lg:mb-4 font-medium",style:{opacity:1,visibility:"visible",color:"#FFFFFF",display:"block"},children:"Get Started with METACHROME"}),n.jsx("h1",{className:"text-2xl lg:text-4xl font-bold text-white mb-6 lg:mb-12 leading-tight",style:{opacity:1,visibility:"visible",color:"#FFFFFF",display:"block"},children:"The Future is for Everyone"}),n.jsx("div",{className:"relative w-48 h-48 lg:w-80 lg:h-80 mx-auto",style:{opacity:1,visibility:"visible",display:"block"},children:n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-cover rounded-full",style:{opacity:1,visibility:"visible",display:"block",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:[n.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.mp4",type:"video/mp4"})]})})]})]}),n.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:n.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Log In"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Don't have an account? "}),n.jsx(kt,{href:"/signup",children:n.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign up"})})]})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Securely connect to your account"}),n.jsx("div",{className:"mb-6",children:n.jsxs(X,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center justify-center space-x-2",onClick:x,type:"button",children:[n.jsx(UP,{className:"w-5 h-5 text-white"}),n.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),n.jsx(X,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:b,disabled:f,type:"button",children:f?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-white",children:"Connecting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(BP,{className:"w-5 h-5 text-orange-500 mr-2"}),n.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),n.jsx(H0,{...g,children:n.jsxs("form",{onSubmit:g.handleSubmit(N),className:"space-y-4",children:[n.jsx(Qn,{control:g.control,name:"email",render:function(y){var w=y.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Username/Wallet address/Email"}),n.jsx(Rn,{children:n.jsx(Be,{...w,placeholder:"Enter your Username/Wallet address/Email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500","data-testid":"input-email"})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:g.control,name:"password",render:function(y){var w=y.field;return n.jsxs(An,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Password"}),n.jsx("span",{className:"text-purple-400 text-sm cursor-pointer hover:text-purple-300",children:"Forgot Password?"})]}),n.jsx(Rn,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Be,{...w,type:l?"text":"password",placeholder:"Enter your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10","data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:function(){return d(!l)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:l?n.jsx(dl,{className:"w-4 h-4"}):n.jsx(Oi,{className:"w-4 h-4"})})]})}),n.jsx(In,{})]})}}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",...g.register("rememberMe"),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2"}),n.jsx("label",{htmlFor:"rememberMe",className:"text-gray-400 text-sm font-normal",children:"Remember Me"})]}),n.jsx(X,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:o,children:o?"Logging In...":"Log In"})]})})]})})})]})})}var wg=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},jg=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},sW=Hb({firstName:Si().min(1,"First name is required"),lastName:Si().min(1,"Last name is required"),email:Si().email("Valid email is required"),password:Si().min(6,"Password must be at least 6 characters"),confirmPassword:Si().min(1,"Password confirmation is required"),referralCode:Si().optional(),documentType:V$(["id_card","driver_license","passport"],{required_error:"Document type is required",invalid_type_error:"Please select a valid document type"}),agreeToTerms:AP().refine(function(t){return t===!0},"You must agree to the terms")}).refine(function(t){return t.password===t.confirmPassword},{message:"Passwords don't match",path:["confirmPassword"]});function iW(){var t=this,e=ns(),r=e[1],s=Cn().toast,i=en(),a=i.register,o=i.metamaskLogin,c=ys(),u=m.useState(!1),l=u[0],d=u[1],h=m.useState(!1),f=h[0],p=h[1],v=m.useState(!1),g=v[0],N=v[1],b=m.useState(!1),x=b[0],y=b[1],w=m.useState(null),C=w[0],k=w[1],S=m.useState(0),E=S[0],_=S[1],P=m.useState(typeof window<"u"?window.innerWidth>=1024:!0),W=P[0],F=P[1];m.useEffect(function(){var L=function(){F(window.innerWidth>=1024)};return window.addEventListener("resize",L),function(){return window.removeEventListener("resize",L)}},[]);var I=V0({resolver:Wb(sW),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",referralCode:"",documentType:"id_card",agreeToTerms:!1}}),D=function(L){return wg(t,void 0,void 0,function(){var M,U,Q,oe,Ne,H,he,Ee,B,se;return jg(this,function(G){switch(G.label){case 0:y(!0),G.label=1;case 1:return G.trys.push([1,15,16,17]),C?(console.log(" Starting signup process...",{firstName:L.firstName,lastName:L.lastName,email:L.email,referralCode:L.referralCode,documentType:L.documentType,hasDocument:!!C}),[4,a({username:L.email.split("@")[0],email:L.email,password:L.password,firstName:L.firstName,lastName:L.lastName,referralCode:L.referralCode})]):(s({title:"ID Verification Required",description:"Please upload your ID document to complete registration. This is mandatory for account security.",variant:"destructive"}),y(!1),[2]);case 2:if(M=G.sent(),console.log(" Registration successful:",M),console.log(" Registration result keys:",Object.keys(M)),console.log(" Token from result:",M.token?M.token.substring(0,50)+"...":"NO TOKEN"),M.token?(localStorage.setItem("authToken",M.token),console.log(" Stored auth token for immediate use"),console.log(" Token in localStorage:",localStorage.getItem("authToken")?localStorage.getItem("authToken").substring(0,50)+"...":"NOT FOUND")):console.error(" NO TOKEN IN REGISTRATION RESULT!"),M.user&&(localStorage.setItem("user",JSON.stringify(M.user)),console.log(" Stored user data for immediate use")),!(C&&L.documentType))return[3,12];G.label=3;case 3:if(G.trys.push([3,10,,11]),_(25),U=new FormData,U.append("document",C),U.append("documentType",L.documentType),Q=M.token,console.log(" Using registration token for document upload:",Q?Q.substring(0,30)+"...":"No token"),!Q)throw new Error("No authentication token received from registration");return console.log(" Waiting for user to be saved in database..."),[4,new Promise(function(Z){return setTimeout(Z,1e3)})];case 4:return G.sent(),_(50),[4,fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:"Bearer ".concat(Q)},body:U})];case 5:return oe=G.sent(),_(75),oe.ok?[4,oe.json()]:[3,7];case 6:if(Ne=G.sent(),_(100),console.log(" Verification document uploaded successfully:",Ne),H=localStorage.getItem("user"),H)try{he=JSON.parse(H),he.verificationStatus="pending",he.hasUploadedDocuments=!0,localStorage.setItem("user",JSON.stringify(he)),console.log(" Updated user data in localStorage with verification status"),c.setQueryData(["/api/auth"],he),c.invalidateQueries({queryKey:["/api/auth"]}),console.log(" Invalidated React Query cache - dashboard will fetch fresh data")}catch(Z){console.error("Failed to update user data in localStorage:",Z)}return s({title:"Account Created & Document Uploaded!",description:"Your account is pending verification. You'll be notified once approved.",duration:5e3}),[3,9];case 7:return[4,oe.text()];case 8:throw Ee=G.sent(),console.error(" Upload response error:",oe.status,Ee),new Error("Upload failed: ".concat(oe.status," - ").concat(Ee));case 9:return[3,11];case 10:return B=G.sent(),console.error(" Document upload error:",B),s({title:"Account Created",description:"Account created but document upload failed: ".concat(B.message,". You can upload it later in your profile."),variant:"destructive",duration:5e3}),[3,11];case 11:return[3,13];case 12:s({title:"Account Created Successfully!",description:"Welcome to METACHROME! Please upload your verification document in your profile.",duration:5e3}),G.label=13;case 13:return console.log(" Waiting for database sync before redirect..."),[4,new Promise(function(Z){return setTimeout(Z,1e3)})];case 14:return G.sent(),console.log(" Redirecting to dashboard..."),r("/dashboard"),[3,17];case 15:return se=G.sent(),console.error(" Registration error:",se),s({title:"Signup Failed",description:se.message||"Failed to create account",variant:"destructive"}),[3,17];case 16:return y(!1),_(0),[7];case 17:return[2]}})})},q=function(L){var M,U=(M=L.target.files)===null||M===void 0?void 0:M[0];if(U){var Q=["image/jpeg","image/jpg","image/png","application/pdf"];if(!Q.includes(U.type)){s({title:"Invalid File Type",description:"Please upload a JPG, PNG, or PDF file.",variant:"destructive"});return}if(U.size>5*1024*1024){s({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}k(U),console.log(" File selected:",U.name,U.type,U.size)}},V=function(){return wg(t,void 0,void 0,function(){var L,M,U,Q;return jg(this,function(oe){switch(oe.label){case 0:if(!window.ethereum)return s({title:"MetaMask Not Found",description:"Please install MetaMask to continue.",variant:"destructive"}),[2];s({title:" Secure Connection",description:"METACHROME will never ask for your private keys or seed phrase. We only request your wallet address for authentication.",duration:5e3}),N(!0),oe.label=1;case 1:return oe.trys.push([1,4,5,6]),console.log(" Requesting MetaMask account access..."),[4,window.ethereum.request({method:"eth_requestAccounts"})];case 2:if(L=oe.sent(),console.log(" Accounts received:",L),L.length===0)throw new Error("No accounts found. Please unlock MetaMask.");return M=L[0],console.log(" Authenticating wallet:",M),[4,o({walletAddress:M})];case 3:return U=oe.sent(),console.log(" MetaMask authentication successful:",U),U.user&&U.token&&(localStorage.setItem("authToken",U.token),localStorage.setItem("user",JSON.stringify(U.user))),s({title:" MetaMask Connected Successfully!",description:"Welcome to METACHROME! Wallet: ".concat(M.slice(0,6),"...").concat(M.slice(-4))}),console.log(" Redirecting to dashboard..."),setTimeout(function(){r("/dashboard")},500),[3,6];case 4:return Q=oe.sent(),console.error(" MetaMask connection error:",Q),Q.code===4001?s({title:"Connection Cancelled",description:"You cancelled the MetaMask connection request.",variant:"destructive"}):s({title:"Connection Failed",description:Q.message||"Failed to connect MetaMask. Please try again.",variant:"destructive"}),[3,6];case 5:return N(!1),[7];case 6:return[2]}})})},re=function(){return wg(t,void 0,void 0,function(){return jg(this,function(L){try{s({title:"Google Signup",description:"Redirecting to Google authentication..."}),window.location.href="/api/auth/google"}catch{s({title:"Google Signup Failed",description:"Please try again or use email signup",variant:"destructive"})}return[2]})})};return n.jsx("div",{className:"min-h-screen bg-gray-900",children:n.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[n.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative overflow-hidden min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B"},children:[n.jsx(kt,{href:"/",children:n.jsx("div",{className:"hidden lg:block absolute top-6 left-6 lg:top-8 lg:left-8 cursor-pointer hover:opacity-80 transition-opacity z-20",children:n.jsx("img",{src:oh,alt:"METACHROME",className:"h-8 lg:h-10 w-auto"})})}),n.jsxs("div",{className:"text-center z-10 max-w-md relative py-8 px-4",style:{marginTop:W?"-590px":"0px",opacity:1,visibility:"visible",display:"block"},children:[n.jsx("p",{className:"text-white text-sm lg:text-lg mb-2 lg:mb-4 font-medium",style:{opacity:1,visibility:"visible",color:"#FFFFFF",display:"block"},children:"Get Started with METACHROME"}),n.jsx("h1",{className:"text-2xl lg:text-4xl font-bold text-white mb-6 lg:mb-12 leading-tight",style:{opacity:1,visibility:"visible",color:"#FFFFFF",display:"block"},children:"The Future is for Everyone"}),n.jsx("div",{className:"relative w-48 h-48 lg:w-80 lg:h-80 mx-auto",style:{opacity:1,visibility:"visible",display:"block"},children:n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-cover rounded-full",style:{opacity:1,visibility:"visible",display:"block",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:[n.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.mp4",type:"video/mp4"})]})})]})]}),n.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:n.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Sign Up"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Already have an account? "}),n.jsx(kt,{href:"/login",children:n.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign In"})})]})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the community and unleash endless possibilities"}),n.jsx("div",{className:"mb-6",children:n.jsxs(X,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center justify-center space-x-2",onClick:re,type:"button",children:[n.jsx(UP,{className:"w-5 h-5 text-white"}),n.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),n.jsx(X,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:V,disabled:g,type:"button",children:g?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-white",children:"Connecting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(BP,{className:"w-5 h-5 text-orange-500 mr-2"}),n.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),n.jsx(H0,{...I,children:n.jsxs("form",{onSubmit:I.handleSubmit(D),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(Qn,{control:I.control,name:"firstName",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"First Name *"}),n.jsx(Rn,{children:n.jsx(Be,{...M,placeholder:"Your First Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:I.control,name:"lastName",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Last Name *"}),n.jsx(Rn,{children:n.jsx(Be,{...M,placeholder:"Your Last Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(In,{})]})}})]}),n.jsx(Qn,{control:I.control,name:"email",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"E-Mail Address *"}),n.jsx(Rn,{children:n.jsx(Be,{...M,type:"email",placeholder:"Your email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:I.control,name:"referralCode",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Referral Code (Optional)"}),n.jsx(Rn,{children:n.jsx(Be,{...M,type:"text",placeholder:"Enter referral code if you have one",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(In,{})]})}}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Qn,{control:I.control,name:"password",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Password *"}),n.jsx(Rn,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Be,{...M,type:l?"text":"password",placeholder:"Your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),n.jsx("button",{type:"button",onClick:function(){return d(!l)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:l?n.jsx(dl,{className:"w-4 h-4"}):n.jsx(Oi,{className:"w-4 h-4"})})]})}),n.jsx(In,{})]})}}),n.jsx(Qn,{control:I.control,name:"confirmPassword",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsx(On,{className:"text-gray-400 text-sm",children:"Confirm Password *"}),n.jsx(Rn,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Be,{...M,type:f?"text":"password",placeholder:"Password Confirmation",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),n.jsx("button",{type:"button",onClick:function(){return p(!f)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:f?n.jsx(dl,{className:"w-4 h-4"}):n.jsx(Oi,{className:"w-4 h-4"})})]})}),n.jsx(In,{})]})}})]}),n.jsxs("div",{className:"space-y-4 p-4 bg-red-900/20 rounded-lg border border-red-700/50",children:[n.jsxs("h3",{className:"text-white text-sm font-medium flex items-center",children:[n.jsx("span",{className:"text-red-400 mr-2",children:"*"}),"Identity Verification (Required)"]}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[n.jsx("span",{className:"text-red-400 font-medium",children:"Mandatory:"})," Upload your ID card, driver's license, or passport to complete registration. This is required for account security and compliance."]}),n.jsx(Qn,{control:I.control,name:"documentType",render:function(L){var M=L.field;return n.jsxs(An,{children:[n.jsxs(On,{className:"text-gray-400 text-sm",children:["Document Type ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx(Rn,{children:n.jsxs("select",{...M,className:"w-full bg-gray-900 border-gray-600 text-white h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 px-3",children:[n.jsx("option",{value:"id_card",children:"ID Card"}),n.jsx("option",{value:"driver_license",children:"Driver's License"}),n.jsx("option",{value:"passport",children:"Passport"})]})}),n.jsx(In,{})]})}}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-gray-400 text-sm",children:["Upload Document ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:q,className:"hidden",id:"document-upload",required:!0}),n.jsx("label",{htmlFor:"document-upload",className:"flex-1 bg-gray-900 border-2 border-dashed h-12 rounded-md flex items-center justify-center cursor-pointer transition-colors ".concat(C?"border-green-500 text-green-400":"border-red-500 text-gray-400 hover:border-purple-500"),children:C?" ".concat(C.name):" Click to upload document (Required)"}),C&&n.jsx("button",{type:"button",onClick:function(){return k(null)},className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),E>0&&n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(E,"%")}})}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[n.jsx("span",{className:"text-red-400 font-medium",children:"Required:"})," Accepted formats: JPG, PNG, PDF (max 5MB)"]}),!C&&n.jsx("p",{className:"text-red-400 text-xs font-medium",children:" ID verification document is mandatory for registration"})]})]}),n.jsx(Qn,{control:I.control,name:"agreeToTerms",render:function(L){var M=L.field;return n.jsxs(An,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(Rn,{children:n.jsx("input",{type:"checkbox",checked:M.value,onChange:M.onChange,className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2 mt-1"})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsxs(On,{className:"text-gray-400 text-sm font-normal",children:["I agree with"," ",n.jsx(kt,{href:"/privacy-policy",className:"text-purple-400 hover:text-purple-300",children:"Privacy Policy"}),","," ",n.jsx(kt,{href:"/terms-of-service",className:"text-purple-400 hover:text-purple-300",children:"Terms of Service"}),","," ",n.jsx(kt,{href:"/trade-policy",className:"text-purple-400 hover:text-purple-300",children:"Trade Policy"})]}),n.jsx(In,{})]})]})}}),n.jsx(X,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:x,children:x?"Creating Account...":"Register"})]})})]})})})]})})}var sS=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},iS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function aW(){var t=this,e,r,s,i,a,o,c,u=en(),l=u.user,d=u.userLogin,h=u.isUserLoginPending,f=Cn().toast,p=ys(),v=m.useRef(null),g=m.useState(!0),N=g[0],b=g[1],x=m.useState(!1);x[0];var y=x[1],w=m.useState(""),C=w[0],k=w[1],S=m.useState(""),E=S[0],_=S[1],P=m.useState(""),W=P[0],F=P[1],I=m.useState("BTC"),D=I[0],q=I[1],V=m.useState(null),re=V[0],L=V[1],M=function(Z){return sS(t,void 0,void 0,function(){var $;return iS(this,function(de){switch(de.label){case 0:Z.preventDefault(),de.label=1;case 1:return de.trys.push([1,3,,4]),[4,d({username:C,password:E})];case 2:return de.sent(),y(!1),k(""),_(""),f({title:"Login Successful! ",description:"Welcome to your dashboard"}),[3,4];case 3:return $=de.sent(),f({title:"Login Failed ",description:$.message||"Invalid credentials",variant:"destructive"}),[3,4];case 4:return[2]}})})},U=Mr({queryKey:["/api/balances"],enabled:!!(l!=null&&l.id)}),Q=U.data;U.isLoading;var oe=Array.isArray(Q)?Q.find(function(Z){return Z.symbol==="USDT"}):Q==null?void 0:Q.USDT,Ne=oe!=null&&oe.available?parseFloat(oe.available):(l==null?void 0:l.balance)||0,H={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:100,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:100,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:100,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},he=gn({mutationFn:function(Z){return sS(t,void 0,void 0,function(){var $,de,Ht,Oe,ve,We,Ht,ze;return iS(this,function(ke){switch(ke.label){case 0:if($=localStorage.getItem("authToken"),!$||!l)throw new Error("Please login first to make a deposit");return[4,fetch("/api/transactions/deposit-request",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat($)},body:JSON.stringify({amount:Z.amount,currency:Z.currency})})];case 1:return de=ke.sent(),de.ok?[3,3]:[4,de.text()];case 2:throw Ht=ke.sent(),new Error(Ht||"Failed to create deposit request");case 3:return[4,de.json()];case 4:return Oe=ke.sent(),Z.receipt?(ve=new FormData,ve.append("depositId",Oe.depositId),ve.append("txHash","user_upload_".concat(Date.now())),ve.append("walletAddress","user_wallet_address"),ve.append("receipt",Z.receipt),[4,fetch("/api/transactions/submit-proof",{method:"POST",headers:{Authorization:"Bearer ".concat($)},body:ve})]):[3,9];case 5:return We=ke.sent(),We.ok?[3,7]:[4,We.text()];case 6:throw Ht=ke.sent(),new Error(Ht||"Failed to submit proof");case 7:return[4,We.json()];case 8:return ze=ke.sent(),[2,{success:!0,message:ze.message,depositId:Oe.depositId,amount:Z.amount,currency:Z.currency,status:"verifying",receiptUploaded:!0}];case 9:return[2,Oe]}})})},onSuccess:function(Z){f({title:"Deposit Submitted Successfully! ",description:"Your ".concat(Z.amount," ").concat(Z.currency," deposit request has been submitted for processing. Deposit ID: ").concat(Z.depositId)}),p.invalidateQueries({queryKey:["/api/balances"]}),F(""),L(null)},onError:function(Z){f({title:"Deposit Failed",description:Z.message||"Failed to submit deposit request.",variant:"destructive"})}}),Ee=function(Z){var $,de=($=Z.target.files)===null||$===void 0?void 0:$[0];if(de){var Oe=["image/jpeg","image/png","image/jpg","application/pdf"];if(!Oe.includes(de.type)){f({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(de.size>5*1024*1024){f({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}L(de)}},B=function(Z){navigator.clipboard.writeText(Z),f({title:"Copied!",description:"Address copied to clipboard"})},se=function(){if(!W||parseFloat(W)<=0){f({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!re){f({title:"Receipt Required",description:"Please upload a transaction receipt before proceeding.",variant:"destructive"});return}var Z=H[D];if(parseFloat(W)<Z.minAmount){f({title:"Amount Too Small",description:"Minimum deposit amount is ".concat(Z.minAmount," ").concat(D,"."),variant:"destructive"});return}he.mutate({amount:W,currency:D,receipt:re})},G=function(){var Z=H[D],$=Z.address;return console.log("QR Code value:",$),`METACHROME DEPOSIT ADDRESS
`.concat(Z.network,`
`).concat($,`

COPY THIS ADDRESS TO YOUR WALLET`)};return l?n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mb-2 break-words",children:function(){if(l!=null&&l.firstName&&(l!=null&&l.lastName))return"Welcome back, ".concat(l.firstName," ").concat(l.lastName,"!");if(l!=null&&l.firstName)return"Welcome back, ".concat(l.firstName,"!");if(l!=null&&l.username){if(l.username.startsWith("0x")&&l.username.length>20){var Z=l.username.slice(0,21),$=l.username.slice(21);return n.jsxs("div",{className:"block max-w-full overflow-hidden",children:[n.jsx("div",{className:"leading-tight",children:"Welcome back,"}),n.jsxs("div",{className:"leading-tight font-mono text-purple-400 break-all text-xs sm:text-sm md:text-base",children:[Z,n.jsx("br",{}),$,"!"]})]})}return"Welcome back, ".concat(l.username,"!")}return"Welcome back, User!"}()}),n.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Here's your trading overview and account summary."})]}),(!(l!=null&&l.verificationStatus)||(l==null?void 0:l.verificationStatus)==="unverified")&&!(l!=null&&l.hasUploadedDocuments)&&n.jsx("div",{className:"mb-8",children:n.jsx(je,{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border-yellow-600/50",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center",children:n.jsx(Pd,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-100 mb-2",children:" Verification Required for Trading"}),n.jsx("p",{className:"text-yellow-200 mb-4",children:"To start trading and access all platform features, please upload your verification documents. This is required for security and regulatory compliance."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(kt,{href:"/profile?tab=verification",children:n.jsxs(X,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[n.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Upload Documents Now"]})}),n.jsx("div",{className:"text-sm text-yellow-300",children:" Accepted: ID Card, Driver's License, or Passport"})]})]})]})})})}),((l==null?void 0:l.verificationStatus)==="pending"||(l==null?void 0:l.hasUploadedDocuments)&&(l==null?void 0:l.verificationStatus)!=="verified")&&n.jsx("div",{className:"mb-8",children:n.jsx(je,{className:"bg-gradient-to-r from-blue-900/50 to-indigo-900/50 border-blue-600/50",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(ri,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-2",children:" Document Uploaded - Verification in Progress"}),n.jsx("p",{className:"text-blue-200 mb-2",children:"Your verification documents have been submitted and are currently being reviewed by our team. You can check your verification status in your profile."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start",children:[n.jsx("div",{className:"text-sm text-blue-300",children:" Review typically takes 24-48 hours"}),n.jsx(kt,{href:"/profile?tab=verification",children:n.jsx(X,{variant:"outline",size:"sm",className:"border-blue-400 text-blue-300 hover:bg-blue-800/30",children:"Check Status"})})]})]})]})})})}),n.jsx("div",{className:"mb-8",children:n.jsxs(je,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700",children:[n.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(xt,{className:"text-sm font-medium text-gray-400",children:"Total Portfolio Value"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{variant:"ghost",size:"sm",onClick:function(){return b(!N)},className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:N?n.jsx(Oi,{className:"h-3 w-3"}):n.jsx(dl,{className:"h-3 w-3"})}),n.jsx(Lx,{className:"h-4 w-4 text-green-500"})]})]}),n.jsxs(Ce,{children:[n.jsx("div",{className:"text-2xl font-bold text-white",children:N?"".concat(Ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," USDT"):""}),n.jsx("p",{className:"text-xs text-gray-400",children:"Available balance"})]})]})}),n.jsxs(je,{className:"bg-gray-800 border-gray-700 mb-8",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Quick Actions"}),n.jsx(Zt,{className:"text-gray-400",children:"Start trading or manage your account"})]}),n.jsxs(Ce,{className:"space-y-4",children:[n.jsx(kt,{href:"/trade/options",children:n.jsxs(X,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[n.jsx(Zs,{className:"w-4 h-4 mr-2"}),"Options Trading"]})}),n.jsx(kt,{href:"/trade/spot",children:n.jsxs(X,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(pc,{className:"w-4 h-4 mr-2"}),"Spot Trading"]})})]})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700 mb-8",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Account Management"}),n.jsx(Zt,{className:"text-gray-400",children:"Manage your account settings"})]}),n.jsxs(Ce,{className:"space-y-4",children:[n.jsx(kt,{href:"/profile",children:n.jsx(X,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"View Profile"})}),n.jsx(kt,{href:"/transactions",children:n.jsx(X,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Transaction History"})})]})]}),n.jsxs(je,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 mb-8",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Add Funds"}),n.jsx(Zt,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),n.jsx(Ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),n.jsxs("select",{value:D,onChange:function(Z){return q(Z.target.value)},className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"BTC",children:"BTC"}),n.jsx("option",{value:"ETH",children:"ETH"}),n.jsx("option",{value:"SOL",children:"SOL"}),n.jsx("option",{value:"USDT-ERC20",children:"USDT ERC20"}),n.jsx("option",{value:"USDT-TRC20",children:"USDT TRC20"}),n.jsx("option",{value:"USDT-BEP20",children:"USDT BEP20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",inputMode:"decimal",placeholder:"Please enter the recharge amount",value:W,onChange:function(Z){var $=Z.target.value.replace(/[^0-9.]/g,""),de=$.split(".");de.length>2||F($)},className:"w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ".concat(W?"border-gray-600":"border-red-500")}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",(e=H[D])===null||e===void 0?void 0:e.minAmount," ",D]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),n.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[n.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:[" Send ",D," to this address to deposit funds to your METACHROME account"]}),n.jsxs("p",{className:"text-yellow-300 text-xs",children:[n.jsx("strong",{children:"Important:"})," Only send on ",(r=H[D])===null||r===void 0?void 0:r.network,". Sending on wrong network will result in loss of funds!"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(s=H[D])===null||s===void 0?void 0:s.address}),n.jsx(X,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:function(){var Z;return B((Z=H[D])===null||Z===void 0?void 0:Z.address)},children:n.jsx(lm,{className:"w-4 h-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(i=H[D])===null||i===void 0?void 0:i.network]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(a=H[D])===null||a===void 0?void 0:a.description})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:n.jsx(z3,{value:G(),size:200,className:"mx-auto"})}),n.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),n.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",n.jsx("strong",{children:(o=H[D])===null||o===void 0?void 0:o.network})]}),n.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(c=H[D])===null||c===void 0?void 0:c.address]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs(X,{onClick:function(){var Z;return B((Z=H[D])===null||Z===void 0?void 0:Z.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[n.jsx(lm,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:" How to use:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),n.jsxs("li",{children:[" ",n.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ".concat(re?"border-gray-600":"border-red-500"),onClick:function(){var Z;return(Z=v.current)===null||Z===void 0?void 0:Z.click()},children:re?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(ri,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:re.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(td,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{ref:v,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:Ee,className:"hidden"})]}),(!W||!re)&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[n.jsx("p",{className:"text-yellow-300 text-sm",children:" Please complete all required fields:"}),n.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!W&&n.jsx("li",{children:" Enter deposit amount"}),!re&&n.jsx("li",{children:" Upload transaction receipt"})]})]}),n.jsx(X,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:se,disabled:he.isPending||!W||!re,children:he.isPending?"Processing...":"Confirm recharge"})]})})]})]})}):n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-auto px-4",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white text-center",children:"Login to Your Account"}),n.jsx(Zt,{className:"text-gray-400 text-center",children:"Enter your credentials to access your dashboard"})]}),n.jsxs(Ce,{children:[n.jsxs("form",{onSubmit:M,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:C,onChange:function(Z){return k(Z.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your username",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:E,onChange:function(Z){return _(Z.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your password",required:!0})]}),n.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium",disabled:h,children:h?"Logging in...":"Login"})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-gray-400 text-sm",children:["Demo credentials: username: ",n.jsx("span",{className:"text-purple-400",children:"admin"}),", password: ",n.jsx("span",{className:"text-purple-400",children:"any"})]})})]})]})})})}var oW="Separator",aS="horizontal",lW=["horizontal","vertical"],zP=m.forwardRef((t,e)=>{const{decorative:r,orientation:s=aS,...i}=t,a=cW(s)?s:aS,c=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(rt.div,{"data-orientation":a,...c,...i,ref:e})});zP.displayName=oW;function cW(t){return lW.includes(t)}var $P=zP,uW=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},Af=m.forwardRef(function(t,e){var r=t.className,s=t.orientation,i=s===void 0?"horizontal":s,a=t.decorative,o=a===void 0?!0:a,c=uW(t,["className","orientation","decorative"]);return n.jsx($P,{ref:e,decorative:o,orientation:i,className:Je("shrink-0 bg-border",i==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...c})});Af.displayName=$P.displayName;var bi=function(){return bi=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bi.apply(this,arguments)},Hi=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Ki=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},dW=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},hW=[{code:"+93",country:"Afghanistan",flag:""},{code:"+355",country:"Albania",flag:""},{code:"+213",country:"Algeria",flag:""},{code:"+376",country:"Andorra",flag:""},{code:"+244",country:"Angola",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+374",country:"Armenia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+43",country:"Austria",flag:""},{code:"+994",country:"Azerbaijan",flag:""},{code:"+973",country:"Bahrain",flag:""},{code:"+880",country:"Bangladesh",flag:""},{code:"+375",country:"Belarus",flag:""},{code:"+32",country:"Belgium",flag:""},{code:"+501",country:"Belize",flag:""},{code:"+975",country:"Bhutan",flag:""},{code:"+591",country:"Bolivia",flag:""},{code:"+387",country:"Bosnia",flag:""},{code:"+267",country:"Botswana",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+673",country:"Brunei",flag:""},{code:"+359",country:"Bulgaria",flag:""},{code:"+855",country:"Cambodia",flag:""},{code:"+237",country:"Cameroon",flag:""},{code:"+1",country:"Canada/USA",flag:""},{code:"+56",country:"Chile",flag:""},{code:"+86",country:"China",flag:""},{code:"+57",country:"Colombia",flag:""},{code:"+506",country:"Costa Rica",flag:""},{code:"+385",country:"Croatia",flag:""},{code:"+53",country:"Cuba",flag:""},{code:"+357",country:"Cyprus",flag:""},{code:"+420",country:"Czech Republic",flag:""},{code:"+45",country:"Denmark",flag:""},{code:"+593",country:"Ecuador",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+503",country:"El Salvador",flag:""},{code:"+372",country:"Estonia",flag:""},{code:"+251",country:"Ethiopia",flag:""},{code:"+358",country:"Finland",flag:""},{code:"+33",country:"France",flag:""},{code:"+995",country:"Georgia",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+233",country:"Ghana",flag:""},{code:"+30",country:"Greece",flag:""},{code:"+502",country:"Guatemala",flag:""},{code:"+852",country:"Hong Kong",flag:""},{code:"+36",country:"Hungary",flag:""},{code:"+354",country:"Iceland",flag:""},{code:"+91",country:"India",flag:""},{code:"+62",country:"Indonesia",flag:""},{code:"+98",country:"Iran",flag:""},{code:"+964",country:"Iraq",flag:""},{code:"+353",country:"Ireland",flag:""},{code:"+972",country:"Israel",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+962",country:"Jordan",flag:""},{code:"+7",country:"Kazakhstan",flag:""},{code:"+254",country:"Kenya",flag:""},{code:"+965",country:"Kuwait",flag:""},{code:"+996",country:"Kyrgyzstan",flag:""},{code:"+856",country:"Laos",flag:""},{code:"+371",country:"Latvia",flag:""},{code:"+961",country:"Lebanon",flag:""},{code:"+218",country:"Libya",flag:""},{code:"+370",country:"Lithuania",flag:""},{code:"+352",country:"Luxembourg",flag:""},{code:"+853",country:"Macau",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+960",country:"Maldives",flag:""},{code:"+356",country:"Malta",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+373",country:"Moldova",flag:""},{code:"+377",country:"Monaco",flag:""},{code:"+976",country:"Mongolia",flag:""},{code:"+382",country:"Montenegro",flag:""},{code:"+212",country:"Morocco",flag:""},{code:"+95",country:"Myanmar",flag:""},{code:"+977",country:"Nepal",flag:""},{code:"+31",country:"Netherlands",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+234",country:"Nigeria",flag:""},{code:"+47",country:"Norway",flag:""},{code:"+968",country:"Oman",flag:""},{code:"+92",country:"Pakistan",flag:""},{code:"+970",country:"Palestine",flag:""},{code:"+507",country:"Panama",flag:""},{code:"+595",country:"Paraguay",flag:""},{code:"+51",country:"Peru",flag:""},{code:"+63",country:"Philippines",flag:""},{code:"+48",country:"Poland",flag:""},{code:"+351",country:"Portugal",flag:""},{code:"+974",country:"Qatar",flag:""},{code:"+40",country:"Romania",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+381",country:"Serbia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+421",country:"Slovakia",flag:""},{code:"+386",country:"Slovenia",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+94",country:"Sri Lanka",flag:""},{code:"+46",country:"Sweden",flag:""},{code:"+41",country:"Switzerland",flag:""},{code:"+963",country:"Syria",flag:""},{code:"+886",country:"Taiwan",flag:""},{code:"+992",country:"Tajikistan",flag:""},{code:"+255",country:"Tanzania",flag:""},{code:"+66",country:"Thailand",flag:""},{code:"+90",country:"Turkey",flag:""},{code:"+993",country:"Turkmenistan",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+256",country:"Uganda",flag:""},{code:"+380",country:"Ukraine",flag:""},{code:"+44",country:"United Kingdom",flag:""},{code:"+598",country:"Uruguay",flag:""},{code:"+998",country:"Uzbekistan",flag:""},{code:"+58",country:"Venezuela",flag:""},{code:"+84",country:"Vietnam",flag:""},{code:"+967",country:"Yemen",flag:""},{code:"+260",country:"Zambia",flag:""},{code:"+263",country:"Zimbabwe",flag:""}];function fW(){var t=this,e,r,s=en(),i=s.user,a=Cn().toast,o=ys(),c=Ui(),u=m.useState("profile"),l=u[0],d=u[1];if(!i)return n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-white text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),n.jsx("p",{children:"Loading profile..."})]})});var h=m.useState(!1),f=h[0],p=h[1],v=m.useState(!1),g=v[0],N=v[1],b=m.useState(""),x=b[0],y=b[1],w=m.useState(!1),C=w[0],k=w[1],S=m.useState(null);S[0];var E=S[1],_=m.useState(null),P=_[0],W=_[1],F=m.useState(!1),I=F[0],D=F[1],q=m.useState("");q[0];var V=q[1],re=m.useState([]),L=re[0],M=re[1],U=m.useState(null),Q=U[0],oe=U[1],Ne=m.useState("id_card"),H=Ne[0],he=Ne[1],Ee=m.useState(!1),B=Ee[0],se=Ee[1],G=m.useRef(null),Z=m.useState({username:(i==null?void 0:i.username)||"",email:(i==null?void 0:i.email)||"",firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",phone:(i==null?void 0:i.phone)||"",phoneCountryCode:"+1",address:(i==null?void 0:i.address)||"",currentPassword:"",newPassword:"",confirmPassword:""}),$=Z[0],de=Z[1];m.useEffect(function(){if(i){var Y=i.phone||"",fe="+1";if(Y.startsWith("+")){var be=Y.match(/^(\+\d{1,4})/);be&&(fe=be[1],Y=Y.substring(fe.length).trim())}de(function(nt){return bi(bi({},nt),{username:i.username||"",email:i.email||"",firstName:i.firstName||"",lastName:i.lastName||"",phone:Y,phoneCountryCode:fe,address:i.address||""})})}},[i]),m.useEffect(function(){var Y=new URLSearchParams(window.location.search),fe=Y.get("tab");fe&&d(fe)},[]);var Oe=gn({mutationFn:function(Y){return Hi(t,void 0,void 0,function(){return Ki(this,function(fe){switch(fe.label){case 0:return[4,Mn("PUT","/api/user/profile",Y)];case 1:return[2,fe.sent()]}})})},onSuccess:function(){a({title:"Profile Updated",description:"Your profile has been updated successfully"}),p(!1),o.invalidateQueries({queryKey:["/api/auth"]}),o.refetchQueries({queryKey:["/api/auth"]}),localStorage.removeItem("user")},onError:function(Y){a({title:"Update Failed",description:Y.message||"Failed to update profile",variant:"destructive"})}}),ve=gn({mutationFn:function(Y){return Hi(t,void 0,void 0,function(){return Ki(this,function(fe){switch(fe.label){case 0:return console.log(" Password change attempt with data:",Y),[4,Mn("PUT","/api/user/password",Y)];case 1:return[2,fe.sent()]}})})},onSuccess:function(Y){a({title:"Password Set Successfully",description:Y!=null&&Y.isFirstTimePassword?"Your login password has been set! You can now log in with username and password.":"Your password has been changed successfully"}),de(function(fe){return bi(bi({},fe),{currentPassword:"",newPassword:"",confirmPassword:""})}),console.log(" Password changed successfully, forcing complete user data refresh..."),localStorage.removeItem("user"),o.removeQueries({queryKey:["/api/auth/user"]}),o.removeQueries({queryKey:["/api/auth"]}),o.invalidateQueries({queryKey:["/api/auth/user"]}),o.invalidateQueries({queryKey:["/api/auth"]}),o.refetchQueries({queryKey:["/api/auth"]}),setTimeout(function(){console.log(" Reloading page to ensure fresh user data..."),window.location.reload()},1e3),setTimeout(function(){o.clear(),window.location.reload()},1e3)},onError:function(Y){a({title:"Password Change Failed",description:Y.message||"Failed to change password",variant:"destructive"})}}),We=gn({mutationFn:function(Y){return Hi(t,void 0,void 0,function(){return Ki(this,function(fe){switch(fe.label){case 0:return[4,Mn("POST","/api/user/redeem-code",{code:Y})];case 1:return[2,fe.sent()]}})})},onSuccess:function(Y){a({title:"Code Redeemed Successfully!",description:Y.message||"Bonus of ".concat(Y.bonusAmount," USDT added to your account!")}),y(""),o.invalidateQueries({queryKey:["/api/auth/user"]}),R()},onError:function(Y){a({title:"Redeem Failed",description:Y.message||"Invalid or expired redeem code",variant:"destructive"})}}),Ht=gn({mutationFn:function(Y){return Hi(t,void 0,void 0,function(){var fe,be,nt,Ct;return Ki(this,function(_t){switch(_t.label){case 0:return fe=new FormData,fe.append("document",Y.file),fe.append("documentType",Y.documentType),be=localStorage.getItem("authToken"),[4,fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:"Bearer ".concat(be)},body:fe})];case 1:if(nt=_t.sent(),nt.ok)return[3,5];_t.label=2;case 2:return _t.trys.push([2,4,,5]),[4,nt.json()];case 3:throw Ct=_t.sent(),new Error(Ct.error||Ct.details||"Failed to upload document");case 4:throw _t.sent(),new Error("Failed to upload document");case 5:return[4,nt.json()];case 6:return[2,_t.sent()]}})})},onSuccess:function(Y){a({title:"Document Uploaded Successfully!",description:"Your verification document has been submitted for review."}),oe(null),se(!1),o.invalidateQueries({queryKey:["/api/auth/user"]}),ze()},onError:function(Y){a({title:"Upload Failed",description:Y.message||"Failed to upload verification document",variant:"destructive"}),se(!1)}}),ze=function(){return Hi(t,void 0,void 0,function(){var Y,fe;return Ki(this,function(be){switch(be.label){case 0:return be.trys.push([0,2,,3]),console.log(" Fetching verification status..."),[4,Mn("GET","/api/user/verification-status")];case 1:return Y=be.sent(),console.log(" Verification status response:",Y),E(Y),[3,3];case 2:return fe=be.sent(),console.error(" Failed to fetch verification status:",fe),[3,3];case 3:return[2]}})})},ke=function(){return Hi(t,void 0,void 0,function(){var Y,fe;return Ki(this,function(be){switch(be.label){case 0:D(!0),be.label=1;case 1:return be.trys.push([1,5,6,7]),console.log(" Force refreshing verification status..."),[4,Mn("POST","/api/user/force-refresh-verification")];case 2:return Y=be.sent(),console.log(" Force refresh response:",Y),localStorage.removeItem("user"),o.removeQueries({queryKey:["/api/auth"]}),o.invalidateQueries({queryKey:["/api/auth"]}),[4,o.refetchQueries({queryKey:["/api/auth"]})];case 3:return be.sent(),[4,ze()];case 4:return be.sent(),a({title:"Verification Status Refreshed",description:Y.message||"Your account verification status has been updated."}),V(" Verification refresh successful! Status: ".concat((i==null?void 0:i.verificationStatus)||"Unknown")),[3,7];case 5:return fe=be.sent(),console.error("Failed to refresh verification status:",fe),a({title:"Refresh Failed",description:fe.message||"Failed to refresh verification status. Please try again.",variant:"destructive"}),V(" Verification refresh failed: ".concat(fe.message||fe)),[3,7];case 6:return D(!1),[7];case 7:return[2]}})})},at=m.useCallback(function(){return Hi(t,void 0,void 0,function(){var Y,fe,be;return Ki(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,2,,3]),console.log(" Fetching referral stats for user:",i==null?void 0:i.username),[4,Mn("GET","/api/user/referral-stats")];case 1:return Y=nt.sent(),console.log(" Referral stats response:",Y),W(Y),[3,3];case 2:return fe=nt.sent(),console.error(" Failed to fetch referral stats:",fe),W({referralCode:"REF".concat(((be=i==null?void 0:i.username)===null||be===void 0?void 0:be.toUpperCase().substring(0,4))||"USER").concat(Date.now().toString().slice(-4)),totalReferrals:0,referrals:[]}),[3,3];case 3:return[2]}})})},[i==null?void 0:i.username]);m.useEffect(function(){i!=null&&i.id&&at()},[i==null?void 0:i.id,at]);var R=m.useCallback(function(){return Hi(t,void 0,void 0,function(){var Y,fe;return Ki(this,function(be){switch(be.label){case 0:return be.trys.push([0,2,,3]),console.log(" Fetching available redeem codes"),[4,Mn("GET","/api/user/available-codes")];case 1:return Y=be.sent(),console.log(" Available codes response:",Y),M(Y||[]),[3,3];case 2:return fe=be.sent(),console.error(" Failed to fetch available codes:",fe),M([{code:"FIRSTBONUS",amount:"100 USDT",description:"First time user bonus"},{code:"LETSGO1000",amount:"1000 USDT",description:"High value bonus code"},{code:"WELCOME50",amount:"50 USDT",description:"Welcome bonus for new users"},{code:"BONUS500",amount:"500 USDT",description:"Limited time bonus"}]),[3,3];case 3:return[2]}})})},[]);m.useEffect(function(){i!=null&&i.id&&R()},[i==null?void 0:i.id,R]),m.useEffect(function(){i!=null&&i.id&&(console.log(" Component mounted, fetching verification status for user:",i.id),ze())},[i==null?void 0:i.id]);var K=function(Y,fe){de(function(be){var nt;return bi(bi({},be),(nt={},nt[Y]=fe,nt))})},ee=function(){$.currentPassword,$.newPassword,$.confirmPassword;var Y=$.phoneCountryCode,fe=$.phone,be=dW($,["currentPassword","newPassword","confirmPassword","phoneCountryCode","phone"]),nt=fe?"".concat(Y," ").concat(fe):"";Oe.mutate(bi(bi({},be),{phone:nt}))},ne=function(){if($.newPassword!==$.confirmPassword){a({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if($.newPassword.length<6){a({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}ve.mutate({currentPassword:$.currentPassword,newPassword:$.newPassword})},ce=function(){if(!x.trim()){a({title:"Invalid Code",description:"Please enter a redeem code",variant:"destructive"});return}k(!0),We.mutate(x.trim().toUpperCase()),k(!1)},pe=function(Y){var fe,be=(fe=Y.target.files)===null||fe===void 0?void 0:fe[0];if(be){var nt=["image/jpeg","image/png","image/jpg","application/pdf"];if(!nt.includes(be.type)){a({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(be.size>5*1024*1024){a({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}oe(be)}},Re=function(){if(!Q){a({title:"No File Selected",description:"Please select a document to upload",variant:"destructive"});return}se(!0),Ht.mutate({file:Q,documentType:H})};return n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-24 md:pb-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6 ".concat(c?"mb-4":"mb-8"),children:[n.jsx("h1",{className:"font-bold text-white mb-2 ".concat(c?"text-2xl":"text-3xl"),children:"Profile Settings"}),n.jsx("p",{className:"text-gray-400 ".concat(c?"text-sm":""),children:"Manage your account information and preferences"})]}),n.jsxs(pP,{value:l,onValueChange:d,className:"space-y-6",children:[n.jsxs(_m,{className:"grid w-full bg-gray-800 border-gray-700 ".concat(c?"grid-cols-2 gap-1 p-1":"grid-cols-5"),children:[n.jsx(Xr,{value:"profile",className:"data-[state=active]:bg-gray-700 ".concat(c?"text-xs px-2 py-2":""),children:c?"Profile":"Profile Information"}),n.jsx(Xr,{value:"verification",className:"data-[state=active]:bg-gray-700 ".concat(c?"text-xs px-2 py-2":""),children:c?"Verify":"Verification"}),!c&&n.jsxs(n.Fragment,{children:[n.jsx(Xr,{value:"redeem",className:"data-[state=active]:bg-gray-700",children:"Redeem Codes"}),n.jsx(Xr,{value:"security",className:"data-[state=active]:bg-gray-700",children:"Security"}),n.jsx(Xr,{value:"account",className:"data-[state=active]:bg-gray-700",children:"Account Details"})]})]}),c&&n.jsxs(_m,{className:"grid w-full grid-cols-3 gap-1 p-1 bg-gray-800 border-gray-700 -mt-4",children:[n.jsx(Xr,{value:"redeem",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Redeem"}),n.jsx(Xr,{value:"security",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Security"}),n.jsx(Xr,{value:"account",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Account"})]}),n.jsx(jn,{value:"profile",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{className:c?"p-4":"",children:n.jsxs("div",{className:"flex items-center justify-between ".concat(c?"flex-col space-y-3":""),children:[n.jsxs("div",{className:c?"text-center":"",children:[n.jsx(xt,{className:"text-white ".concat(c?"text-lg":""),children:"Profile Information"}),n.jsx(Zt,{className:"text-gray-400 ".concat(c?"text-sm":""),children:"Update your personal information and contact details"})]}),n.jsxs(X,{variant:f?"outline":"default",onClick:function(){return p(!f)},className:"".concat(f?"border-gray-600":""," ").concat(c?"w-full":""),size:c?"sm":"default",children:[n.jsx(Bc,{className:"w-4 h-4 mr-2"}),f?"Cancel":"Edit Profile"]})]})}),n.jsxs(Ce,{className:"space-y-6 ".concat(c?"p-4":""),children:[n.jsxs("div",{className:"flex items-center ".concat(c?"flex-col text-center space-y-3":"space-x-4"),children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center ".concat(c?"w-16 h-16":"w-20 h-20"),children:n.jsx(ni,{className:"text-white ".concat(c?"w-6 h-6":"w-8 h-8")})}),f&&n.jsx(X,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full p-0 ".concat(c?"h-6 w-6":"h-8 w-8"),disabled:!0,children:n.jsx(_5,{className:"".concat(c?"w-3 h-3":"w-4 h-4")})})]}),n.jsxs("div",{className:"min-w-0 max-w-full",children:[n.jsx("h3",{className:"font-semibold text-white ".concat(c?"text-base":"text-lg"," break-words"),children:i!=null&&i.firstName&&(i!=null&&i.lastName)?"".concat(i.firstName," ").concat(i.lastName):i!=null&&i.username&&i.username.startsWith("0x")&&i.username.length>20?"".concat(i.username.slice(0,6),"...").concat(i.username.slice(-4)):(i==null?void 0:i.username)||"User"}),n.jsxs("p",{className:"text-gray-400 ".concat(c?"text-xs":"text-sm"," break-all max-w-full overflow-hidden"),children:["@",i!=null&&i.username&&i.username.startsWith("0x")&&i.username.length>20?"".concat(i.username.slice(0,6),"...").concat(i.username.slice(-4)):i==null?void 0:i.username]}),n.jsx(Mt,{variant:"secondary",className:"mt-1 ".concat(c?"text-xs":""),children:(i==null?void 0:i.role)==="admin"?"Administrator":"User"})]})]}),n.jsx(Af,{className:"bg-gray-700"}),n.jsxs("div",{className:"grid gap-6 ".concat(c?"grid-cols-1":"grid-cols-1 md:grid-cols-2"),children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"username",className:"text-gray-300",children:"Username"}),n.jsx(Be,{id:"username",value:$.username,onChange:function(Y){return K("username",Y.target.value)},disabled:!f,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"email",className:"text-gray-300",children:"Email"}),n.jsx(Be,{id:"email",type:"email",value:$.email,onChange:function(Y){return K("email",Y.target.value)},disabled:!f,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),n.jsx(Be,{id:"firstName",value:$.firstName,onChange:function(Y){return K("firstName",Y.target.value)},disabled:!f,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),n.jsx(Be,{id:"lastName",value:$.lastName,onChange:function(Y){return K("lastName",Y.target.value)},disabled:!f,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ki,{value:$.phoneCountryCode,onValueChange:function(Y){return K("phoneCountryCode",Y)},disabled:!f,children:[n.jsx(Qs,{className:"w-[140px] bg-gray-700 border-gray-600 text-white disabled:opacity-50",children:n.jsx(Ei,{placeholder:"Code"})}),n.jsx(Xs,{className:"bg-gray-800 border-gray-700 max-h-[300px]",children:hW.map(function(Y){return n.jsx(Ft,{value:Y.code,className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:Y.flag}),n.jsx("span",{children:Y.code}),n.jsx("span",{className:"text-gray-400 text-xs",children:Y.country})]})},Y.code)})})]}),n.jsx(Be,{id:"phone",value:$.phone,onChange:function(Y){return K("phone",Y.target.value)},disabled:!f,className:"flex-1 bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter phone number"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"address",className:"text-gray-300",children:"Withdrawal Address"}),n.jsx(Be,{id:"address",value:$.address,onChange:function(Y){return K("address",Y.target.value)},disabled:!f,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter withdrawal address"})]})]}),f&&n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(X,{variant:"outline",onClick:function(){return p(!1)},className:"border-gray-600",children:"Cancel"}),n.jsxs(X,{onClick:ee,disabled:Oe.isPending,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(H5,{className:"w-4 h-4 mr-2"}),Oe.isPending?"Saving...":"Save Changes"]})]})]})]})}),n.jsx(jn,{value:"verification",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Account Verification"}),n.jsx(Zt,{className:"text-gray-400",children:"Upload your identity documents for account verification and set login password"})]}),n.jsxs(Ce,{className:"space-y-6",children:[!1,n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gray-600/20 rounded-lg",children:n.jsx(pn,{className:"w-6 h-6 text-gray-400"})}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-white text-lg",children:"Password Status"}),n.jsx(Zt,{className:"text-gray-400",children:"Current login methods and password status for your account"})]})]})}),n.jsx(Ce,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(i==null?void 0:i.walletAddress)&&n.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),n.jsx("h3",{className:"text-green-400 font-medium",children:"MetaMask Connected"})]}),n.jsxs("p",{className:"text-green-300 text-sm",children:["Wallet: ",i.walletAddress.slice(0,6),"...",i.walletAddress.slice(-4)]})]}),((e=i==null?void 0:i.email)===null||e===void 0?void 0:e.includes("@gmail.com"))&&n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),n.jsx("h3",{className:"text-blue-400 font-medium",children:"Google Connected"})]}),n.jsxs("p",{className:"text-blue-300 text-sm",children:["Email: ",i.email]})]}),n.jsxs("div",{className:"p-4 border rounded-lg ".concat(i!=null&&i.hasPassword?"bg-green-900/20 border-green-600/50":"bg-yellow-900/20 border-yellow-600/50"),children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full ".concat(i!=null&&i.hasPassword?"bg-green-400":"bg-yellow-400")}),n.jsx("h3",{className:"font-medium ".concat(i!=null&&i.hasPassword?"text-green-400":"text-yellow-400"),children:i!=null&&i.hasPassword?"Password Set":"No Password"})]}),n.jsx("p",{className:"text-sm ".concat(i!=null&&i.hasPassword?"text-green-300":"text-yellow-300"),children:i!=null&&i.hasPassword?"You can log in with username/password":"Username/password login not available"})]})]})})]}),!(i!=null&&i.hasPassword)&&(i==null?void 0:i.verificationStatus)==="verified"&&n.jsxs(je,{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border-purple-600/50",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:n.jsx(pn,{className:"w-6 h-6 text-purple-400"})}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-white text-lg",children:"Set Login Password"}),n.jsx(Zt,{className:"text-purple-200",children:"Add password login to your verified account for additional security"})]})]})}),n.jsxs(Ce,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[n.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:" Why Set a Password?"}),n.jsxs("ul",{className:"text-blue-300 text-sm space-y-1",children:[n.jsxs("li",{children:[" Access your account without ",i!=null&&i.walletAddress?"MetaMask":"Google"]}),n.jsx("li",{children:" Faster login on any device"}),n.jsx("li",{children:" Backup access method for security"}),n.jsx("li",{children:" No current password needed - this is your first password"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-gray-700/50 border border-gray-600 rounded-lg",children:[n.jsx("h4",{className:"text-gray-300 font-medium mb-2",children:"Password Requirements:"}),n.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[n.jsxs("li",{className:"flex items-center gap-2 ".concat($.newPassword.length>=6?"text-green-400":""),children:[$.newPassword.length>=6?"":""," At least 6 characters"]}),n.jsxs("li",{className:"flex items-center gap-2 ".concat($.newPassword&&$.confirmPassword&&$.newPassword===$.confirmPassword?"text-green-400":""),children:[$.newPassword&&$.confirmPassword&&$.newPassword===$.confirmPassword?"":""," Passwords match"]}),n.jsx("li",{className:"flex items-center gap-2 text-blue-400",children:" No current password required (this is your first password)"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"newPasswordVerification",className:"text-gray-300",children:"Create Your Password"}),n.jsx(Be,{id:"newPasswordVerification",type:"password",value:$.newPassword,onChange:function(Y){return K("newPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter your new password (minimum 6 characters)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"confirmPasswordVerification",className:"text-gray-300",children:"Confirm Your Password"}),n.jsx(Be,{id:"confirmPasswordVerification",type:"password",value:$.confirmPassword,onChange:function(Y){return K("confirmPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),$.newPassword&&n.jsxs("div",{className:"space-y-2",children:[$.newPassword.length<6&&n.jsx("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:" Password must be at least 6 characters"}),$.newPassword.length>=6&&n.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:" Password length is good"}),$.confirmPassword&&$.newPassword!==$.confirmPassword&&n.jsx("p",{className:"text-red-400 text-sm flex items-center gap-2",children:" Passwords don't match"}),$.confirmPassword&&$.newPassword===$.confirmPassword&&$.newPassword.length>=6&&n.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:" Passwords match - ready to set!"})]}),n.jsxs(X,{onClick:function(){var Y,fe;if(console.log(" Setting password for verified user:",{hasPassword:i==null?void 0:i.hasPassword,verificationStatus:i==null?void 0:i.verificationStatus,newPasswordLength:(Y=$.newPassword)===null||Y===void 0?void 0:Y.length,confirmPasswordLength:(fe=$.confirmPassword)===null||fe===void 0?void 0:fe.length}),$.newPassword!==$.confirmPassword){a({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if($.newPassword.length<6){a({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}ve.mutate({newPassword:$.newPassword,isFirstTimePassword:!0})},disabled:ve.isPending||!$.newPassword||!$.confirmPassword||$.newPassword!==$.confirmPassword||$.newPassword.length<6,className:"w-full bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-50",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),ve.isPending?"Setting Password...":"Set My First Login Password"]}),$.newPassword&&$.confirmPassword&&$.newPassword===$.confirmPassword&&$.newPassword.length>=6&&n.jsxs("div",{className:"p-3 bg-green-900/20 border border-green-600/50 rounded-lg",children:[n.jsx("p",{className:"text-green-300 text-sm",children:" Once set, you'll be able to log in with:"}),n.jsxs("ul",{className:"text-green-400 text-sm mt-2 space-y-1",children:[n.jsxs("li",{children:[" Username: ",(i==null?void 0:i.username)||"Your username"]}),n.jsx("li",{children:" Password: (the password you're creating)"}),n.jsxs("li",{children:[" Plus your existing ",i!=null&&i.walletAddress?"MetaMask":"Google"," login"]})]})]})]})]})]}),c&&(i==null?void 0:i.verificationStatus)!=="verified"&&n.jsx("div",{className:"p-4 bg-blue-900/30 border border-blue-600/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-blue-100 font-medium mb-1",children:" Mobile Verification Status"}),n.jsx("p",{className:"text-blue-200 text-sm",children:"If you were verified on desktop, tap refresh to sync your status"})]}),n.jsx(X,{onClick:ke,disabled:I,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:I?n.jsx(na,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(na,{className:"w-4 h-4 mr-1"}),"Refresh"]})})]})}),!(i!=null&&i.hasPassword)&&(i==null?void 0:i.verificationStatus)!=="verified"&&n.jsxs(je,{className:"bg-gradient-to-r from-orange-900/30 to-red-900/30 border-orange-600/50",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:n.jsx(pn,{className:"w-6 h-6 text-orange-400"})}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-white text-lg",children:"Set Login Password"}),n.jsx(Zt,{className:"text-orange-200",children:"Set a password for your account (verification not required)"})]})]})}),n.jsxs(Ce,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-orange-900/20 border border-orange-600/50 rounded-lg",children:[n.jsx("h3",{className:"text-orange-400 font-medium mb-2",children:" Password Login Setup"}),n.jsx("p",{className:"text-orange-200 text-sm mb-4",children:"Add a password to enable username/password login for your account."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"newPasswordAlt",className:"text-gray-300",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{id:"newPasswordAlt",type:g?"text":"password",value:$.newPassword,onChange:function(Y){return K("newPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white pr-10",placeholder:"Enter your new password"}),n.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:function(){return N(!g)},children:g?n.jsx(dl,{className:"h-4 w-4 text-gray-400"}):n.jsx(Oi,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"confirmPasswordAlt",className:"text-gray-300",children:"Confirm Password"}),n.jsx(Be,{id:"confirmPasswordAlt",type:g?"text":"password",value:$.confirmPassword,onChange:function(Y){return K("confirmPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),n.jsxs(X,{onClick:function(){var Y,fe;if(console.log(" Setting password for non-verified user:",{hasPassword:i==null?void 0:i.hasPassword,verificationStatus:i==null?void 0:i.verificationStatus,newPasswordLength:(Y=$.newPassword)===null||Y===void 0?void 0:Y.length,confirmPasswordLength:(fe=$.confirmPassword)===null||fe===void 0?void 0:fe.length}),$.newPassword!==$.confirmPassword){a({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if($.newPassword.length<6){a({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}ve.mutate({newPassword:$.newPassword,isFirstTimePassword:!0})},disabled:ve.isPending||!$.newPassword||!$.confirmPassword,className:"w-full bg-orange-600 hover:bg-orange-700",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),ve.isPending?"Setting Password...":"Set Password"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-white font-medium",children:"Verification Status"}),n.jsx(X,{size:"sm",variant:"ghost",onClick:ke,disabled:I,className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:n.jsx(na,{className:"w-3 h-3 ".concat(I?"animate-spin":"")})})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:(i==null?void 0:i.verificationStatus)==="verified"?"Your account is verified":(i==null?void 0:i.verificationStatus)==="pending"?"Verification pending review":(i==null?void 0:i.verificationStatus)==="rejected"?"Verification rejected":"Account not verified"})]}),n.jsx(Mt,{variant:(i==null?void 0:i.verificationStatus)==="verified"?"default":(i==null?void 0:i.verificationStatus)==="pending"?"secondary":(i==null?void 0:i.verificationStatus)==="rejected"?"destructive":"outline",className:(i==null?void 0:i.verificationStatus)==="verified"?"bg-green-600":(i==null?void 0:i.verificationStatus)==="pending"?"bg-yellow-600":(i==null?void 0:i.verificationStatus)==="rejected"?"bg-red-600":"bg-gray-600",children:(i==null?void 0:i.verificationStatus)==="verified"?" Verified":(i==null?void 0:i.verificationStatus)==="pending"?" Pending":(i==null?void 0:i.verificationStatus)==="rejected"?" Rejected":" Unverified"})]}),(i==null?void 0:i.verificationStatus)!=="verified"&&n.jsxs("div",{className:"space-y-4 p-4 bg-gray-700 rounded-lg",children:[n.jsx("h3",{className:"text-white font-medium",children:"Upload Verification Document"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Please upload a clear photo of your ID card, driver's license, or passport. This is required for trading and withdrawals."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{className:"text-gray-300",children:"Document Type"}),n.jsxs("select",{value:H,onChange:function(Y){return he(Y.target.value)},className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2",children:[n.jsx("option",{value:"id_card",children:"ID Card"}),n.jsx("option",{value:"driver_license",children:"Driver's License"}),n.jsx("option",{value:"passport",children:"Passport"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{className:"text-gray-300",children:"Document File"}),n.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ".concat(Q?"border-green-500 bg-green-500/10":"border-gray-600"),onClick:function(){var Y;return(Y=G.current)===null||Y===void 0?void 0:Y.click()},children:Q?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(ri,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:Q.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(Py,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload document"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{ref:G,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:pe,className:"hidden"})]}),n.jsxs(X,{onClick:Re,disabled:!Q||B||Ht.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:[n.jsx(Pd,{className:"w-4 h-4 mr-2"}),B||Ht.isPending?"Uploading...":"Upload Document"]})]}),(i==null?void 0:i.verificationStatus)!=="verified"&&n.jsxs("div",{className:"p-4 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-2",children:" Account Restrictions"}),n.jsxs("ul",{className:"text-yellow-300 text-sm space-y-1",children:[n.jsx("li",{children:" Trading is disabled until verification is complete"}),n.jsx("li",{children:" Withdrawals are not available"}),n.jsx("li",{children:" Some features may be limited"})]})]})]})]})}),n.jsx(jn,{value:"redeem",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Redeem Bonus Codes"}),n.jsx(Zt,{className:"text-gray-400",children:"Enter promotional codes to receive bonus credits"})]}),n.jsxs(Ce,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Be,{value:x,onChange:function(Y){return y(Y.target.value.toUpperCase())},placeholder:"Enter redeem code (e.g., FIRSTBONUS)",className:"bg-gray-900 border-gray-600 text-white flex-1",onKeyPress:function(Y){Y.key==="Enter"&&x.trim()&&!C&&ce()}}),n.jsx(X,{onClick:ce,disabled:C||!x.trim(),className:"bg-purple-600 hover:bg-purple-700",children:C?"Redeeming...":"Redeem"})]}),n.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[n.jsx("h3",{className:"text-white font-medium mb-2",children:" Available Codes"}),L.length===0?n.jsx("p",{className:"text-gray-400 text-sm",children:"Loading available codes..."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:L.map(function(Y){var fe=Y.isClaimed||!1;return n.jsx("div",{className:"p-3 rounded border transition-colors ".concat(fe?"bg-gray-900 border-gray-700 opacity-60 cursor-not-allowed":"bg-gray-800 border-gray-600 hover:border-purple-500 cursor-pointer"),onClick:function(){fe||y(Y.code)},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-mono font-bold ".concat(fe?"text-gray-500":"text-purple-400"),children:Y.code}),n.jsx("div",{className:"font-semibold ".concat(fe?"text-gray-500":"text-green-400"),children:Y.amount}),n.jsx("div",{className:"text-gray-400 text-xs",children:Y.description})]}),n.jsx(X,{size:"sm",variant:"outline",className:fe?"border-gray-600 text-gray-500 cursor-not-allowed":"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white",onClick:function(be){be.stopPropagation(),fe||(y(Y.code),setTimeout(function(){return ce()},100))},disabled:C||fe,children:fe?"Claimed":"Use"})]})},Y.code)})})]})]}),n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600 rounded-lg",children:[n.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:" Bonus Terms"}),n.jsxs("ul",{className:"text-blue-300 text-sm space-y-1",children:[n.jsx("li",{children:" Complete 10 trades to unlock withdrawals after claiming bonus"}),n.jsx("li",{children:" Each code can only be used once per account"}),n.jsx("li",{children:" Bonus credits are added immediately to your balance"})]})]}),n.jsx(Af,{className:"bg-gray-600"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-medium",children:" Your Referral Code"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{value:(P==null?void 0:P.referralCode)||(P===null?"Loading...":"Error loading code"),readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),n.jsx(X,{onClick:function(){var Y=(P==null?void 0:P.referralCode)||"";Y&&Y!=="Loading..."&&Y!=="Error loading code"?(navigator.clipboard.writeText(Y),a({title:"Copied!",description:"Referral code copied to clipboard"})):a({title:"Error",description:"No referral code to copy",variant:"destructive"})},variant:"outline",className:"border-gray-600",disabled:!(P!=null&&P.referralCode)||P.referralCode==="Loading..."||P.referralCode==="Error loading code",children:"Copy"})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"}),P&&n.jsxs("p",{className:"text-green-400 text-sm",children:["Total Referrals: ",P.totalReferrals||0]})]})]})]})}),n.jsx(jn,{value:"security",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Security Settings"}),n.jsx(Zt,{className:"text-gray-400",children:"Manage your password and security preferences"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(X,{onClick:function(){console.log(" Manual refresh of user data"),o.removeQueries({queryKey:["/api/auth"]}),o.invalidateQueries({queryKey:["/api/auth"]}),o.refetchQueries({queryKey:["/api/auth"]}),a({title:"Refreshing User Data",description:"Updating password status..."})},variant:"outline",size:"sm",className:"text-blue-400 border-blue-600 hover:bg-blue-900/20",children:[n.jsx(na,{className:"w-4 h-4 mr-2"}),"Refresh Status"]}),n.jsx(X,{onClick:function(){return Hi(t,void 0,void 0,function(){var Y,fe,be,nt,Ct;return Ki(this,function(_t){switch(_t.label){case 0:return _t.trys.push([0,3,,4]),[4,fetch("/api/debug/password-status",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 1:return Y=_t.sent(),[4,Y.json()];case 2:return fe=_t.sent(),console.log(" Password Debug Data:",fe),a({title:"Debug Info",description:"Password saved: ".concat(fe.debug?((nt=fe.supabaseData)===null||nt===void 0?void 0:nt.hasPasswordHash)||((Ct=fe.fileData)===null||Ct===void 0?void 0:Ct.hasPasswordHash):"Unknown")}),[3,4];case 3:return be=_t.sent(),console.error("Debug error:",be),a({title:"Debug Failed",description:"Could not fetch debug info",variant:"destructive"}),[3,4];case 4:return[2]}})})},variant:"outline",size:"sm",className:"text-yellow-400 border-yellow-600 hover:bg-yellow-900/20",children:" Debug"})]})]}),n.jsxs(Ce,{className:"space-y-6",children:[console.log(" Security Tab Debug - User Data:",{hasPassword:i==null?void 0:i.hasPassword,passwordStatus:i!=null&&i.hasPassword?"Password Set":"No Password",verificationStatus:i==null?void 0:i.verificationStatus,walletAddress:i==null?void 0:i.walletAddress,email:i==null?void 0:i.email,userId:i==null?void 0:i.id,username:i==null?void 0:i.username}),i!=null&&i.hasPassword?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[n.jsx("h3",{className:"text-green-400 font-medium mb-2",children:" Password Protection Enabled"}),n.jsx("p",{className:"text-green-300 text-sm mb-3",children:"Your account is secured with a password. You can change it below if needed."}),n.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[n.jsx(pn,{className:"w-4 h-4"}),n.jsx("span",{children:"You can log in with username and password"})]})]}),n.jsxs("div",{className:"p-4 bg-gray-700/50 border border-gray-600 rounded-lg",children:[n.jsx("h4",{className:"text-gray-300 font-medium mb-3",children:"Available Login Methods:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:" Username & Password"}),(i==null?void 0:i.walletAddress)&&n.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[" MetaMask Wallet (",i.walletAddress.slice(0,6),"...",i.walletAddress.slice(-4),")"]}),((r=i==null?void 0:i.email)===null||r===void 0?void 0:r.includes("@gmail.com"))&&n.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[" Google Account (",i.email,")"]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-800/50 border border-gray-600 rounded-lg",children:[n.jsx("h4",{className:"text-white font-medium mb-4",children:"Change Your Password"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Be,{id:"currentPassword",type:g?"text":"password",value:$.currentPassword,onChange:function(Y){return K("currentPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white pr-10",placeholder:"Enter your current password"}),n.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:function(){return N(!g)},children:g?n.jsx(dl,{className:"h-4 w-4 text-gray-400"}):n.jsx(Oi,{className:"h-4 w-4 text-gray-400"})})]}),n.jsx("p",{className:"text-gray-400 text-xs",children:"This is the password you currently use to log in"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"newPasswordSecurity",className:"text-gray-300",children:"New Password"}),n.jsx(Be,{id:"newPasswordSecurity",type:"password",value:$.newPassword,onChange:function(Y){return K("newPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter your new password (minimum 6 characters)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(cr,{htmlFor:"confirmPasswordSecurity",className:"text-gray-300",children:"Confirm New Password"}),n.jsx(Be,{id:"confirmPasswordSecurity",type:"password",value:$.confirmPassword,onChange:function(Y){return K("confirmPassword",Y.target.value)},className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),$.newPassword&&n.jsxs("div",{className:"space-y-1",children:[$.newPassword.length<6&&n.jsx("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:" New password must be at least 6 characters"}),$.confirmPassword&&$.newPassword!==$.confirmPassword&&n.jsx("p",{className:"text-red-400 text-sm flex items-center gap-2",children:" New passwords don't match"}),$.confirmPassword&&$.newPassword===$.confirmPassword&&$.newPassword.length>=6&&n.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:" New passwords match and meet requirements"})]})]})]}),n.jsxs(X,{onClick:ne,disabled:ve.isPending||!$.currentPassword||!$.newPassword||!$.confirmPassword,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),ve.isPending?"Changing...":"Change Password"]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[n.jsx("h3",{className:"text-blue-400 font-medium mb-3",children:" No Password Set"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"Current Login Method:"}),n.jsx("p",{className:"text-blue-200 text-sm",children:i!=null&&i.walletAddress?"MetaMask Wallet (".concat(i.walletAddress.slice(0,6),"...").concat(i.walletAddress.slice(-4),")"):"Google Account"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-300 text-sm font-medium",children:"Password Status:"}),n.jsxs("p",{className:"text-yellow-200 text-sm",children:[n.jsx("strong",{children:"You don't have a current password"})," because you've never set one."]})]})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-700/50 border border-gray-600 rounded-lg",children:[n.jsx("h4",{className:"text-gray-300 font-medium mb-3",children:"What This Means:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:" Cannot log in with username & password"}),n.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[" Can log in with ",i!=null&&i.walletAddress?"MetaMask":"Google"]}),n.jsx("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:' No "current password" to remember or enter'})]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-600/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(pn,{className:"w-5 h-5 text-purple-400"}),n.jsx("h4",{className:"text-purple-300 font-medium",children:"Want to Add Password Login?"})]}),n.jsx("p",{className:"text-purple-200 text-sm mb-3",children:"Set your first login password to access your account with username & password."}),n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-900/40 border border-purple-500/50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),n.jsxs("p",{className:"text-purple-300 text-sm",children:["Go to the ",n.jsx("strong",{children:"Verification"})," tab above to set your first password."]})]})]})]})]})]})}),n.jsx(jn,{value:"account",children:n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(gt,{children:[n.jsx(xt,{className:"text-white",children:"Account Details"}),n.jsx(Zt,{className:"text-gray-400",children:"View your account information and status"})]}),n.jsxs(Ce,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(IC,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),n.jsx("p",{className:"text-white break-words break-all text-sm leading-relaxed",children:i==null?void 0:i.email})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ni,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"User ID"}),n.jsx("p",{className:"text-white font-mono text-sm break-all leading-relaxed",children:i==null?void 0:i.id})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(pn,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Account Status"}),n.jsx(Mt,{variant:"secondary",className:"bg-green-600/20 text-green-400",children:"Active"})]})]})]}),n.jsx(Af,{className:"bg-gray-600"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-medium",children:"Referral Code"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Be,{value:(P==null?void 0:P.referralCode)||(i==null?void 0:i.referral_code)||(P===null?"Loading...":"Error loading code"),readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),n.jsx(X,{onClick:function(){var Y=(P==null?void 0:P.referralCode)||(i==null?void 0:i.referral_code)||"";Y&&Y!=="Loading..."&&Y!=="Error loading code"?(navigator.clipboard.writeText(Y),a({title:"Copied!",description:"Referral code copied to clipboard"})):a({title:"Error",description:"No referral code to copy",variant:"destructive"})},variant:"outline",className:"border-gray-600",disabled:!(P!=null&&P.referralCode)&&!(i!=null&&i.referral_code),children:"Copy"})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"}),P&&n.jsxs("p",{className:"text-green-400 text-sm",children:["Total Referrals: ",P.totalReferrals||0]})]})]})]})})]})]})})}var oS=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},lS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function cS(){var t=this,e=en().user,r=m.useState(""),s=r[0],i=r[1],a=m.useState("all"),o=a[0],c=a[1],u=m.useState("all"),l=u[0],d=u[1],h=m.useState("all"),f=h[0],p=h[1],v=function(){return oS(t,void 0,void 0,function(){var _,P,W,F;return lS(this,function(I){switch(I.label){case 0:if(!(e!=null&&e.id))throw new Error("User not authenticated");I.label=1;case 1:return I.trys.push([1,4,,5]),[4,fetch("/api/users/".concat(e.id,"/transactions"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 2:if(_=I.sent(),!_.ok)throw new Error("Server responded with ".concat(_.status,": ").concat(_.statusText));return[4,_.json()];case 3:return P=I.sent(),console.log(" Fetched user transactions:",P),[2,P];case 4:return W=I.sent(),console.error(" API call failed, using fallback data:",W),F=[{id:"fallback-tx-1",user_id:e.id,username:e.username||"Current User",type:"deposit",amount:"1000",symbol:"USDT",status:"completed",description:"Demo deposit transaction",created_at:new Date(Date.now()-2*60*60*1e3).toISOString(),users:{username:e.username||"Current User"}},{id:"fallback-tx-2",user_id:e.id,username:e.username||"Current User",type:"trade",amount:"150",symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:e.username||"Current User"}},{id:"fallback-tx-3",user_id:e.id,username:e.username||"Current User",type:"trade",amount:"-75",symbol:"USDT",status:"completed",description:"Demo trading loss - ETH/USDT",created_at:new Date(Date.now()-6*60*60*1e3).toISOString(),users:{username:e.username||"Current User"}}],[2,F];case 5:return[2]}})})},g=Mr({queryKey:["/api/users/".concat(e==null?void 0:e.id,"/transactions")],enabled:!!(e!=null&&e.id),queryFn:v,retry:1,retryDelay:1e3,staleTime:3e4,cacheTime:3e5}),N=g.data,b=g.isLoading,x=g.error;Mr({queryKey:["/api/users/".concat(e==null?void 0:e.id,"/trades")],enabled:!!(e!=null&&e.id),queryFn:function(){return oS(t,void 0,void 0,function(){var _,P,W;return lS(this,function(F){switch(F.label){case 0:if(!(e!=null&&e.id))throw new Error("User not authenticated");F.label=1;case 1:return F.trys.push([1,4,,5]),[4,fetch("/api/users/".concat(e.id,"/trades"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}})];case 2:if(_=F.sent(),!_.ok)throw new Error("Server responded with ".concat(_.status,": ").concat(_.statusText));return[4,_.json()];case 3:return P=F.sent(),console.log(" Fetched user trades:",P),[2,P];case 4:return W=F.sent(),console.error(" Trades API call failed, using fallback data:",W),[2,[{id:"fallback-trade-1",user_id:e.id,username:e.username||"Current User",type:"trade_win",amount:150,symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:e.username||"Current User"}}]];case 5:return[2]}})})},retry:1,retryDelay:1e3}).data;var y=(N==null?void 0:N.filter(function(_){var P,W,F,I,D,q=((P=_.symbol)===null||P===void 0?void 0:P.toLowerCase().includes(s.toLowerCase()))||((W=_.type)===null||W===void 0?void 0:W.toLowerCase().includes(s.toLowerCase()))||((F=_.description)===null||F===void 0?void 0:F.toLowerCase().includes(s.toLowerCase()))||((D=(I=_.users)===null||I===void 0?void 0:I.username)===null||D===void 0?void 0:D.toLowerCase().includes(s.toLowerCase())),V=o==="all"||_.type===o||o==="trade"&&(_.type==="trade_win"||_.type==="trade_loss"),re=l==="all"||_.status===l;return q&&V&&re}))||[];x&&console.error(" Failed to fetch transactions:",x);var w=function(_){switch(_){case"deposit":return n.jsx(ul,{className:"h-4 w-4"});case"withdraw":case"withdrawal":return n.jsx(Pd,{className:"h-4 w-4"});case"trade":case"trade_win":case"trade_loss":return n.jsx(P5,{className:"h-4 w-4"});case"transfer":return n.jsx(na,{className:"h-4 w-4"});default:return n.jsx(na,{className:"h-4 w-4"})}},C=function(_){switch(_){case"completed":return"bg-green-600";case"pending":return"bg-yellow-600";case"failed":case"rejected":return"bg-red-600";default:return"bg-gray-600"}},k=function(_,P){return(P==="deposit"||P==="withdraw")&&_==="failed"?"rejected":_},S=function(_){switch(_){case"deposit":return"text-green-400";case"withdraw":case"withdrawal":return"text-red-400";case"trade":case"trade_win":return"text-green-400";case"trade_loss":return"text-red-400";case"transfer":return"text-blue-400";default:return"text-gray-400"}},E=function(_){switch(_){case"trade_win":return"Trade Win";case"trade_loss":return"Trade Loss";case"withdraw":return"Withdrawal";default:return _.charAt(0).toUpperCase()+_.slice(1)}};return n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[n.jsx(Cj,{className:"h-8 w-8"}),"Transaction History"]}),n.jsx("p",{className:"text-gray-400",children:"View and manage all your transactions, deposits, and withdrawals"})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700 mb-8",children:[n.jsx(gt,{children:n.jsxs(xt,{className:"text-white flex items-center gap-2",children:[n.jsx(kd,{className:"h-5 w-5"}),"Filters"]})}),n.jsx(Ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Be,{placeholder:"Search transactions...",value:s,onChange:function(_){return i(_.target.value)},className:"pl-10 bg-gray-700 border-gray-600 text-white"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Type"}),n.jsxs(ki,{value:o,onValueChange:c,children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(Ei,{})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"all",children:"All Types"}),n.jsx(Ft,{value:"deposit",children:"Deposits"}),n.jsx(Ft,{value:"withdraw",children:"Withdrawals"}),n.jsx(Ft,{value:"trade",children:"Trades"}),n.jsx(Ft,{value:"transfer",children:"Transfers"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),n.jsxs(ki,{value:l,onValueChange:d,children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(Ei,{})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"all",children:"All Status"}),n.jsx(Ft,{value:"completed",children:"Completed"}),n.jsx(Ft,{value:"pending",children:"Pending"}),n.jsx(Ft,{value:"failed",children:"Failed"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Date Range"}),n.jsxs(ki,{value:f,onValueChange:p,children:[n.jsx(Qs,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(Ei,{})}),n.jsxs(Xs,{className:"bg-gray-700 border-gray-600",children:[n.jsx(Ft,{value:"all",children:"All Time"}),n.jsx(Ft,{value:"today",children:"Today"}),n.jsx(Ft,{value:"week",children:"This Week"}),n.jsx(Ft,{value:"month",children:"This Month"})]})]})]})]})})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-white",children:"Transactions"}),n.jsxs(Zt,{className:"text-gray-400",children:[y.length," transactions found"]})]}),n.jsxs(X,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(ul,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),n.jsx(Ce,{children:b?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(na,{className:"h-8 w-8 animate-spin text-gray-400"}),n.jsx("span",{className:"ml-3 text-gray-400",children:"Loading transactions..."})]}):x?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zo,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Failed to load transactions"}),n.jsx("p",{className:"text-gray-400 mb-6",children:x instanceof Error?x.message:"Unable to fetch transaction data. Please try again."}),n.jsxs(X,{onClick:function(){return window.location.reload()},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(na,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):y.length>0?n.jsx("div",{className:"space-y-4",children:y.map(function(_){var P;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg hover:bg-gray-700/70 transition-colors max-w-full overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat(_.type==="deposit"?"bg-green-600/20 text-green-400":_.type==="withdraw"||_.type==="withdrawal"?"bg-red-600/20 text-red-400":_.type==="trade"||_.type==="trade_win"?"bg-green-600/20 text-green-400":_.type==="trade_loss"?"bg-red-600/20 text-red-400":"bg-blue-600/20 text-blue-400"),children:w(_.type)}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-white",children:E(_.type)}),n.jsx(Mt,{className:C(_.status),children:k(_.status,_.type)})]}),n.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[n.jsx(om,{className:"h-3 w-3"}),new Date(_.created_at).toLocaleString()]}),_.description&&!_.description.includes("ADMIN")&&n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-full",children:_.description}),((P=_.users)===null||P===void 0?void 0:P.username)&&n.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-full",children:["User: ",_.users.username.startsWith("0x")&&_.users.username.length>20?"".concat(_.users.username.slice(0,6),"...").concat(_.users.username.slice(-4)):_.users.username]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-medium text-lg ".concat(S(_.type)),children:function(){var W=parseFloat(_.amount||"0");return"".concat(W>0?"+":"","$").concat(Math.abs(W).toFixed(2))}()}),n.jsx("div",{className:"text-sm text-gray-400",children:_.symbol||"USDT"}),(_.type==="trade"||_.type==="trade_win"||_.type==="trade_loss")&&n.jsx("div",{className:"text-sm font-medium ".concat(parseFloat(_.amount||"0")>0?"text-green-400":"text-red-400"),children:function(){var W=parseFloat(_.amount||"0");return"P&L: ".concat(W>0?"+":"","$").concat(Math.abs(W).toFixed(2))}()}),_.old_balance!==void 0&&_.new_balance!==void 0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: $",_.old_balance,"  $",_.new_balance]})]})]},_.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Cj,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No transactions found"}),n.jsx("p",{className:"text-gray-400 mb-6",children:s||o!=="all"||l!=="all"?"Try adjusting your filters to see more results":"Your transaction history will appear here once you start trading"}),n.jsx(X,{onClick:function(){i(""),c("all"),d("all"),p("all")},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Clear Filters"})]})})]})]})})}var mW=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r},WP=m.forwardRef(function(t,e){var r=t.className,s=mW(t,["className"]);return n.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:e,...s})});WP.displayName="Textarea";var pW=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,e||[])).next())})},gW=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function xW(){var t=this,e=m.useState(null);e[0];var r=e[1],s=m.useState(""),i=s[0],a=s[1],o=Cn().toast,c=ys(),u=Mr({queryKey:["/api/admin/transactions/pending"],refetchInterval:3e4}),l=u.data,d=u.isLoading,h=gn({mutationFn:function(g){return pW(t,[g],void 0,function(N){var b,x,y=N.id,w=N.action,C=N.reason;return gW(this,function(k){switch(k.label){case 0:return[4,fetch("/api/admin/transactions/".concat(y,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:w,reason:C})})];case 1:return b=k.sent(),b.ok?[3,3]:[4,b.json()];case 2:throw x=k.sent(),new Error(x.message||"Action failed");case 3:return[2,b.json()]}})})},onSuccess:function(g,N){o({title:N.action==="approve"?"Transaction Approved":"Transaction Rejected",description:"Transaction has been ".concat(N.action,"d successfully")}),c.invalidateQueries({queryKey:["/api/admin/transactions/pending"]}),r(null),a("")},onError:function(g){o({title:"Action Failed",description:g.message,variant:"destructive"})}}),f=function(g,N){var b=(N==="deposit"||N==="withdraw")&&g==="failed"?"rejected":g;switch(b){case"pending":return n.jsxs(Mt,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[n.jsx(om,{className:"w-3 h-3 mr-1"}),"Pending"]});case"completed":return n.jsxs(Mt,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(ri,{className:"w-3 h-3 mr-1"}),"Completed"]});case"failed":return n.jsxs(Mt,{variant:"outline",className:"text-red-600 border-red-600",children:[n.jsx(Zo,{className:"w-3 h-3 mr-1"}),"Failed"]});case"rejected":return n.jsxs(Mt,{variant:"outline",className:"text-red-600 border-red-600",children:[n.jsx(Zo,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return n.jsx(Mt,{variant:"outline",children:b})}},p=function(g){return new Date(g).toLocaleString()},v=function(g){try{return g?JSON.parse(g):{}}catch{return{}}};return d?n.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Transaction Management"}),n.jsx("div",{className:"text-center",children:"Loading..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Transaction Management"}),n.jsxs(Mt,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[(l==null?void 0:l.length)||0," Pending"]})]}),!l||l.length===0?n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsxs(Ce,{className:"p-8 text-center",children:[n.jsx(ri,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Pending Transactions"}),n.jsx("p",{className:"text-gray-400",children:"All transactions have been processed."})]})}):n.jsx("div",{className:"space-y-4",children:l.map(function(g){return n.jsx(je,{className:"bg-gray-800 border-gray-700",children:n.jsx(Ce,{className:"p-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[g.type.toUpperCase()," - ",g.amount," ",g.symbol]}),f(g.status,g.type),n.jsx(Mt,{variant:"secondary",children:g.method})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-400 mb-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"User ID:"}),n.jsx("br",{}),g.userId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("br",{}),p(g.createdAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Method:"}),n.jsx("br",{}),g.method]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"TX Hash:"}),n.jsx("br",{}),g.txHash?n.jsxs("span",{className:"font-mono text-xs break-all",children:[g.txHash.substring(0,20),"..."]}):"N/A"]})]}),v(g.metadata).transferReference&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[n.jsx("span",{className:"font-medium text-sm",children:"Bank Transfer Reference:"}),n.jsx("br",{}),n.jsx("span",{className:"font-mono",children:v(g.metadata).transferReference})]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsxs(Bo,{children:[n.jsx(cN,{asChild:!0,children:n.jsxs(X,{variant:"outline",size:"sm",onClick:function(){return r(g)},children:[n.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Details"]})}),n.jsxs(Ha,{className:"bg-gray-800 border-gray-700 max-w-2xl",children:[n.jsx(Ka,{children:n.jsx(Ga,{className:"text-white",children:"Transaction Details"})}),n.jsx("div",{className:"space-y-4",children:n.jsx("pre",{className:"bg-gray-900 p-4 rounded text-sm overflow-auto",children:JSON.stringify(g,null,2)})})]})]}),n.jsxs(X,{onClick:function(){return h.mutate({id:g.id,action:"approve"})},disabled:h.isPending,className:"bg-green-600 hover:bg-green-700",size:"sm",children:[n.jsx(ri,{className:"w-4 h-4 mr-1"}),"Approve"]}),n.jsxs(Bo,{children:[n.jsx(cN,{asChild:!0,children:n.jsxs(X,{variant:"destructive",size:"sm",children:[n.jsx(Zo,{className:"w-4 h-4 mr-1"}),"Reject"]})}),n.jsxs(Ha,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ka,{children:n.jsx(Ga,{className:"text-white",children:"Reject Transaction"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Rejection Reason"}),n.jsx(WP,{value:i,onChange:function(N){return a(N.target.value)},placeholder:"Enter reason for rejection...",className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsx(X,{onClick:function(){return h.mutate({id:g.id,action:"reject",reason:i})},disabled:h.isPending||!i,variant:"destructive",className:"w-full",children:h.isPending?"Processing...":"Confirm Rejection"})]})]})]})]})]})})},g.id)})})]})})}var Bm=function(){return Bm=Object.assign||function(t){for(var e,r=1,s=arguments.length;r<s;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bm.apply(this,arguments)},Sa=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},Ca=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function vW(){var t=this,e=Cn().toast,r=m.useState([]),s=r[0],i=r[1],a=m.useState(""),o=a[0],c=a[1],u=m.useState({}),l=u[0],d=u[1],h=m.useState(!1),f=h[0],p=h[1],v=m.useState("100"),g=v[0],N=v[1],b=m.useState("50"),x=b[0],y=b[1],w=m.useState("testpassword123"),C=w[0],k=w[1],S=m.useState("0x1234567890abcdef1234567890abcdef12345678"),E=S[0],_=S[1];m.useEffect(function(){P()},[]);var P=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe;return Ca(this,function(Ne){switch(Ne.label){case 0:return Ne.trys.push([0,4,,5]),[4,fetch("/api/admin/users")];case 1:return U=Ne.sent(),U.ok?[4,U.json()]:[3,3];case 2:Q=Ne.sent(),i(Q),Q.length>0&&!o&&c(Q[0].id),Ne.label=3;case 3:return[3,5];case 4:return oe=Ne.sent(),console.error("Error fetching users:",oe),[3,5];case 5:return[2]}})})},W=function(U,Q,oe){var Ne=new Date().toLocaleTimeString(),H=oe?"":"",he="".concat(Ne," ").concat(H," ").concat(Q);d(function(Ee){var B;return Bm(Bm({},Ee),(B={},B[U]=he,B))}),e({title:oe?"Test Passed":"Test Failed",description:"".concat(U,": ").concat(Q),variant:oe?"default":"destructive"})},F=function(U){return Sa(t,void 0,void 0,function(){var Q,oe,Ne,H;return Ca(this,function(he){switch(he.label){case 0:if(!o)return[2];he.label=1;case 1:return he.trys.push([1,8,9,10]),p(!0),[4,fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,controlType:U})})];case 2:return Q=he.sent(),Q.ok?[4,Q.json()]:[3,5];case 3:return oe=he.sent(),W("Trading Mode ".concat(U.toUpperCase()),oe.message,!0),[4,P()];case 4:return he.sent(),[3,7];case 5:return[4,Q.text()];case 6:Ne=he.sent(),W("Trading Mode ".concat(U.toUpperCase()),"Failed: ".concat(Ne),!1),he.label=7;case 7:return[3,10];case 8:return H=he.sent(),W("Trading Mode ".concat(U.toUpperCase()),"Error: ".concat(H),!1),[3,10];case 9:return p(!1),[7];case 10:return[2]}})})},I=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe,Ne;return Ca(this,function(H){switch(H.label){case 0:if(!o||!g)return[2];H.label=1;case 1:return H.trys.push([1,8,9,10]),p(!0),[4,fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,amount:Number(g),note:"Test deposit from SuperAdmin test page"})})];case 2:return U=H.sent(),U.ok?[4,U.json()]:[3,5];case 3:return Q=H.sent(),W("Deposit",Q.message,!0),[4,P()];case 4:return H.sent(),[3,7];case 5:return[4,U.text()];case 6:oe=H.sent(),W("Deposit","Failed: ".concat(oe),!1),H.label=7;case 7:return[3,10];case 8:return Ne=H.sent(),W("Deposit","Error: ".concat(Ne),!1),[3,10];case 9:return p(!1),[7];case 10:return[2]}})})},D=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe,Ne;return Ca(this,function(H){switch(H.label){case 0:if(!o||!x)return[2];H.label=1;case 1:return H.trys.push([1,8,9,10]),p(!0),[4,fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,amount:Number(x),note:"Test withdrawal from SuperAdmin test page"})})];case 2:return U=H.sent(),U.ok?[4,U.json()]:[3,5];case 3:return Q=H.sent(),W("Withdrawal",Q.message,!0),[4,P()];case 4:return H.sent(),[3,7];case 5:return[4,U.text()];case 6:oe=H.sent(),W("Withdrawal","Failed: ".concat(oe),!1),H.label=7;case 7:return[3,10];case 8:return Ne=H.sent(),W("Withdrawal","Error: ".concat(Ne),!1),[3,10];case 9:return p(!1),[7];case 10:return[2]}})})},q=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe,Ne;return Ca(this,function(H){switch(H.label){case 0:if(!o||!C)return[2];H.label=1;case 1:return H.trys.push([1,7,8,9]),p(!0),[4,fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,newPassword:C})})];case 2:return U=H.sent(),U.ok?[4,U.json()]:[3,4];case 3:return Q=H.sent(),W("Password Change",Q.message,!0),[3,6];case 4:return[4,U.text()];case 5:oe=H.sent(),W("Password Change","Failed: ".concat(oe),!1),H.label=6;case 6:return[3,9];case 7:return Ne=H.sent(),W("Password Change","Error: ".concat(Ne),!1),[3,9];case 8:return p(!1),[7];case 9:return[2]}})})},V=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe,Ne;return Ca(this,function(H){switch(H.label){case 0:if(!o||!E)return[2];H.label=1;case 1:return H.trys.push([1,8,9,10]),p(!0),[4,fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o,walletAddress:E})})];case 2:return U=H.sent(),U.ok?[4,U.json()]:[3,5];case 3:return Q=H.sent(),W("Wallet Update",Q.message,!0),[4,P()];case 4:return H.sent(),[3,7];case 5:return[4,U.text()];case 6:oe=H.sent(),W("Wallet Update","Failed: ".concat(oe),!1),H.label=7;case 7:return[3,10];case 8:return Ne=H.sent(),W("Wallet Update","Error: ".concat(Ne),!1),[3,10];case 9:return p(!1),[7];case 10:return[2]}})})},re=function(){return Sa(t,void 0,void 0,function(){var U,Q,oe,Ne;return Ca(this,function(H){switch(H.label){case 0:if(!o)return[2];if(U=s.find(function(he){return he.id===o}),!U)return[2];H.label=1;case 1:return H.trys.push([1,7,8,9]),p(!0),[4,fetch("/api/admin/users/".concat(o),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:U.username,email:U.email,balance:U.balance,role:U.role,status:"active",trading_mode:U.trading_mode})})];case 2:return Q=H.sent(),Q.ok?(W("User Edit","User updated successfully",!0),[4,P()]):[3,4];case 3:return H.sent(),[3,6];case 4:return[4,Q.text()];case 5:oe=H.sent(),W("User Edit","Failed: ".concat(oe),!1),H.label=6;case 6:return[3,9];case 7:return Ne=H.sent(),W("User Edit","Error: ".concat(Ne),!1),[3,9];case 8:return p(!1),[7];case 9:return[2]}})})},L=function(){return Sa(t,void 0,void 0,function(){return Ca(this,function(U){switch(U.label){case 0:return o?(d({}),[4,F("win")]):(e({title:"Error",description:"Please select a user first",variant:"destructive"}),[2]);case 1:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 2:return U.sent(),[4,F("lose")];case 3:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 4:return U.sent(),[4,F("normal")];case 5:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 6:return U.sent(),[4,I()];case 7:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 8:return U.sent(),[4,D()];case 9:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 10:return U.sent(),[4,q()];case 11:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 12:return U.sent(),[4,V()];case 13:return U.sent(),[4,new Promise(function(Q){return setTimeout(Q,1e3)})];case 14:return U.sent(),[4,re()];case 15:return U.sent(),[2]}})})},M=s.find(function(U){return U.id===o});return n.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:" SuperAdmin Feature Test Page"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:" Select Test User"})}),n.jsxs(Ce,{children:[n.jsxs("select",{value:o,onChange:function(U){return c(U.target.value)},className:"w-full p-2 bg-gray-700 text-white rounded border border-gray-600",children:[n.jsx("option",{value:"",children:"Select a user..."}),s.map(function(U){return n.jsxs("option",{value:U.id,children:[U.username," - $",U.balance," - ",U.trading_mode]},U.id)})]}),M&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded",children:[n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Username:"})," ",M.username]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Balance:"})," $",M.balance]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Trading Mode:"})," ",M.trading_mode]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Status:"})," ",M.status]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Wallet:"})," ",M.wallet_address||"Not set"]})]})]})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:" Test Parameters"})}),n.jsxs(Ce,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Deposit Amount"}),n.jsx(Be,{value:g,onChange:function(U){return N(U.target.value)},className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Withdrawal Amount"}),n.jsx(Be,{value:x,onChange:function(U){return y(U.target.value)},className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"New Password"}),n.jsx(Be,{value:C,onChange:function(U){return k(U.target.value)},className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"New Wallet Address"}),n.jsx(Be,{value:E,onChange:function(U){return _(U.target.value)},className:"bg-gray-700 border-gray-600 text-white"})]})]})]})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700 mt-6",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:" Individual Tests"})}),n.jsxs(Ce,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(X,{onClick:function(){return F("win")},disabled:f,className:"bg-green-600 hover:bg-green-700",children:" Test WIN Mode"}),n.jsx(X,{onClick:function(){return F("lose")},disabled:f,className:"bg-red-600 hover:bg-red-700",children:" Test LOSE Mode"}),n.jsx(X,{onClick:function(){return F("normal")},disabled:f,className:"bg-blue-600 hover:bg-blue-700",children:" Test NORMAL Mode"}),n.jsx(X,{onClick:I,disabled:f,className:"bg-green-600 hover:bg-green-700",children:" Test Deposit"}),n.jsx(X,{onClick:D,disabled:f,className:"bg-red-600 hover:bg-red-700",children:" Test Withdrawal"}),n.jsx(X,{onClick:q,disabled:f,className:"bg-purple-600 hover:bg-purple-700",children:" Test Password"}),n.jsx(X,{onClick:V,disabled:f,className:"bg-orange-600 hover:bg-orange-700",children:" Test Wallet"}),n.jsx(X,{onClick:re,disabled:f,className:"bg-blue-600 hover:bg-blue-700",children:" Test User Edit"})]}),n.jsx("div",{className:"mt-6",children:n.jsx(X,{onClick:L,disabled:f,className:"bg-purple-600 hover:bg-purple-700 w-full",children:" Run All Tests"})})]})]}),n.jsxs(je,{className:"bg-gray-800 border-gray-700 mt-6",children:[n.jsx(gt,{children:n.jsx(xt,{className:"text-white",children:" Test Results"})}),n.jsx(Ce,{children:n.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Object.entries(l).map(function(U){var Q=U[0],oe=U[1];return n.jsxs("div",{className:"p-2 bg-gray-700 rounded",children:[n.jsxs("strong",{className:"text-white",children:[Q,":"]}),n.jsx("span",{className:"text-gray-300 ml-2",children:oe})]},Q)}),Object.keys(l).length===0&&n.jsx("p",{className:"text-gray-400",children:'No tests run yet. Click individual test buttons or "Run All Tests".'})]})})]})]})})}var uS=function(t,e,r,s){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(s.next(d))}catch(h){o(h)}}function u(d){try{l(s.throw(d))}catch(h){o(h)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((s=s.apply(t,[])).next())})},dS=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(l){return function(d){return u([l,d])}}function u(l){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(s=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{s=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},yW=function(t,e,r){for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))};function bW(){var t=this,e=m.useState([]),r=e[0],s=e[1],i=m.useState(null),a=i[0],o=i[1],c=m.useState(!0),u=c[0],l=c[1],d=m.useState(null),h=d[0],f=d[1],p=m.useState(""),v=p[0],g=p[1],N=m.useState(""),b=N[0],x=N[1],y=m.useState(""),w=y[0],C=y[1],k=m.useState(""),S=k[0],E=k[1],_=m.useState(""),P=_[0],W=_[1],F=m.useState(""),I=F[0],D=F[1],q=m.useState(""),V=q[0],re=q[1],L=m.useState(50),M=L[0],U=L[1],Q=m.useState(0),oe=Q[0],Ne=Q[1],H=m.useState(0),he=H[0],Ee=H[1],B=["TRADING","BALANCE","VERIFICATION","TRANSACTIONS","USER_MANAGEMENT","CHAT","REDEEM_CODES","SYSTEM"],se=["TRADING_CONTROL_SET","BALANCE_UPDATED","DEPOSIT_APPROVED","DEPOSIT_REJECTED","WITHDRAWAL_APPROVED","WITHDRAWAL_REJECTED","USER_DELETED","USER_ROLE_CHANGED","VERIFICATION_APPROVED","VERIFICATION_REJECTED","USER_CREATED","USER_UPDATED"];m.useEffect(function(){G(),Z()},[v,b,w,S,P,I,M,oe]);var G=function(){return uS(t,void 0,void 0,function(){var ke,at,R,K,ee,ne;return dS(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,5,6,7]),l(!0),ke=new URLSearchParams,v&&ke.append("actionType",v),b&&ke.append("actionCategory",b),w&&ke.append("adminId",w),S&&ke.append("targetUserId",S),P&&ke.append("startDate",P),I&&ke.append("endDate",I),ke.append("limit",M.toString()),ke.append("offset",oe.toString()),at=localStorage.getItem("authToken"),[4,fetch("/api/admin/activity-logs?".concat(ke),{headers:{Authorization:at?"Bearer ".concat(at):"","Content-Type":"application/json"},credentials:"include"})];case 1:return R=ce.sent(),R.ok?[4,R.json()]:[3,3];case 2:return K=ce.sent(),console.log(" Activity logs fetched:",{logs:(ne=K.logs)===null||ne===void 0?void 0:ne.length,total:K.total}),s(K.logs||[]),Ee(K.total||0),[3,4];case 3:console.error(" Activity logs fetch failed:",R.status),ce.label=4;case 4:return[3,7];case 5:return ee=ce.sent(),console.error("Failed to fetch activity logs:",ee),[3,7];case 6:return l(!1),[7];case 7:return[2]}})})},Z=function(){return uS(t,void 0,void 0,function(){var ke,at,R,K;return dS(this,function(ee){switch(ee.label){case 0:return ee.trys.push([0,4,,5]),ke=localStorage.getItem("authToken"),[4,fetch("/api/admin/activity-logs/stats",{headers:{Authorization:ke?"Bearer ".concat(ke):"","Content-Type":"application/json"},credentials:"include"})];case 1:return at=ee.sent(),at.ok?[4,at.json()]:[3,3];case 2:R=ee.sent(),o({totalCount:R.total||0,last24Hours:R.recent24h||0,byCategory:R.byCategory||{}}),ee.label=3;case 3:return[3,5];case 4:return K=ee.sent(),console.error("Failed to fetch stats:",K),o({totalCount:0,last24Hours:0,byCategory:{}}),[3,5];case 5:return[2]}})})},$=function(){g(""),x(""),C(""),E(""),W(""),D(""),re(""),Ne(0)},de=function(){var ke=["Timestamp","Admin Username","Admin Email","Action Category","Action Type","Description","Target Username","Target Email","IP Address","User Agent","Metadata"],at=We.map(function(ce){return[new Date(ce.created_at).toLocaleString(),ce.admin_username,ce.admin_email||"",ce.action_category,ce.action_type,ce.action_description,ce.target_username||"",ce.target_email||"",ce.ip_address||"",ce.user_agent||"",JSON.stringify(ce.metadata)]}),R=yW([ke.join(",")],at.map(function(ce){return ce.map(function(pe){return'"'.concat(String(pe).replace(/"/g,'""'),'"')}).join(",")})).join(`
`),K=new Blob([R],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a"),ne=URL.createObjectURL(K);ee.setAttribute("href",ne),ee.setAttribute("download","activity-logs-".concat(new Date().toISOString().split("T")[0],".csv")),ee.style.visibility="hidden",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)},Oe=function(){var ke=JSON.stringify(We,null,2),at=new Blob([ke],{type:"application/json;charset=utf-8;"}),R=document.createElement("a"),K=URL.createObjectURL(at);R.setAttribute("href",K),R.setAttribute("download","activity-logs-".concat(new Date().toISOString().split("T")[0],".json")),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)},ve=function(ke){var at={TRADING:"bg-blue-100 text-blue-800",BALANCE:"bg-green-100 text-green-800",VERIFICATION:"bg-purple-100 text-purple-800",TRANSACTIONS:"bg-yellow-100 text-yellow-800",USER_MANAGEMENT:"bg-red-100 text-red-800",CHAT:"bg-indigo-100 text-indigo-800",REDEEM_CODES:"bg-pink-100 text-pink-800",SYSTEM:"bg-gray-100 text-gray-800"};return at[ke]||"bg-gray-100 text-gray-800"},We=r.filter(function(ke){var at;if(!V)return!0;var R=V.toLowerCase();return ke.action_description.toLowerCase().includes(R)||ke.admin_username.toLowerCase().includes(R)||((at=ke.target_username)===null||at===void 0?void 0:at.toLowerCase().includes(R))||ke.action_type.toLowerCase().includes(R)}),Ht=Math.ceil(he/M),ze=Math.floor(oe/M)+1;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pi,{className:"w-8 h-8 text-purple-400"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Activity Logs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:de,disabled:We.length===0,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[n.jsx(ul,{className:"w-4 h-4"}),"Download CSV"]}),n.jsxs("button",{onClick:Oe,disabled:We.length===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[n.jsx(ul,{className:"w-4 h-4"}),"Download JSON"]})]})]}),n.jsx("p",{className:"text-gray-400",children:"Complete audit trail of all admin actions - logs cannot be deleted"})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Logs"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a.totalCount.toLocaleString()})]}),n.jsx(Py,{className:"w-8 h-8 text-purple-400"})]})}),n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Last 24 Hours"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a.last24Hours.toLocaleString()})]}),n.jsx(Pi,{className:"w-8 h-8 text-green-400"})]})}),n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Object.keys(a.byCategory).length})]}),n.jsx(kd,{className:"w-8 h-8 text-blue-400"})]})})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(kd,{className:"w-5 h-5 text-purple-400"}),n.jsx("h2",{className:"text-xl font-semibold text-white",children:"Filters"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(iu,{className:"w-4 h-4 inline mr-1"}),"Search"]}),n.jsx("input",{type:"text",value:V,onChange:function(ke){return re(ke.target.value)},placeholder:"Search description, admin, user...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Category"}),n.jsxs("select",{value:b,onChange:function(ke){x(ke.target.value),Ne(0)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),B.map(function(ke){return n.jsx("option",{value:ke,children:ke.replace(/_/g," ")},ke)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Type"}),n.jsxs("select",{value:v,onChange:function(ke){g(ke.target.value),Ne(0)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"All Types"}),se.map(function(ke){return n.jsx("option",{value:ke,children:ke.replace(/_/g," ")},ke)})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(am,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),n.jsx("input",{type:"date",value:P,onChange:function(ke){W(ke.target.value),Ne(0)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[n.jsx(am,{className:"w-4 h-4 inline mr-1"}),"End Date"]}),n.jsx("input",{type:"date",value:I,onChange:function(ke){D(ke.target.value),Ne(0)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Items per page"}),n.jsxs("select",{value:M,onChange:function(ke){U(Number(ke.target.value)),Ne(0)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"}),n.jsx("option",{value:"200",children:"200"})]})]})]}),n.jsx("button",{onClick:$,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Reset Filters"})]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):We.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400 text-lg",children:"No activity logs found"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-900/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Action"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Admin"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Target User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Details"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-700",children:We.map(function(ke){return n.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:new Date(ke.created_at).toLocaleString()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(ve(ke.action_category)),children:ke.action_category.replace(/_/g," ")})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:ke.action_type.replace(/_/g," ")}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ni,{className:"w-4 h-4 text-purple-400"}),n.jsx("span",{children:ke.admin_username})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:ke.target_username||"-"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-300 max-w-md truncate",children:ke.action_description}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("button",{onClick:function(){return f(ke)},className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors",children:"View"})})]},ke.id)})})]})}),!u&&We.length>0&&n.jsxs("div",{className:"bg-gray-900/50 px-4 py-3 flex items-center justify-between border-t border-gray-700",children:[n.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",oe+1," to ",Math.min(oe+M,he)," of ",he," logs"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:function(){return Ne(Math.max(0,oe-M))},disabled:oe===0,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 text-white rounded-lg transition-colors",children:"Previous"}),n.jsxs("span",{className:"px-4 py-2 bg-gray-800 text-white rounded-lg",children:["Page ",ze," of ",Ht]}),n.jsx("button",{onClick:function(){return Ne(oe+M)},disabled:oe+M>=he,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-600 text-white rounded-lg transition-colors",children:"Next"})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold text-white",children:"Activity Log Details"}),n.jsx("button",{onClick:function(){return f(null)},className:"text-gray-400 hover:text-white transition-colors",children:""})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Log ID"}),n.jsxs("p",{className:"text-white font-mono",children:["#",h.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Timestamp"}),n.jsx("p",{className:"text-white",children:new Date(h.created_at).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Category"}),n.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(ve(h.action_category)),children:h.action_category.replace(/_/g," ")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Action Type"}),n.jsx("p",{className:"text-white",children:h.action_type.replace(/_/g," ")})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Description"}),n.jsx("p",{className:"text-white bg-gray-900/50 p-3 rounded-lg",children:h.action_description})]}),n.jsxs("div",{className:"bg-purple-900/20 border border-purple-700/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-purple-400 mb-2 font-semibold",children:"Admin Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Username"}),n.jsx("p",{className:"text-white",children:h.admin_username})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Email"}),n.jsx("p",{className:"text-white",children:h.admin_email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Admin ID"}),n.jsx("p",{className:"text-white font-mono text-sm",children:h.admin_id})]})]})]}),h.target_user_id&&n.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-blue-400 mb-2 font-semibold",children:"Target User Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Username"}),n.jsx("p",{className:"text-white",children:h.target_username||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"Email"}),n.jsx("p",{className:"text-white",children:h.target_email||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"User ID"}),n.jsx("p",{className:"text-white font-mono text-sm",children:h.target_user_id})]})]})]}),h.metadata&&Object.keys(h.metadata).length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Additional Metadata"}),n.jsx("pre",{className:"bg-gray-900/50 p-3 rounded-lg text-xs text-gray-300 overflow-x-auto",children:JSON.stringify(h.metadata,null,2)})]}),n.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-gray-400 mb-2 font-semibold",children:"Technical Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"IP Address"}),n.jsx("p",{className:"text-white font-mono text-sm",children:h.ip_address||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-400",children:"User Agent"}),n.jsx("p",{className:"text-white text-sm break-all",children:h.user_agent||"N/A"})]})]})]})]}),n.jsx("div",{className:"sticky bottom-0 bg-gray-800 border-t border-gray-700 px-6 py-4",children:n.jsx("button",{onClick:function(){return f(null)},className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Close"})})]})})]})})}function wW(){var t=hu(),e=t.priceData,r=t.isLoading,s=t.error,i=yb(),a=i.changeText,o=i.changeColor;i.isPositive;var c=bb(),u=c.high,l=c.low,d=c.volume;return r?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"text-white text-xl",children:"Loading price data..."})}):s?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-red-400 text-xl",children:["Error: ",s]})}):n.jsxs("div",{className:"min-h-screen bg-gray-900 p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Price Synchronization Test"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price (from usePrice)"}),n.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",e==null?void 0:e.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx("div",{className:"text-sm mt-2",style:{color:o},children:a})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h High"}),n.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Low"}),n.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Volume"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," BTC"]})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-4 rounded-lg border border-gray-700 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Lightweight Chart (Binance Data)"}),n.jsx(VU,{symbol:"BTCUSDT",interval:"1m",height:500,containerId:"test_chart"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Order Book (Left Panel)"}),n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price:"}),n.jsxs("div",{className:"text-xl font-bold text-white",children:["$",e==null?void 0:e.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-red-400",children:["$",(e.price+100).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"0.5 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-red-400",children:["$",(e.price+50).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"1.2 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm font-bold border-t border-b border-gray-700 py-2",children:[n.jsxs("span",{className:"text-white",children:["$",e==null?void 0:e.price.toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"CURRENT"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-400",children:["$",(e.price-50).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"0.8 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-400",children:["$",(e.price-100).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"1.5 BTC"})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Trading Panel (Right Panel)"}),n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Entry Price:"}),n.jsxs("div",{className:"text-xl font-bold text-white mb-4",children:["$",e==null?void 0:e.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Amount (USDT)"}),n.jsx("input",{type:"number",className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",placeholder:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Duration"}),n.jsxs("select",{className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",children:[n.jsx("option",{children:"30 seconds"}),n.jsx("option",{children:"60 seconds"})]})]}),n.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded font-bold",children:"BUY (UP)"}),n.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded font-bold",children:"SELL (DOWN)"})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Stats Panel (Bottom Panel)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"Current Price"}),n.jsxs("div",{className:"text-lg font-bold text-white",children:["$",e==null?void 0:e.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h Change"}),n.jsx("div",{className:"text-lg font-bold",style:{color:o},children:a})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h High"}),n.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h Low"}),n.jsxs("div",{className:"text-lg font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info (Raw Data)"}),n.jsx("pre",{className:"text-gray-400 text-xs overflow-auto",children:JSON.stringify(e,null,2)})]}),n.jsxs("div",{className:"mt-8 bg-blue-900/20 border border-blue-700 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:" Test Instructions"}),n.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[n.jsx("li",{children:"1. Check that ALL price displays show the SAME number"}),n.jsx("li",{children:"2. Wait 2 seconds and verify all prices update TOGETHER"}),n.jsx("li",{children:"3. Compare chart overlay price with panel prices - should be IDENTICAL"}),n.jsx("li",{children:"4. Check browser console for price update logs"}),n.jsx("li",{children:"5. If all prices match, synchronization is working! "})]})]})]})}function jW(){return n.jsx(vb,{symbol:"BTCUSDT",updateInterval:2e3,children:n.jsx(wW,{})})}function NW(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(je,{className:"w-full max-w-md mx-4",children:n.jsxs(Ce,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Ax,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Wl(t){var e=t.children,r=en(),s=r.user,i=r.isLoading,a=ns(),o=a[1];return console.log(" ProtectedAdminRoute - User:",s),console.log(" ProtectedAdminRoute - isLoading:",i),m.useEffect(function(){console.log(" ProtectedAdminRoute useEffect - User:",s,"isLoading:",i),!i&&(!s||s.role!=="admin"&&s.role!=="super_admin"&&s.role!=="superadmin")&&(console.log(" Redirecting to admin login - no valid admin user"),o("/admin/login"))},[s,i,o]),i?(console.log(" ProtectedAdminRoute - Still loading..."),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(RC,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Checking authentication..."})]})})):!s||s.role!=="admin"&&s.role!=="super_admin"&&s.role!=="superadmin"?(console.log(" ProtectedAdminRoute - No valid admin user, returning null"),null):(console.log(" ProtectedAdminRoute - Valid admin user, rendering children"),n.jsx(n.Fragment,{children:e}))}function _o(t){var e=t.children,r=en(),s=r.user,i=r.isLoading,a=ns(),o=a[1];return m.useEffect(function(){!i&&!s&&o("/login")},[s,i,o]),i?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"text-white",children:"Loading..."})}):s?n.jsx(n.Fragment,{children:e}):null}function SW(){en().user;var t=ns()[0];return m.useEffect(function(){window.scrollTo({top:0,behavior:"smooth"})},[t]),n.jsx(BL,{children:n.jsxs(KM,{children:[n.jsx(Qt,{path:"/",component:eF}),n.jsx(Qt,{path:"/dashboard",children:n.jsx(_o,{children:n.jsx(aW,{})})}),n.jsx(Qt,{path:"/profile",children:n.jsx(_o,{children:n.jsx(fW,{})})}),n.jsx(Qt,{path:"/market",component:tF}),n.jsx(Qt,{path:"/trading",children:n.jsx(_o,{children:n.jsx(B7,{})})}),n.jsx(Qt,{path:"/trade/spot",component:JU}),n.jsx(Qt,{path:"/trade/options",component:sN}),n.jsx(Qt,{path:"/options",component:sN}),n.jsx(Qt,{path:"/trade/:type?",children:n.jsx(_o,{children:n.jsx(sF,{})})}),n.jsx(Qt,{path:"/wallet/:tab?",children:n.jsx(_o,{children:n.jsx(Cz,{})})}),n.jsx(Qt,{path:"/wallet/history",children:n.jsx(_o,{children:n.jsx(cS,{})})}),n.jsx(Qt,{path:"/transactions",children:n.jsx(_o,{children:n.jsx(cS,{})})}),n.jsx(Qt,{path:"/support",component:Lz}),n.jsx(Qt,{path:"/trade-policy",component:Fz}),n.jsx(Qt,{path:"/terms-of-service",component:Uz}),n.jsx(Qt,{path:"/privacy-policy",component:Bz}),n.jsx(Qt,{path:"/test-price-sync",component:jW}),n.jsx(Qt,{path:"/login",component:nW}),n.jsx(Qt,{path:"/signup",component:iW}),n.jsx(Qt,{path:"/admin/login",component:Q$}),n.jsx(Qt,{path:"/admin/redirect",component:Z$}),n.jsx(Qt,{path:"/admin-staff/login",component:J$}),n.jsx(Qt,{path:"/admin",children:n.jsx(Wl,{children:n.jsx(gg,{})})}),n.jsx(Qt,{path:"/admin/dashboard",children:n.jsx(Wl,{children:n.jsx(gg,{})})}),n.jsx(Qt,{path:"/admin/transactions",children:n.jsx(Wl,{children:n.jsx(xW,{})})}),n.jsx(Qt,{path:"/admin/test",children:n.jsx(Wl,{children:n.jsx(vW,{})})}),n.jsx(Qt,{path:"/admin/activity-logs",children:n.jsx(Wl,{children:n.jsx(bW,{})})}),n.jsx(Qt,{path:"/admin-staff/dashboard",children:n.jsx(Wl,{children:n.jsx(gg,{})})}),n.jsx(Qt,{component:NW})]})})}function CW(){return n.jsx(gA,{client:_A,children:n.jsxs(m6,{children:[n.jsx(EO,{}),n.jsx(SW,{})]})})}if(!window.__tradingViewFetchIntercepted){console.log(" [MAIN] Setting up global TradingView fetch + XHR interception...");const t=window.fetch;window.fetch=function(r,s){let i=typeof r=="string"?r:r.toString();if(i.includes("tradingview-widget.com")){console.log(` [MAIN] Intercepting fetch: ${i}`);try{const a=new URL(i,window.location.origin),o=i.match(/embed-widget\/([^/?]+)/),c=o?o[1]:"advanced-chart",u=a.searchParams.get("locale")||"en",l=`/api/tradingview-widget/${c}?locale=${u}`;console.log(` [MAIN] Fetch redirected to proxy: ${l}`),i=l}catch(a){console.error(" [MAIN] Error parsing URL:",a)}}return t(i,s)};const e=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(r,s,...i){let a=typeof s=="string"?s:s.toString();if(a.includes("tradingview-widget.com")){console.log(` [MAIN] Intercepting XHR: ${a}`);try{const o=new URL(a,window.location.origin),c=a.match(/embed-widget\/([^/?]+)/),u=c?c[1]:"advanced-chart",l=o.searchParams.get("locale")||"en",d=`/api/tradingview-widget/${u}?locale=${l}`;console.log(` [MAIN] XHR redirected to proxy: ${d}`),a=d}catch(o){console.error(" [MAIN] Error parsing XHR URL:",o)}}return e.call(this,r,a,...i)},window.__tradingViewFetchIntercepted=!0}document.title="METACHROME - Advanced Crypto Trading Platform";R4(document.getElementById("root")).render(n.jsx(CW,{}));
