var Ty=t=>{throw TypeError(t)};var Vm=(t,e,s)=>e.has(t)||Ty("Cannot "+s);var D=(t,e,s)=>(Vm(t,e,"read from private field"),s?s.call(t):e.get(t)),Ue=(t,e,s)=>e.has(t)?Ty("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),Pe=(t,e,s,n)=>(Vm(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),st=(t,e,s)=>(Vm(t,e,"access private method"),s);var wd=(t,e,s,n)=>({set _(i){Pe(t,e,i,s)},get _(){return D(t,e,n)}});function dk(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function Zg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bj={exports:{}},Uh={},zj={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),uk=Symbol.for("react.portal"),hk=Symbol.for("react.fragment"),mk=Symbol.for("react.strict_mode"),fk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),xk=Symbol.for("react.forward_ref"),yk=Symbol.for("react.suspense"),vk=Symbol.for("react.memo"),bk=Symbol.for("react.lazy"),Ey=Symbol.iterator;function wk(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var Vj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wj=Object.assign,Hj={};function pl(t,e,s){this.props=t,this.context=e,this.refs=Hj,this.updater=s||Vj}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kj(){}Kj.prototype=pl.prototype;function e0(t,e,s){this.props=t,this.context=e,this.refs=Hj,this.updater=s||Vj}var t0=e0.prototype=new Kj;t0.constructor=e0;Wj(t0,pl.prototype);t0.isPureReactComponent=!0;var ky=Array.isArray,Gj=Object.prototype.hasOwnProperty,s0={current:null},qj={key:!0,ref:!0,__self:!0,__source:!0};function Qj(t,e,s){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Gj.call(e,n)&&!qj.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:sd,type:t,key:a,ref:o,props:i,_owner:s0.current}}function jk(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r0(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function Nk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var Py=/\/+/g;function Wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nk(""+t.key):e.toString(36)}function hu(t,e,s,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sd:case uk:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Wm(o,0):n,ky(i)?(s="",t!=null&&(s=t.replace(Py,"$&/")+"/"),hu(i,e,s,"",function(d){return d})):i!=null&&(r0(i)&&(i=jk(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Py,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ky(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Wm(a,l);o+=hu(a,e,s,c,i)}else if(c=wk(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Wm(a,l++),o+=hu(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jd(t,e,s){if(t==null)return t;var n=[],i=0;return hu(t,n,"","",function(a){return e.call(s,a,i++)}),n}function Sk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Os={current:null},mu={transition:null},Ck={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:mu,ReactCurrentOwner:s0};function Xj(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:jd,forEach:function(t,e,s){jd(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return jd(t,function(){e++}),e},toArray:function(t){return jd(t,function(e){return e})||[]},only:function(t){if(!r0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=pl;lt.Fragment=hk;lt.Profiler=fk;lt.PureComponent=e0;lt.StrictMode=mk;lt.Suspense=yk;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;lt.act=Xj;lt.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Wj({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=s0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Gj.call(e,c)&&!qj.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:sd,type:t.type,key:i,ref:a,props:n,_owner:o}};lt.createContext=function(t){return t={$$typeof:gk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};lt.createElement=Qj;lt.createFactory=function(t){var e=Qj.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:xk,render:t}};lt.isValidElement=r0;lt.lazy=function(t){return{$$typeof:bk,_payload:{_status:-1,_result:t},_init:Sk}};lt.memo=function(t,e){return{$$typeof:vk,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=mu.transition;mu.transition={};try{t()}finally{mu.transition=e}};lt.unstable_act=Xj;lt.useCallback=function(t,e){return Os.current.useCallback(t,e)};lt.useContext=function(t){return Os.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return Os.current.useDeferredValue(t)};lt.useEffect=function(t,e){return Os.current.useEffect(t,e)};lt.useId=function(){return Os.current.useId()};lt.useImperativeHandle=function(t,e,s){return Os.current.useImperativeHandle(t,e,s)};lt.useInsertionEffect=function(t,e){return Os.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return Os.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return Os.current.useMemo(t,e)};lt.useReducer=function(t,e,s){return Os.current.useReducer(t,e,s)};lt.useRef=function(t){return Os.current.useRef(t)};lt.useState=function(t){return Os.current.useState(t)};lt.useSyncExternalStore=function(t,e,s){return Os.current.useSyncExternalStore(t,e,s)};lt.useTransition=function(){return Os.current.useTransition()};lt.version="18.3.1";zj.exports=lt;var f=zj.exports;const Ne=Zg(f),n0=dk({__proto__:null,default:Ne},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=f,Ek=Symbol.for("react.element"),kk=Symbol.for("react.fragment"),Pk=Object.prototype.hasOwnProperty,_k=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mk={key:!0,ref:!0,__self:!0,__source:!0};function Yj(t,e,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Pk.call(e,n)&&!Mk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ek,type:t,key:a,ref:o,props:i,_owner:_k.current}}Uh.Fragment=kk;Uh.jsx=Yj;Uh.jsxs=Yj;Bj.exports=Uh;var r=Bj.exports,Jj={exports:{}},fr={},Zj={exports:{}},eN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,R){var X=$.length;$.push(R);e:for(;0<X;){var q=X-1>>>1,ne=$[q];if(0<i(ne,R))$[q]=R,$[X]=ne,X=q;else break e}}function s($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var R=$[0],X=$.pop();if(X!==R){$[0]=X;e:for(var q=0,ne=$.length,de=ne>>>1;q<de;){var Se=2*(q+1)-1,ie=$[Se],_e=Se+1,me=$[_e];if(0>i(ie,X))_e<ne&&0>i(me,ie)?($[q]=me,$[_e]=X,q=_e):($[q]=ie,$[Se]=X,q=Se);else if(_e<ne&&0>i(me,X))$[q]=me,$[_e]=X,q=_e;else break e}}return R}function i($,R){var X=$.sortIndex-R.sortIndex;return X!==0?X:$.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,x=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var R=s(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=$)n(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=s(d)}}function j($){if(g=!1,w($),!y)if(s(c)!==null)y=!0,O(S);else{var R=s(d);R!==null&&V(j,R.startTime-$)}}function S($,R){y=!1,g&&(g=!1,b(_),_=-1),x=!0;var X=m;try{for(w(R),h=s(c);h!==null&&(!(h.expirationTime>R)||$&&!P());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var ne=q(h.expirationTime<=R);R=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===s(c)&&n(c),w(R)}else n(c);h=s(c)}if(h!==null)var de=!0;else{var Se=s(d);Se!==null&&V(j,Se.startTime-R),de=!1}return de}finally{h=null,m=X,x=!1}}var T=!1,E=null,_=-1,I=5,k=-1;function P(){return!(t.unstable_now()-k<I)}function F(){if(E!==null){var $=t.unstable_now();k=$;var R=!0;try{R=E(!0,$)}finally{R?M():(T=!1,E=null)}}else T=!1}var M;if(typeof p=="function")M=function(){p(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=F,M=function(){Z.postMessage(null)}}else M=function(){v(F,0)};function O($){E=$,T||(T=!0,M())}function V($,R){_=v(function(){$(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,O(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var X=m;m=R;try{return $()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,R){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=m;m=$;try{return R()}finally{m=X}},t.unstable_scheduleCallback=function($,R,X){var q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,$={id:u++,callback:R,priorityLevel:$,startTime:X,expirationTime:ne,sortIndex:-1},X>q?($.sortIndex=X,e(d,$),s(c)===null&&$===s(d)&&(g?(b(_),_=-1):g=!0,V(j,X-q))):($.sortIndex=ne,e(c,$),y||x||(y=!0,O(S))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var R=m;return function(){var X=m;m=R;try{return $.apply(this,arguments)}finally{m=X}}}})(eN);Zj.exports=eN;var Dk=Zj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ak=f,hr=Dk;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tN=new Set,xc={};function Ka(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(xc[t]=e,t=0;t<e.length;t++)tN.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ap=Object.prototype.hasOwnProperty,Rk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},My={};function Ok(t){return ap.call(My,t)?!0:ap.call(_y,t)?!1:Rk.test(t)?My[t]=!0:(_y[t]=!0,!1)}function Ik(t,e,s,n){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lk(t,e,s,n){if(e===null||typeof e>"u"||Ik(t,e,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Is(t,e,s,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bs[t]=new Is(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bs[e]=new Is(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bs[t]=new Is(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bs[t]=new Is(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bs[t]=new Is(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bs[t]=new Is(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bs[t]=new Is(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bs[t]=new Is(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bs[t]=new Is(t,5,!1,t.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i0,a0);bs[e]=new Is(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i0,a0);bs[e]=new Is(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i0,a0);bs[e]=new Is(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bs[t]=new Is(t,1,!1,t.toLowerCase(),null,!1,!1)});bs.xlinkHref=new Is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bs[t]=new Is(t,1,!1,t.toLowerCase(),null,!0,!0)});function o0(t,e,s,n){var i=bs.hasOwnProperty(e)?bs[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lk(e,s,i,n)&&(s=null),n||i===null?Ok(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,n=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?t.setAttributeNS(n,e,s):t.setAttribute(e,s))))}var ei=Ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),sN=Symbol.for("react.provider"),rN=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),Dy=Symbol.iterator;function Ml(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,Hm;function Hl(t){if(Hm===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);Hm=e&&e[1]||""}return`
`+Hm+t}var Km=!1;function Gm(t,e){if(!t||Km)return"";Km=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Km=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Hl(t):""}function Fk(t){switch(t.tag){case 5:return Hl(t.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return t=Gm(t.type,!1),t;case 11:return t=Gm(t.type.render,!1),t;case 1:return t=Gm(t.type,!0),t;default:return""}}function dp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case lo:return"Portal";case op:return"Profiler";case l0:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rN:return(t.displayName||"Context")+".Consumer";case sN:return(t._context.displayName||"Context")+".Provider";case c0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:dp(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return dp(t(e))}catch{}}return null}function Uk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dp(e);case 8:return e===l0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $k(t){var e=iN(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sd(t){t._valueTracker||(t._valueTracker=$k(t))}function aN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),n="";return t&&(n=iN(t)?t.checked?"true":"false":t.value),t=n,t!==s?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var s=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Ay(t,e){var s=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;s=Ui(e.value!=null?e.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oN(t,e){e=e.checked,e!=null&&o0(t,"checked",e,!1)}function hp(t,e){oN(t,e);var s=Ui(e.value),n=e.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,s):e.hasOwnProperty("defaultValue")&&mp(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function mp(t,e,s){(e!=="number"||Ou(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Kl=Array.isArray;function No(t,e,s,n){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Ui(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oy(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(oe(92));if(Kl(s)){if(1<s.length)throw Error(oe(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:Ui(s)}}function lN(t,e){var s=Ui(e.value),n=Ui(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function Iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cd,dN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bk=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(t){Bk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zl[e]=Zl[t]})});function uN(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||Zl.hasOwnProperty(t)&&Zl[t]?(""+e).trim():e+"px"}function hN(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=uN(s,e[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,i):t[s]=i}}var zk=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(t,e){if(e){if(zk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vp=null,So=null,Co=null;function Ly(t){if(t=id(t)){if(typeof vp!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=Wh(e),vp(t.stateNode,t.type,e))}}function mN(t){So?Co?Co.push(t):Co=[t]:So=t}function fN(){if(So){var t=So,e=Co;if(Co=So=null,Ly(t),e)for(t=0;t<e.length;t++)Ly(e[t])}}function pN(t,e){return t(e)}function gN(){}var qm=!1;function xN(t,e,s){if(qm)return t(e,s);qm=!0;try{return pN(t,e,s)}finally{qm=!1,(So!==null||Co!==null)&&(gN(),fN())}}function vc(t,e){var s=t.stateNode;if(s===null)return null;var n=Wh(s);if(n===null)return null;s=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(oe(231,e,typeof s));return s}var bp=!1;if(Hn)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){bp=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{bp=!1}function Vk(t,e,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var ec=!1,Iu=null,Lu=!1,wp=null,Wk={onError:function(t){ec=!0,Iu=t}};function Hk(t,e,s,n,i,a,o,l,c){ec=!1,Iu=null,Vk.apply(Wk,arguments)}function Kk(t,e,s,n,i,a,o,l,c){if(Hk.apply(this,arguments),ec){if(ec){var d=Iu;ec=!1,Iu=null}else throw Error(oe(198));Lu||(Lu=!0,wp=d)}}function Ga(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function yN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fy(t){if(Ga(t)!==t)throw Error(oe(188))}function Gk(t){var e=t.alternate;if(!e){if(e=Ga(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var s=t,n=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Fy(i),t;if(a===n)return Fy(i),e;a=a.sibling}throw Error(oe(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(s.alternate!==n)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?t:e}function vN(t){return t=Gk(t),t!==null?bN(t):null}function bN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bN(t);if(e!==null)return e;t=t.sibling}return null}var wN=hr.unstable_scheduleCallback,Uy=hr.unstable_cancelCallback,qk=hr.unstable_shouldYield,Qk=hr.unstable_requestPaint,qt=hr.unstable_now,Xk=hr.unstable_getCurrentPriorityLevel,h0=hr.unstable_ImmediatePriority,jN=hr.unstable_UserBlockingPriority,Fu=hr.unstable_NormalPriority,Yk=hr.unstable_LowPriority,NN=hr.unstable_IdlePriority,$h=null,yn=null;function Jk(t){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot($h,t,void 0,(t.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:tP,Zk=Math.log,eP=Math.LN2;function tP(t){return t>>>=0,t===0?32:31-(Zk(t)/eP|0)|0}var Td=64,Ed=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var s=t.pendingLanes;if(s===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=Gl(l):(a&=o,a!==0&&(n=Gl(a)))}else o=s&~i,o!==0?n=Gl(o):a!==0&&(n=Gl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)s=31-Gr(e),i=1<<s,n|=t[s],e&=~i;return n}function sP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rP(t,e){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Gr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=sP(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SN(){var t=Td;return Td<<=1,!(Td&4194240)&&(Td=64),t}function Qm(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function rd(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gr(e),t[e]=s}function nP(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Gr(s),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,s&=~a}}function m0(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var n=31-Gr(s),i=1<<n;i&e|t[n]&e&&(t[n]|=e),s&=~i}}var St=0;function CN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TN,f0,EN,kN,PN,Np=!1,kd=[],Ei=null,ki=null,Pi=null,bc=new Map,wc=new Map,hi=[],iP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function Al(t,e,s,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=id(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aP(t,e,s,n,i){switch(e){case"focusin":return Ei=Al(Ei,t,e,s,n,i),!0;case"dragenter":return ki=Al(ki,t,e,s,n,i),!0;case"mouseover":return Pi=Al(Pi,t,e,s,n,i),!0;case"pointerover":var a=i.pointerId;return bc.set(a,Al(bc.get(a)||null,t,e,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,wc.set(a,Al(wc.get(a)||null,t,e,s,n,i)),!0}return!1}function _N(t){var e=la(t.target);if(e!==null){var s=Ga(e);if(s!==null){if(e=s.tag,e===13){if(e=yN(s),e!==null){t.blockedOn=e,PN(t.priority,function(){EN(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=Sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);yp=n,s.target.dispatchEvent(n),yp=null}else return e=id(s),e!==null&&f0(e),t.blockedOn=s,!1;e.shift()}return!0}function By(t,e,s){fu(t)&&s.delete(e)}function oP(){Np=!1,Ei!==null&&fu(Ei)&&(Ei=null),ki!==null&&fu(ki)&&(ki=null),Pi!==null&&fu(Pi)&&(Pi=null),bc.forEach(By),wc.forEach(By)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Np||(Np=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,oP)))}function jc(t){function e(i){return Rl(i,t)}if(0<kd.length){Rl(kd[0],t);for(var s=1;s<kd.length;s++){var n=kd[s];n.blockedOn===t&&(n.blockedOn=null)}}for(Ei!==null&&Rl(Ei,t),ki!==null&&Rl(ki,t),Pi!==null&&Rl(Pi,t),bc.forEach(e),wc.forEach(e),s=0;s<hi.length;s++)n=hi[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<hi.length&&(s=hi[0],s.blockedOn===null);)_N(s),s.blockedOn===null&&hi.shift()}var To=ei.ReactCurrentBatchConfig,$u=!0;function lP(t,e,s,n){var i=St,a=To.transition;To.transition=null;try{St=1,p0(t,e,s,n)}finally{St=i,To.transition=a}}function cP(t,e,s,n){var i=St,a=To.transition;To.transition=null;try{St=4,p0(t,e,s,n)}finally{St=i,To.transition=a}}function p0(t,e,s,n){if($u){var i=Sp(t,e,s,n);if(i===null)af(t,e,n,Bu,s),$y(t,n);else if(aP(i,t,e,s,n))n.stopPropagation();else if($y(t,n),e&4&&-1<iP.indexOf(t)){for(;i!==null;){var a=id(i);if(a!==null&&TN(a),a=Sp(t,e,s,n),a===null&&af(t,e,n,Bu,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else af(t,e,n,null,s)}}var Bu=null;function Sp(t,e,s,n){if(Bu=null,t=u0(n),t=la(t),t!==null)if(e=Ga(t),e===null)t=null;else if(s=e.tag,s===13){if(t=yN(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bu=t,null}function MN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xk()){case h0:return 1;case jN:return 4;case Fu:case Yk:return 16;case NN:return 536870912;default:return 16}default:return 16}}var Ni=null,g0=null,pu=null;function DN(){if(pu)return pu;var t,e=g0,s=e.length,n,i="value"in Ni?Ni.value:Ni.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(n=1;n<=o&&e[s-n]===i[a-n];n++);return pu=i.slice(t,1<n?1-n:void 0)}function gu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pd(){return!0}function zy(){return!1}function pr(t){function e(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pd:zy,this.isPropagationStopped=zy,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=pr(gl),nd=Wt({},gl,{view:0,detail:0}),dP=pr(nd),Xm,Ym,Ol,Bh=Wt({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ol&&(Ol&&t.type==="mousemove"?(Xm=t.screenX-Ol.screenX,Ym=t.screenY-Ol.screenY):Ym=Xm=0,Ol=t),Xm)},movementY:function(t){return"movementY"in t?t.movementY:Ym}}),Vy=pr(Bh),uP=Wt({},Bh,{dataTransfer:0}),hP=pr(uP),mP=Wt({},nd,{relatedTarget:0}),Jm=pr(mP),fP=Wt({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),pP=pr(fP),gP=Wt({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xP=pr(gP),yP=Wt({},gl,{data:0}),Wy=pr(yP),vP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wP[t])?!!e[t]:!1}function y0(){return jP}var NP=Wt({},nd,{key:function(t){if(t.key){var e=vP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(t){return t.type==="keypress"?gu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SP=pr(NP),CP=Wt({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hy=pr(CP),TP=Wt({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),EP=pr(TP),kP=Wt({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PP=pr(kP),_P=Wt({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MP=pr(_P),DP=[9,13,27,32],v0=Hn&&"CompositionEvent"in window,tc=null;Hn&&"documentMode"in document&&(tc=document.documentMode);var AP=Hn&&"TextEvent"in window&&!tc,AN=Hn&&(!v0||tc&&8<tc&&11>=tc),Ky=" ",Gy=!1;function RN(t,e){switch(t){case"keyup":return DP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ON(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function RP(t,e){switch(t){case"compositionend":return ON(e);case"keypress":return e.which!==32?null:(Gy=!0,Ky);case"textInput":return t=e.data,t===Ky&&Gy?null:t;default:return null}}function OP(t,e){if(uo)return t==="compositionend"||!v0&&RN(t,e)?(t=DN(),pu=g0=Ni=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AN&&e.locale!=="ko"?null:e.data;default:return null}}var IP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IP[t.type]:e==="textarea"}function IN(t,e,s,n){mN(n),e=zu(e,"onChange"),0<e.length&&(s=new x0("onChange","change",null,s,n),t.push({event:s,listeners:e}))}var sc=null,Nc=null;function LP(t){GN(t,0)}function zh(t){var e=fo(t);if(aN(e))return t}function FP(t,e){if(t==="change")return e}var LN=!1;if(Hn){var Zm;if(Hn){var ef="oninput"in document;if(!ef){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),ef=typeof Qy.oninput=="function"}Zm=ef}else Zm=!1;LN=Zm&&(!document.documentMode||9<document.documentMode)}function Xy(){sc&&(sc.detachEvent("onpropertychange",FN),Nc=sc=null)}function FN(t){if(t.propertyName==="value"&&zh(Nc)){var e=[];IN(e,Nc,t,u0(t)),xN(LP,e)}}function UP(t,e,s){t==="focusin"?(Xy(),sc=e,Nc=s,sc.attachEvent("onpropertychange",FN)):t==="focusout"&&Xy()}function $P(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zh(Nc)}function BP(t,e){if(t==="click")return zh(e)}function zP(t,e){if(t==="input"||t==="change")return zh(e)}function VP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:VP;function Sc(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!ap.call(e,i)||!Xr(t[i],e[i]))return!1}return!0}function Yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jy(t,e){var s=Yy(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yy(s)}}function UN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $N(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=Ou(t.document)}return e}function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WP(t){var e=$N(),s=t.focusedElem,n=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&UN(s.ownerDocument.documentElement,s)){if(n!==null&&b0(s)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Jy(s,a);var o=Jy(s,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HP=Hn&&"documentMode"in document&&11>=document.documentMode,ho=null,Cp=null,rc=null,Tp=!1;function Zy(t,e,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tp||ho==null||ho!==Ou(n)||(n=ho,"selectionStart"in n&&b0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rc&&Sc(rc,n)||(rc=n,n=zu(Cp,"onSelect"),0<n.length&&(e=new x0("onSelect","select",null,e,s),t.push({event:e,listeners:n}),e.target=ho)))}function _d(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var mo={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionend:_d("Transition","TransitionEnd")},tf={},BN={};Hn&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Vh(t){if(tf[t])return tf[t];if(!mo[t])return t;var e=mo[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in BN)return tf[t]=e[s];return t}var zN=Vh("animationend"),VN=Vh("animationiteration"),WN=Vh("animationstart"),HN=Vh("transitionend"),KN=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){KN.set(t,e),Ka(e,[t])}for(var sf=0;sf<ev.length;sf++){var rf=ev[sf],KP=rf.toLowerCase(),GP=rf[0].toUpperCase()+rf.slice(1);Gi(KP,"on"+GP)}Gi(zN,"onAnimationEnd");Gi(VN,"onAnimationIteration");Gi(WN,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(HN,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function tv(t,e,s){var n=t.type||"unknown-event";t.currentTarget=s,Kk(n,e,void 0,t),t.currentTarget=null}function GN(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;tv(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;tv(i,l,d),a=c}}}if(Lu)throw t=wp,Lu=!1,wp=null,t}function At(t,e){var s=e[Mp];s===void 0&&(s=e[Mp]=new Set);var n=t+"__bubble";s.has(n)||(qN(e,t,2,!1),s.add(n))}function nf(t,e,s){var n=0;e&&(n|=4),qN(s,t,n,e)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[Md]){t[Md]=!0,tN.forEach(function(s){s!=="selectionchange"&&(qP.has(s)||nf(s,!1,t),nf(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Md]||(e[Md]=!0,nf("selectionchange",!1,e))}}function qN(t,e,s,n){switch(MN(e)){case 1:var i=lP;break;case 4:i=cP;break;default:i=p0}s=i.bind(null,e,s,t),i=void 0,!bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function af(t,e,s,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=la(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}xN(function(){var d=a,u=u0(s),h=[];e:{var m=KN.get(t);if(m!==void 0){var x=x0,y=t;switch(t){case"keypress":if(gu(s)===0)break e;case"keydown":case"keyup":x=SP;break;case"focusin":y="focus",x=Jm;break;case"focusout":y="blur",x=Jm;break;case"beforeblur":case"afterblur":x=Jm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=hP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=EP;break;case zN:case VN:case WN:x=pP;break;case HN:x=PP;break;case"scroll":x=dP;break;case"wheel":x=MP;break;case"copy":case"cut":case"paste":x=xP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Hy}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var p=d,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=vc(p,b),j!=null&&g.push(Tc(p,j,w)))),v)break;p=p.return}0<g.length&&(m=new x(m,y,null,s,u),h.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&s!==yp&&(y=s.relatedTarget||s.fromElement)&&(la(y)||y[Kn]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(y=s.relatedTarget||s.toElement,x=d,y=y?la(y):null,y!==null&&(v=Ga(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=d),x!==y)){if(g=Vy,j="onMouseLeave",b="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=Hy,j="onPointerLeave",b="onPointerEnter",p="pointer"),v=x==null?m:fo(x),w=y==null?m:fo(y),m=new g(j,p+"leave",x,s,u),m.target=v,m.relatedTarget=w,j=null,la(u)===d&&(g=new g(b,p+"enter",y,s,u),g.target=w,g.relatedTarget=v,j=g),v=j,x&&y)t:{for(g=x,b=y,p=0,w=g;w;w=eo(w))p++;for(w=0,j=b;j;j=eo(j))w++;for(;0<p-w;)g=eo(g),p--;for(;0<w-p;)b=eo(b),w--;for(;p--;){if(g===b||b!==null&&g===b.alternate)break t;g=eo(g),b=eo(b)}g=null}else g=null;x!==null&&sv(h,m,x,g,!1),y!==null&&v!==null&&sv(h,v,y,g,!0)}}e:{if(m=d?fo(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var S=FP;else if(qy(m))if(LN)S=zP;else{S=$P;var T=UP}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=BP);if(S&&(S=S(t,d))){IN(h,S,s,u);break e}T&&T(t,m,d),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&mp(m,"number",m.value)}switch(T=d?fo(d):window,t){case"focusin":(qy(T)||T.contentEditable==="true")&&(ho=T,Cp=d,rc=null);break;case"focusout":rc=Cp=ho=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,Zy(h,s,u);break;case"selectionchange":if(HP)break;case"keydown":case"keyup":Zy(h,s,u)}var E;if(v0)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else uo?RN(t,s)&&(_="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_="onCompositionStart");_&&(AN&&s.locale!=="ko"&&(uo||_!=="onCompositionStart"?_==="onCompositionEnd"&&uo&&(E=DN()):(Ni=u,g0="value"in Ni?Ni.value:Ni.textContent,uo=!0)),T=zu(d,_),0<T.length&&(_=new Wy(_,t,null,s,u),h.push({event:_,listeners:T}),E?_.data=E:(E=ON(s),E!==null&&(_.data=E)))),(E=AP?RP(t,s):OP(t,s))&&(d=zu(d,"onBeforeInput"),0<d.length&&(u=new Wy("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=E))}GN(h,e)})}function Tc(t,e,s){return{instance:t,listener:e,currentTarget:s}}function zu(t,e){for(var s=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vc(t,s),a!=null&&n.unshift(Tc(t,a,i)),a=vc(t,e),a!=null&&n.push(Tc(t,a,i))),t=t.return}return n}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,s,n,i){for(var a=e._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=vc(s,a),c!=null&&o.unshift(Tc(s,c,l))):i||(c=vc(s,a),c!=null&&o.push(Tc(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var QP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(QP,`
`).replace(XP,"")}function Dd(t,e,s){if(e=rv(e),rv(t)!==e&&s)throw Error(oe(425))}function Vu(){}var Ep=null,kp=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,YP=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,JP=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(t){return nv.resolve(null).then(t).catch(ZP)}:_p;function ZP(t){setTimeout(function(){throw t})}function of(t,e){var s=e,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){t.removeChild(i),jc(e);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);jc(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var xl=Math.random().toString(36).slice(2),hn="__reactFiber$"+xl,Ec="__reactProps$"+xl,Kn="__reactContainer$"+xl,Mp="__reactEvents$"+xl,e_="__reactListeners$"+xl,t_="__reactHandles$"+xl;function la(t){var e=t[hn];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Kn]||s[hn]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=iv(t);t!==null;){if(s=t[hn])return s;t=iv(t)}return e}t=s,s=t.parentNode}return null}function id(t){return t=t[hn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function Wh(t){return t[Ec]||null}var Dp=[],po=-1;function qi(t){return{current:t}}function It(t){0>po||(t.current=Dp[po],Dp[po]=null,po--)}function Pt(t,e){po++,Dp[po]=t.current,t.current=e}var $i={},Cs=qi($i),Ks=qi(!1),Pa=$i;function Go(t,e){var s=t.type.contextTypes;if(!s)return $i;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gs(t){return t=t.childContextTypes,t!=null}function Wu(){It(Ks),It(Cs)}function av(t,e,s){if(Cs.current!==$i)throw Error(oe(168));Pt(Cs,e),Pt(Ks,s)}function QN(t,e,s){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(oe(108,Uk(t)||"Unknown",i));return Wt({},s,n)}function Hu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$i,Pa=Cs.current,Pt(Cs,t),Pt(Ks,Ks.current),!0}function ov(t,e,s){var n=t.stateNode;if(!n)throw Error(oe(169));s?(t=QN(t,e,Pa),n.__reactInternalMemoizedMergedChildContext=t,It(Ks),It(Cs),Pt(Cs,t)):It(Ks),Pt(Ks,s)}var Mn=null,Hh=!1,lf=!1;function XN(t){Mn===null?Mn=[t]:Mn.push(t)}function s_(t){Hh=!0,XN(t)}function Qi(){if(!lf&&Mn!==null){lf=!0;var t=0,e=St;try{var s=Mn;for(St=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Mn=null,Hh=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),wN(h0,Qi),i}finally{St=e,lf=!1}}return null}var go=[],xo=0,Ku=null,Gu=0,jr=[],Nr=0,_a=null,Un=1,$n="";function ra(t,e){go[xo++]=Gu,go[xo++]=Ku,Ku=t,Gu=e}function YN(t,e,s){jr[Nr++]=Un,jr[Nr++]=$n,jr[Nr++]=_a,_a=t;var n=Un;t=$n;var i=32-Gr(n)-1;n&=~(1<<i),s+=1;var a=32-Gr(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Un=1<<32-Gr(e)+i|s<<i|n,$n=a+t}else Un=1<<a|s<<i|n,$n=t}function w0(t){t.return!==null&&(ra(t,1),YN(t,1,0))}function j0(t){for(;t===Ku;)Ku=go[--xo],go[xo]=null,Gu=go[--xo],go[xo]=null;for(;t===_a;)_a=jr[--Nr],jr[Nr]=null,$n=jr[--Nr],jr[Nr]=null,Un=jr[--Nr],jr[Nr]=null}var dr=null,lr=null,Ut=!1,Wr=null;function JN(t,e){var s=Sr(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function lv(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dr=t,lr=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=_a!==null?{id:Un,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Sr(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,dr=t,lr=null,!0):!1;default:return!1}}function Ap(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rp(t){if(Ut){var e=lr;if(e){var s=e;if(!lv(t,e)){if(Ap(t))throw Error(oe(418));e=_i(s.nextSibling);var n=dr;e&&lv(t,e)?JN(n,s):(t.flags=t.flags&-4097|2,Ut=!1,dr=t)}}else{if(Ap(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Ut=!1,dr=t}}}function cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dr=t}function Ad(t){if(t!==dr)return!1;if(!Ut)return cv(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=lr)){if(Ap(t))throw ZN(),Error(oe(418));for(;e;)JN(t,e),e=_i(e.nextSibling)}if(cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){lr=_i(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=dr?_i(t.stateNode.nextSibling):null;return!0}function ZN(){for(var t=lr;t;)t=_i(t.nextSibling)}function qo(){lr=dr=null,Ut=!1}function N0(t){Wr===null?Wr=[t]:Wr.push(t)}var r_=ei.ReactCurrentBatchConfig;function Il(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var n=s.stateNode}if(!n)throw Error(oe(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function e1(t){function e(b,p){if(t){var w=b.deletions;w===null?(b.deletions=[p],b.flags|=16):w.push(p)}}function s(b,p){if(!t)return null;for(;p!==null;)e(b,p),p=p.sibling;return null}function n(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function i(b,p){return b=Ri(b,p),b.index=0,b.sibling=null,b}function a(b,p,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<p?(b.flags|=2,p):w):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,p,w,j){return p===null||p.tag!==6?(p=pf(w,b.mode,j),p.return=b,p):(p=i(p,w),p.return=b,p)}function c(b,p,w,j){var S=w.type;return S===co?u(b,p,w.props.children,j,w.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ci&&dv(S)===p.type)?(j=i(p,w.props),j.ref=Il(b,p,w),j.return=b,j):(j=Nu(w.type,w.key,w.props,null,b.mode,j),j.ref=Il(b,p,w),j.return=b,j)}function d(b,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=gf(w,b.mode,j),p.return=b,p):(p=i(p,w.children||[]),p.return=b,p)}function u(b,p,w,j,S){return p===null||p.tag!==7?(p=Na(w,b.mode,j,S),p.return=b,p):(p=i(p,w),p.return=b,p)}function h(b,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pf(""+p,b.mode,w),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Nd:return w=Nu(p.type,p.key,p.props,null,b.mode,w),w.ref=Il(b,null,p),w.return=b,w;case lo:return p=gf(p,b.mode,w),p.return=b,p;case ci:var j=p._init;return h(b,j(p._payload),w)}if(Kl(p)||Ml(p))return p=Na(p,b.mode,w,null),p.return=b,p;Rd(b,p)}return null}function m(b,p,w,j){var S=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nd:return w.key===S?c(b,p,w,j):null;case lo:return w.key===S?d(b,p,w,j):null;case ci:return S=w._init,m(b,p,S(w._payload),j)}if(Kl(w)||Ml(w))return S!==null?null:u(b,p,w,j,null);Rd(b,w)}return null}function x(b,p,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(p,b,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Nd:return b=b.get(j.key===null?w:j.key)||null,c(p,b,j,S);case lo:return b=b.get(j.key===null?w:j.key)||null,d(p,b,j,S);case ci:var T=j._init;return x(b,p,w,T(j._payload),S)}if(Kl(j)||Ml(j))return b=b.get(w)||null,u(p,b,j,S,null);Rd(p,j)}return null}function y(b,p,w,j){for(var S=null,T=null,E=p,_=p=0,I=null;E!==null&&_<w.length;_++){E.index>_?(I=E,E=null):I=E.sibling;var k=m(b,E,w[_],j);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(b,E),p=a(k,p,_),T===null?S=k:T.sibling=k,T=k,E=I}if(_===w.length)return s(b,E),Ut&&ra(b,_),S;if(E===null){for(;_<w.length;_++)E=h(b,w[_],j),E!==null&&(p=a(E,p,_),T===null?S=E:T.sibling=E,T=E);return Ut&&ra(b,_),S}for(E=n(b,E);_<w.length;_++)I=x(E,b,_,w[_],j),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?_:I.key),p=a(I,p,_),T===null?S=I:T.sibling=I,T=I);return t&&E.forEach(function(P){return e(b,P)}),Ut&&ra(b,_),S}function g(b,p,w,j){var S=Ml(w);if(typeof S!="function")throw Error(oe(150));if(w=S.call(w),w==null)throw Error(oe(151));for(var T=S=null,E=p,_=p=0,I=null,k=w.next();E!==null&&!k.done;_++,k=w.next()){E.index>_?(I=E,E=null):I=E.sibling;var P=m(b,E,k.value,j);if(P===null){E===null&&(E=I);break}t&&E&&P.alternate===null&&e(b,E),p=a(P,p,_),T===null?S=P:T.sibling=P,T=P,E=I}if(k.done)return s(b,E),Ut&&ra(b,_),S;if(E===null){for(;!k.done;_++,k=w.next())k=h(b,k.value,j),k!==null&&(p=a(k,p,_),T===null?S=k:T.sibling=k,T=k);return Ut&&ra(b,_),S}for(E=n(b,E);!k.done;_++,k=w.next())k=x(E,b,_,k.value,j),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?_:k.key),p=a(k,p,_),T===null?S=k:T.sibling=k,T=k);return t&&E.forEach(function(F){return e(b,F)}),Ut&&ra(b,_),S}function v(b,p,w,j){if(typeof w=="object"&&w!==null&&w.type===co&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Nd:e:{for(var S=w.key,T=p;T!==null;){if(T.key===S){if(S=w.type,S===co){if(T.tag===7){s(b,T.sibling),p=i(T,w.props.children),p.return=b,b=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ci&&dv(S)===T.type){s(b,T.sibling),p=i(T,w.props),p.ref=Il(b,T,w),p.return=b,b=p;break e}s(b,T);break}else e(b,T);T=T.sibling}w.type===co?(p=Na(w.props.children,b.mode,j,w.key),p.return=b,b=p):(j=Nu(w.type,w.key,w.props,null,b.mode,j),j.ref=Il(b,p,w),j.return=b,b=j)}return o(b);case lo:e:{for(T=w.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){s(b,p.sibling),p=i(p,w.children||[]),p.return=b,b=p;break e}else{s(b,p);break}else e(b,p);p=p.sibling}p=gf(w,b.mode,j),p.return=b,b=p}return o(b);case ci:return T=w._init,v(b,p,T(w._payload),j)}if(Kl(w))return y(b,p,w,j);if(Ml(w))return g(b,p,w,j);Rd(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(s(b,p.sibling),p=i(p,w),p.return=b,b=p):(s(b,p),p=pf(w,b.mode,j),p.return=b,b=p),o(b)):s(b,p)}return v}var Qo=e1(!0),t1=e1(!1),qu=qi(null),Qu=null,yo=null,S0=null;function C0(){S0=yo=Qu=null}function T0(t){var e=qu.current;It(qu),t._currentValue=e}function Op(t,e,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===s)break;t=t.return}}function Eo(t,e){Qu=t,S0=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hs=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},yo===null){if(Qu===null)throw Error(oe(308));yo=t,Qu.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return e}var ca=null;function E0(t){ca===null?ca=[t]:ca.push(t)}function s1(t,e,s,n){var i=e.interleaved;return i===null?(s.next=s,E0(e)):(s.next=i.next,i.next=s),e.interleaved=s,Gn(t,n)}function Gn(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var di=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,gt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Gn(t,s)}return i=n.interleaved,i===null?(e.next=e,E0(n)):(e.next=i.next,i.next=e),n.interleaved=e,Gn(t,s)}function xu(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,m0(t,s)}}function uv(t,e){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Xu(t,e,s,n){var i=t.updateQueue;di=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(m=e,x=s,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(x,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(x,h,m):y,m==null)break e;h=Wt({},h,m);break e;case 2:di=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Da|=o,t.lanes=o,t.memoizedState=h}}function hv(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var ad={},vn=qi(ad),kc=qi(ad),Pc=qi(ad);function da(t){if(t===ad)throw Error(oe(174));return t}function P0(t,e){switch(Pt(Pc,e),Pt(kc,t),Pt(vn,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pp(e,t)}It(vn),Pt(vn,e)}function Xo(){It(vn),It(kc),It(Pc)}function n1(t){da(Pc.current);var e=da(vn.current),s=pp(e,t.type);e!==s&&(Pt(kc,t),Pt(vn,s))}function _0(t){kc.current===t&&(It(vn),It(kc))}var zt=qi(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function M0(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var yu=ei.ReactCurrentDispatcher,df=ei.ReactCurrentBatchConfig,Ma=0,Vt=null,is=null,ds=null,Ju=!1,nc=!1,_c=0,n_=0;function ws(){throw Error(oe(321))}function D0(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Xr(t[s],e[s]))return!1;return!0}function A0(t,e,s,n,i,a){if(Ma=a,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yu.current=t===null||t.memoizedState===null?l_:c_,t=s(n,i),nc){a=0;do{if(nc=!1,_c=0,25<=a)throw Error(oe(301));a+=1,ds=is=null,e.updateQueue=null,yu.current=d_,t=s(n,i)}while(nc)}if(yu.current=Zu,e=is!==null&&is.next!==null,Ma=0,ds=is=Vt=null,Ju=!1,e)throw Error(oe(300));return t}function R0(){var t=_c!==0;return _c=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ds===null?Vt.memoizedState=ds=t:ds=ds.next=t,ds}function Pr(){if(is===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=is.next;var e=ds===null?Vt.memoizedState:ds.next;if(e!==null)ds=e,is=t;else{if(t===null)throw Error(oe(310));is=t,t={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},ds===null?Vt.memoizedState=ds=t:ds=ds.next=t}return ds}function Mc(t,e){return typeof e=="function"?e(t):e}function uf(t){var e=Pr(),s=e.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=t;var n=is,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Ma&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Vt.lanes|=u,Da|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Xr(n,e.memoizedState)||(Hs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){i=t;do a=i.lane,Vt.lanes|=a,Da|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function hf(t){var e=Pr(),s=e.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Xr(a,e.memoizedState)||(Hs=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,n]}function i1(){}function a1(t,e){var s=Vt,n=Pr(),i=e(),a=!Xr(n.memoizedState,i);if(a&&(n.memoizedState=i,Hs=!0),n=n.queue,O0(c1.bind(null,s,n,t),[t]),n.getSnapshot!==e||a||ds!==null&&ds.memoizedState.tag&1){if(s.flags|=2048,Dc(9,l1.bind(null,s,n,i,e),void 0,null),us===null)throw Error(oe(349));Ma&30||o1(s,e,i)}return i}function o1(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function l1(t,e,s,n){e.value=s,e.getSnapshot=n,d1(e)&&u1(t)}function c1(t,e,s){return s(function(){d1(e)&&u1(t)})}function d1(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Xr(t,s)}catch{return!0}}function u1(t){var e=Gn(t,1);e!==null&&qr(e,t,1,-1)}function mv(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:t},e.queue=t,t=t.dispatch=o_.bind(null,Vt,t),[e.memoizedState,t]}function Dc(t,e,s,n){return t={tag:t,create:e,destroy:s,deps:n,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,e.lastEffect=t)),t}function h1(){return Pr().memoizedState}function vu(t,e,s,n){var i=on();Vt.flags|=t,i.memoizedState=Dc(1|e,s,void 0,n===void 0?null:n)}function Kh(t,e,s,n){var i=Pr();n=n===void 0?null:n;var a=void 0;if(is!==null){var o=is.memoizedState;if(a=o.destroy,n!==null&&D0(n,o.deps)){i.memoizedState=Dc(e,s,a,n);return}}Vt.flags|=t,i.memoizedState=Dc(1|e,s,a,n)}function fv(t,e){return vu(8390656,8,t,e)}function O0(t,e){return Kh(2048,8,t,e)}function m1(t,e){return Kh(4,2,t,e)}function f1(t,e){return Kh(4,4,t,e)}function p1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g1(t,e,s){return s=s!=null?s.concat([t]):null,Kh(4,4,p1.bind(null,e,t),s)}function I0(){}function x1(t,e){var s=Pr();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&D0(e,n[1])?n[0]:(s.memoizedState=[t,e],t)}function y1(t,e){var s=Pr();e=e===void 0?null:e;var n=s.memoizedState;return n!==null&&e!==null&&D0(e,n[1])?n[0]:(t=t(),s.memoizedState=[t,e],t)}function v1(t,e,s){return Ma&21?(Xr(s,e)||(s=SN(),Vt.lanes|=s,Da|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hs=!0),t.memoizedState=s)}function i_(t,e){var s=St;St=s!==0&&4>s?s:4,t(!0);var n=df.transition;df.transition={};try{t(!1),e()}finally{St=s,df.transition=n}}function b1(){return Pr().memoizedState}function a_(t,e,s){var n=Ai(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},w1(t))j1(e,s);else if(s=s1(t,e,s,n),s!==null){var i=As();qr(s,t,n,i),N1(s,e,n)}}function o_(t,e,s){var n=Ai(t),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(w1(t))j1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Xr(l,o)){var c=e.interleaved;c===null?(i.next=i,E0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=s1(t,e,i,n),s!==null&&(i=As(),qr(s,t,n,i),N1(s,e,n))}}function w1(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function j1(t,e){nc=Ju=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function N1(t,e,s){if(s&4194240){var n=e.lanes;n&=t.pendingLanes,s|=n,e.lanes=s,m0(t,s)}}var Zu={readContext:kr,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},l_={readContext:kr,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:fv,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,vu(4194308,4,p1.bind(null,e,t),s)},useLayoutEffect:function(t,e){return vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return vu(4,2,t,e)},useMemo:function(t,e){var s=on();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var n=on();return e=s!==void 0?s(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=a_.bind(null,Vt,t),[n.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:I0,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=i_.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var n=Vt,i=on();if(Ut){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=e(),us===null)throw Error(oe(349));Ma&30||o1(n,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,fv(c1.bind(null,n,a,t),[t]),n.flags|=2048,Dc(9,l1.bind(null,n,a,s,e),void 0,null),s},useId:function(){var t=on(),e=us.identifierPrefix;if(Ut){var s=$n,n=Un;s=(n&~(1<<32-Gr(n)-1)).toString(32)+s,e=":"+e+"R"+s,s=_c++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=n_++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c_={readContext:kr,useCallback:x1,useContext:kr,useEffect:O0,useImperativeHandle:g1,useInsertionEffect:m1,useLayoutEffect:f1,useMemo:y1,useReducer:uf,useRef:h1,useState:function(){return uf(Mc)},useDebugValue:I0,useDeferredValue:function(t){var e=Pr();return v1(e,is.memoizedState,t)},useTransition:function(){var t=uf(Mc)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:a1,useId:b1,unstable_isNewReconciler:!1},d_={readContext:kr,useCallback:x1,useContext:kr,useEffect:O0,useImperativeHandle:g1,useInsertionEffect:m1,useLayoutEffect:f1,useMemo:y1,useReducer:hf,useRef:h1,useState:function(){return hf(Mc)},useDebugValue:I0,useDeferredValue:function(t){var e=Pr();return is===null?e.memoizedState=t:v1(e,is.memoizedState,t)},useTransition:function(){var t=hf(Mc)[0],e=Pr().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:a1,useId:b1,unstable_isNewReconciler:!1};function $r(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function Ip(t,e,s,n){e=t.memoizedState,s=s(n,e),s=s==null?e:Wt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gh={isMounted:function(t){return(t=t._reactInternals)?Ga(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var n=As(),i=Ai(t),a=Vn(n,i);a.payload=e,s!=null&&(a.callback=s),e=Mi(t,a,i),e!==null&&(qr(e,t,i,n),xu(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var n=As(),i=Ai(t),a=Vn(n,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=Mi(t,a,i),e!==null&&(qr(e,t,i,n),xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=As(),n=Ai(t),i=Vn(s,n);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,n),e!==null&&(qr(e,t,n,s),xu(e,t,n))}};function pv(t,e,s,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Sc(s,n)||!Sc(i,a):!0}function S1(t,e,s){var n=!1,i=$i,a=e.contextType;return typeof a=="object"&&a!==null?a=kr(a):(i=Gs(e)?Pa:Cs.current,n=e.contextTypes,a=(n=n!=null)?Go(t,i):$i),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function gv(t,e,s,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,n),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function Lp(t,e,s,n){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},k0(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=kr(a):(a=Gs(e)?Pa:Cs.current,i.context=Go(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ip(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gh.enqueueReplaceState(i,i.state,null),Xu(t,s,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var s="",n=e;do s+=Fk(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function mf(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function Fp(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var u_=typeof WeakMap=="function"?WeakMap:Map;function C1(t,e,s){s=Vn(-1,s),s.tag=3,s.payload={element:null};var n=e.value;return s.callback=function(){th||(th=!0,qp=n),Fp(t,e)},s}function T1(t,e,s){s=Vn(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;s.payload=function(){return n(i)},s.callback=function(){Fp(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Fp(t,e),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function xv(t,e,s){var n=t.pingCache;if(n===null){n=t.pingCache=new u_;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(s)||(i.add(s),t=C_.bind(null,t,e,s),e.then(t,t))}function yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vv(t,e,s,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=Vn(-1,1),e.tag=2,Mi(s,e,1))),s.lanes|=1),t)}var h_=ei.ReactCurrentOwner,Hs=!1;function _s(t,e,s,n){e.child=t===null?t1(e,null,s,n):Qo(e,t.child,s,n)}function bv(t,e,s,n,i){s=s.render;var a=e.ref;return Eo(e,i),n=A0(t,e,s,n,a,i),s=R0(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Ut&&s&&w0(e),e.flags|=1,_s(t,e,n,i),e.child)}function wv(t,e,s,n,i){if(t===null){var a=s.type;return typeof a=="function"&&!W0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,E1(t,e,a,n,i)):(t=Nu(s.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Sc,s(o,n)&&t.ref===e.ref)return qn(t,e,i)}return e.flags|=1,t=Ri(a,n),t.ref=e.ref,t.return=e,e.child=t}function E1(t,e,s,n,i){if(t!==null){var a=t.memoizedProps;if(Sc(a,n)&&t.ref===e.ref)if(Hs=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Hs=!0);else return e.lanes=t.lanes,qn(t,e,i)}return Up(t,e,s,n,i)}function k1(t,e,s){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(bo,er),er|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(bo,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Pt(bo,er),er|=n}else a!==null?(n=a.baseLanes|s,e.memoizedState=null):n=s,Pt(bo,er),er|=n;return _s(t,e,i,s),e.child}function P1(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function Up(t,e,s,n,i){var a=Gs(s)?Pa:Cs.current;return a=Go(e,a),Eo(e,i),s=A0(t,e,s,n,a,i),n=R0(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Ut&&n&&w0(e),e.flags|=1,_s(t,e,s,i),e.child)}function jv(t,e,s,n,i){if(Gs(s)){var a=!0;Hu(e)}else a=!1;if(Eo(e,i),e.stateNode===null)bu(t,e),S1(e,s,n),Lp(e,s,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=kr(d):(d=Gs(s)?Pa:Cs.current,d=Go(e,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&gv(e,o,n,d),di=!1;var m=e.memoizedState;o.state=m,Xu(e,n,o,i),c=e.memoizedState,l!==n||m!==c||Ks.current||di?(typeof u=="function"&&(Ip(e,s,u,n),c=e.memoizedState),(l=di||pv(e,s,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,r1(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:$r(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=kr(c):(c=Gs(s)?Pa:Cs.current,c=Go(e,c));var x=s.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&gv(e,o,n,c),di=!1,m=e.memoizedState,o.state=m,Xu(e,n,o,i);var y=e.memoizedState;l!==h||m!==y||Ks.current||di?(typeof x=="function"&&(Ip(e,s,x,n),y=e.memoizedState),(d=di||pv(e,s,d,n,m,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return $p(t,e,s,n,a,i)}function $p(t,e,s,n,i,a){P1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ov(e,s,!1),qn(t,e,a);n=e.stateNode,h_.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,a),e.child=Qo(e,null,l,a)):_s(t,e,l,a),e.memoizedState=n.state,i&&ov(e,s,!0),e.child}function _1(t){var e=t.stateNode;e.pendingContext?av(t,e.pendingContext,e.pendingContext!==e.context):e.context&&av(t,e.context,!1),P0(t,e.containerInfo)}function Nv(t,e,s,n,i){return qo(),N0(i),e.flags|=256,_s(t,e,s,n),e.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function M1(t,e,s){var n=e.pendingProps,i=zt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(zt,i&1),t===null)return Rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xh(o,n,0,null),t=Na(t,n,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=zp(s),e.memoizedState=Bp,t):L0(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return m_(t,e,o,n,l,i,s);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ri(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ri(l,a):(a=Na(a,o,s,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?zp(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Bp,n}return a=t.child,t=a.sibling,n=Ri(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=s),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n}function L0(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Od(t,e,s,n){return n!==null&&N0(n),Qo(e,t.child,null,s),t=L0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m_(t,e,s,n,i,a,o){if(s)return e.flags&256?(e.flags&=-257,n=mf(Error(oe(422))),Od(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Xh({mode:"visible",children:n.children},i,0,null),a=Na(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=zp(o),e.memoizedState=Bp,a);if(!(e.mode&1))return Od(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(oe(419)),n=mf(a,n,void 0),Od(t,e,o,n)}if(l=(o&t.childLanes)!==0,Hs||l){if(n=us,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gn(t,i),qr(n,t,i,-1))}return V0(),n=mf(Error(oe(421))),Od(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T_.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,lr=_i(i.nextSibling),dr=e,Ut=!0,Wr=null,t!==null&&(jr[Nr++]=Un,jr[Nr++]=$n,jr[Nr++]=_a,Un=t.id,$n=t.overflow,_a=e),e=L0(e,n.children),e.flags|=4096,e)}function Sv(t,e,s){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Op(t.return,e,s)}function ff(t,e,s,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function D1(t,e,s){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(_s(t,e,n.children,s),n=zt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,s,e);else if(t.tag===19)Sv(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pt(zt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&Yu(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),ff(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yu(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}ff(e,!0,s,null,a);break;case"together":ff(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Da|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,s=Ri(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=Ri(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function f_(t,e,s){switch(e.tag){case 3:_1(e),qo();break;case 5:n1(e);break;case 1:Gs(e.type)&&Hu(e);break;case 4:P0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Pt(qu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Pt(zt,zt.current&1),e.flags|=128,null):s&e.child.childLanes?M1(t,e,s):(Pt(zt,zt.current&1),t=qn(t,e,s),t!==null?t.sibling:null);Pt(zt,zt.current&1);break;case 19:if(n=(s&e.childLanes)!==0,t.flags&128){if(n)return D1(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(zt,zt.current),n)break;return null;case 22:case 23:return e.lanes=0,k1(t,e,s)}return qn(t,e,s)}var A1,Vp,R1,O1;A1=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Vp=function(){};R1=function(t,e,s,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,da(vn.current);var a=null;switch(s){case"input":i=up(t,i),n=up(t,n),a=[];break;case"select":i=Wt({},i,{value:void 0}),n=Wt({},n,{value:void 0}),a=[];break;case"textarea":i=fp(t,i),n=fp(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vu)}gp(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&At("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};O1=function(t,e,s,n){s!==n&&(e.flags|=4)};function Ll(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function js(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,e}function p_(t,e,s){var n=e.pendingProps;switch(j0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(e),null;case 1:return Gs(e.type)&&Wu(),js(e),null;case 3:return n=e.stateNode,Xo(),It(Ks),It(Cs),M0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(Yp(Wr),Wr=null))),Vp(t,e),js(e),null;case 5:_0(e);var i=da(Pc.current);if(s=e.type,t!==null&&e.stateNode!=null)R1(t,e,s,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(oe(166));return js(e),null}if(t=da(vn.current),Ad(e)){n=e.stateNode,s=e.type;var a=e.memoizedProps;switch(n[hn]=e,n[Ec]=a,t=(e.mode&1)!==0,s){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(i=0;i<ql.length;i++)At(ql[i],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":Ay(n,a),At("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},At("invalid",n);break;case"textarea":Oy(n,a),At("invalid",n)}gp(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Dd(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Dd(n.textContent,l,t),i=["children",""+l]):xc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&At("scroll",n)}switch(s){case"input":Sd(n),Ry(n,a,!0);break;case"textarea":Sd(n),Iy(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Vu)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cN(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(s,{is:n.is}):(t=o.createElement(s),s==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,s),t[hn]=e,t[Ec]=n,A1(t,e,!1,!1),e.stateNode=t;e:{switch(o=xp(s,n),s){case"dialog":At("cancel",t),At("close",t),i=n;break;case"iframe":case"object":case"embed":At("load",t),i=n;break;case"video":case"audio":for(i=0;i<ql.length;i++)At(ql[i],t);i=n;break;case"source":At("error",t),i=n;break;case"img":case"image":case"link":At("error",t),At("load",t),i=n;break;case"details":At("toggle",t),i=n;break;case"input":Ay(t,n),i=up(t,n),At("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Wt({},n,{value:void 0}),At("invalid",t);break;case"textarea":Oy(t,n),i=fp(t,n),At("invalid",t);break;default:i=n}gp(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?hN(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dN(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&yc(t,c):typeof c=="number"&&yc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&At("scroll",t):c!=null&&o0(t,a,c,o))}switch(s){case"input":Sd(t),Ry(t,n,!1);break;case"textarea":Sd(t),Iy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ui(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?No(t,!!n.multiple,a,!1):n.defaultValue!=null&&No(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vu)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return js(e),null;case 6:if(t&&e.stateNode!=null)O1(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(oe(166));if(s=da(Pc.current),da(vn.current),Ad(e)){if(n=e.stateNode,s=e.memoizedProps,n[hn]=e,(a=n.nodeValue!==s)&&(t=dr,t!==null))switch(t.tag){case 3:Dd(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dd(n.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[hn]=e,e.stateNode=n}return js(e),null;case 13:if(It(zt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&lr!==null&&e.mode&1&&!(e.flags&128))ZN(),qo(),e.flags|=98560,a=!1;else if(a=Ad(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(oe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(oe(317));a[hn]=e}else qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;js(e),a=!1}else Wr!==null&&(Yp(Wr),Wr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?os===0&&(os=3):V0())),e.updateQueue!==null&&(e.flags|=4),js(e),null);case 4:return Xo(),Vp(t,e),t===null&&Cc(e.stateNode.containerInfo),js(e),null;case 10:return T0(e.type._context),js(e),null;case 17:return Gs(e.type)&&Wu(),js(e),null;case 19:if(It(zt),a=e.memoizedState,a===null)return js(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Ll(a,!1);else{if(os!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yu(t),o!==null){for(e.flags|=128,Ll(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=s,s=e.child;s!==null;)a=s,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Pt(zt,zt.current&1|2),e.child}t=t.sibling}a.tail!==null&&qt()>Jo&&(e.flags|=128,n=!0,Ll(a,!1),e.lanes=4194304)}else{if(!n)if(t=Yu(o),t!==null){if(e.flags|=128,n=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Ll(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ut)return js(e),null}else 2*qt()-a.renderingStartTime>Jo&&s!==1073741824&&(e.flags|=128,n=!0,Ll(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qt(),e.sibling=null,s=zt.current,Pt(zt,n?s&1|2:s&1),e):(js(e),null);case 22:case 23:return z0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?er&1073741824&&(js(e),e.subtreeFlags&6&&(e.flags|=8192)):js(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function g_(t,e){switch(j0(e),e.tag){case 1:return Gs(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),It(Ks),It(Cs),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _0(e),null;case 13:if(It(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return It(zt),null;case 4:return Xo(),null;case 10:return T0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var Id=!1,Ss=!1,x_=typeof WeakSet=="function"?WeakSet:Set,De=null;function vo(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Kt(t,e,n)}else s.current=null}function Wp(t,e,s){try{s()}catch(n){Kt(t,e,n)}}var Cv=!1;function y_(t,e){if(Ep=$u,t=$N(),b0(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var x;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===t)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(kp={focusedElem:t,selectionRange:s},$u=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,b=e.stateNode,p=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:$r(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(j){Kt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return y=Cv,Cv=!1,y}function ic(t,e,s){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wp(e,s,a)}i=i.next}while(i!==n)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==e)}}function Hp(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function I1(t){var e=t.alternate;e!==null&&(t.alternate=null,I1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[Ec],delete e[Mp],delete e[e_],delete e[t_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L1(t){return t.tag===5||t.tag===3||t.tag===4}function Tv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kp(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Vu));else if(n!==4&&(t=t.child,t!==null))for(Kp(t,e,s),t=t.sibling;t!==null;)Kp(t,e,s),t=t.sibling}function Gp(t,e,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Gp(t,e,s),t=t.sibling;t!==null;)Gp(t,e,s),t=t.sibling}var ps=null,Vr=!1;function ri(t,e,s){for(s=s.child;s!==null;)F1(t,e,s),s=s.sibling}function F1(t,e,s){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount($h,s)}catch{}switch(s.tag){case 5:Ss||vo(s,e);case 6:var n=ps,i=Vr;ps=null,ri(t,e,s),ps=n,Vr=i,ps!==null&&(Vr?(t=ps,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):ps.removeChild(s.stateNode));break;case 18:ps!==null&&(Vr?(t=ps,s=s.stateNode,t.nodeType===8?of(t.parentNode,s):t.nodeType===1&&of(t,s),jc(t)):of(ps,s.stateNode));break;case 4:n=ps,i=Vr,ps=s.stateNode.containerInfo,Vr=!0,ri(t,e,s),ps=n,Vr=i;break;case 0:case 11:case 14:case 15:if(!Ss&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Wp(s,e,o),i=i.next}while(i!==n)}ri(t,e,s);break;case 1:if(!Ss&&(vo(s,e),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Kt(s,e,l)}ri(t,e,s);break;case 21:ri(t,e,s);break;case 22:s.mode&1?(Ss=(n=Ss)||s.memoizedState!==null,ri(t,e,s),Ss=n):ri(t,e,s);break;default:ri(t,e,s)}}function Ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new x_),e.forEach(function(n){var i=E_.bind(null,t,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Fr(t,e){var s=e.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ps=l.stateNode,Vr=!1;break e;case 3:ps=l.stateNode.containerInfo,Vr=!0;break e;case 4:ps=l.stateNode.containerInfo,Vr=!0;break e}l=l.return}if(ps===null)throw Error(oe(160));F1(a,o,i),ps=null,Vr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Kt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U1(e,t),e=e.sibling}function U1(t,e){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),nn(t),n&4){try{ic(3,t,t.return),qh(3,t)}catch(g){Kt(t,t.return,g)}try{ic(5,t,t.return)}catch(g){Kt(t,t.return,g)}}break;case 1:Fr(e,t),nn(t),n&512&&s!==null&&vo(s,s.return);break;case 5:if(Fr(e,t),nn(t),n&512&&s!==null&&vo(s,s.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(g){Kt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&oN(i,a),xp(l,o);var d=xp(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?hN(i,h):u==="dangerouslySetInnerHTML"?dN(i,h):u==="children"?yc(i,h):o0(i,u,h,d)}switch(l){case"input":hp(i,a);break;case"textarea":lN(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?No(i,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?No(i,!!a.multiple,a.defaultValue,!0):No(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ec]=a}catch(g){Kt(t,t.return,g)}}break;case 6:if(Fr(e,t),nn(t),n&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Kt(t,t.return,g)}}break;case 3:if(Fr(e,t),nn(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{jc(e.containerInfo)}catch(g){Kt(t,t.return,g)}break;case 4:Fr(e,t),nn(t);break;case 13:Fr(e,t),nn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($0=qt())),n&4&&Ev(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(Ss=(d=Ss)||u,Fr(e,t),Ss=d):Fr(e,t),nn(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(De=t,u=t.child;u!==null;){for(h=De=u;De!==null;){switch(m=De,x=m.child,m.tag){case 0:case 11:case 14:case 15:ic(4,m,m.return);break;case 1:vo(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,s=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Kt(n,s,g)}}break;case 5:vo(m,m.return);break;case 22:if(m.memoizedState!==null){Pv(h);continue}}x!==null?(x.return=m,De=x):Pv(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uN("display",o))}catch(g){Kt(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Kt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fr(e,t),nn(t),n&4&&Ev(t);break;case 21:break;default:Fr(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(L1(s)){var n=s;break e}s=s.return}throw Error(oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yc(i,""),n.flags&=-33);var a=Tv(t);Gp(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Tv(t);Kp(t,l,o);break;default:throw Error(oe(161))}}catch(c){Kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v_(t,e,s){De=t,$1(t)}function $1(t,e,s){for(var n=(t.mode&1)!==0;De!==null;){var i=De,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Id;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ss;l=Id;var d=Ss;if(Id=o,(Ss=c)&&!d)for(De=i;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?_v(i):c!==null?(c.return=o,De=c):_v(i);for(;a!==null;)De=a,$1(a),a=a.sibling;De=i,Id=l,Ss=d}kv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,De=a):kv(t)}}function kv(t){for(;De!==null;){var e=De;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ss||qh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ss)if(s===null)n.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:$r(e.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&hv(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}hv(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&jc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Ss||e.flags&512&&Hp(e)}catch(m){Kt(e,e.return,m)}}if(e===t){De=null;break}if(s=e.sibling,s!==null){s.return=e.return,De=s;break}De=e.return}}function Pv(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var s=e.sibling;if(s!==null){s.return=e.return,De=s;break}De=e.return}}function _v(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{qh(4,e)}catch(c){Kt(e,s,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Kt(e,i,c)}}var a=e.return;try{Hp(e)}catch(c){Kt(e,a,c)}break;case 5:var o=e.return;try{Hp(e)}catch(c){Kt(e,o,c)}}}catch(c){Kt(e,e.return,c)}if(e===t){De=null;break}var l=e.sibling;if(l!==null){l.return=e.return,De=l;break}De=e.return}}var b_=Math.ceil,eh=ei.ReactCurrentDispatcher,F0=ei.ReactCurrentOwner,Tr=ei.ReactCurrentBatchConfig,gt=0,us=null,Jt=null,vs=0,er=0,bo=qi(0),os=0,Ac=null,Da=0,Qh=0,U0=0,ac=null,Ws=null,$0=0,Jo=1/0,_n=null,th=!1,qp=null,Di=null,Ld=!1,Si=null,sh=0,oc=0,Qp=null,wu=-1,ju=0;function As(){return gt&6?qt():wu!==-1?wu:wu=qt()}function Ai(t){return t.mode&1?gt&2&&vs!==0?vs&-vs:r_.transition!==null?(ju===0&&(ju=SN()),ju):(t=St,t!==0||(t=window.event,t=t===void 0?16:MN(t.type)),t):1}function qr(t,e,s,n){if(50<oc)throw oc=0,Qp=null,Error(oe(185));rd(t,s,n),(!(gt&2)||t!==us)&&(t===us&&(!(gt&2)&&(Qh|=s),os===4&&mi(t,vs)),qs(t,n),s===1&&gt===0&&!(e.mode&1)&&(Jo=qt()+500,Hh&&Qi()))}function qs(t,e){var s=t.callbackNode;rP(t,e);var n=Uu(t,t===us?vs:0);if(n===0)s!==null&&Uy(s),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(s!=null&&Uy(s),e===1)t.tag===0?s_(Mv.bind(null,t)):XN(Mv.bind(null,t)),JP(function(){!(gt&6)&&Qi()}),s=null;else{switch(CN(n)){case 1:s=h0;break;case 4:s=jN;break;case 16:s=Fu;break;case 536870912:s=NN;break;default:s=Fu}s=q1(s,B1.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function B1(t,e){if(wu=-1,ju=0,gt&6)throw Error(oe(327));var s=t.callbackNode;if(ko()&&t.callbackNode!==s)return null;var n=Uu(t,t===us?vs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=rh(t,n);else{e=n;var i=gt;gt|=2;var a=V1();(us!==t||vs!==e)&&(_n=null,Jo=qt()+500,ja(t,e));do try{N_();break}catch(l){z1(t,l)}while(!0);C0(),eh.current=a,gt=i,Jt!==null?e=0:(us=null,vs=0,e=os)}if(e!==0){if(e===2&&(i=jp(t),i!==0&&(n=i,e=Xp(t,i))),e===1)throw s=Ac,ja(t,0),mi(t,n),qs(t,qt()),s;if(e===6)mi(t,n);else{if(i=t.current.alternate,!(n&30)&&!w_(i)&&(e=rh(t,n),e===2&&(a=jp(t),a!==0&&(n=a,e=Xp(t,a))),e===1))throw s=Ac,ja(t,0),mi(t,n),qs(t,qt()),s;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(oe(345));case 2:na(t,Ws,_n);break;case 3:if(mi(t,n),(n&130023424)===n&&(e=$0+500-qt(),10<e)){if(Uu(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){As(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_p(na.bind(null,t,Ws,_n),e);break}na(t,Ws,_n);break;case 4:if(mi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Gr(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b_(n/1960))-n,10<n){t.timeoutHandle=_p(na.bind(null,t,Ws,_n),n);break}na(t,Ws,_n);break;case 5:na(t,Ws,_n);break;default:throw Error(oe(329))}}}return qs(t,qt()),t.callbackNode===s?B1.bind(null,t):null}function Xp(t,e){var s=ac;return t.current.memoizedState.isDehydrated&&(ja(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Ws,Ws=s,e!==null&&Yp(e)),t}function Yp(t){Ws===null?Ws=t:Ws.push.apply(Ws,t)}function w_(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Xr(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(t,e){for(e&=~U0,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-Gr(e),n=1<<s;t[s]=-1,e&=~n}}function Mv(t){if(gt&6)throw Error(oe(327));ko();var e=Uu(t,0);if(!(e&1))return qs(t,qt()),null;var s=rh(t,e);if(t.tag!==0&&s===2){var n=jp(t);n!==0&&(e=n,s=Xp(t,n))}if(s===1)throw s=Ac,ja(t,0),mi(t,e),qs(t,qt()),s;if(s===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,Ws,_n),qs(t,qt()),null}function B0(t,e){var s=gt;gt|=1;try{return t(e)}finally{gt=s,gt===0&&(Jo=qt()+500,Hh&&Qi())}}function Aa(t){Si!==null&&Si.tag===0&&!(gt&6)&&ko();var e=gt;gt|=1;var s=Tr.transition,n=St;try{if(Tr.transition=null,St=1,t)return t()}finally{St=n,Tr.transition=s,gt=e,!(gt&6)&&Qi()}}function z0(){er=bo.current,It(bo)}function ja(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,YP(s)),Jt!==null)for(s=Jt.return;s!==null;){var n=s;switch(j0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wu();break;case 3:Xo(),It(Ks),It(Cs),M0();break;case 5:_0(n);break;case 4:Xo();break;case 13:It(zt);break;case 19:It(zt);break;case 10:T0(n.type._context);break;case 22:case 23:z0()}s=s.return}if(us=t,Jt=t=Ri(t.current,null),vs=er=e,os=0,Ac=null,U0=Qh=Da=0,Ws=ac=null,ca!==null){for(e=0;e<ca.length;e++)if(s=ca[e],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}ca=null}return t}function z1(t,e){do{var s=Jt;try{if(C0(),yu.current=Zu,Ju){for(var n=Vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ju=!1}if(Ma=0,ds=is=Vt=null,nc=!1,_c=0,F0.current=null,s===null||s.return===null){os=1,Ac=e,Jt=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=vs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=yv(o);if(x!==null){x.flags&=-257,vv(x,o,l,a,e),x.mode&1&&xv(a,d,e),e=x,c=d;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){xv(a,d,e),V0();break e}c=Error(oe(426))}}else if(Ut&&l.mode&1){var v=yv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vv(v,o,l,a,e),N0(Yo(c,l));break e}}a=c=Yo(c,l),os!==4&&(os=2),ac===null?ac=[a]:ac.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=C1(a,c,e);uv(a,b);break e;case 1:l=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Di===null||!Di.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=T1(a,l,e);uv(a,j);break e}}a=a.return}while(a!==null)}H1(s)}catch(S){e=S,Jt===s&&s!==null&&(Jt=s=s.return);continue}break}while(!0)}function V1(){var t=eh.current;return eh.current=Zu,t===null?Zu:t}function V0(){(os===0||os===3||os===2)&&(os=4),us===null||!(Da&268435455)&&!(Qh&268435455)||mi(us,vs)}function rh(t,e){var s=gt;gt|=2;var n=V1();(us!==t||vs!==e)&&(_n=null,ja(t,e));do try{j_();break}catch(i){z1(t,i)}while(!0);if(C0(),gt=s,eh.current=n,Jt!==null)throw Error(oe(261));return us=null,vs=0,os}function j_(){for(;Jt!==null;)W1(Jt)}function N_(){for(;Jt!==null&&!qk();)W1(Jt)}function W1(t){var e=G1(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?H1(t):Jt=e,F0.current=null}function H1(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=g_(s,e),s!==null){s.flags&=32767,Jt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{os=6,Jt=null;return}}else if(s=p_(s,e,er),s!==null){Jt=s;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);os===0&&(os=5)}function na(t,e,s){var n=St,i=Tr.transition;try{Tr.transition=null,St=1,S_(t,e,s,n)}finally{Tr.transition=i,St=n}return null}function S_(t,e,s,n){do ko();while(Si!==null);if(gt&6)throw Error(oe(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(nP(t,a),t===us&&(Jt=us=null,vs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ld||(Ld=!0,q1(Fu,function(){return ko(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Tr.transition,Tr.transition=null;var o=St;St=1;var l=gt;gt|=4,F0.current=null,y_(t,s),U1(s,t),WP(kp),$u=!!Ep,kp=Ep=null,t.current=s,v_(s),Qk(),gt=l,St=o,Tr.transition=a}else t.current=s;if(Ld&&(Ld=!1,Si=t,sh=i),a=t.pendingLanes,a===0&&(Di=null),Jk(s.stateNode),qs(t,qt()),e!==null)for(n=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,t=qp,qp=null,t;return sh&1&&t.tag!==0&&ko(),a=t.pendingLanes,a&1?t===Qp?oc++:(oc=0,Qp=t):oc=0,Qi(),null}function ko(){if(Si!==null){var t=CN(sh),e=Tr.transition,s=St;try{if(Tr.transition=null,St=16>t?16:t,Si===null)var n=!1;else{if(t=Si,Si=null,sh=0,gt&6)throw Error(oe(331));var i=gt;for(gt|=4,De=t.current;De!==null;){var a=De,o=a.child;if(De.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(De=d;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:ic(8,u,a)}var h=u.child;if(h!==null)h.return=u,De=h;else for(;De!==null;){u=De;var m=u.sibling,x=u.return;if(I1(u),u===d){De=null;break}if(m!==null){m.return=x,De=m;break}De=x}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}De=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,De=o;else e:for(;De!==null;){if(a=De,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ic(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,De=b;break e}De=a.return}}var p=t.current;for(De=p;De!==null;){o=De;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,De=w;else e:for(o=p;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qh(9,l)}}catch(S){Kt(l,l.return,S)}if(l===o){De=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,De=j;break e}De=l.return}}if(gt=i,Qi(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot($h,t)}catch{}n=!0}return n}finally{St=s,Tr.transition=e}}return!1}function Dv(t,e,s){e=Yo(s,e),e=C1(t,e,1),t=Mi(t,e,1),e=As(),t!==null&&(rd(t,1,e),qs(t,e))}function Kt(t,e,s){if(t.tag===3)Dv(t,t,s);else for(;e!==null;){if(e.tag===3){Dv(e,t,s);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){t=Yo(s,t),t=T1(e,t,1),e=Mi(e,t,1),t=As(),e!==null&&(rd(e,1,t),qs(e,t));break}}e=e.return}}function C_(t,e,s){var n=t.pingCache;n!==null&&n.delete(e),e=As(),t.pingedLanes|=t.suspendedLanes&s,us===t&&(vs&s)===s&&(os===4||os===3&&(vs&130023424)===vs&&500>qt()-$0?ja(t,0):U0|=s),qs(t,e)}function K1(t,e){e===0&&(t.mode&1?(e=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):e=1);var s=As();t=Gn(t,e),t!==null&&(rd(t,e,s),qs(t,s))}function T_(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),K1(t,s)}function E_(t,e){var s=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(e),K1(t,s)}var G1;G1=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ks.current)Hs=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Hs=!1,f_(t,e,s);Hs=!!(t.flags&131072)}else Hs=!1,Ut&&e.flags&1048576&&YN(e,Gu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;bu(t,e),t=e.pendingProps;var i=Go(e,Cs.current);Eo(e,s),i=A0(null,e,n,t,i,s);var a=R0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gs(n)?(a=!0,Hu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(e),i.updater=Gh,e.stateNode=i,i._reactInternals=e,Lp(e,n,t,s),e=$p(null,e,n,!0,a,s)):(e.tag=0,Ut&&a&&w0(e),_s(null,e,i,s),e=e.child),e;case 16:n=e.elementType;e:{switch(bu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=P_(n),t=$r(n,t),i){case 0:e=Up(null,e,n,t,s);break e;case 1:e=jv(null,e,n,t,s);break e;case 11:e=bv(null,e,n,t,s);break e;case 14:e=wv(null,e,n,$r(n.type,t),s);break e}throw Error(oe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$r(n,i),Up(t,e,n,i,s);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$r(n,i),jv(t,e,n,i,s);case 3:e:{if(_1(e),t===null)throw Error(oe(387));n=e.pendingProps,a=e.memoizedState,i=a.element,r1(t,e),Xu(e,n,null,s);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Yo(Error(oe(423)),e),e=Nv(t,e,n,s,i);break e}else if(n!==i){i=Yo(Error(oe(424)),e),e=Nv(t,e,n,s,i);break e}else for(lr=_i(e.stateNode.containerInfo.firstChild),dr=e,Ut=!0,Wr=null,s=t1(e,null,n,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qo(),n===i){e=qn(t,e,s);break e}_s(t,e,n,s)}e=e.child}return e;case 5:return n1(e),t===null&&Rp(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Pp(n,i)?o=null:a!==null&&Pp(n,a)&&(e.flags|=32),P1(t,e),_s(t,e,o,s),e.child;case 6:return t===null&&Rp(e),null;case 13:return M1(t,e,s);case 4:return P0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qo(e,null,n,s):_s(t,e,n,s),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$r(n,i),bv(t,e,n,i,s);case 7:return _s(t,e,e.pendingProps,s),e.child;case 8:return _s(t,e,e.pendingProps.children,s),e.child;case 12:return _s(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Pt(qu,n._currentValue),n._currentValue=o,a!==null)if(Xr(a.value,o)){if(a.children===i.children&&!Ks.current){e=qn(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Vn(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),Op(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(oe(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Op(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_s(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Eo(e,s),i=kr(i),n=n(i),e.flags|=1,_s(t,e,n,s),e.child;case 14:return n=e.type,i=$r(n,e.pendingProps),i=$r(n.type,i),wv(t,e,n,i,s);case 15:return E1(t,e,e.type,e.pendingProps,s);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:$r(n,i),bu(t,e),e.tag=1,Gs(n)?(t=!0,Hu(e)):t=!1,Eo(e,s),S1(e,n,i),Lp(e,n,i,s),$p(null,e,n,!0,t,s);case 19:return D1(t,e,s);case 22:return k1(t,e,s)}throw Error(oe(156,e.tag))};function q1(t,e){return wN(t,e)}function k_(t,e,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,s,n){return new k_(t,e,s,n)}function W0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P_(t){if(typeof t=="function")return W0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c0)return 11;if(t===d0)return 14}return 2}function Ri(t,e){var s=t.alternate;return s===null?(s=Sr(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Nu(t,e,s,n,i,a){var o=2;if(n=t,typeof t=="function")W0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return Na(s.children,i,a,e);case l0:o=8,i|=8;break;case op:return t=Sr(12,s,e,i|2),t.elementType=op,t.lanes=a,t;case lp:return t=Sr(13,s,e,i),t.elementType=lp,t.lanes=a,t;case cp:return t=Sr(19,s,e,i),t.elementType=cp,t.lanes=a,t;case nN:return Xh(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sN:o=10;break e;case rN:o=9;break e;case c0:o=11;break e;case d0:o=14;break e;case ci:o=16,n=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=Sr(o,s,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Na(t,e,s,n){return t=Sr(7,t,n,e),t.lanes=s,t}function Xh(t,e,s,n){return t=Sr(22,t,n,e),t.elementType=nN,t.lanes=s,t.stateNode={isHidden:!1},t}function pf(t,e,s){return t=Sr(6,t,null,e),t.lanes=s,t}function gf(t,e,s){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function __(t,e,s,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H0(t,e,s,n,i,a,o,l,c){return t=new __(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Sr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(a),t}function M_(t,e,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:s}}function Q1(t){if(!t)return $i;t=t._reactInternals;e:{if(Ga(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var s=t.type;if(Gs(s))return QN(t,s,e)}return e}function X1(t,e,s,n,i,a,o,l,c){return t=H0(s,n,!0,t,i,a,o,l,c),t.context=Q1(null),s=t.current,n=As(),i=Ai(s),a=Vn(n,i),a.callback=e??null,Mi(s,a,i),t.current.lanes=i,rd(t,i,n),qs(t,n),t}function Yh(t,e,s,n){var i=e.current,a=As(),o=Ai(i);return s=Q1(s),e.context===null?e.context=s:e.pendingContext=s,e=Vn(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mi(i,e,o),t!==null&&(qr(t,i,o,a),xu(t,i,o)),o}function nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Av(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function K0(t,e){Av(t,e),(t=t.alternate)&&Av(t,e)}function D_(){return null}var Y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function G0(t){this._internalRoot=t}Jh.prototype.render=G0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));Yh(t,e,null,null)};Jh.prototype.unmount=G0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Aa(function(){Yh(null,t,null,null)}),e[Kn]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=kN();t={blockedOn:null,target:t,priority:e};for(var s=0;s<hi.length&&e!==0&&e<hi[s].priority;s++);hi.splice(s,0,t),s===0&&_N(t)}};function q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function A_(t,e,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=nh(o);a.call(d)}}var o=X1(e,n,t,0,null,!1,!1,"",Rv);return t._reactRootContainer=o,t[Kn]=o.current,Cc(t.nodeType===8?t.parentNode:t),Aa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=nh(c);l.call(d)}}var c=H0(t,0,!1,null,null,!1,!1,"",Rv);return t._reactRootContainer=c,t[Kn]=c.current,Cc(t.nodeType===8?t.parentNode:t),Aa(function(){Yh(e,c,s,n)}),c}function em(t,e,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=nh(o);l.call(c)}}Yh(e,o,t,i)}else o=A_(s,e,t,i,n);return nh(o)}TN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=Gl(e.pendingLanes);s!==0&&(m0(e,s|1),qs(e,qt()),!(gt&6)&&(Jo=qt()+500,Qi()))}break;case 13:Aa(function(){var n=Gn(t,1);if(n!==null){var i=As();qr(n,t,1,i)}}),K0(t,1)}};f0=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var s=As();qr(e,t,134217728,s)}K0(t,134217728)}};EN=function(t){if(t.tag===13){var e=Ai(t),s=Gn(t,e);if(s!==null){var n=As();qr(s,t,e,n)}K0(t,e)}};kN=function(){return St};PN=function(t,e){var s=St;try{return St=t,e()}finally{St=s}};vp=function(t,e,s){switch(e){case"input":if(hp(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var n=s[e];if(n!==t&&n.form===t.form){var i=Wh(n);if(!i)throw Error(oe(90));aN(n),hp(n,i)}}}break;case"textarea":lN(t,s);break;case"select":e=s.value,e!=null&&No(t,!!s.multiple,e,!1)}};pN=B0;gN=Aa;var R_={usingClientEntryPoint:!1,Events:[id,fo,Wh,mN,fN,B0]},Fl={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O_={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vN(t),t===null?null:t.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||D_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{$h=Fd.inject(O_),yn=Fd}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R_;fr.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q0(e))throw Error(oe(200));return M_(t,e,null,s)};fr.createRoot=function(t,e){if(!q0(t))throw Error(oe(299));var s=!1,n="",i=Y1;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H0(t,1,!1,null,null,s,!1,n,i),t[Kn]=e.current,Cc(t.nodeType===8?t.parentNode:t),new G0(e)};fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=vN(e),t=t===null?null:t.stateNode,t};fr.flushSync=function(t){return Aa(t)};fr.hydrate=function(t,e,s){if(!Zh(e))throw Error(oe(200));return em(null,t,e,!0,s)};fr.hydrateRoot=function(t,e,s){if(!q0(t))throw Error(oe(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=Y1;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=X1(e,null,t,1,s??null,i,!1,a,o),t[Kn]=e.current,Cc(t),n)for(t=0;t<n.length;t++)s=n[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new Jh(e)};fr.render=function(t,e,s){if(!Zh(e))throw Error(oe(200));return em(null,t,e,!1,s)};fr.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(oe(40));return t._reactRootContainer?(Aa(function(){em(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};fr.unstable_batchedUpdates=B0;fr.unstable_renderSubtreeIntoContainer=function(t,e,s,n){if(!Zh(s))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return em(t,e,s,!1,n)};fr.version="18.3.1-next-f1338f8080-20240426";function J1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J1)}catch(t){console.error(t)}}J1(),Jj.exports=fr;var qa=Jj.exports;const I_=Zg(qa);var Z1,Ov=qa;Z1=Ov.createRoot,Ov.hydrateRoot;function L_(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var eS={exports:{}},tS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=f;function F_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U_=typeof Object.is=="function"?Object.is:F_,$_=Zo.useState,B_=Zo.useEffect,z_=Zo.useLayoutEffect,V_=Zo.useDebugValue;function W_(t,e){var s=e(),n=$_({inst:{value:s,getSnapshot:e}}),i=n[0].inst,a=n[1];return z_(function(){i.value=s,i.getSnapshot=e,xf(i)&&a({inst:i})},[t,s,e]),B_(function(){return xf(i)&&a({inst:i}),t(function(){xf(i)&&a({inst:i})})},[t]),V_(s),s}function xf(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!U_(t,s)}catch{return!0}}function H_(t,e){return e()}var K_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?H_:W_;tS.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:K_;eS.exports=tS;var G_=eS.exports;const q_=n0.useInsertionEffect,Q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X_=Q_?f.useLayoutEffect:f.useEffect,Y_=q_||X_,sS=t=>{const e=f.useRef([t,(...s)=>e[0](...s)]).current;return Y_(()=>{e[0]=t}),e[1]},J_="popstate",Q0="pushState",X0="replaceState",Z_="hashchange",Iv=[J_,Q0,X0,Z_],e3=t=>{for(const e of Iv)addEventListener(e,t);return()=>{for(const e of Iv)removeEventListener(e,t)}},rS=(t,e)=>G_.useSyncExternalStore(e3,t,e),t3=()=>location.search,s3=({ssrSearch:t=""}={})=>rS(t3,()=>t),Lv=()=>location.pathname,r3=({ssrPath:t}={})=>rS(Lv,t?()=>t:Lv),n3=(t,{replace:e=!1,state:s=null}={})=>history[e?X0:Q0](s,"",t),i3=(t={})=>[r3(t),n3],Fv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Fv]>"u"){for(const t of[Q0,X0]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,Fv,{value:!0})}const a3=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nS=(t="")=>t==="/"?"":t,o3=(t,e)=>t[0]==="~"?t.slice(1):nS(e)+t,l3=(t="",e)=>a3(Uv(nS(t)),Uv(e)),Uv=t=>{try{return decodeURI(t)}catch{return t}},iS={hook:i3,searchHook:s3,parser:L_,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},aS=f.createContext(iS),od=()=>f.useContext(aS),oS={},lS=f.createContext(oS),c3=()=>f.useContext(lS),tm=t=>{const[e,s]=t.hook(t);return[l3(t.base,e),sS((n,i)=>s(o3(n,t.base),i))]},_r=()=>tm(od()),cS=(t,e,s,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},d3=({children:t,...e})=>{var u,h;const s=od(),n=e.hook?iS:s;let i=n;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=f.useRef({}),c=l.current,d=c;for(let m in n){const x=m==="base"?n[m]+(e[m]||""):e[m]||n[m];c===d&&x!==d[m]&&(l.current=d={...d}),d[m]=x,(x!==n[m]||x!==i[m])&&(i=d)}return f.createElement(aS.Provider,{value:i,children:t})},$v=({children:t,component:e},s)=>e?f.createElement(e,{params:s}):typeof t=="function"?t(s):t,u3=t=>{let e=f.useRef(oS);const s=e.current;return e.current=Object.keys(t).length!==Object.keys(s).length||Object.entries(t).some(([n,i])=>i!==s[n])?t:s},$t=({path:t,nest:e,match:s,...n})=>{const i=od(),[a]=tm(i),[o,l,c]=s??cS(i.parser,t,a,e),d=u3({...c3(),...l});if(!o)return null;const u=c?f.createElement(d3,{base:c},$v(n,d)):$v(n,d);return f.createElement(lS.Provider,{value:d,children:u})},ht=f.forwardRef((t,e)=>{const s=od(),[n,i]=tm(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,...x}=t,y=sS(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),i(o,t)))}),g=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&f.isValidElement(d)?f.cloneElement(d,{onClick:y,href:g}):f.createElement("a",{...x,onClick:y,href:g,className:u!=null&&u.call?u(n===o):u,children:d,ref:e})}),dS=t=>Array.isArray(t)?t.flatMap(e=>dS(e&&e.type===f.Fragment?e.props.children:e)):[t],h3=({children:t,location:e})=>{const s=od(),[n]=tm(s);for(const i of dS(t)){let a=0;if(f.isValidElement(i)&&(a=cS(s.parser,i.props.path,e||n,i.props.nest))[0])return f.cloneElement(i,{match:a})}return null};var yl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m3={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fi,Jg,_j,f3=(_j=class{constructor(){Ue(this,fi,m3);Ue(this,Jg,!1)}setTimeoutProvider(t){Pe(this,fi,t)}setTimeout(t,e){return D(this,fi).setTimeout(t,e)}clearTimeout(t){D(this,fi).clearTimeout(t)}setInterval(t,e){return D(this,fi).setInterval(t,e)}clearInterval(t){D(this,fi).clearInterval(t)}},fi=new WeakMap,Jg=new WeakMap,_j),ua=new f3;function p3(t){setTimeout(t,0)}var Ra=typeof window>"u"||"Deno"in globalThis;function Ds(){}function g3(t,e){return typeof t=="function"?t(e):t}function Jp(t){return typeof t=="number"&&t>=0&&t!==1/0}function uS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Oi(t,e){return typeof t=="function"?t(e):t}function wr(t,e){return typeof t=="function"?t(e):t}function Bv(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==Y0(o,e.options))return!1}else if(!Rc(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function zv(t,e){const{exact:s,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(Oa(e.options.mutationKey)!==Oa(a))return!1}else if(!Rc(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Y0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oa)(t)}function Oa(t){return JSON.stringify(t,(e,s)=>Zp(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function Rc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Rc(t[s],e[s])):!1}var x3=Object.prototype.hasOwnProperty;function hS(t,e){if(t===e)return t;const s=Vv(t)&&Vv(e);if(!s&&!(Zp(t)&&Zp(e)))return e;const i=(s?t:Object.keys(t)).length,a=s?e:Object.keys(e),o=a.length,l=s?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=s?d:a[d],h=t[u],m=e[u];if(h===m){l[u]=h,(s?d<i:x3.call(t,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const x=hS(h,m);l[u]=x,x===h&&c++}return i===o&&c===i?t:l}function ih(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Vv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!Wv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Wv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wv(t){return Object.prototype.toString.call(t)==="[object Object]"}function y3(t){return new Promise(e=>{ua.setTimeout(e,t)})}function eg(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?hS(t,e):e}function v3(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function b3(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var J0=Symbol();function mS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===J0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fS(t,e){return typeof t=="function"?t(...e):!!t}var ma,pi,Ro,Mj,w3=(Mj=class extends yl{constructor(){super();Ue(this,ma);Ue(this,pi);Ue(this,Ro);Pe(this,Ro,e=>{if(!Ra&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){D(this,pi)||this.setEventListener(D(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,pi))==null||e.call(this),Pe(this,pi,void 0))}setEventListener(e){var s;Pe(this,Ro,e),(s=D(this,pi))==null||s.call(this),Pe(this,pi,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){D(this,ma)!==e&&(Pe(this,ma,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof D(this,ma)=="boolean"?D(this,ma):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ma=new WeakMap,pi=new WeakMap,Ro=new WeakMap,Mj),Z0=new w3;function tg(){let t,e;const s=new Promise((i,a)=>{t=i,e=a});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},s.reject=i=>{n({status:"rejected",reason:i}),e(i)},s}var j3=p3;function N3(){let t=[],e=0,s=l=>{l()},n=l=>{l()},i=j3;const a=l=>{e?t.push(l):i(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var as=N3(),Oo,gi,Io,Dj,S3=(Dj=class extends yl{constructor(){super();Ue(this,Oo,!0);Ue(this,gi);Ue(this,Io);Pe(this,Io,e=>{if(!Ra&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){D(this,gi)||this.setEventListener(D(this,Io))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,gi))==null||e.call(this),Pe(this,gi,void 0))}setEventListener(e){var s;Pe(this,Io,e),(s=D(this,gi))==null||s.call(this),Pe(this,gi,e(this.setOnline.bind(this)))}setOnline(e){D(this,Oo)!==e&&(Pe(this,Oo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return D(this,Oo)}},Oo=new WeakMap,gi=new WeakMap,Io=new WeakMap,Dj),ah=new S3;function C3(t){return Math.min(1e3*2**t,3e4)}function pS(t){return(t??"online")==="online"?ah.isOnline():!0}var sg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gS(t){let e=!1,s=0,n;const i=tg(),a=()=>i.status!=="pending",o=g=>{var v;if(!a()){const b=new sg(g);m(b),(v=t.onCancel)==null||v.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>Z0.isFocused()&&(t.networkMode==="always"||ah.isOnline())&&t.canRun(),u=()=>pS(t.networkMode)&&t.canRun(),h=g=>{a()||(n==null||n(),i.resolve(g))},m=g=>{a()||(n==null||n(),i.reject(g))},x=()=>new Promise(g=>{var v;n=b=>{(a()||d())&&g(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;n=void 0,a()||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(a())return;let g;const v=s===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var T;if(a())return;const p=t.retry??(Ra?0:3),w=t.retryDelay??C3,j=typeof w=="function"?w(s,b):w,S=p===!0||typeof p=="number"&&s<p||typeof p=="function"&&p(s,b);if(e||!S){m(b);return}s++,(T=t.onFail)==null||T.call(t,s,b),y3(j).then(()=>d()?void 0:x()).then(()=>{e?m(b):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():x().then(y),i)}}var fa,Aj,xS=(Aj=class{constructor(){Ue(this,fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jp(this.gcTime)&&Pe(this,fa,ua.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ra?1/0:5*60*1e3))}clearGcTimeout(){D(this,fa)&&(ua.clearTimeout(D(this,fa)),Pe(this,fa,void 0))}},fa=new WeakMap,Aj),pa,Lo,vr,ga,ls,Yc,xa,Br,Pn,Rj,T3=(Rj=class extends xS{constructor(e){super();Ue(this,Br);Ue(this,pa);Ue(this,Lo);Ue(this,vr);Ue(this,ga);Ue(this,ls);Ue(this,Yc);Ue(this,xa);Pe(this,xa,!1),Pe(this,Yc,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pe(this,ga,e.client),Pe(this,vr,D(this,ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pe(this,pa,Hv(this.options)),this.state=e.state??D(this,pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=D(this,ls))==null?void 0:e.promise}setOptions(e){if(this.options={...D(this,Yc),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Hv(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),Pe(this,pa,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,vr).remove(this)}setData(e,s){const n=eg(this.state.data,e,this.options);return st(this,Br,Pn).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){st(this,Br,Pn).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,i;const s=(n=D(this,ls))==null?void 0:n.promise;return(i=D(this,ls))==null||i.cancel(e),s?s.then(Ds).catch(Ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,pa))}isActive(){return this.observers.some(e=>wr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Oi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!uS(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=D(this,ls))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=D(this,ls))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),D(this,vr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(D(this,ls)&&(D(this,xa)?D(this,ls).cancel({revert:!0}):D(this,ls).cancelRetry()),this.scheduleGc()),D(this,vr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Br,Pn).call(this,{type:"invalidate"})}async fetch(e,s){var c,d,u,h,m,x,y,g,v,b,p,w;if(this.state.fetchStatus!=="idle"&&((c=D(this,ls))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(D(this,ls))return D(this,ls).continueRetry(),D(this,ls).promise}if(e&&this.setOptions(e),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,i=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Pe(this,xa,!0),n.signal)})},a=()=>{const j=mS(this.options,s),T=(()=>{const E={client:D(this,ga),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return Pe(this,xa,!1),this.options.persister?this.options.persister(j,T,this):j(T)},l=(()=>{const j={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:D(this,ga),state:this.state,fetchFn:a};return i(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),Pe(this,Lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&st(this,Br,Pn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Pe(this,ls,gS({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof sg&&j.revert&&this.setState({...D(this,Lo),fetchStatus:"idle"}),n.abort()},onFail:(j,S)=>{st(this,Br,Pn).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{st(this,Br,Pn).call(this,{type:"pause"})},onContinue:()=>{st(this,Br,Pn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await D(this,ls).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(x=(m=D(this,vr).config).onSuccess)==null||x.call(m,j,this),(g=(y=D(this,vr).config).onSettled)==null||g.call(y,j,this.state.error,this),j}catch(j){if(j instanceof sg){if(j.silent)return D(this,ls).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw st(this,Br,Pn).call(this,{type:"error",error:j}),(b=(v=D(this,vr).config).onError)==null||b.call(v,j,this),(w=(p=D(this,vr).config).onSettled)==null||w.call(p,this.state.data,j,this),j}finally{this.scheduleGc()}}},pa=new WeakMap,Lo=new WeakMap,vr=new WeakMap,ga=new WeakMap,ls=new WeakMap,Yc=new WeakMap,xa=new WeakMap,Br=new WeakSet,Pn=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yS(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Lo,e.manual?i:void 0),i;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),as.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),D(this,vr).notify({query:this,type:"updated",action:e})})},Rj);function yS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var $s,ut,Jc,ks,ya,Fo,Dn,xi,Zc,Uo,$o,va,ba,yi,Bo,wt,Ql,rg,ng,ig,ag,og,lg,cg,vS,Oj,E3=(Oj=class extends yl{constructor(e,s){super();Ue(this,wt);Ue(this,$s);Ue(this,ut);Ue(this,Jc);Ue(this,ks);Ue(this,ya);Ue(this,Fo);Ue(this,Dn);Ue(this,xi);Ue(this,Zc);Ue(this,Uo);Ue(this,$o);Ue(this,va);Ue(this,ba);Ue(this,yi);Ue(this,Bo,new Set);this.options=s,Pe(this,$s,e),Pe(this,xi,null),Pe(this,Dn,tg()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,ut).addObserver(this),Kv(D(this,ut),this.options)?st(this,wt,Ql).call(this):this.updateResult(),st(this,wt,ag).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dg(D(this,ut),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dg(D(this,ut),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,wt,og).call(this),st(this,wt,lg).call(this),D(this,ut).removeObserver(this)}setOptions(e){const s=this.options,n=D(this,ut);if(this.options=D(this,$s).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wr(this.options.enabled,D(this,ut))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,wt,cg).call(this),D(this,ut).setOptions(this.options),s._defaulted&&!ih(this.options,s)&&D(this,$s).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,ut),observer:this});const i=this.hasListeners();i&&Gv(D(this,ut),n,this.options,s)&&st(this,wt,Ql).call(this),this.updateResult(),i&&(D(this,ut)!==n||wr(this.options.enabled,D(this,ut))!==wr(s.enabled,D(this,ut))||Oi(this.options.staleTime,D(this,ut))!==Oi(s.staleTime,D(this,ut)))&&st(this,wt,rg).call(this);const a=st(this,wt,ng).call(this);i&&(D(this,ut)!==n||wr(this.options.enabled,D(this,ut))!==wr(s.enabled,D(this,ut))||a!==D(this,yi))&&st(this,wt,ig).call(this,a)}getOptimisticResult(e){const s=D(this,$s).getQueryCache().build(D(this,$s),e),n=this.createResult(s,e);return P3(this,n)&&(Pe(this,ks,n),Pe(this,Fo,this.options),Pe(this,ya,D(this,ut).state)),n}getCurrentResult(){return D(this,ks)}trackResult(e,s){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),s==null||s(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&D(this,Dn).status==="pending"&&D(this,Dn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){D(this,Bo).add(e)}getCurrentQuery(){return D(this,ut)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=D(this,$s).defaultQueryOptions(e),n=D(this,$s).getQueryCache().build(D(this,$s),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return st(this,wt,Ql).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,ks)))}createResult(e,s){var I;const n=D(this,ut),i=this.options,a=D(this,ks),o=D(this,ya),l=D(this,Fo),d=e!==n?e.state:D(this,Jc),{state:u}=e;let h={...u},m=!1,x;if(s._optimisticResults){const k=this.hasListeners(),P=!k&&Kv(e,s),F=k&&Gv(e,n,s,i);(P||F)&&(h={...h,...yS(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:v}=h;x=h.data;let b=!1;if(s.placeholderData!==void 0&&x===void 0&&v==="pending"){let k;a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(k=a.data,b=!0):k=typeof s.placeholderData=="function"?s.placeholderData((I=D(this,$o))==null?void 0:I.state.data,D(this,$o)):s.placeholderData,k!==void 0&&(v="success",x=eg(a==null?void 0:a.data,k,s),m=!0)}if(s.select&&x!==void 0&&!b)if(a&&x===(o==null?void 0:o.data)&&s.select===D(this,Zc))x=D(this,Uo);else try{Pe(this,Zc,s.select),x=s.select(x),x=eg(a==null?void 0:a.data,x,s),Pe(this,Uo,x),Pe(this,xi,null)}catch(k){Pe(this,xi,k)}D(this,xi)&&(y=D(this,xi),x=D(this,Uo),g=Date.now(),v="error");const p=h.fetchStatus==="fetching",w=v==="pending",j=v==="error",S=w&&p,T=x!==void 0,_={status:v,fetchStatus:h.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:S,isLoading:S,data:x,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!w,isLoadingError:j&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&T,isStale:ex(e,s),refetch:this.refetch,promise:D(this,Dn),isEnabled:wr(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=M=>{_.status==="error"?M.reject(_.error):_.data!==void 0&&M.resolve(_.data)},P=()=>{const M=Pe(this,Dn,_.promise=tg());k(M)},F=D(this,Dn);switch(F.status){case"pending":e.queryHash===n.queryHash&&k(F);break;case"fulfilled":(_.status==="error"||_.data!==F.value)&&P();break;case"rejected":(_.status!=="error"||_.error!==F.reason)&&P();break}}return _}updateResult(){const e=D(this,ks),s=this.createResult(D(this,ut),this.options);if(Pe(this,ya,D(this,ut).state),Pe(this,Fo,this.options),D(this,ya).data!==void 0&&Pe(this,$o,D(this,ut)),ih(s,e))return;Pe(this,ks,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!D(this,Bo).size)return!0;const o=new Set(a??D(this,Bo));return this.options.throwOnError&&o.add("error"),Object.keys(D(this,ks)).some(l=>{const c=l;return D(this,ks)[c]!==e[c]&&o.has(c)})};st(this,wt,vS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,wt,ag).call(this)}},$s=new WeakMap,ut=new WeakMap,Jc=new WeakMap,ks=new WeakMap,ya=new WeakMap,Fo=new WeakMap,Dn=new WeakMap,xi=new WeakMap,Zc=new WeakMap,Uo=new WeakMap,$o=new WeakMap,va=new WeakMap,ba=new WeakMap,yi=new WeakMap,Bo=new WeakMap,wt=new WeakSet,Ql=function(e){st(this,wt,cg).call(this);let s=D(this,ut).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Ds)),s},rg=function(){st(this,wt,og).call(this);const e=Oi(this.options.staleTime,D(this,ut));if(Ra||D(this,ks).isStale||!Jp(e))return;const n=uS(D(this,ks).dataUpdatedAt,e)+1;Pe(this,va,ua.setTimeout(()=>{D(this,ks).isStale||this.updateResult()},n))},ng=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,ut)):this.options.refetchInterval)??!1},ig=function(e){st(this,wt,lg).call(this),Pe(this,yi,e),!(Ra||wr(this.options.enabled,D(this,ut))===!1||!Jp(D(this,yi))||D(this,yi)===0)&&Pe(this,ba,ua.setInterval(()=>{(this.options.refetchIntervalInBackground||Z0.isFocused())&&st(this,wt,Ql).call(this)},D(this,yi)))},ag=function(){st(this,wt,rg).call(this),st(this,wt,ig).call(this,st(this,wt,ng).call(this))},og=function(){D(this,va)&&(ua.clearTimeout(D(this,va)),Pe(this,va,void 0))},lg=function(){D(this,ba)&&(ua.clearInterval(D(this,ba)),Pe(this,ba,void 0))},cg=function(){const e=D(this,$s).getQueryCache().build(D(this,$s),this.options);if(e===D(this,ut))return;const s=D(this,ut);Pe(this,ut,e),Pe(this,Jc,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},vS=function(e){as.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(D(this,ks))}),D(this,$s).getQueryCache().notify({query:D(this,ut),type:"observerResultsUpdated"})})},Oj);function k3(t,e){return wr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kv(t,e){return k3(t,e)||t.state.data!==void 0&&dg(t,e,e.refetchOnMount)}function dg(t,e,s){if(wr(e.enabled,t)!==!1&&Oi(e.staleTime,t)!=="static"){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&ex(t,e)}return!1}function Gv(t,e,s,n){return(t!==e||wr(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ex(t,s)}function ex(t,e){return wr(e.enabled,t)!==!1&&t.isStaleByTime(Oi(e.staleTime,t))}function P3(t,e){return!ih(t.getCurrentResult(),e)}function qv(t){return{onFetch:(e,s)=>{var u,h,m,x,y;const n=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=mS(e.options,e.fetchOptions),p=async(w,j,S)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:j,direction:S?"backward":"forward",meta:e.options.meta};return v(P),P})(),_=await b(E),{maxPages:I}=e.options,k=S?b3:v3;return{pages:k(w.pages,_,I),pageParams:k(w.pageParams,j,I)}};if(i&&a.length){const w=i==="backward",j=w?_3:Qv,S={pages:a,pageParams:o},T=j(n,S);l=await p(S,T,w)}else{const w=t??a.length;do{const j=c===0?o[0]??n.initialPageParam:Qv(n,l);if(c>0&&j==null)break;l=await p(l,j),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function Qv(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function _3(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var ed,ln,Ps,wa,cn,oi,Ij,M3=(Ij=class extends xS{constructor(e){super();Ue(this,cn);Ue(this,ed);Ue(this,ln);Ue(this,Ps);Ue(this,wa);Pe(this,ed,e.client),this.mutationId=e.mutationId,Pe(this,Ps,e.mutationCache),Pe(this,ln,[]),this.state=e.state||bS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){D(this,ln).includes(e)||(D(this,ln).push(e),this.clearGcTimeout(),D(this,Ps).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pe(this,ln,D(this,ln).filter(s=>s!==e)),this.scheduleGc(),D(this,Ps).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){D(this,ln).length||(this.state.status==="pending"?this.scheduleGc():D(this,Ps).remove(this))}continue(){var e;return((e=D(this,wa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,m,x,y,g,v,b,p,w,j,S,T,E,_,I;const s=()=>{st(this,cn,oi).call(this,{type:"continue"})},n={client:D(this,ed),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,wa,gS({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,P)=>{st(this,cn,oi).call(this,{type:"failed",failureCount:k,error:P})},onPause:()=>{st(this,cn,oi).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Ps).canRun(this)}));const i=this.state.status==="pending",a=!D(this,wa).canStart();try{if(i)s();else{st(this,cn,oi).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=D(this,Ps).config).onMutate)==null?void 0:l.call(o,e,this,n));const P=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,n));P!==this.state.context&&st(this,cn,oi).call(this,{type:"pending",context:P,variables:e,isPaused:a})}const k=await D(this,wa).start();return await((h=(u=D(this,Ps).config).onSuccess)==null?void 0:h.call(u,k,e,this.state.context,this,n)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,k,e,this.state.context,n)),await((g=(y=D(this,Ps).config).onSettled)==null?void 0:g.call(y,k,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,k,null,e,this.state.context,n)),st(this,cn,oi).call(this,{type:"success",data:k}),k}catch(k){try{throw await((w=(p=D(this,Ps).config).onError)==null?void 0:w.call(p,k,e,this.state.context,this,n)),await((S=(j=this.options).onError)==null?void 0:S.call(j,k,e,this.state.context,n)),await((E=(T=D(this,Ps).config).onSettled)==null?void 0:E.call(T,void 0,k,this.state.variables,this.state.context,this,n)),await((I=(_=this.options).onSettled)==null?void 0:I.call(_,void 0,k,e,this.state.context,n)),k}finally{st(this,cn,oi).call(this,{type:"error",error:k})}}finally{D(this,Ps).runNext(this)}}},ed=new WeakMap,ln=new WeakMap,Ps=new WeakMap,wa=new WeakMap,cn=new WeakSet,oi=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),as.batch(()=>{D(this,ln).forEach(n=>{n.onMutationUpdate(e)}),D(this,Ps).notify({mutation:this,type:"updated",action:e})})},Ij);function bS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var An,zr,td,Lj,D3=(Lj=class extends yl{constructor(e={}){super();Ue(this,An);Ue(this,zr);Ue(this,td);this.config=e,Pe(this,An,new Set),Pe(this,zr,new Map),Pe(this,td,0)}build(e,s,n){const i=new M3({client:e,mutationCache:this,mutationId:++wd(this,td)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){D(this,An).add(e);const s=Ud(e);if(typeof s=="string"){const n=D(this,zr).get(s);n?n.push(e):D(this,zr).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(D(this,An).delete(e)){const s=Ud(e);if(typeof s=="string"){const n=D(this,zr).get(s);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&D(this,zr).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Ud(e);if(typeof s=="string"){const n=D(this,zr).get(s),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const s=Ud(e);if(typeof s=="string"){const i=(n=D(this,zr).get(s))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){as.batch(()=>{D(this,An).forEach(e=>{this.notify({type:"removed",mutation:e})}),D(this,An).clear(),D(this,zr).clear()})}getAll(){return Array.from(D(this,An))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>zv(s,n))}findAll(e={}){return this.getAll().filter(s=>zv(e,s))}notify(e){as.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return as.batch(()=>Promise.all(e.map(s=>s.continue().catch(Ds))))}},An=new WeakMap,zr=new WeakMap,td=new WeakMap,Lj);function Ud(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Rn,vi,Bs,On,Wn,Su,ug,Fj,A3=(Fj=class extends yl{constructor(s,n){super();Ue(this,Wn);Ue(this,Rn);Ue(this,vi);Ue(this,Bs);Ue(this,On);Pe(this,Rn,s),this.setOptions(n),this.bindMethods(),st(this,Wn,Su).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const n=this.options;this.options=D(this,Rn).defaultMutationOptions(s),ih(this.options,n)||D(this,Rn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,Bs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Oa(n.mutationKey)!==Oa(this.options.mutationKey)?this.reset():((i=D(this,Bs))==null?void 0:i.state.status)==="pending"&&D(this,Bs).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=D(this,Bs))==null||s.removeObserver(this)}onMutationUpdate(s){st(this,Wn,Su).call(this),st(this,Wn,ug).call(this,s)}getCurrentResult(){return D(this,vi)}reset(){var s;(s=D(this,Bs))==null||s.removeObserver(this),Pe(this,Bs,void 0),st(this,Wn,Su).call(this),st(this,Wn,ug).call(this)}mutate(s,n){var i;return Pe(this,On,n),(i=D(this,Bs))==null||i.removeObserver(this),Pe(this,Bs,D(this,Rn).getMutationCache().build(D(this,Rn),this.options)),D(this,Bs).addObserver(this),D(this,Bs).execute(s)}},Rn=new WeakMap,vi=new WeakMap,Bs=new WeakMap,On=new WeakMap,Wn=new WeakSet,Su=function(){var n;const s=((n=D(this,Bs))==null?void 0:n.state)??bS();Pe(this,vi,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},ug=function(s){as.batch(()=>{var n,i,a,o,l,c,d,u;if(D(this,On)&&this.hasListeners()){const h=D(this,vi).variables,m=D(this,vi).context,x={client:D(this,Rn),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((i=(n=D(this,On)).onSuccess)==null||i.call(n,s.data,h,m,x),(o=(a=D(this,On)).onSettled)==null||o.call(a,s.data,null,h,m,x)):(s==null?void 0:s.type)==="error"&&((c=(l=D(this,On)).onError)==null||c.call(l,s.error,h,m,x),(u=(d=D(this,On)).onSettled)==null||u.call(d,void 0,s.error,h,m,x))}this.listeners.forEach(h=>{h(D(this,vi))})})},Fj),dn,Uj,R3=(Uj=class extends yl{constructor(e={}){super();Ue(this,dn);this.config=e,Pe(this,dn,new Map)}build(e,s,n){const i=s.queryKey,a=s.queryHash??Y0(i,s);let o=this.get(a);return o||(o=new T3({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){D(this,dn).has(e.queryHash)||(D(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=D(this,dn).get(e.queryHash);s&&(e.destroy(),s===e&&D(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){as.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,dn).get(e)}getAll(){return[...D(this,dn).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Bv(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>Bv(e,n)):s}notify(e){as.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){as.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){as.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,Uj),Ht,bi,wi,zo,Vo,ji,Wo,Ho,$j,O3=($j=class{constructor(t={}){Ue(this,Ht);Ue(this,bi);Ue(this,wi);Ue(this,zo);Ue(this,Vo);Ue(this,ji);Ue(this,Wo);Ue(this,Ho);Pe(this,Ht,t.queryCache||new R3),Pe(this,bi,t.mutationCache||new D3),Pe(this,wi,t.defaultOptions||{}),Pe(this,zo,new Map),Pe(this,Vo,new Map),Pe(this,ji,0)}mount(){wd(this,ji)._++,D(this,ji)===1&&(Pe(this,Wo,Z0.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Ht).onFocus())})),Pe(this,Ho,ah.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Ht).onOnline())})))}unmount(){var t,e;wd(this,ji)._--,D(this,ji)===0&&((t=D(this,Wo))==null||t.call(this),Pe(this,Wo,void 0),(e=D(this,Ho))==null||e.call(this),Pe(this,Ho,void 0))}isFetching(t){return D(this,Ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,bi).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=D(this,Ht).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=D(this,Ht).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Oi(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return D(this,Ht).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=D(this,Ht).get(n.queryHash),a=i==null?void 0:i.state.data,o=g3(e,a);if(o!==void 0)return D(this,Ht).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return as.batch(()=>D(this,Ht).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=D(this,Ht).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=D(this,Ht);as.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=D(this,Ht);return as.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=as.batch(()=>D(this,Ht).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Ds).catch(Ds)}invalidateQueries(t,e={}){return as.batch(()=>(D(this,Ht).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=as.batch(()=>D(this,Ht).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Ds)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ds)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=D(this,Ht).build(this,e);return s.isStaleByTime(Oi(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ds).catch(Ds)}fetchInfiniteQuery(t){return t.behavior=qv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ds).catch(Ds)}ensureInfiniteQueryData(t){return t.behavior=qv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ah.isOnline()?D(this,bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Ht)}getMutationCache(){return D(this,bi)}getDefaultOptions(){return D(this,wi)}setDefaultOptions(t){Pe(this,wi,t)}setQueryDefaults(t,e){D(this,zo).set(Oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,zo).values()],s={};return e.forEach(n=>{Rc(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){D(this,Vo).set(Oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,Vo).values()],s={};return e.forEach(n=>{Rc(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,wi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Y0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===J0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,wi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,Ht).clear(),D(this,bi).clear()}},Ht=new WeakMap,bi=new WeakMap,wi=new WeakMap,zo=new WeakMap,Vo=new WeakMap,ji=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,$j),wS=f.createContext(void 0),Mr=t=>{const e=f.useContext(wS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},I3=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx(wS.Provider,{value:t,children:e})),jS=f.createContext(!1),L3=()=>f.useContext(jS);jS.Provider;function F3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var U3=f.createContext(F3()),$3=()=>f.useContext(U3),B3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},z3=t=>{f.useEffect(()=>{t.clearReset()},[t])},V3=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||fS(s,[t.error,n])),W3=t=>{if(t.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>s(n(...i)):s(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},H3=(t,e)=>t.isLoading&&t.isFetching&&!e,K3=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Xv=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function G3(t,e,s){var h,m,x,y,g;const n=L3(),i=$3(),a=Mr(),o=a.defaultQueryOptions(t);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",W3(o),B3(o,i),z3(i);const l=!a.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new e(a,o)),d=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(v=>{const b=u?c.subscribe(as.batchCalls(v)):Ds;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),K3(o,d))throw Xv(o,c,i);if(V3({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((y=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,o,d),o.experimental_prefetchInRender&&!Ra&&H3(d,n)){const v=l?Xv(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(Ds).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Zt(t,e){return G3(t,E3)}function ys(t,e){const s=Mr(),[n]=f.useState(()=>new A3(s,t));f.useEffect(()=>{n.setOptions(t)},[n,t]);const i=f.useSyncExternalStore(f.useCallback(o=>n.subscribe(as.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=f.useCallback((o,l)=>{n.mutate(o,l).catch(Ds)},[n]);if(i.error&&fS(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const q3=()=>{const t=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",e=window.location.hostname.includes("vercel.app");return console.log("🔧 API Base URL Detection:",{hostname:window.location.hostname,isLocal:t,isVercel:e,isProd:!0}),e||!t?(console.log("🌐 Using Vercel API endpoints (relative URLs)"),""):t?(console.log("🏠 Using local server endpoints"),`http://${window.location.hostname}:3005`):(console.log("🔄 Using Vite proxy"),"")},NS=q3();async function SS(t){if(!t.ok){let e=t.statusText;try{const s=await t.json();e=s.message||s.error||JSON.stringify(s)}catch{try{e=await t.text()||t.statusText}catch{e=t.statusText}}throw new Error(`${t.status}: ${e}`)}}async function xs(t,e,s){const n=`${NS}${e}`,i=localStorage.getItem("authToken"),a={};s&&(a["Content-Type"]="application/json"),i&&!e.includes("/auth/admin/login")&&!e.includes("/auth/user/login")&&!e.includes("/admin-auth")&&!e.includes("/admin-login")&&(a.Authorization=`Bearer ${i}`);const o=await fetch(n,{method:t,headers:a,body:s?JSON.stringify(s):void 0,credentials:e.includes("/admin-login")?"omit":"include"});return await SS(o),await o.json()}const Q3=({on401:t})=>async({queryKey:e})=>{const s=`${NS}${e.join("/")}`,n=localStorage.getItem("authToken"),i={};n&&(i.Authorization=`Bearer ${n}`);const a=await fetch(s,{headers:i,credentials:"include"});return await SS(a),await a.json()},X3=new O3({defaultOptions:{queries:{queryFn:Q3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,cacheTime:0,retry:!1},mutations:{retry:!1}}}),Y3=1,J3=1e6;let yf=0;function Z3(){return yf=(yf+1)%Number.MAX_SAFE_INTEGER,yf.toString()}const vf=new Map,Yv=t=>{if(vf.has(t))return;const e=setTimeout(()=>{vf.delete(t),lc({type:"REMOVE_TOAST",toastId:t})},J3);vf.set(t,e)},eM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Y3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?Yv(s):t.toasts.forEach(n=>{Yv(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},Cu=[];let Tu={toasts:[]};function lc(t){Tu=eM(Tu,t),Cu.forEach(e=>{e(Tu)})}function Ze({...t}){const e=Z3(),s=i=>lc({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>lc({type:"DISMISS_TOAST",toastId:e});return lc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:s}}function gr(){const[t,e]=f.useState(Tu);return f.useEffect(()=>(Cu.push(e),()=>{const s=Cu.indexOf(e);s>-1&&Cu.splice(s,1)}),[t]),{...t,toast:Ze,dismiss:s=>lc({type:"DISMISS_TOAST",toastId:s})}}function Ee(t,e,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Jv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sm(...t){return e=>{let s=!1;const n=t.map(i=>{const a=Jv(i,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Jv(t[i],null)}}}}function vt(...t){return f.useCallback(sm(...t),t)}function tM(t,e){const s=f.createContext(e),n=a=>{const{children:o,...l}=a,c=f.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=f.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Dr(t,e=[]){let s=[];function n(a,o){const l=f.createContext(o),c=s.length;s=[...s,o];const d=h=>{var b;const{scope:m,children:x,...y}=h,g=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,v=f.useMemo(()=>y,Object.values(y));return r.jsx(g.Provider,{value:v,children:x})};d.displayName=a+"Provider";function u(h,m){var g;const x=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,y=f.useContext(x);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,sM(i,...e)]}function sM(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function Ia(t){const e=rM(t),s=f.forwardRef((n,i)=>{const{children:a,...o}=n,l=f.Children.toArray(a),c=l.find(iM);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}var CS=Ia("Slot");function rM(t){const e=f.forwardRef((s,n)=>{const{children:i,...a}=s;if(f.isValidElement(i)){const o=oM(i),l=aM(a,i.props);return i.type!==f.Fragment&&(l.ref=n?sm(n,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TS=Symbol("radix.slottable");function nM(t){const e=({children:s})=>r.jsx(r.Fragment,{children:s});return e.displayName=`${t}.Slottable`,e.__radixId=TS,e}function iM(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TS}function aM(t,e){const s={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function oM(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function rm(t){const e=t+"CollectionProvider",[s,n]=Dr(e),[i,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,p=Ne.useRef(null),w=Ne.useRef(new Map).current;return r.jsx(i,{scope:v,itemMap:w,collectionRef:p,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Ia(l),d=Ne.forwardRef((g,v)=>{const{scope:b,children:p}=g,w=a(l,b),j=vt(v,w.collectionRef);return r.jsx(c,{ref:j,children:p})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=Ia(u),x=Ne.forwardRef((g,v)=>{const{scope:b,children:p,...w}=g,j=Ne.useRef(null),S=vt(v,j),T=a(u,b);return Ne.useEffect(()=>(T.itemMap.set(j,{ref:j,...w}),()=>void T.itemMap.delete(j))),r.jsx(m,{[h]:"",ref:S,children:p})});x.displayName=u;function y(g){const v=a(t+"CollectionConsumer",g);return Ne.useCallback(()=>{const p=v.collectionRef.current;if(!p)return[];const w=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((T,E)=>w.indexOf(T.ref.current)-w.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},y,n]}var lM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=lM.reduce((t,e)=>{const s=Ia(`Primitive.${e}`),n=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tx(t,e){t&&qa.flushSync(()=>t.dispatchEvent(e))}function Xs(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...s)=>{var n;return(n=e.current)==null?void 0:n.call(e,...s)},[])}function cM(t,e=globalThis==null?void 0:globalThis.document){const s=Xs(t);f.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[s,e])}var dM="DismissableLayer",hg="dismissableLayer.update",uM="dismissableLayer.pointerDownOutside",hM="dismissableLayer.focusOutside",Zv,ES=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vl=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=f.useContext(ES),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=f.useState({}),y=vt(e,E=>h(E)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),p=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=p>=b,S=fM(E=>{const _=E.target,I=[...d.branches].some(k=>k.contains(_));!j||I||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),T=pM(E=>{const _=E.target;[...d.branches].some(k=>k.contains(_))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return cM(E=>{p===d.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Zv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),eb(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Zv)}},[u,m,s,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),eb())},[u,d]),f.useEffect(()=>{const E=()=>x({});return document.addEventListener(hg,E),()=>document.removeEventListener(hg,E)},[]),r.jsx(Ve.div,{...c,ref:y,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,S.onPointerDownCapture)})});vl.displayName=dM;var mM="DismissableLayerBranch",kS=f.forwardRef((t,e)=>{const s=f.useContext(ES),n=f.useRef(null),i=vt(e,n);return f.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),r.jsx(Ve.div,{...t,ref:i})});kS.displayName=mM;function fM(t,e=globalThis==null?void 0:globalThis.document){const s=Xs(t),n=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){PS(uM,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,s]),{onPointerDownCapture:()=>n.current=!0}}function pM(t,e=globalThis==null?void 0:globalThis.document){const s=Xs(t),n=f.useRef(!1);return f.useEffect(()=>{const i=a=>{a.target&&!n.current&&PS(hM,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eb(){const t=new CustomEvent(hg);document.dispatchEvent(t)}function PS(t,e,s,{discrete:n}){const i=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),n?tx(i,a):i.dispatchEvent(a)}var gM=vl,xM=kS,hs=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},yM="Portal",ld=f.forwardRef((t,e)=>{var l;const{container:s,...n}=t,[i,a]=f.useState(!1);hs(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?I_.createPortal(r.jsx(Ve.div,{...n,ref:e}),o):null});ld.displayName=yM;function vM(t,e){return f.useReducer((s,n)=>e[s][n]??s,t)}var Ar=t=>{const{present:e,children:s}=t,n=bM(e),i=typeof s=="function"?s({present:n.isPresent}):f.Children.only(s),a=vt(n.ref,wM(i));return typeof s=="function"||n.isPresent?f.cloneElement(i,{ref:a}):null};Ar.displayName="Presence";function bM(t){const[e,s]=f.useState(),n=f.useRef(null),i=f.useRef(t),a=f.useRef("none"),o=t?"mounted":"unmounted",[l,c]=vM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=$d(n.current);a.current=l==="mounted"?d:"none"},[l]),hs(()=>{const d=n.current,u=i.current;if(u!==t){const m=a.current,x=$d(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),hs(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=x=>{const g=$d(n.current).includes(CSS.escape(x.animationName));if(x.target===e&&g&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=x=>{x.target===e&&(a.current=$d(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,s(d)},[])}}function $d(t){return(t==null?void 0:t.animationName)||"none"}function wM(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var jM=n0[" useInsertionEffect ".trim().toString()]||hs;function Bi({prop:t,defaultProp:e,onChange:s=()=>{},caller:n}){const[i,a,o]=NM({defaultProp:e,onChange:s}),l=t!==void 0,c=l?t:i;{const u=f.useRef(t!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=SM(u)?u(t):u;m!==t&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,t,a,o]);return[c,d]}function NM({defaultProp:t,onChange:e}){const[s,n]=f.useState(t),i=f.useRef(s),a=f.useRef(e);return jM(()=>{a.current=e},[e]),f.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,n,a]}function SM(t){return typeof t=="function"}var _S=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CM="VisuallyHidden",nm=f.forwardRef((t,e)=>r.jsx(Ve.span,{...t,ref:e,style:{..._S,...t.style}}));nm.displayName=CM;var TM=nm,sx="ToastProvider",[rx,EM,kM]=rm("Toast"),[MS]=Dr("Toast",[kM]),[PM,im]=MS(sx),DS=t=>{const{__scopeToast:e,label:s="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${sx}\`. Expected non-empty \`string\`.`),r.jsx(rx.Provider,{scope:e,children:r.jsx(PM,{scope:e,label:s,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(x=>x+1),[]),onToastRemove:f.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};DS.displayName=sx;var AS="ToastViewport",_M=["F8"],mg="toast.viewportPause",fg="toast.viewportResume",RS=f.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:n=_M,label:i="Notifications ({hotkey})",...a}=t,o=im(AS,s),l=EM(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=vt(e,h,o.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;f.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),f.useEffect(()=>{const v=c.current,b=h.current;if(y&&v&&b){const p=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(mg);b.dispatchEvent(T),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(fg);b.dispatchEvent(T),o.isClosePausedRef.current=!1}},j=T=>{!v.contains(T.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",p),v.addEventListener("focusout",j),v.addEventListener("pointermove",p),v.addEventListener("pointerleave",S),window.addEventListener("blur",p),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",p),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",p),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",p),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:v})=>{const p=l().map(w=>{const j=w.ref.current,S=[j,...VM(j)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?p.reverse():p).flat()},[l]);return f.useEffect(()=>{const v=h.current;if(v){const b=p=>{var S,T,E;const w=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!w){const _=document.activeElement,I=p.shiftKey;if(p.target===v&&I){(S=d.current)==null||S.focus();return}const F=g({tabbingDirection:I?"backwards":"forwards"}),M=F.findIndex(H=>H===_);bf(F.slice(M+1))?p.preventDefault():I?(T=d.current)==null||T.focus():(E=u.current)==null||E.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,g]),r.jsxs(xM,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&r.jsx(pg,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});bf(v)}}),r.jsx(rx.Slot,{scope:s,children:r.jsx(Ve.ol,{tabIndex:-1,...a,ref:m})}),y&&r.jsx(pg,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});bf(v)}})]})});RS.displayName=AS;var OS="ToastFocusProxy",pg=f.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...i}=t,a=im(OS,s);return r.jsx(nm,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});pg.displayName=OS;var cd="Toast",MM="toast.swipeStart",DM="toast.swipeMove",AM="toast.swipeCancel",RM="toast.swipeEnd",IS=f.forwardRef((t,e)=>{const{forceMount:s,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=Bi({prop:n,defaultProp:i??!0,onChange:a,caller:cd});return r.jsx(Ar,{present:s||l,children:r.jsx(LM,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Xs(t.onPause),onResume:Xs(t.onResume),onSwipeStart:Ee(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});IS.displayName=cd;var[OM,IM]=MS(cd,{onClose(){}}),LM=f.forwardRef((t,e)=>{const{__scopeToast:s,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:x,...y}=t,g=im(cd,s),[v,b]=f.useState(null),p=vt(e,H=>b(H)),w=f.useRef(null),j=f.useRef(null),S=i||g.duration,T=f.useRef(0),E=f.useRef(S),_=f.useRef(0),{onToastAdd:I,onToastRemove:k}=g,P=Xs(()=>{var Z;(v==null?void 0:v.contains(document.activeElement))&&((Z=g.viewport)==null||Z.focus()),o()}),F=f.useCallback(H=>{!H||H===1/0||(window.clearTimeout(_.current),T.current=new Date().getTime(),_.current=window.setTimeout(P,H))},[P]);f.useEffect(()=>{const H=g.viewport;if(H){const Z=()=>{F(E.current),d==null||d()},O=()=>{const V=new Date().getTime()-T.current;E.current=E.current-V,window.clearTimeout(_.current),c==null||c()};return H.addEventListener(mg,O),H.addEventListener(fg,Z),()=>{H.removeEventListener(mg,O),H.removeEventListener(fg,Z)}}},[g.viewport,S,c,d,F]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&F(S)},[a,S,g.isClosePausedRef,F]),f.useEffect(()=>(I(),()=>k()),[I,k]);const M=f.useMemo(()=>v?VS(v):null,[v]);return g.viewport?r.jsxs(r.Fragment,{children:[M&&r.jsx(FM,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),r.jsx(OM,{scope:s,onClose:P,children:qa.createPortal(r.jsx(rx.ItemSlot,{scope:s,children:r.jsx(gM,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ve.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Ee(t.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ee(t.onPointerMove,H=>{if(!w.current)return;const Z=H.clientX-w.current.x,O=H.clientY-w.current.y,V=!!j.current,$=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=$?R(0,Z):0,q=$?0:R(0,O),ne=H.pointerType==="touch"?10:2,de={x:X,y:q},Se={originalEvent:H,delta:de};V?(j.current=de,Bd(DM,h,Se,{discrete:!1})):tb(de,g.swipeDirection,ne)?(j.current=de,Bd(MM,u,Se,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(Z)>ne||Math.abs(O)>ne)&&(w.current=null)}),onPointerUp:Ee(t.onPointerUp,H=>{const Z=j.current,O=H.target;if(O.hasPointerCapture(H.pointerId)&&O.releasePointerCapture(H.pointerId),j.current=null,w.current=null,Z){const V=H.currentTarget,$={originalEvent:H,delta:Z};tb(Z,g.swipeDirection,g.swipeThreshold)?Bd(RM,x,$,{discrete:!0}):Bd(AM,m,$,{discrete:!0}),V.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),FM=t=>{const{__scopeToast:e,children:s,...n}=t,i=im(cd,e),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return BM(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(ld,{asChild:!0,children:r.jsx(nm,{...n,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",s]})})})},UM="ToastTitle",LS=f.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return r.jsx(Ve.div,{...n,ref:e})});LS.displayName=UM;var $M="ToastDescription",FS=f.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t;return r.jsx(Ve.div,{...n,ref:e})});FS.displayName=$M;var US="ToastAction",$S=f.forwardRef((t,e)=>{const{altText:s,...n}=t;return s.trim()?r.jsx(zS,{altText:s,asChild:!0,children:r.jsx(nx,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${US}\`. Expected non-empty \`string\`.`),null)});$S.displayName=US;var BS="ToastClose",nx=f.forwardRef((t,e)=>{const{__scopeToast:s,...n}=t,i=IM(BS,s);return r.jsx(zS,{asChild:!0,children:r.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,i.onClose)})})});nx.displayName=BS;var zS=f.forwardRef((t,e)=>{const{__scopeToast:s,altText:n,...i}=t;return r.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function VS(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),zM(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...VS(n))}}),e}function Bd(t,e,s,{discrete:n}){const i=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),n?tx(i,a):i.dispatchEvent(a)}var tb=(t,e,s=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>s:!a&&i>s};function BM(t=()=>{}){const e=Xs(t);hs(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[e])}function zM(t){return t.nodeType===t.ELEMENT_NODE}function VM(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function bf(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var WM=DS,WS=RS,HS=IS,KS=LS,GS=FS,qS=$S,QS=nx;function XS(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=XS(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function YS(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=XS(t))&&(n&&(n+=" "),n+=e);return n}const sb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rb=YS,am=(t,e)=>s=>{var n;if((e==null?void 0:e.variants)==null)return rb(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const m=sb(u)||sb(h);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...x}=u;return Object.entries(x).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...d,h,m]:d},[]);return rb(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(t,e)=>{const s=f.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>f.createElement("svg",{ref:u,...HM,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${KM(t)}`,l].join(" "),...d},[...e.map(([h,m])=>f.createElement(h,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Be("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Be("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=Be("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Be("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Be("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=Be("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Be("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Be("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ax="-",mD=t=>{const e=pD(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(ax);return l[0]===""&&l.length!==1&&l.shift(),t2(l,e)||fD(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},t2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),i=n?t2(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(ax);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},hb=/^\[(.+)\]$/,fD=t=>{if(hb.test(t)){const e=hb.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},pD=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return xD(Object.entries(t.classGroups),s).forEach(([a,o])=>{vg(o,n,a,e)}),n},vg=(t,e,s,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:mb(e,i);a.classGroupId=s;return}if(typeof i=="function"){if(gD(i)){vg(i(n),e,s,n);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{vg(o,mb(e,a),s,n)})})},mb=(t,e)=>{let s=t;return e.split(ax).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},gD=t=>t.isThemeGetter,xD=(t,e)=>e?t.map(([s,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,i]}):t,yD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const i=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},s2="!",vD=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===i&&(n||l.slice(v,v+a)===e)){c.push(l.slice(u,v)),u=v+a;continue}if(b==="/"){h=v;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),x=m.startsWith(s2),y=x?m.substring(1):m,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:g}};return s?l=>s({className:l,parseClassName:o}):o},bD=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},wD=t=>({cache:yD(t.cacheSize),parseClassName:vD(t),...mD(t)}),jD=/\s+/,ND=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(jD);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:x}=s(d);let y=!!x,g=n(y?m.substring(0,x):m);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const v=bD(u).join(":"),b=h?v+s2:v,p=b+g;if(a.includes(p))continue;a.push(p);const w=i(g,y);for(let j=0;j<w.length;++j){const S=w[j];a.push(b+S)}l=d+(l.length>0?" "+l:l)}return l};function SD(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=r2(e))&&(n&&(n+=" "),n+=s);return n}const r2=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=r2(t[n]))&&(s&&(s+=" "),s+=e);return s};function CD(t,...e){let s,n,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=wD(d),n=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=ND(c,s);return i(c,u),u}return function(){return a(SD.apply(null,arguments))}}const Dt=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},n2=/^\[(?:([a-z-]+):)?(.+)\]$/i,TD=/^\d+\/\d+$/,ED=new Set(["px","full","screen"]),kD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_D=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,En=t=>Po(t)||ED.has(t)||TD.test(t),ni=t=>bl(t,"length",$D),Po=t=>!!t&&!Number.isNaN(Number(t)),jf=t=>bl(t,"number",Po),Ul=t=>!!t&&Number.isInteger(Number(t)),AD=t=>t.endsWith("%")&&Po(t.slice(0,-1)),tt=t=>n2.test(t),ii=t=>kD.test(t),RD=new Set(["length","size","percentage"]),OD=t=>bl(t,RD,i2),ID=t=>bl(t,"position",i2),LD=new Set(["image","url"]),FD=t=>bl(t,LD,zD),UD=t=>bl(t,"",BD),$l=()=>!0,bl=(t,e,s)=>{const n=n2.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},$D=t=>PD.test(t)&&!_D.test(t),i2=()=>!1,BD=t=>MD.test(t),zD=t=>DD.test(t),VD=()=>{const t=Dt("colors"),e=Dt("spacing"),s=Dt("blur"),n=Dt("brightness"),i=Dt("borderColor"),a=Dt("borderRadius"),o=Dt("borderSpacing"),l=Dt("borderWidth"),c=Dt("contrast"),d=Dt("grayscale"),u=Dt("hueRotate"),h=Dt("invert"),m=Dt("gap"),x=Dt("gradientColorStops"),y=Dt("gradientColorStopPositions"),g=Dt("inset"),v=Dt("margin"),b=Dt("opacity"),p=Dt("padding"),w=Dt("saturate"),j=Dt("scale"),S=Dt("sepia"),T=Dt("skew"),E=Dt("space"),_=Dt("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",tt,e],F=()=>[tt,e],M=()=>["",En,ni],H=()=>["auto",Po,tt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",tt],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Po,tt];return{cacheSize:500,separator:":",theme:{colors:[$l],spacing:[En,ni],blur:["none","",ii,tt],brightness:q(),borderColor:[t],borderRadius:["none","","full",ii,tt],borderSpacing:F(),borderWidth:M(),contrast:q(),grayscale:R(),hueRotate:q(),invert:R(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[AD,ni],inset:P(),margin:P(),opacity:q(),padding:F(),saturate:q(),scale:q(),sepia:R(),skew:q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[ii]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),tt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ul,tt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ul,tt]}],"grid-cols":[{"grid-cols":[$l]}],"col-start-end":[{col:["auto",{span:["full",Ul,tt]},tt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[$l]}],"row-start-end":[{row:["auto",{span:[Ul,tt]},tt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[ii]},ii]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ii,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jf]}],"font-family":[{font:[$l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",Po,jf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",En,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",En,ni]}],"underline-offset":[{"underline-offset":["auto",En,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),ID]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[En,tt]}],"outline-w":[{outline:[En,ni]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[En,ni]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ii,UD]}],"shadow-color":[{shadow:[$l]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ii,tt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ul,tt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[En,ni,jf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WD=CD(VD);function $e(...t){return WD(YS(t))}const HD=WM,a2=f.forwardRef(({className:t,...e},s)=>r.jsx(WS,{ref:s,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));a2.displayName=WS.displayName;const KD=am("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),o2=f.forwardRef(({className:t,variant:e,...s},n)=>r.jsx(HS,{ref:n,className:$e(KD({variant:e}),t),...s}));o2.displayName=HS.displayName;const GD=f.forwardRef(({className:t,...e},s)=>r.jsx(qS,{ref:s,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));GD.displayName=qS.displayName;const l2=f.forwardRef(({className:t,...e},s)=>r.jsx(QS,{ref:s,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:r.jsx(om,{className:"h-4 w-4"})}));l2.displayName=QS.displayName;const c2=f.forwardRef(({className:t,...e},s)=>r.jsx(KS,{ref:s,className:$e("text-sm font-semibold",t),...e}));c2.displayName=KS.displayName;const d2=f.forwardRef(({className:t,...e},s)=>r.jsx(GS,{ref:s,className:$e("text-sm opacity-90",t),...e}));d2.displayName=GS.displayName;function qD(){const{toasts:t}=gr();return r.jsxs(HD,{children:[t.map(function({id:e,title:s,description:n,action:i,...a}){return r.jsxs(o2,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(c2,{children:s}),n&&r.jsx(d2,{children:n})]}),i,r.jsx(l2,{})]},e)}),r.jsx(a2,{})]})}var QD=n0[" useId ".trim().toString()]||(()=>{}),XD=0;function Qr(t){const[e,s]=f.useState(QD());return hs(()=>{s(n=>n??String(XD++))},[t]),e?`radix-${e}`:""}const YD=["top","right","bottom","left"],zi=Math.min,ar=Math.max,dh=Math.round,Wd=Math.floor,wn=t=>({x:t,y:t}),JD={left:"right",right:"left",bottom:"top",top:"bottom"},ZD={start:"end",end:"start"};function bg(t,e,s){return ar(t,zi(e,s))}function Yn(t,e){return typeof t=="function"?t(e):t}function Jn(t){return t.split("-")[0]}function wl(t){return t.split("-")[1]}function ox(t){return t==="x"?"y":"x"}function lx(t){return t==="y"?"height":"width"}const eA=new Set(["top","bottom"]);function gn(t){return eA.has(Jn(t))?"y":"x"}function cx(t){return ox(gn(t))}function tA(t,e,s){s===void 0&&(s=!1);const n=wl(t),i=cx(t),a=lx(i);let o=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=uh(o)),[o,uh(o)]}function sA(t){const e=uh(t);return[wg(t),e,wg(e)]}function wg(t){return t.replace(/start|end/g,e=>ZD[e])}const fb=["left","right"],pb=["right","left"],rA=["top","bottom"],nA=["bottom","top"];function iA(t,e,s){switch(t){case"top":case"bottom":return s?e?pb:fb:e?fb:pb;case"left":case"right":return e?rA:nA;default:return[]}}function aA(t,e,s,n){const i=wl(t);let a=iA(Jn(t),s==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(wg)))),a}function uh(t){return t.replace(/left|right|bottom|top/g,e=>JD[e])}function oA(t){return{top:0,right:0,bottom:0,left:0,...t}}function u2(t){return typeof t!="number"?oA(t):{top:t,right:t,bottom:t,left:t}}function hh(t){const{x:e,y:s,width:n,height:i}=t;return{width:n,height:i,top:s,left:e,right:e+n,bottom:s+i,x:e,y:s}}function gb(t,e,s){let{reference:n,floating:i}=t;const a=gn(e),o=cx(e),l=lx(o),c=Jn(e),d=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let x;switch(c){case"top":x={x:u,y:n.y-i.height};break;case"bottom":x={x:u,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:h};break;case"left":x={x:n.x-i.width,y:h};break;default:x={x:n.x,y:n.y}}switch(wl(e)){case"start":x[o]-=m*(s&&d?-1:1);break;case"end":x[o]+=m*(s&&d?-1:1);break}return x}const lA=async(t,e,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=gb(d,n,c),m=n,x={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:p,y:w,data:j,reset:S}=await b({x:u,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});u=p??u,h=w??h,x={...x,[v]:{...x[v],...j}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:h}=gb(d,m,c)),g=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:x}};async function Lc(t,e){var s;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:x=0}=Yn(e,t),y=u2(x),v=l[m?h==="floating"?"reference":"floating":h],b=hh(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(v)))==null||s?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=hh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:w,strategy:c}):p);return{top:(b.top-S.top+y.top)/j.y,bottom:(S.bottom-b.bottom+y.bottom)/j.y,left:(b.left-S.left+y.left)/j.x,right:(S.right-b.right+y.right)/j.x}}const cA=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Yn(t,e)||{};if(d==null)return{};const h=u2(u),m={x:s,y:n},x=cx(i),y=lx(x),g=await o.getDimensions(d),v=x==="y",b=v?"top":"left",p=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[x]-m[x]-a.floating[y],S=m[x]-a.reference[x],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=T?T[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(T)))&&(E=l.floating[w]||a.floating[y]);const _=j/2-S/2,I=E/2-g[y]/2-1,k=zi(h[b],I),P=zi(h[p],I),F=k,M=E-g[y]-P,H=E/2-g[y]/2+_,Z=bg(F,H,M),O=!c.arrow&&wl(i)!=null&&H!==Z&&a.reference[y]/2-(H<F?k:P)-g[y]/2<0,V=O?H<F?H-F:H-M:0;return{[x]:m[x]+V,data:{[x]:Z,centerOffset:H-Z-V,...O&&{alignmentOffset:V}},reset:O}}}),dA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Yn(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const b=Jn(i),p=gn(l),w=Jn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=m||(w||!g?[uh(l)]:sA(l)),T=y!=="none";!m&&T&&S.push(...aA(l,g,y,j));const E=[l,...S],_=await Lc(e,v),I=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&I.push(_[b]),h){const H=tA(i,o,j);I.push(_[H[0]],_[H[1]])}if(k=[...k,{placement:i,overflows:I}],!I.every(H=>H<=0)){var P,F;const H=(((P=a.flip)==null?void 0:P.index)||0)+1,Z=E[H];if(Z&&(!(h==="alignment"?p!==gn(Z):!1)||k.every($=>gn($.placement)===p?$.overflows[0]>0:!0)))return{data:{index:H,overflows:k},reset:{placement:Z}};let O=(F=k.filter(V=>V.overflows[0]<=0).sort((V,$)=>V.overflows[1]-$.overflows[1])[0])==null?void 0:F.placement;if(!O)switch(x){case"bestFit":{var M;const V=(M=k.filter($=>{if(T){const R=gn($.placement);return R===p||R==="y"}return!0}).map($=>[$.placement,$.overflows.filter(R=>R>0).reduce((R,X)=>R+X,0)]).sort(($,R)=>$[1]-R[1])[0])==null?void 0:M[0];V&&(O=V);break}case"initialPlacement":O=l;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function xb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yb(t){return YD.some(e=>t[e]>=0)}const uA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:n="referenceHidden",...i}=Yn(t,e);switch(n){case"referenceHidden":{const a=await Lc(e,{...i,elementContext:"reference"}),o=xb(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yb(o)}}}case"escaped":{const a=await Lc(e,{...i,altBoundary:!0}),o=xb(a,s.floating);return{data:{escapedOffsets:o,escaped:yb(o)}}}default:return{}}}}},h2=new Set(["left","top"]);async function hA(t,e){const{placement:s,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Jn(s),l=wl(s),c=gn(s)==="y",d=h2.has(o)?-1:1,u=a&&c?-1:1,h=Yn(e,t);let{mainAxis:m,crossAxis:x,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(x=l==="end"?y*-1:y),c?{x:x*u,y:m*d}:{x:m*d,y:x*u}}const mA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await hA(e,t);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},fA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:p}=v;return{x:b,y:p}}},...c}=Yn(t,e),d={x:s,y:n},u=await Lc(e,c),h=gn(Jn(i)),m=ox(h);let x=d[m],y=d[h];if(a){const v=m==="y"?"top":"left",b=m==="y"?"bottom":"right",p=x+u[v],w=x-u[b];x=bg(p,x,w)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",p=y+u[v],w=y-u[b];y=bg(p,y,w)}const g=l.fn({...e,[m]:x,[h]:y});return{...g,data:{x:g.x-s,y:g.y-n,enabled:{[m]:a,[h]:o}}}}}},pA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Yn(t,e),u={x:s,y:n},h=gn(i),m=ox(h);let x=u[m],y=u[h];const g=Yn(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=m==="y"?"height":"width",j=a.reference[m]-a.floating[w]+v.mainAxis,S=a.reference[m]+a.reference[w]-v.mainAxis;x<j?x=j:x>S&&(x=S)}if(d){var b,p;const w=m==="y"?"width":"height",j=h2.has(Jn(i)),S=a.reference[h]-a.floating[w]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:v.crossAxis),T=a.reference[h]+a.reference[w]+(j?0:((p=o.offset)==null?void 0:p[h])||0)-(j?v.crossAxis:0);y<S?y=S:y>T&&(y=T)}return{[m]:x,[h]:y}}}},gA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Yn(t,e),u=await Lc(e,d),h=Jn(i),m=wl(i),x=gn(i)==="y",{width:y,height:g}=a.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=m==="end"?"top":"bottom");const p=g-u.top-u.bottom,w=y-u.left-u.right,j=zi(g-u[v],p),S=zi(y-u[b],w),T=!e.middlewareData.shift;let E=j,_=S;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(_=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=p),T&&!m){const k=ar(u.left,0),P=ar(u.right,0),F=ar(u.top,0),M=ar(u.bottom,0);x?_=y-2*(k!==0||P!==0?k+P:ar(u.left,u.right)):E=g-2*(F!==0||M!==0?F+M:ar(u.top,u.bottom))}await c({...e,availableWidth:_,availableHeight:E});const I=await o.getDimensions(l.floating);return y!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function lm(){return typeof window<"u"}function jl(t){return m2(t)?(t.nodeName||"").toLowerCase():"#document"}function ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sn(t){var e;return(e=(m2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function m2(t){return lm()?t instanceof Node||t instanceof ur(t).Node:!1}function Yr(t){return lm()?t instanceof Element||t instanceof ur(t).Element:!1}function Nn(t){return lm()?t instanceof HTMLElement||t instanceof ur(t).HTMLElement:!1}function vb(t){return!lm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ur(t).ShadowRoot}const xA=new Set(["inline","contents"]);function dd(t){const{overflow:e,overflowX:s,overflowY:n,display:i}=Jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+s)&&!xA.has(i)}const yA=new Set(["table","td","th"]);function vA(t){return yA.has(jl(t))}const bA=[":popover-open",":modal"];function cm(t){return bA.some(e=>{try{return t.matches(e)}catch{return!1}})}const wA=["transform","translate","scale","rotate","perspective"],jA=["transform","translate","scale","rotate","perspective","filter"],NA=["paint","layout","strict","content"];function dx(t){const e=ux(),s=Yr(t)?Jr(t):t;return wA.some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||jA.some(n=>(s.willChange||"").includes(n))||NA.some(n=>(s.contain||"").includes(n))}function SA(t){let e=Vi(t);for(;Nn(e)&&!sl(e);){if(dx(e))return e;if(cm(e))return null;e=Vi(e)}return null}function ux(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CA=new Set(["html","body","#document"]);function sl(t){return CA.has(jl(t))}function Jr(t){return ur(t).getComputedStyle(t)}function dm(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vi(t){if(jl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vb(t)&&t.host||Sn(t);return vb(e)?e.host:e}function f2(t){const e=Vi(t);return sl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nn(e)&&dd(e)?e:f2(e)}function Fc(t,e,s){var n;e===void 0&&(e=[]),s===void 0&&(s=!0);const i=f2(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=ur(i);if(a){const l=jg(o);return e.concat(o,o.visualViewport||[],dd(i)?i:[],l&&s?Fc(l):[])}return e.concat(i,Fc(i,[],s))}function jg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function p2(t){const e=Jr(t);let s=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Nn(t),a=i?t.offsetWidth:s,o=i?t.offsetHeight:n,l=dh(s)!==a||dh(n)!==o;return l&&(s=a,n=o),{width:s,height:n,$:l}}function hx(t){return Yr(t)?t:t.contextElement}function _o(t){const e=hx(t);if(!Nn(e))return wn(1);const s=e.getBoundingClientRect(),{width:n,height:i,$:a}=p2(e);let o=(a?dh(s.width):s.width)/n,l=(a?dh(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TA=wn(0);function g2(t){const e=ur(t);return!ux()||!e.visualViewport?TA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EA(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==ur(t)?!1:e}function La(t,e,s,n){e===void 0&&(e=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),a=hx(t);let o=wn(1);e&&(n?Yr(n)&&(o=_o(n)):o=_o(t));const l=EA(a,s,n)?g2(a):wn(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=ur(a),x=n&&Yr(n)?ur(n):n;let y=m,g=jg(y);for(;g&&n&&x!==y;){const v=_o(g),b=g.getBoundingClientRect(),p=Jr(g),w=b.left+(g.clientLeft+parseFloat(p.paddingLeft))*v.x,j=b.top+(g.clientTop+parseFloat(p.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=w,d+=j,y=ur(g),g=jg(y)}}return hh({width:u,height:h,x:c,y:d})}function um(t,e){const s=dm(t).scrollLeft;return e?e.left+s:La(Sn(t)).left+s}function x2(t,e){const s=t.getBoundingClientRect(),n=s.left+e.scrollLeft-um(t,s),i=s.top+e.scrollTop;return{x:n,y:i}}function kA(t){let{elements:e,rect:s,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Sn(n),l=e?cm(e.floating):!1;if(n===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=wn(1);const u=wn(0),h=Nn(n);if((h||!h&&!a)&&((jl(n)!=="body"||dd(o))&&(c=dm(n)),Nn(n))){const x=La(n);d=_o(n),u.x=x.x+n.clientLeft,u.y=x.y+n.clientTop}const m=o&&!h&&!a?x2(o,c):wn(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function PA(t){return Array.from(t.getClientRects())}function _A(t){const e=Sn(t),s=dm(t),n=t.ownerDocument.body,i=ar(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ar(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+um(t);const l=-s.scrollTop;return Jr(n).direction==="rtl"&&(o+=ar(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const bb=25;function MA(t,e){const s=ur(t),n=Sn(t),i=s.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=ux();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=um(n);if(d<=0){const u=n.ownerDocument,h=u.body,m=getComputedStyle(h),x=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(n.clientWidth-h.clientWidth-x);y<=bb&&(a-=y)}else d<=bb&&(a+=d);return{width:a,height:o,x:l,y:c}}const DA=new Set(["absolute","fixed"]);function AA(t,e){const s=La(t,!0,e==="fixed"),n=s.top+t.clientTop,i=s.left+t.clientLeft,a=Nn(t)?_o(t):wn(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function wb(t,e,s){let n;if(e==="viewport")n=MA(t,s);else if(e==="document")n=_A(Sn(t));else if(Yr(e))n=AA(e,s);else{const i=g2(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hh(n)}function y2(t,e){const s=Vi(t);return s===e||!Yr(s)||sl(s)?!1:Jr(s).position==="fixed"||y2(s,e)}function RA(t,e){const s=e.get(t);if(s)return s;let n=Fc(t,[],!1).filter(l=>Yr(l)&&jl(l)!=="body"),i=null;const a=Jr(t).position==="fixed";let o=a?Vi(t):t;for(;Yr(o)&&!sl(o);){const l=Jr(o),c=dx(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&DA.has(i.position)||dd(o)&&!c&&y2(t,o))?n=n.filter(u=>u!==o):i=l,o=Vi(o)}return e.set(t,n),n}function OA(t){let{element:e,boundary:s,rootBoundary:n,strategy:i}=t;const o=[...s==="clippingAncestors"?cm(e)?[]:RA(e,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const h=wb(e,u,i);return d.top=ar(h.top,d.top),d.right=zi(h.right,d.right),d.bottom=zi(h.bottom,d.bottom),d.left=ar(h.left,d.left),d},wb(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IA(t){const{width:e,height:s}=p2(t);return{width:e,height:s}}function LA(t,e,s){const n=Nn(e),i=Sn(e),a=s==="fixed",o=La(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=wn(0);function d(){c.x=um(i)}if(n||!n&&!a)if((jl(e)!=="body"||dd(i))&&(l=dm(e)),n){const x=La(e,!0,a,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else i&&d();a&&!n&&i&&d();const u=i&&!n&&!a?x2(i,l):wn(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Nf(t){return Jr(t).position==="static"}function jb(t,e){if(!Nn(t)||Jr(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return Sn(t)===s&&(s=s.ownerDocument.body),s}function v2(t,e){const s=ur(t);if(cm(t))return s;if(!Nn(t)){let i=Vi(t);for(;i&&!sl(i);){if(Yr(i)&&!Nf(i))return i;i=Vi(i)}return s}let n=jb(t,e);for(;n&&vA(n)&&Nf(n);)n=jb(n,e);return n&&sl(n)&&Nf(n)&&!dx(n)?s:n||SA(t)||s}const FA=async function(t){const e=this.getOffsetParent||v2,s=this.getDimensions,n=await s(t.floating);return{reference:LA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UA(t){return Jr(t).direction==="rtl"}const $A={convertOffsetParentRelativeRectToViewportRelativeRect:kA,getDocumentElement:Sn,getClippingRect:OA,getOffsetParent:v2,getElementRects:FA,getClientRects:PA,getDimensions:IA,getScale:_o,isElement:Yr,isRTL:UA};function b2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BA(t,e){let s=null,n;const i=Sn(t);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:x}=d;if(l||e(),!m||!x)return;const y=Wd(h),g=Wd(i.clientWidth-(u+m)),v=Wd(i.clientHeight-(h+x)),b=Wd(u),w={rootMargin:-y+"px "+-g+"px "+-v+"px "+-b+"px",threshold:ar(0,zi(1,c))||1};let j=!0;function S(T){const E=T[0].intersectionRatio;if(E!==c){if(!j)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!b2(d,t.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{s=new IntersectionObserver(S,w)}s.observe(t)}return o(!0),a}function zA(t,e,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=hx(t),u=i||a?[...d?Fc(d):[],...Fc(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",s,{passive:!0}),a&&b.addEventListener("resize",s)});const h=d&&l?BA(d,s):null;let m=-1,x=null;o&&(x=new ResizeObserver(b=>{let[p]=b;p&&p.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(e)})),s()}),d&&!c&&x.observe(d),x.observe(e));let y,g=c?La(t):null;c&&v();function v(){const b=La(t);g&&!b2(g,b)&&s(),g=b,y=requestAnimationFrame(v)}return s(),()=>{var b;u.forEach(p=>{i&&p.removeEventListener("scroll",s),a&&p.removeEventListener("resize",s)}),h==null||h(),(b=x)==null||b.disconnect(),x=null,c&&cancelAnimationFrame(y)}}const VA=mA,WA=fA,HA=dA,KA=gA,GA=uA,Nb=cA,qA=pA,QA=(t,e,s)=>{const n=new Map,i={platform:$A,...s},a={...i.platform,_c:n};return lA(t,e,{...i,platform:a})};var XA=typeof document<"u",YA=function(){},Pu=XA?f.useLayoutEffect:YA;function mh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(n=s;n--!==0;)if(!mh(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(e).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=s;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!mh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function w2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Sb(t,e){const s=w2(t);return Math.round(e*s)/s}function Sf(t){const e=f.useRef(t);return Pu(()=>{e.current=t}),e}function JA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=f.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[m,x]=f.useState(n);mh(m,n)||x(n);const[y,g]=f.useState(null),[v,b]=f.useState(null),p=f.useCallback($=>{$!==T.current&&(T.current=$,g($))},[]),w=f.useCallback($=>{$!==E.current&&(E.current=$,b($))},[]),j=a||y,S=o||v,T=f.useRef(null),E=f.useRef(null),_=f.useRef(u),I=c!=null,k=Sf(c),P=Sf(i),F=Sf(d),M=f.useCallback(()=>{if(!T.current||!E.current)return;const $={placement:e,strategy:s,middleware:m};P.current&&($.platform=P.current),QA(T.current,E.current,$).then(R=>{const X={...R,isPositioned:F.current!==!1};H.current&&!mh(_.current,X)&&(_.current=X,qa.flushSync(()=>{h(X)}))})},[m,e,s,P,F]);Pu(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[d]);const H=f.useRef(!1);Pu(()=>(H.current=!0,()=>{H.current=!1}),[]),Pu(()=>{if(j&&(T.current=j),S&&(E.current=S),j&&S){if(k.current)return k.current(j,S,M);M()}},[j,S,M,k,I]);const Z=f.useMemo(()=>({reference:T,floating:E,setReference:p,setFloating:w}),[p,w]),O=f.useMemo(()=>({reference:j,floating:S}),[j,S]),V=f.useMemo(()=>{const $={position:s,left:0,top:0};if(!O.floating)return $;const R=Sb(O.floating,u.x),X=Sb(O.floating,u.y);return l?{...$,transform:"translate("+R+"px, "+X+"px)",...w2(O.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:R,top:X}},[s,l,O.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:M,refs:Z,elements:O,floatingStyles:V}),[u,M,Z,O,V])}const ZA=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:n,padding:i}=typeof t=="function"?t(s):t;return n&&e(n)?n.current!=null?Nb({element:n.current,padding:i}).fn(s):{}:n?Nb({element:n,padding:i}).fn(s):{}}}},eR=(t,e)=>({...VA(t),options:[t,e]}),tR=(t,e)=>({...WA(t),options:[t,e]}),sR=(t,e)=>({...qA(t),options:[t,e]}),rR=(t,e)=>({...HA(t),options:[t,e]}),nR=(t,e)=>({...KA(t),options:[t,e]}),iR=(t,e)=>({...GA(t),options:[t,e]}),aR=(t,e)=>({...ZA(t),options:[t,e]});var oR="Arrow",j2=f.forwardRef((t,e)=>{const{children:s,width:n=10,height:i=5,...a}=t;return r.jsx(Ve.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});j2.displayName=oR;var lR=j2;function cR(t){const[e,s]=f.useState(void 0);return hs(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else s(void 0)},[t]),e}var mx="Popper",[N2,Nl]=Dr(mx),[dR,S2]=N2(mx),C2=t=>{const{__scopePopper:e,children:s}=t,[n,i]=f.useState(null);return r.jsx(dR,{scope:e,anchor:n,onAnchorChange:i,children:s})};C2.displayName=mx;var T2="PopperAnchor",E2=f.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:n,...i}=t,a=S2(T2,s),o=f.useRef(null),l=vt(e,o),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:r.jsx(Ve.div,{...i,ref:l})});E2.displayName=T2;var fx="PopperContent",[uR,hR]=N2(fx),k2=f.forwardRef((t,e)=>{var me,Oe,be,ce,pe,ze;const{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:y,...g}=t,v=S2(fx,s),[b,p]=f.useState(null),w=vt(e,K=>p(K)),[j,S]=f.useState(null),T=cR(j),E=(T==null?void 0:T.width)??0,_=(T==null?void 0:T.height)??0,I=n+(a!=="center"?"-"+a:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(d)?d:[d],F=P.length>0,M={padding:k,boundary:P.filter(fR),altBoundary:F},{refs:H,floatingStyles:Z,placement:O,isPositioned:V,middlewareData:$}=JA({strategy:"fixed",placement:I,whileElementsMounted:(...K)=>zA(...K,{animationFrame:x==="always"}),elements:{reference:v.anchor},middleware:[eR({mainAxis:i+_,alignmentAxis:o}),c&&tR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?sR():void 0,...M}),c&&rR({...M}),nR({...M,apply:({elements:K,rects:he,availableWidth:Ye,availableHeight:Ge})=>{const{width:ct,height:dt}=he.reference,ft=K.floating.style;ft.setProperty("--radix-popper-available-width",`${Ye}px`),ft.setProperty("--radix-popper-available-height",`${Ge}px`),ft.setProperty("--radix-popper-anchor-width",`${ct}px`),ft.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),j&&aR({element:j,padding:l}),pR({arrowWidth:E,arrowHeight:_}),m&&iR({strategy:"referenceHidden",...M})]}),[R,X]=M2(O),q=Xs(y);hs(()=>{V&&(q==null||q())},[V,q]);const ne=(me=$.arrow)==null?void 0:me.x,de=(Oe=$.arrow)==null?void 0:Oe.y,Se=((be=$.arrow)==null?void 0:be.centerOffset)!==0,[ie,_e]=f.useState();return hs(()=>{b&&_e(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:V?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(ce=$.transformOrigin)==null?void 0:ce.x,(pe=$.transformOrigin)==null?void 0:pe.y].join(" "),...((ze=$.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(uR,{scope:s,placedSide:R,onArrowChange:S,arrowX:ne,arrowY:de,shouldHideArrow:Se,children:r.jsx(Ve.div,{"data-side":R,"data-align":X,...g,ref:w,style:{...g.style,animation:V?void 0:"none"}})})})});k2.displayName=fx;var P2="PopperArrow",mR={top:"bottom",right:"left",bottom:"top",left:"right"},_2=f.forwardRef(function(e,s){const{__scopePopper:n,...i}=e,a=hR(P2,n),o=mR[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(lR,{...i,ref:s,style:{...i.style,display:"block"}})})});_2.displayName=P2;function fR(t){return t!==null}var pR=t=>({name:"transformOrigin",options:t,fn(e){var v,b,p;const{placement:s,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=M2(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,x=(((p=i.arrow)==null?void 0:p.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=o?h:`${m}px`,g=`${-c}px`):d==="top"?(y=o?h:`${m}px`,g=`${n.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?h:`${x}px`):d==="left"&&(y=`${n.floating.width+c}px`,g=o?h:`${x}px`),{data:{x:y,y:g}}}});function M2(t){const[e,s="center"]=t.split("-");return[e,s]}var D2=C2,px=E2,gx=k2,xx=_2,[hm]=Dr("Tooltip",[Nl]),yx=Nl(),A2="TooltipProvider",gR=700,Cb="tooltip.open",[xR,R2]=hm(A2),O2=t=>{const{__scopeTooltip:e,delayDuration:s=gR,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(xR,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};O2.displayName=A2;var I2="Tooltip",[tB,mm]=hm(I2),Ng="TooltipTrigger",yR=f.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=mm(Ng,s),a=R2(Ng,s),o=yx(s),l=f.useRef(null),c=vt(e,l,i.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(px,{asChild:!0,...o,children:r.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ee(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});yR.displayName=Ng;var vR="TooltipPortal",[sB,bR]=hm(vR,{forceMount:void 0}),rl="TooltipContent",L2=f.forwardRef((t,e)=>{const s=bR(rl,t.__scopeTooltip),{forceMount:n=s.forceMount,side:i="top",...a}=t,o=mm(rl,t.__scopeTooltip);return r.jsx(Ar,{present:n||o.open,children:o.disableHoverableContent?r.jsx(F2,{side:i,...a,ref:e}):r.jsx(wR,{side:i,...a,ref:e})})}),wR=f.forwardRef((t,e)=>{const s=mm(rl,t.__scopeTooltip),n=R2(rl,t.__scopeTooltip),i=f.useRef(null),a=vt(e,i),[o,l]=f.useState(null),{trigger:c,onClose:d}=s,u=i.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),x=f.useCallback((y,g)=>{const v=y.currentTarget,b={x:y.clientX,y:y.clientY},p=TR(b,v.getBoundingClientRect()),w=ER(b,p),j=kR(g.getBoundingClientRect()),S=_R([...w,...j]);l(S),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const y=v=>x(v,u),g=v=>x(v,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,x,m]),f.useEffect(()=>{if(o){const y=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},p=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),w=!PR(b,o);p?m():w&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,m]),r.jsx(F2,{...t,ref:a})}),[jR,NR]=hm(I2,{isInside:!1}),SR=nM("TooltipContent"),F2=f.forwardRef((t,e)=>{const{__scopeTooltip:s,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=mm(rl,s),d=yx(s),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(Cb,u),()=>document.removeEventListener(Cb,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),r.jsx(vl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:r.jsxs(gx,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(SR,{children:n}),r.jsx(jR,{scope:s,isInside:!0,children:r.jsx(TM,{id:c.contentId,role:"tooltip",children:i||n})})]})})});L2.displayName=rl;var U2="TooltipArrow",CR=f.forwardRef((t,e)=>{const{__scopeTooltip:s,...n}=t,i=yx(s);return NR(U2,s).isInside?null:r.jsx(xx,{...i,...n,ref:e})});CR.displayName=U2;function TR(t,e){const s=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,n,i,a)){case a:return"left";case i:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ER(t,e,s=5){const n=[];switch(e){case"top":n.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":n.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":n.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":n.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return n}function kR(t){const{top:e,right:s,bottom:n,left:i}=t;return[{x:i,y:e},{x:s,y:e},{x:s,y:n},{x:i,y:n}]}function PR(t,e){const{x:s,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&s<(h-d)*(n-u)/(m-u)+d&&(i=!i)}return i}function _R(t){const e=t.slice();return e.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),MR(e)}function MR(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const s=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var DR=O2,$2=L2;const AR=DR,RR=f.forwardRef(({className:t,sideOffset:e=4,...s},n)=>r.jsx($2,{ref:n,sideOffset:e,className:$e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));RR.displayName=$2.displayName;const Hd=768;function Cn(){const[t,e]=f.useState(()=>typeof window<"u"?window.innerWidth<Hd:!1);return f.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Hd-1}px)`),n=()=>{e(window.innerWidth<Hd)};return s.addEventListener("change",n),e(window.innerWidth<Hd),()=>s.removeEventListener("change",n)},[]),t}function fm(){console.log("🚀 WEBSOCKET HOOK: useWebSocket() called - hook is being used!");const[t,e]=f.useState(null),[s,n]=f.useState(!1),[i,a]=f.useState(null),o=f.useRef(),l=f.useRef(0),c=5,d=f.useCallback(()=>{try{console.log("🔌 WEBSOCKET DEBUG: ===== CONNECT FUNCTION CALLED ====="),console.log("🔌 WEBSOCKET DEBUG: Starting connection attempt..."),console.log("🔌 WEBSOCKET DEBUG: Current location:",window.location.hostname,window.location.port),console.log("🔌 WEBSOCKET DEBUG: Full URL:",window.location.href);const y=window.location.protocol==="https:"?"wss:":"ws:",g=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",v=window.location.hostname.includes("vercel.app"),b=window.location.hostname.includes("railway.app");console.log("🔌 WEBSOCKET DEBUG: Environment check:",{isLocal:g,isVercel:v,isRailway:b}),console.log("🔌 WEBSOCKET DEBUG: Current hostname:",window.location.hostname),console.log("🔌 WEBSOCKET DEBUG: Current protocol:",window.location.protocol);let p;if(g)p="ws://127.0.0.1:3005/ws";else if(v){console.log("🔌 Vercel deployment detected - WebSocket not available, using polling");return}else b?(p=`${y}//${window.location.host}/ws`,console.log("🔌 Railway deployment detected - using WebSocket:",p),console.log("🔌 RAILWAY DEBUG: Full WebSocket URL will be:",p)):(p=`${y}//${window.location.host}/ws`,console.log("🔌 GENERIC DEPLOYMENT: Using WebSocket URL:",p));console.log("🔌 WEBSOCKET DEBUG: Attempting to connect to:",p),console.log("🔌 WEBSOCKET DEBUG: Creating WebSocket instance...");const w=new WebSocket(p);console.log("🔌 WEBSOCKET DEBUG: WebSocket instance created:",w),w.onopen=()=>{console.log("🔌 WEBSOCKET DEBUG: WebSocket connected successfully!"),n(!0),l.current=0,w.send(JSON.stringify({type:"ping"}))},w.onmessage=j=>{try{const S=JSON.parse(j.data);console.log("🔔 WEBSOCKET: Received message:",S),a(S),S.type==="pong"?console.log("🏓 WEBSOCKET: Received pong from server"):S.type==="trade_completed"?console.log("🎯 WEBSOCKET: Trade completion message received:",S.data):S.type==="trigger_mobile_notification"?(console.log("🔔 WEBSOCKET: Mobile notification trigger received:",S.data),typeof window<"u"&&window.testDirectNotification&&(console.log("🔔 WEBSOCKET: Triggering direct notification via global function"),window.testDirectNotification())):console.log("🔔 WEBSOCKET: Unknown message type:",S.type)}catch(S){console.error("❌ WEBSOCKET: Error parsing WebSocket message:",S)}},w.onclose=j=>{if(console.log("🔌 WEBSOCKET DEBUG: WebSocket disconnected:",j.code,j.reason),n(!1),e(null),j.code!==1e3&&l.current<c){const S=Math.min(1e3*Math.pow(2,l.current),1e4);console.log(`Attempting to reconnect in ${S}ms...`),o.current=setTimeout(()=>{l.current++,d()},S)}},w.onerror=j=>{console.error("🔌 WEBSOCKET DEBUG: WebSocket error:",j),console.error("🔌 WEBSOCKET DEBUG: Error details:",{url:p,readyState:w.readyState,protocol:w.protocol})},e(w)}catch(y){console.error("🔌 WEBSOCKET DEBUG: Failed to create WebSocket connection:",y)}},[]),u=f.useCallback(()=>{o.current&&clearTimeout(o.current),t&&t.close(1e3,"Intentional disconnect")},[t]),h=f.useCallback(y=>{t&&t.readyState===WebSocket.OPEN?t.send(JSON.stringify(y)):console.warn("WebSocket is not connected. Message not sent:",y)},[t]),m=f.useCallback(y=>{h({type:"subscribe",data:{symbols:y}})},[h]),x=f.useCallback(y=>{h({type:"unsubscribe",data:{symbols:y}})},[h]);return f.useEffect(()=>(console.log("🚀 WEBSOCKET HOOK: useEffect triggered - attempting to connect..."),console.log("🚀 WEBSOCKET HOOK: connect function:",typeof d),console.log("🚀 WEBSOCKET HOOK: Calling connect()..."),d(),console.log("🚀 WEBSOCKET HOOK: connect() called successfully"),()=>{console.log("🚀 WEBSOCKET HOOK: Cleanup - disconnecting..."),u()}),[d,u]),f.useEffect(()=>{if(!s)return;const y=setInterval(()=>{h({type:"ping"})},3e4);return()=>clearInterval(y)},[s,h]),{socket:t,connected:s,lastMessage:i,sendMessage:h,subscribe:m,unsubscribe:x,connect:d,disconnect:u}}function ms(){const t=Mr(),{lastMessage:e}=fm(),{data:s,isLoading:n,error:i}=Zt({queryKey:["/api/auth"],queryFn:async()=>{const h=new URLSearchParams(window.location.search),m=h.get("token"),x=h.get("user");if(m&&x)return console.log("🔍 Found OAuth token in URL, storing locally"),localStorage.setItem("authToken",m),localStorage.setItem("user",decodeURIComponent(x)),window.history.replaceState({},document.title,window.location.pathname),JSON.parse(decodeURIComponent(x));const y=localStorage.getItem("authToken");if(console.log("🔍 useAuth queryFn - Auth token:",(y==null?void 0:y.substring(0,20))+"..."),!y)return console.log("No auth token found"),null;try{if(y.startsWith("user-session-")){console.log("Found user session token, fetching fresh user data from API");try{const g=await xs("GET","/api/auth/user");return console.log("User session API response:",g),localStorage.setItem("user",JSON.stringify(g)),g}catch(g){console.log("API call failed, falling back to stored user data:",g);const v=localStorage.getItem("user");if(v)return console.log("Using fallback stored user data"),JSON.parse(v)}}if(y.startsWith("admin-session-")){console.log("Making API request for admin user");try{const g=await xs("GET","/api/auth");return console.log("Admin user query response:",g),g}catch(g){console.log("Admin API call failed, falling back to stored user data:",g);const v=localStorage.getItem("user");if(v)return console.log("Using fallback stored user data"),JSON.parse(v)}}if(y.startsWith("admin-token-")){console.log("🔧 Found admin-token, using stored user data");const g=localStorage.getItem("user");if(g){const v=JSON.parse(g);return console.log("🔧 Admin-token user data:",v),v}}if(y.startsWith("demo-token-")){const g=localStorage.getItem("demoUser");if(g)return console.log("Found demo user in localStorage"),JSON.parse(g)}if(y==="mock-admin-token"){const g=localStorage.getItem("user");if(g)return console.log("Found admin user in localStorage"),JSON.parse(g)}if(y&&(y.startsWith("mock-jwt-token")||y==="mock-jwt-token")){console.log("Found mock JWT token, using stored user data");const g=localStorage.getItem("user");if(g){const v=JSON.parse(g);return console.log("Mock JWT user data:",v),v}}if(y&&(y.startsWith("token_admin-001_")||y.startsWith("token_superadmin-001_"))){console.log("🔧 Found admin token, using stored user data");const g=localStorage.getItem("user");if(g){const v=JSON.parse(g);return console.log("🔧 Admin token user data:",v),v}}if(y&&!y.startsWith("demo-token-")&&!y.startsWith("admin-session-")&&!y.startsWith("admin-token-")&&!y.startsWith("mock-jwt-token")&&y!=="mock-jwt-token"&&!y.startsWith("token_admin-001_")&&!y.startsWith("token_superadmin-001_")){console.log("Making API request for JWT token user");const v=await(await xs("GET","/api/auth")).json();return console.log("JWT user query response:",v),v}return console.log("🔍 No matching token pattern found"),null}catch(g){console.log("🔴 Auth query error:",g);const v=localStorage.getItem("authToken");if(v&&(v.startsWith("mock-jwt-token")||v==="mock-jwt-token"||v==="mock-admin-token"||v.startsWith("token_admin-001_")||v.startsWith("token_superadmin-001_")||v.startsWith("admin-token-")||v.startsWith("user-session-"))){const b=localStorage.getItem("user");if(b)return console.log("Auth query failed, but using stored user data for token:",v.substring(0,20)+"..."),JSON.parse(b)}return g.message&&g.message.includes("401")&&(localStorage.removeItem("authToken"),localStorage.removeItem("demoUser"),localStorage.removeItem("user")),null}},retry:!1,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),a=ys({mutationFn:async h=>{try{return await(await xs("POST","/api/auth",h)).json()}catch(m){console.error("Login error:",m);let x="Login failed";throw m.message&&(m.message.includes("401")?x="Invalid username or password":m.message.includes("400")?x="Username and password are required":m.message.includes("500")?x="Server error. Please try again later.":x=m.message),new Error(x)}},onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),o=ys({mutationFn:async h=>{try{const m="/api/admin/login",x=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",y=window.location.hostname.includes("vercel.app"),g=x?"http://127.0.0.1:3005":"",v=`${g}${m}`;console.log("🔧 Login Debug Info:",{isLocal:x,isVercel:y,isProd:!0,hostname:window.location.hostname,endpoint:m,baseUrl:g,fullUrl:v});const b=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!b.ok)throw new Error(`HTTP ${b.status}: ${b.statusText}`);return await b.json()}catch(m){console.error("Admin login error:",m);let x="Admin login failed";throw m.message&&(m.message.includes("401")?x="Invalid admin credentials":m.message.includes("403")?x="Access denied. Admin privileges required.":m.message.includes("400")?x="Username and password are required":m.message.includes("500")?x="Server error. Please try again later.":x=m.message),new Error(x)}},onSuccess:h=>{console.log("🔧 Admin login success:",h),h.token&&localStorage.setItem("authToken",h.token),h.user&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),l=ys({mutationFn:async()=>{try{await xs("POST","/api/auth?action=logout")}catch(h){console.warn("Logout API failed, continuing with local cleanup:",h)}},onSuccess:()=>{t.setQueryData(["/api/auth"],null),t.invalidateQueries({queryKey:["/api/auth"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"},onError:()=>{t.setQueryData(["/api/auth/user"],null),t.invalidateQueries({queryKey:["/api/auth/user"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"}}),c=ys({mutationFn:async h=>{try{return(await xs("POST","/api/auth",h)).json()}catch(m){console.warn("Main auth endpoint failed, trying fallback:",m);try{const y=await(await xs("POST","/api/auth/user/register",{username:h.username,email:h.email,password:h.password})).json();return(h.firstName||h.lastName)&&console.warn("Note: firstName and lastName were not saved due to fallback endpoint limitations"),y}catch(x){console.error("Both registration endpoints failed:",x),console.warn("Creating demo user locally due to server issues");const y={id:`demo-user-${Date.now()}`,username:h.username,email:h.email,role:"user",firstName:h.firstName,lastName:h.lastName};return localStorage.setItem("demoUser",JSON.stringify(y)),localStorage.setItem("authToken",`demo-token-${Date.now()}`),{user:y,message:"Registration successful (Demo Mode - Local Storage)",token:`demo-token-${Date.now()}`,success:!0}}}},onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),h.user&&h.token&&h.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),d=ys({mutationFn:async h=>await xs("POST","/api/auth",h),onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),h.user&&h.token&&h.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),u=()=>{console.log("🔄 Force refreshing auth state"),t.invalidateQueries({queryKey:["/api/auth"]}),t.refetchQueries({queryKey:["/api/auth"]})};return f.useEffect(()=>{if(e&&e.type==="verification_status_updated"){const{userId:h,verification_status:m,message:x,forceRefresh:y}=e;s&&s.id===h&&(console.log("🔔 Verification status updated:",m),y?(localStorage.removeItem("user"),t.removeQueries({queryKey:["/api/auth"]}),t.invalidateQueries({queryKey:["/api/auth"]}),t.refetchQueries({queryKey:["/api/auth"]}),console.log("🔄 Forced complete refresh of user data")):u(),typeof window<"u"&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Account Verification Update",{body:x,icon:"/favicon.ico"}),console.log("🎉 Verification status update:",x))}},[e,s,u,t]),{user:s,isLoading:n,isAuthenticated:!!s,error:i,userLogin:a.mutateAsync,adminLogin:o.mutateAsync,logout:l.mutateAsync,register:c.mutateAsync,metamaskLogin:d.mutateAsync,refreshAuth:u,isUserLoginPending:a.isPending,isAdminLoginPending:o.isPending,isLogoutPending:l.isPending,isRegisterPending:c.isPending,isMetamaskLoginPending:d.isPending}}const OR=[{path:"/",label:"Home",normalIcon:"/Homeiconbar-normal.png?v=5",activeIcon:"/iconbar_Home-active.png?v=5"},{path:"/market",label:"Market",normalIcon:"/iconbar_Market-normal.png?v=5",activeIcon:"/iconbar_Market-active.png?v=5"},{path:"/trade",label:"Trade",normalIcon:"/iconbar_Trade-normal.png?v=5",activeIcon:"/iconbar_Trade-active.png?v=5"},{path:"/wallet",label:"Wallet",normalIcon:"/iconbar_Wallet-normal.png?v=5",activeIcon:"/iconbar_Wallet-active.png?v=5"},{path:"/support",label:"Support",normalIcon:"/iconbar_Support-normal.png?v=5",activeIcon:"/iconbar_Support-active.png?v=5"}],IR=t=>{switch(t){case"/":return"🏠";case"/market":return"📈";case"/trade":return"💱";case"/wallet":return"💰";case"/support":return"❓";default:return"📱"}};function fh(){const[t,e]=_r(),[s,n]=f.useState(!1),[i,a]=f.useState(!1),[o,l]=f.useState(null);if(ms(),f.useEffect(()=>(s?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[s]),f.useEffect(()=>{const h=()=>{if(typeof window<"u"){const m=window.innerWidth;a(m<1024)}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),!i)return null;const c=h=>h==="/"?t==="/":t.startsWith(h),d=h=>{h==="/trade"?n(!s):(n(!1),e(h))},u=h=>{n(!1),e(h)};return r.jsxs(r.Fragment,{children:[s&&r.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/70 backdrop-blur-sm overflow-hidden",onClick:()=>n(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9998},children:r.jsx("div",{className:"fixed bottom-20 left-0 right-0 bg-[#1A1B3A] border-t border-gray-700/50",onClick:h=>h.stopPropagation(),children:r.jsx("div",{className:"py-4 px-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>u("/trade/spot"),className:"w-full relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",r.jsx("br",{}),"real-time market prices."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})}),r.jsx("button",{onClick:()=>u("/trade/options"),className:"w-full relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",r.jsx("br",{}),"market moves in seconds."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})]})})})}),r.jsx("div",{className:"mobile-bottom-nav",style:{position:"fixed",bottom:"0px",left:"0px",right:"0px",zIndex:99999,backgroundColor:"#1A1B3A",borderTop:"2px solid #4F46E5",height:"80px",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 8px",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"100vw",overflow:"hidden"},children:OR.map(h=>{const m=c(h.path),x=o===h.path,y=m||x;return r.jsx("button",{onClick:()=>d(h.path),onMouseEnter:()=>l(h.path),onMouseLeave:()=>l(null),onTouchStart:()=>l(h.path),onTouchEnd:()=>l(null),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"6px 4px",flex:"1",maxWidth:"20%",minWidth:"0",backgroundColor:m?"rgba(79, 70, 229, 0.2)":x?"rgba(79, 70, 229, 0.1)":"transparent",borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.2s ease",transform:x?"scale(1.02)":"scale(1)"},children:r.jsx("div",{className:"nav-icon",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx("img",{src:y?h.activeIcon:h.normalIcon,alt:`${h.label} icon`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"all 0.2s ease"},onError:g=>{const v=g.currentTarget;v.style.display="none";const b=v.parentElement;b&&(b.innerHTML=IR(h.path),b.style.fontSize="24px")}})})},h.path)})})]})}const LR=am("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-white",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=f.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...i},a)=>{const o=n?CS:"button";return r.jsx(o,{className:$e(LR({variant:e,size:s,className:t})),ref:a,...i})});z.displayName="Button";var FR=f.createContext(void 0);function pm(t){const e=f.useContext(FR);return t||e||"ltr"}var Cf=0;function vx(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Tb()),document.body.insertAdjacentElement("beforeend",t[1]??Tb()),Cf++,()=>{Cf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cf--}},[])}function Tb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Tf="focusScope.autoFocusOnMount",Ef="focusScope.autoFocusOnUnmount",Eb={bubbles:!1,cancelable:!0},UR="FocusScope",gm=f.forwardRef((t,e)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=f.useState(null),d=Xs(i),u=Xs(a),h=f.useRef(null),m=vt(e,g=>c(g)),x=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let g=function(w){if(x.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:li(h.current,{select:!0})},v=function(w){if(x.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||li(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&li(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const p=new MutationObserver(b);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),p.disconnect()}}},[n,l,x.paused]),f.useEffect(()=>{if(l){Pb.add(x);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(Tf,Eb);l.addEventListener(Tf,d),l.dispatchEvent(b),b.defaultPrevented||($R(HR(B2(l)),{select:!0}),document.activeElement===g&&li(l))}return()=>{l.removeEventListener(Tf,d),setTimeout(()=>{const b=new CustomEvent(Ef,Eb);l.addEventListener(Ef,u),l.dispatchEvent(b),b.defaultPrevented||li(g??document.body,{select:!0}),l.removeEventListener(Ef,u),Pb.remove(x)},0)}}},[l,d,u,x]);const y=f.useCallback(g=>{if(!s&&!n||x.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const p=g.currentTarget,[w,j]=BR(p);w&&j?!g.shiftKey&&b===j?(g.preventDefault(),s&&li(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),s&&li(j,{select:!0})):b===p&&g.preventDefault()}},[s,n,x.paused]);return r.jsx(Ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});gm.displayName=UR;function $R(t,{select:e=!1}={}){const s=document.activeElement;for(const n of t)if(li(n,{select:e}),document.activeElement!==s)return}function BR(t){const e=B2(t),s=kb(e,t),n=kb(e.reverse(),t);return[s,n]}function B2(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function kb(t,e){for(const s of t)if(!zR(s,{upTo:e}))return s}function zR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VR(t){return t instanceof HTMLInputElement&&"select"in t}function li(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&VR(t)&&e&&t.select()}}var Pb=WR();function WR(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=_b(t,e),t.unshift(e)},remove(e){var s;t=_b(t,e),(s=t[0])==null||s.resume()}}}function _b(t,e){const s=[...t],n=s.indexOf(e);return n!==-1&&s.splice(n,1),s}function HR(t){return t.filter(e=>e.tagName!=="A")}var kf="rovingFocusGroup.onEntryFocus",KR={bubbles:!1,cancelable:!0},ud="RovingFocusGroup",[Sg,z2,GR]=rm(ud),[qR,xm]=Dr(ud,[GR]),[QR,XR]=qR(ud),V2=f.forwardRef((t,e)=>r.jsx(Sg.Provider,{scope:t.__scopeRovingFocusGroup,children:r.jsx(Sg.Slot,{scope:t.__scopeRovingFocusGroup,children:r.jsx(YR,{...t,ref:e})})}));V2.displayName=ud;var YR=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=f.useRef(null),x=vt(e,m),y=pm(a),[g,v]=Bi({prop:o,defaultProp:l??null,onChange:c,caller:ud}),[b,p]=f.useState(!1),w=Xs(d),j=z2(s),S=f.useRef(!1),[T,E]=f.useState(0);return f.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(kf,w),()=>_.removeEventListener(kf,w)},[w]),r.jsx(QR,{scope:s,orientation:n,dir:y,loop:i,currentTabStopId:g,onItemFocus:f.useCallback(_=>v(_),[v]),onItemShiftTab:f.useCallback(()=>p(!0),[]),onFocusableItemAdd:f.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:f.useCallback(()=>E(_=>_-1),[]),children:r.jsx(Ve.div,{tabIndex:b||T===0?-1:0,"data-orientation":n,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{S.current=!0}),onFocus:Ee(t.onFocus,_=>{const I=!S.current;if(_.target===_.currentTarget&&I&&!b){const k=new CustomEvent(kf,KR);if(_.currentTarget.dispatchEvent(k),!k.defaultPrevented){const P=j().filter(O=>O.focusable),F=P.find(O=>O.active),M=P.find(O=>O.id===g),Z=[F,M,...P].filter(Boolean).map(O=>O.ref.current);K2(Z,u)}}S.current=!1}),onBlur:Ee(t.onBlur,()=>p(!1))})})}),W2="RovingFocusGroupItem",H2=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Qr(),d=a||c,u=XR(W2,s),h=u.currentTabStopId===d,m=z2(s),{onFocusableItemAdd:x,onFocusableItemRemove:y,currentTabStopId:g}=u;return f.useEffect(()=>{if(n)return x(),()=>y()},[n,x,y]),r.jsx(Sg.ItemSlot,{scope:s,id:d,focusable:n,active:i,children:r.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Ee(t.onMouseDown,v=>{n?u.onItemFocus(d):v.preventDefault()}),onFocus:Ee(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ee(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=eO(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const j=w.indexOf(v.currentTarget);w=u.loop?tO(w,j+1):w.slice(j+1)}setTimeout(()=>K2(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});H2.displayName=W2;var JR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eO(t,e,s){const n=ZR(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return JR[n]}function K2(t,e=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:e}),document.activeElement!==s))return}function tO(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var G2=V2,q2=H2,sO=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},to=new WeakMap,Kd=new WeakMap,Gd={},Pf=0,Q2=function(t){return t&&(t.host||Q2(t.parentNode))},rO=function(t,e){return e.map(function(s){if(t.contains(s))return s;var n=Q2(s);return n&&t.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},nO=function(t,e,s,n){var i=rO(e,Array.isArray(t)?t:[t]);Gd[s]||(Gd[s]=new WeakMap);var a=Gd[s],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var x=m.getAttribute(n),y=x!==null&&x!=="false",g=(to.get(m)||0)+1,v=(a.get(m)||0)+1;to.set(m,g),a.set(m,v),o.push(m),g===1&&y&&Kd.set(m,!0),v===1&&m.setAttribute(s,"true"),y||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(e),l.clear(),Pf++,function(){o.forEach(function(h){var m=to.get(h)-1,x=a.get(h)-1;to.set(h,m),a.set(h,x),m||(Kd.has(h)||h.removeAttribute(n),Kd.delete(h)),x||h.removeAttribute(s)}),Pf--,Pf||(to=new WeakMap,to=new WeakMap,Kd=new WeakMap,Gd={})}},bx=function(t,e,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=sO(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),nO(n,i,s,"aria-hidden")):function(){return null}},mn=function(){return mn=Object.assign||function(e){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},mn.apply(this,arguments)};function X2(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s}function iO(t,e,s){if(s||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var _u="right-scroll-bar-position",Mu="width-before-scroll-bar",aO="with-scroll-bars-hidden",oO="--removed-body-scroll-bar-size";function _f(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lO(t,e){var s=f.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=e,s.facade}var cO=typeof window<"u"?f.useLayoutEffect:f.useEffect,Mb=new WeakMap;function dO(t,e){var s=lO(null,function(n){return t.forEach(function(i){return _f(i,n)})});return cO(function(){var n=Mb.get(s);if(n){var i=new Set(n),a=new Set(t),o=s.current;i.forEach(function(l){a.has(l)||_f(l,null)}),a.forEach(function(l){i.has(l)||_f(l,o)})}Mb.set(s,t)},[t]),s}function uO(t){return t}function hO(t,e){e===void 0&&(e=uO);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(a){var o=e(a,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return i}function mO(t){t===void 0&&(t={});var e=hO(null);return e.options=mn({async:!0,ssr:!1},t),e}var Y2=function(t){var e=t.sideCar,s=X2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,mn({},s))};Y2.isSideCarExport=!0;function fO(t,e){return t.useMedium(e),Y2}var J2=mO(),Mf=function(){},ym=f.forwardRef(function(t,e){var s=f.useRef(null),n=f.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,x=t.noRelative,y=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,p=b===void 0?"div":b,w=t.gapMode,j=X2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,T=dO([s,e]),E=mn(mn({},j),i);return f.createElement(f.Fragment,null,u&&f.createElement(S,{sideCar:J2,removeScrollBar:d,shards:h,noRelative:x,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:s,gapMode:w}),o?f.cloneElement(f.Children.only(l),mn(mn({},E),{ref:T})):f.createElement(p,mn({},E,{className:c,ref:T}),l))});ym.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ym.classNames={fullWidth:Mu,zeroRight:_u};var pO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pO();return e&&t.setAttribute("nonce",e),t}function xO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vO=function(){var t=0,e=null;return{add:function(s){t==0&&(e=gO())&&(xO(e,s),yO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bO=function(){var t=vO();return function(e,s){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},Z2=function(){var t=bO(),e=function(s){var n=s.styles,i=s.dynamic;return t(n,i),null};return e},wO={left:0,top:0,right:0,gap:0},Df=function(t){return parseInt(t||"",10)||0},jO=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Df(s),Df(n),Df(i)]},NO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wO;var e=jO(t),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-s+e[2]-e[0])}},SO=Z2(),Mo="data-scroll-locked",CO=function(t,e,s,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(aO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_u,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Mu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_u," .").concat(_u,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mu," .").concat(Mu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mo,`] {
    `).concat(oO,": ").concat(l,`px;
  }
`)},Db=function(){var t=parseInt(document.body.getAttribute(Mo)||"0",10);return isFinite(t)?t:0},TO=function(){f.useEffect(function(){return document.body.setAttribute(Mo,(Db()+1).toString()),function(){var t=Db()-1;t<=0?document.body.removeAttribute(Mo):document.body.setAttribute(Mo,t.toString())}},[])},EO=function(t){var e=t.noRelative,s=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;TO();var a=f.useMemo(function(){return NO(i)},[i]);return f.createElement(SO,{styles:CO(a,!e,i,s?"":"!important")})},Cg=!1;if(typeof window<"u")try{var qd=Object.defineProperty({},"passive",{get:function(){return Cg=!0,!0}});window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{Cg=!1}var so=Cg?{passive:!1}:!1,kO=function(t){return t.tagName==="TEXTAREA"},eC=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!kO(t)&&s[e]==="visible")},PO=function(t){return eC(t,"overflowY")},_O=function(t){return eC(t,"overflowX")},Ab=function(t,e){var s=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=tC(t,n);if(i){var a=sC(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},MO=function(t){var e=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;return[e,s,n]},DO=function(t){var e=t.scrollLeft,s=t.scrollWidth,n=t.clientWidth;return[e,s,n]},tC=function(t,e){return t==="v"?PO(e):_O(e)},sC=function(t,e){return t==="v"?MO(e):DO(e)},AO=function(t,e){return t==="h"&&e==="rtl"?-1:1},RO=function(t,e,s,n,i){var a=AO(t,window.getComputedStyle(e).direction),o=a*n,l=s.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var x=sC(t,l),y=x[0],g=x[1],v=x[2],b=g-v-a*y;(y||b)&&tC(t,l)&&(h+=b,m+=y);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rb=function(t){return[t.deltaX,t.deltaY]},Ob=function(t){return t&&"current"in t?t.current:t},OO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LO=0,ro=[];function FO(t){var e=f.useRef([]),s=f.useRef([0,0]),n=f.useRef(),i=f.useState(LO++)[0],a=f.useState(Z2)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=iO([t.lockRef.current],(t.shards||[]).map(Ob),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Qd(g),p=s.current,w="deltaX"in g?g.deltaX:p[0]-b[0],j="deltaY"in g?g.deltaY:p[1]-b[1],S,T=g.target,E=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&E==="h"&&T.type==="range")return!1;var _=Ab(E,T);if(!_)return!0;if(_?S=E:(S=E==="v"?"h":"v",_=Ab(E,T)),!_)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=S),!S)return!0;var I=n.current||S;return RO(I,v,g,I==="h"?w:j)},[]),c=f.useCallback(function(g){var v=g;if(!(!ro.length||ro[ro.length-1]!==a)){var b="deltaY"in v?Rb(v):Qd(v),p=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&OO(S.delta,b)})[0];if(p&&p.should){v.cancelable&&v.preventDefault();return}if(!p){var w=(o.current.shards||[]).map(Ob).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=f.useCallback(function(g,v,b,p){var w={name:g,delta:v,target:b,should:p,shadowParent:UO(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),u=f.useCallback(function(g){s.current=Qd(g),n.current=void 0},[]),h=f.useCallback(function(g){d(g.type,Rb(g),g.target,l(g,t.lockRef.current))},[]),m=f.useCallback(function(g){d(g.type,Qd(g),g.target,l(g,t.lockRef.current))},[]);f.useEffect(function(){return ro.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,so),document.addEventListener("touchmove",c,so),document.addEventListener("touchstart",u,so),function(){ro=ro.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,so),document.removeEventListener("touchmove",c,so),document.removeEventListener("touchstart",u,so)}},[]);var x=t.removeScrollBar,y=t.inert;return f.createElement(f.Fragment,null,y?f.createElement(a,{styles:IO(i)}):null,x?f.createElement(EO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UO(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $O=fO(J2,FO);var vm=f.forwardRef(function(t,e){return f.createElement(ym,mn({},t,{ref:e,sideCar:$O}))});vm.classNames=ym.classNames;var Tg=["Enter"," "],BO=["ArrowDown","PageUp","Home"],rC=["ArrowUp","PageDown","End"],zO=[...BO,...rC],VO={ltr:[...Tg,"ArrowRight"],rtl:[...Tg,"ArrowLeft"]},WO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hd="Menu",[Uc,HO,KO]=rm(hd),[Qa,nC]=Dr(hd,[KO,Nl,xm]),bm=Nl(),iC=xm(),[GO,Xa]=Qa(hd),[qO,md]=Qa(hd),aC=t=>{const{__scopeMenu:e,open:s=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=bm(e),[c,d]=f.useState(null),u=f.useRef(!1),h=Xs(a),m=pm(i);return f.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),r.jsx(D2,{...l,children:r.jsx(GO,{scope:e,open:s,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(qO,{scope:e,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};aC.displayName=hd;var QO="MenuAnchor",wx=f.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t,i=bm(s);return r.jsx(px,{...i,...n,ref:e})});wx.displayName=QO;var jx="MenuPortal",[XO,oC]=Qa(jx,{forceMount:void 0}),lC=t=>{const{__scopeMenu:e,forceMount:s,children:n,container:i}=t,a=Xa(jx,e);return r.jsx(XO,{scope:e,forceMount:s,children:r.jsx(Ar,{present:s||a.open,children:r.jsx(ld,{asChild:!0,container:i,children:n})})})};lC.displayName=jx;var Er="MenuContent",[YO,Nx]=Qa(Er),cC=f.forwardRef((t,e)=>{const s=oC(Er,t.__scopeMenu),{forceMount:n=s.forceMount,...i}=t,a=Xa(Er,t.__scopeMenu),o=md(Er,t.__scopeMenu);return r.jsx(Uc.Provider,{scope:t.__scopeMenu,children:r.jsx(Ar,{present:n||a.open,children:r.jsx(Uc.Slot,{scope:t.__scopeMenu,children:o.modal?r.jsx(JO,{...i,ref:e}):r.jsx(ZO,{...i,ref:e})})})})}),JO=f.forwardRef((t,e)=>{const s=Xa(Er,t.__scopeMenu),n=f.useRef(null),i=vt(e,n);return f.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),r.jsx(Sx,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),ZO=f.forwardRef((t,e)=>{const s=Xa(Er,t.__scopeMenu);return r.jsx(Sx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),eI=Ia("MenuContent.ScrollLock"),Sx=f.forwardRef((t,e)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,disableOutsideScroll:y,...g}=t,v=Xa(Er,s),b=md(Er,s),p=bm(s),w=iC(s),j=HO(s),[S,T]=f.useState(null),E=f.useRef(null),_=vt(e,E,v.onContentChange),I=f.useRef(0),k=f.useRef(""),P=f.useRef(0),F=f.useRef(null),M=f.useRef("right"),H=f.useRef(0),Z=y?vm:f.Fragment,O=y?{as:eI,allowPinchZoom:!0}:void 0,V=R=>{var me,Oe;const X=k.current+R,q=j().filter(be=>!be.disabled),ne=document.activeElement,de=(me=q.find(be=>be.ref.current===ne))==null?void 0:me.textValue,Se=q.map(be=>be.textValue),ie=hI(Se,X,de),_e=(Oe=q.find(be=>be.textValue===ie))==null?void 0:Oe.ref.current;(function be(ce){k.current=ce,window.clearTimeout(I.current),ce!==""&&(I.current=window.setTimeout(()=>be(""),1e3))})(X),_e&&setTimeout(()=>_e.focus())};f.useEffect(()=>()=>window.clearTimeout(I.current),[]),vx();const $=f.useCallback(R=>{var q,ne;return M.current===((q=F.current)==null?void 0:q.side)&&fI(R,(ne=F.current)==null?void 0:ne.area)},[]);return r.jsx(YO,{scope:s,searchRef:k,onItemEnter:f.useCallback(R=>{$(R)&&R.preventDefault()},[$]),onItemLeave:f.useCallback(R=>{var X;$(R)||((X=E.current)==null||X.focus(),T(null))},[$]),onTriggerLeave:f.useCallback(R=>{$(R)&&R.preventDefault()},[$]),pointerGraceTimerRef:P,onPointerGraceIntentChange:f.useCallback(R=>{F.current=R},[]),children:r.jsx(Z,{...O,children:r.jsx(gm,{asChild:!0,trapped:i,onMountAutoFocus:Ee(a,R=>{var X;R.preventDefault(),(X=E.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(vl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:x,children:r.jsx(G2,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:Ee(c,R=>{b.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(gx,{role:"menu","aria-orientation":"vertical","data-state":CC(v.open),"data-radix-menu-content":"",dir:b.dir,...p,...g,ref:_,style:{outline:"none",...g.style},onKeyDown:Ee(g.onKeyDown,R=>{const q=R.target.closest("[data-radix-menu-content]")===R.currentTarget,ne=R.ctrlKey||R.altKey||R.metaKey,de=R.key.length===1;q&&(R.key==="Tab"&&R.preventDefault(),!ne&&de&&V(R.key));const Se=E.current;if(R.target!==Se||!zO.includes(R.key))return;R.preventDefault();const _e=j().filter(me=>!me.disabled).map(me=>me.ref.current);rC.includes(R.key)&&_e.reverse(),dI(_e)}),onBlur:Ee(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),k.current="")}),onPointerMove:Ee(t.onPointerMove,$c(R=>{const X=R.target,q=H.current!==R.clientX;if(R.currentTarget.contains(X)&&q){const ne=R.clientX>H.current?"right":"left";M.current=ne,H.current=R.clientX}}))})})})})})})});cC.displayName=Er;var tI="MenuGroup",Cx=f.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return r.jsx(Ve.div,{role:"group",...n,ref:e})});Cx.displayName=tI;var sI="MenuLabel",dC=f.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return r.jsx(Ve.div,{...n,ref:e})});dC.displayName=sI;var ph="MenuItem",Ib="menu.itemSelect",wm=f.forwardRef((t,e)=>{const{disabled:s=!1,onSelect:n,...i}=t,a=f.useRef(null),o=md(ph,t.__scopeMenu),l=Nx(ph,t.__scopeMenu),c=vt(e,a),d=f.useRef(!1),u=()=>{const h=a.current;if(!s&&h){const m=new CustomEvent(Ib,{bubbles:!0,cancelable:!0});h.addEventListener(Ib,x=>n==null?void 0:n(x),{once:!0}),tx(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(uC,{...i,ref:c,disabled:s,onClick:Ee(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:Ee(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Ee(t.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||Tg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});wm.displayName=ph;var uC=f.forwardRef((t,e)=>{const{__scopeMenu:s,disabled:n=!1,textValue:i,...a}=t,o=Nx(ph,s),l=iC(s),c=f.useRef(null),d=vt(e,c),[u,h]=f.useState(!1),[m,x]=f.useState("");return f.useEffect(()=>{const y=c.current;y&&x((y.textContent??"").trim())},[a.children]),r.jsx(Uc.ItemSlot,{scope:s,disabled:n,textValue:i??m,children:r.jsx(q2,{asChild:!0,...l,focusable:!n,children:r.jsx(Ve.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Ee(t.onPointerMove,$c(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,$c(y=>o.onItemLeave(y))),onFocus:Ee(t.onFocus,()=>h(!0)),onBlur:Ee(t.onBlur,()=>h(!1))})})})}),rI="MenuCheckboxItem",hC=f.forwardRef((t,e)=>{const{checked:s=!1,onCheckedChange:n,...i}=t;return r.jsx(xC,{scope:t.__scopeMenu,checked:s,children:r.jsx(wm,{role:"menuitemcheckbox","aria-checked":gh(s)?"mixed":s,...i,ref:e,"data-state":Ex(s),onSelect:Ee(i.onSelect,()=>n==null?void 0:n(gh(s)?!0:!s),{checkForDefaultPrevented:!1})})})});hC.displayName=rI;var mC="MenuRadioGroup",[nI,iI]=Qa(mC,{value:void 0,onValueChange:()=>{}}),fC=f.forwardRef((t,e)=>{const{value:s,onValueChange:n,...i}=t,a=Xs(n);return r.jsx(nI,{scope:t.__scopeMenu,value:s,onValueChange:a,children:r.jsx(Cx,{...i,ref:e})})});fC.displayName=mC;var pC="MenuRadioItem",gC=f.forwardRef((t,e)=>{const{value:s,...n}=t,i=iI(pC,t.__scopeMenu),a=s===i.value;return r.jsx(xC,{scope:t.__scopeMenu,checked:a,children:r.jsx(wm,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Ex(a),onSelect:Ee(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});gC.displayName=pC;var Tx="MenuItemIndicator",[xC,aI]=Qa(Tx,{checked:!1}),yC=f.forwardRef((t,e)=>{const{__scopeMenu:s,forceMount:n,...i}=t,a=aI(Tx,s);return r.jsx(Ar,{present:n||gh(a.checked)||a.checked===!0,children:r.jsx(Ve.span,{...i,ref:e,"data-state":Ex(a.checked)})})});yC.displayName=Tx;var oI="MenuSeparator",vC=f.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t;return r.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});vC.displayName=oI;var lI="MenuArrow",bC=f.forwardRef((t,e)=>{const{__scopeMenu:s,...n}=t,i=bm(s);return r.jsx(xx,{...i,...n,ref:e})});bC.displayName=lI;var cI="MenuSub",[rB,wC]=Qa(cI),Xl="MenuSubTrigger",jC=f.forwardRef((t,e)=>{const s=Xa(Xl,t.__scopeMenu),n=md(Xl,t.__scopeMenu),i=wC(Xl,t.__scopeMenu),a=Nx(Xl,t.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(wx,{asChild:!0,...d,children:r.jsx(uC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":CC(s.open),...t,ref:sm(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,$c(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:Ee(t.onPointerLeave,$c(h=>{var x,y;u();const m=(x=s.content)==null?void 0:x.getBoundingClientRect();if(m){const g=(y=s.content)==null?void 0:y.dataset.side,v=g==="right",b=v?-5:5,p=m[v?"left":"right"],w=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:p,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:p,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,h=>{var x;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||VO[n.dir].includes(h.key)&&(s.onOpenChange(!0),(x=s.content)==null||x.focus(),h.preventDefault())})})})});jC.displayName=Xl;var NC="MenuSubContent",SC=f.forwardRef((t,e)=>{const s=oC(Er,t.__scopeMenu),{forceMount:n=s.forceMount,...i}=t,a=Xa(Er,t.__scopeMenu),o=md(Er,t.__scopeMenu),l=wC(NC,t.__scopeMenu),c=f.useRef(null),d=vt(e,c);return r.jsx(Uc.Provider,{scope:t.__scopeMenu,children:r.jsx(Ar,{present:n||a.open,children:r.jsx(Uc.Slot,{scope:t.__scopeMenu,children:r.jsx(Sx,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ee(t.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),m=WO[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});SC.displayName=NC;function CC(t){return t?"open":"closed"}function gh(t){return t==="indeterminate"}function Ex(t){return gh(t)?"indeterminate":t?"checked":"unchecked"}function dI(t){const e=document.activeElement;for(const s of t)if(s===e||(s.focus(),document.activeElement!==e))return}function uI(t,e){return t.map((s,n)=>t[(e+n)%t.length])}function hI(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=uI(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function mI(t,e){const{x:s,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&s<(h-d)*(n-u)/(m-u)+d&&(i=!i)}return i}function fI(t,e){if(!e)return!1;const s={x:t.clientX,y:t.clientY};return mI(s,e)}function $c(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pI=aC,gI=wx,xI=lC,yI=cC,vI=Cx,bI=dC,wI=wm,jI=hC,NI=fC,SI=gC,CI=yC,TI=vC,EI=bC,kI=jC,PI=SC,jm="DropdownMenu",[_I]=Dr(jm,[nC]),Ls=nC(),[MI,TC]=_I(jm),EC=t=>{const{__scopeDropdownMenu:e,children:s,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Ls(e),d=f.useRef(null),[u,h]=Bi({prop:i,defaultProp:a??!1,onChange:o,caller:jm});return r.jsx(MI,{scope:e,triggerId:Qr(),triggerRef:d,contentId:Qr(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:r.jsx(pI,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:s})})};EC.displayName=jm;var kC="DropdownMenuTrigger",PC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...i}=t,a=TC(kC,s),o=Ls(s);return r.jsx(gI,{asChild:!0,...o,children:r.jsx(Ve.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:sm(e,a.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});PC.displayName=kC;var DI="DropdownMenuPortal",_C=t=>{const{__scopeDropdownMenu:e,...s}=t,n=Ls(e);return r.jsx(xI,{...n,...s})};_C.displayName=DI;var MC="DropdownMenuContent",DC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=TC(MC,s),a=Ls(s),o=f.useRef(!1);return r.jsx(yI,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DC.displayName=MC;var AI="DropdownMenuGroup",RI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(vI,{...i,...n,ref:e})});RI.displayName=AI;var OI="DropdownMenuLabel",AC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(bI,{...i,...n,ref:e})});AC.displayName=OI;var II="DropdownMenuItem",RC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(wI,{...i,...n,ref:e})});RC.displayName=II;var LI="DropdownMenuCheckboxItem",OC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(jI,{...i,...n,ref:e})});OC.displayName=LI;var FI="DropdownMenuRadioGroup",UI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(NI,{...i,...n,ref:e})});UI.displayName=FI;var $I="DropdownMenuRadioItem",IC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(SI,{...i,...n,ref:e})});IC.displayName=$I;var BI="DropdownMenuItemIndicator",LC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(CI,{...i,...n,ref:e})});LC.displayName=BI;var zI="DropdownMenuSeparator",FC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(TI,{...i,...n,ref:e})});FC.displayName=zI;var VI="DropdownMenuArrow",WI=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(EI,{...i,...n,ref:e})});WI.displayName=VI;var HI="DropdownMenuSubTrigger",UC=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(kI,{...i,...n,ref:e})});UC.displayName=HI;var KI="DropdownMenuSubContent",$C=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...n}=t,i=Ls(s);return r.jsx(PI,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$C.displayName=KI;var GI=EC,qI=PC,QI=_C,BC=DC,zC=AC,VC=RC,WC=OC,HC=IC,KC=LC,GC=FC,qC=UC,QC=$C;const XC=GI,YC=qI,XI=f.forwardRef(({className:t,inset:e,children:s,...n},i)=>r.jsxs(qC,{ref:i,className:$e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[s,r.jsx(JM,{className:"ml-auto"})]}));XI.displayName=qC.displayName;const YI=f.forwardRef(({className:t,...e},s)=>r.jsx(QC,{ref:s,className:$e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));YI.displayName=QC.displayName;const kx=f.forwardRef(({className:t,sideOffset:e=4,...s},n)=>r.jsx(QI,{children:r.jsx(BC,{ref:n,sideOffset:e,className:$e("z-[60] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));kx.displayName=BC.displayName;const Sa=f.forwardRef(({className:t,inset:e,...s},n)=>r.jsx(VC,{ref:n,className:$e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s}));Sa.displayName=VC.displayName;const JI=f.forwardRef(({className:t,children:e,checked:s,...n},i)=>r.jsxs(WC,{ref:i,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(KC,{children:r.jsx(JS,{className:"h-4 w-4"})})}),e]}));JI.displayName=WC.displayName;const ZI=f.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(HC,{ref:n,className:$e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(KC,{children:r.jsx(eD,{className:"h-2 w-2 fill-current"})})}),e]}));ZI.displayName=HC.displayName;const e6=f.forwardRef(({className:t,inset:e,...s},n)=>r.jsx(zC,{ref:n,className:$e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));e6.displayName=zC.displayName;const Px=f.forwardRef(({className:t,...e},s)=>r.jsx(GC,{ref:s,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));Px.displayName=GC.displayName;const _x="/assets/new-metachrome-logo-1761305830802.png";function Mx(){const[t,e]=f.useState(!1),[s,n]=_r(),{user:i,isAuthenticated:a,logout:o}=ms(),l=Cn();if(f.useEffect(()=>(t?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[t]),!l)return null;const c=u=>{n(u),e(!1)},d=()=>{if(console.log("🔍 Mobile Header User Data:",{user:i,walletAddress:i==null?void 0:i.walletAddress,wallet_address:i==null?void 0:i.wallet_address,username:i==null?void 0:i.username,firstName:i==null?void 0:i.firstName,lastName:i==null?void 0:i.lastName,currentLocation:s}),i!=null&&i.firstName&&(i!=null&&i.lastName))return console.log("🔍 Mobile Header: Showing full name"),`${i.firstName} ${i.lastName}`;if(i!=null&&i.firstName)return console.log("🔍 Mobile Header: Showing first name"),i.firstName;if(i!=null&&i.username){if(console.log("🔍 Mobile Header: Showing username:",i.username),i.username.startsWith("0x")&&i.username.length>20){const h=`${i.username.slice(0,6)}...${i.username.slice(-4)}`;return console.log("🔍 Mobile Header: Showing truncated wallet:",h),h}return i.username}const u=(i==null?void 0:i.walletAddress)||(i==null?void 0:i.wallet_address);if(u&&u.startsWith("0x")&&u.length>20){const h=`${u.slice(0,6)}...${u.slice(-4)}`;return console.log("🔍 Mobile Header: Showing wallet from other field:",h),h}return console.log("🔍 Mobile Header: Showing default Account"),"Account"};return r.jsxs(r.Fragment,{children:[r.jsxs("header",{className:"bg-[#1A1B3A] border-b border-gray-700/50 px-4 py-3 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:_x,alt:"METACHROME",className:"h-8 w-auto",onClick:()=>c("/")})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-4 bg-red-500 rounded-sm flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white",children:"🇺🇸"})}),a?r.jsx("div",{className:"flex items-center",children:r.jsxs(XC,{children:[r.jsx(YC,{asChild:!0,children:r.jsxs(z,{variant:"ghost",size:"sm",className:"text-gray-300 hover:text-white flex items-center space-x-1 max-w-[160px]",children:[r.jsx(Eu,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"text-sm truncate",children:d()}),r.jsx(Qn,{className:"w-3 h-3 flex-shrink-0"})]})}),r.jsxs(kx,{align:"end",className:"w-48 bg-gray-800 border-gray-700",children:[r.jsxs(Sa,{onClick:()=>{const u=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin"?"/admin/dashboard":"/dashboard";c(u)},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsxs(Sa,{onClick:()=>c("/profile"),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Profile"]}),r.jsx(Px,{className:"bg-gray-700"}),r.jsxs(Sa,{onClick:()=>o(),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(yg,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>c("/signup"),className:"text-gray-300 hover:text-white",children:"Sign up"}),r.jsx(z,{size:"sm",onClick:()=>c("/login"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Login"})]})]})]}),t&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm overflow-hidden",onClick:()=>e(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999},children:r.jsxs("div",{className:"fixed right-0 top-0 h-full w-64 bg-[#1A1B3A] p-4 overflow-y-auto",onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-white font-semibold",children:"Menu"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>e(!1),children:r.jsx(om,{className:"w-4 h-4"})})]}),r.jsxs("nav",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>c("/"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Home"}),r.jsx("button",{onClick:()=>c("/market"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Market"}),r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"text-gray-300 py-2 px-3 text-base font-medium",children:"Trade"}),r.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[r.jsx(ht,{href:"/trade/spot",children:r.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:()=>e(!1),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",r.jsx("br",{}),"real-time market prices."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),r.jsx(ht,{href:"/trade/options",children:r.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:()=>e(!1),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",r.jsx("br",{}),"market moves in seconds."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}),r.jsx("button",{onClick:()=>c("/wallet"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Wallet"}),r.jsx("button",{onClick:()=>c("/support"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Support"})]})]})})]})}function Dx(){const[t,e]=_r(),[s,n]=f.useState(!1),[i,a]=f.useState(!1),[o,l]=f.useState(null),{user:c,isAuthenticated:d,logout:u}=ms();console.log("🔍 Navigation Debug - User Data:",{user:c,isAuthenticated:d,firstName:c==null?void 0:c.firstName,lastName:c==null?void 0:c.lastName,username:c==null?void 0:c.username,walletAddress:c==null?void 0:c.walletAddress,email:c==null?void 0:c.email,displayName:c!=null&&c.firstName&&(c!=null&&c.lastName)?`${c.firstName} ${c.lastName}`:c!=null&&c.firstName?c.firstName:c!=null&&c.username?c.username:"Account"});const h=()=>{if(c!=null&&c.firstName&&(c!=null&&c.lastName))return`${c.firstName} ${c.lastName}`;if(c!=null&&c.firstName)return c.firstName;if(c!=null&&c.username&&!(c!=null&&c.username.startsWith("0x"))||c!=null&&c.username)return c.username;const y=(c==null?void 0:c.walletAddress)||(c==null?void 0:c.wallet_address);return y&&y.startsWith("0x")&&y.length>20?`${y.slice(0,6)}...${y.slice(-4)}`:"Account"},m=()=>{if(c!=null&&c.firstName&&(c!=null&&c.lastName))return`${c.firstName} ${c.lastName}`;if(c!=null&&c.firstName)return c.firstName;if(c!=null&&c.username&&!(c!=null&&c.username.startsWith("0x"))||c!=null&&c.username)return c.username;const y=(c==null?void 0:c.walletAddress)||(c==null?void 0:c.wallet_address);return y&&y.startsWith("0x")&&y.length>20?`${y.slice(0,6)}...`:"Account"};f.useEffect(()=>(i?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[i]);const x=[{path:"/",label:"Home"},{path:"/market",label:"Market"},{path:"/trade",label:"Trade",hasDropdown:!0,dropdownItems:[{path:"/trade/spot",label:"Spot"},{path:"/trade/options",label:"Options"}]},{path:"/wallet",label:"Wallet"},{path:"/support",label:"Support"}];return f.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),r.jsx("header",{className:"bg-[#34344E] border-b border-gray-700/30",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 md:h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx(ht,{href:"/",children:r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:_x,alt:"METACHROME",className:"h-[3rem] md:h-[2.6rem] w-auto"})})})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:x.map(y=>r.jsx("div",{className:"relative",children:y.hasDropdown?r.jsxs("div",{className:"relative",onMouseEnter:()=>{o&&(clearTimeout(o),l(null)),n(!0)},onMouseLeave:()=>{const g=setTimeout(()=>{n(!1)},300);l(g)},children:[r.jsxs("button",{className:`text-gray-300 hover:text-white px-3 py-2 text-sm font-medium flex items-center ${t.startsWith("/trade")?"text-white":""}`,children:[y.label,r.jsx(Qn,{className:"ml-1 h-4 w-4"})]}),s&&r.jsxs("div",{className:"absolute top-full left-0 mt-1 w-80 bg-gray-900/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl z-[60] overflow-hidden",children:[r.jsx(ht,{href:"/trade/spot",children:r.jsx("div",{className:"relative p-4 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 cursor-pointer group",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"SPOT"}),r.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Buy and sell crypto instantly at",r.jsx("br",{}),"real-time market prices."]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-12 h-12 object-contain"})})]})})}),r.jsx(ht,{href:"/trade/options",children:r.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 transition-all duration-300 cursor-pointer group",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"OPTION"}),r.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Maximize gains by predicting",r.jsx("br",{}),"market moves in seconds."]})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-12 h-12 object-contain"})})]})})})]})]}):r.jsx(ht,{href:y.path,children:r.jsx("span",{className:`text-gray-300 hover:text-white px-3 py-2 text-sm font-medium ${t===y.path?"text-white":""}`,children:y.label})})},y.path))}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[r.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"w-5 h-3"}),r.jsx("span",{children:"English"})]}),d?r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(XC,{children:[r.jsx(YC,{asChild:!0,children:r.jsxs(z,{variant:"ghost",className:"flex items-center space-x-2 text-gray-300 hover:text-white hover:bg-gray-800",children:[r.jsx(Eu,{className:"w-5 h-5"}),r.jsx("span",{children:h()}),r.jsx(Qn,{className:"w-4 h-4"})]})}),r.jsxs(kx,{align:"end",className:"w-56 bg-gray-800 border-gray-700",children:[r.jsxs(Sa,{onClick:()=>{const y=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="super_admin"?"/admin/dashboard":"/dashboard";e(y)},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsxs(Sa,{onClick:()=>e("/profile"),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Profile"]}),r.jsx(Px,{className:"bg-gray-700"}),r.jsxs(Sa,{onClick:()=>u(),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[r.jsx(yg,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ht,{href:"/login",children:r.jsx(z,{variant:"outline",size:"sm",className:"text-gray-300 border-gray-600 hover:bg-gray-700 hover:text-white",children:"Login"})}),r.jsx(ht,{href:"/signup",children:r.jsx(z,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",children:"Sign Up"})})]})]}),r.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"w-5 h-3"})}),d&&r.jsxs("div",{className:"flex items-center space-x-1.5 text-gray-300 bg-gray-700/30 rounded-full px-2 py-1",children:[r.jsx(Eu,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:m()})]}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"text-gray-300 hover:text-white p-1.5",children:i?r.jsx(om,{className:"h-5 w-5"}):r.jsx(oD,{className:"h-5 w-5"})})]})]}),i&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm overflow-hidden md:hidden",onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999},children:r.jsx("div",{className:"fixed right-0 top-0 h-full w-64 bg-[#1A1B3A] p-4 overflow-y-auto",onClick:y=>y.stopPropagation(),children:r.jsxs("div",{className:"space-y-1",children:[x.map(y=>r.jsx("div",{children:y.hasDropdown?r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-300 block px-3 py-2 text-base font-medium",children:y.label}),r.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[r.jsx(ht,{href:"/trade/spot",children:r.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:()=>a(!1),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",r.jsx("br",{}),"real-time market prices."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),r.jsx(ht,{href:"/trade/options",children:r.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer transform transition-transform hover:scale-105",onClick:()=>a(!1),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),r.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",r.jsx("br",{}),"market moves in seconds."]})]}),r.jsx("div",{className:"ml-3 flex-shrink-0",children:r.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}):r.jsx(ht,{href:y.path,children:r.jsx("div",{className:`block px-3 py-2 text-base font-medium hover:text-white hover:bg-gray-800 ${t===y.path?"text-purple-400":"text-gray-300"}`,onClick:()=>a(!1),children:y.label})})},y.path)),r.jsx("div",{className:"pt-4 space-y-2",children:d?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-300 px-3 py-2",children:[r.jsx(Eu,{className:"w-4 h-4"}),r.jsx("span",{children:m()})]}),r.jsxs(z,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:()=>{const y=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="super_admin"?"/admin/dashboard":"/dashboard";e(y),a(!1)},children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsx(ht,{href:"/profile",children:r.jsxs(z,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:()=>a(!1),children:[r.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Profile"]})}),r.jsxs(z,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:()=>{u(),a(!1)},children:[r.jsx(yg,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(ht,{href:"/login",children:r.jsx(z,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:()=>a(!1),children:"Login"})}),r.jsx(ht,{href:"/signup",children:r.jsx(z,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",onClick:()=>a(!1),children:"Sign Up"})})]})})]})})})]})})}function Bc(){return r.jsx("footer",{className:"bg-[#181D20] border-t border-gray-600/30",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"col-span-1 md:col-span-1",children:[r.jsx("div",{className:"flex items-center mb-4",children:r.jsx("img",{src:_x,alt:"METACHROME",className:"h-8 w-auto"})}),r.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed",children:"We're passionate about creating unforgettable moments. Our platform provides a seamless and transparent trading experience, with a range of exciting crypto and fiat currency options."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ht,{href:"/trade/options",className:"text-gray-400 hover:text-white text-sm",children:"Options Trade"})}),r.jsx("li",{children:r.jsx(ht,{href:"/trade/spot",className:"text-gray-400 hover:text-white text-sm",children:"Spot Trade"})}),r.jsx("li",{children:r.jsx(ht,{href:"/market",className:"text-gray-400 hover:text-white text-sm",children:"Market"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ht,{href:"/",className:"text-gray-400 hover:text-white text-sm",children:"Home"})}),r.jsx("li",{children:r.jsx(ht,{href:"/signup",className:"text-gray-400 hover:text-white text-sm",children:"Sign Up"})}),r.jsx("li",{children:r.jsx(ht,{href:"/support",className:"text-gray-400 hover:text-white text-sm",children:"Support"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(ht,{href:"/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Trade Policy"})}),r.jsx("li",{children:r.jsx(ht,{href:"/terms",className:"text-gray-400 hover:text-white text-sm",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx(ht,{href:"/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Privacy Policy"})})]})]})]}),r.jsxs("div",{className:"border-t border-gray-600/30 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[r.jsxs("p",{className:"text-gray-500 text-xs mb-4 md:mb-0",children:["© 2025 ",r.jsx("span",{className:"font-bold text-purple-500",children:"Metachrome"}),". All Rights Reserved"]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})})}function t6({children:t}){const e=Cn(),[s]=_r(),[n,i]=f.useState(!1),o=!["/admin/login","/trade/options","/options","/trade/spot","/login","/signup"].includes(s);return f.useEffect(()=>{const l=()=>{const c=typeof window<"u"?window.innerWidth:1024;i(c<1024)};if(l(),typeof window<"u")return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),e||n?r.jsxs("div",{className:"min-h-screen bg-gray-900 overflow-x-hidden max-w-full relative",children:[o&&r.jsx(Mx,{}),r.jsx("main",{className:"relative pb-20 overflow-x-hidden max-w-full",children:t}),o&&r.jsx(Bc,{}),r.jsx(fh,{}),r.jsx("div",{id:"mobile-modal-root",className:"relative z-[99999]"})]}):r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[o&&r.jsx(Dx,{}),r.jsx("main",{children:t}),o&&r.jsx(Bc,{}),r.jsx(fh,{})]})}const we=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));we.displayName="Card";const rt=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("flex flex-col space-y-1.5 p-6",t),...e}));rt.displayName="CardHeader";const nt=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("text-2xl font-semibold leading-none tracking-tight",t),...e}));nt.displayName="CardTitle";const Et=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("text-sm text-muted-foreground",t),...e}));Et.displayName="CardDescription";const je=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("p-6 pt-0",t),...e}));je.displayName="CardContent";const s6=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:$e("flex items-center p-6 pt-0",t),...e}));s6.displayName="CardFooter";const Re=f.forwardRef(({className:t,type:e,...s},n)=>r.jsx("input",{type:e,className:$e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));Re.displayName="Input";var Nm="Collapsible",[r6]=Dr(Nm),[n6,Ax]=r6(Nm),JC=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=Bi({prop:n,defaultProp:i??!1,onChange:o,caller:Nm});return r.jsx(n6,{scope:s,disabled:a,contentId:Qr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:r.jsx(Ve.div,{"data-state":Ox(c),"data-disabled":a?"":void 0,...l,ref:e})})});JC.displayName=Nm;var ZC="CollapsibleTrigger",eT=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,...n}=t,i=Ax(ZC,s);return r.jsx(Ve.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Ox(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ee(t.onClick,i.onOpenToggle)})});eT.displayName=ZC;var Rx="CollapsibleContent",tT=f.forwardRef((t,e)=>{const{forceMount:s,...n}=t,i=Ax(Rx,t.__scopeCollapsible);return r.jsx(Ar,{present:s||i.open,children:({present:a})=>r.jsx(i6,{...n,ref:e,present:a})})});tT.displayName=Rx;var i6=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:n,children:i,...a}=t,o=Ax(Rx,s),[l,c]=f.useState(n),d=f.useRef(null),u=vt(e,d),h=f.useRef(0),m=h.current,x=f.useRef(0),y=x.current,g=o.open||l,v=f.useRef(g),b=f.useRef(void 0);return f.useEffect(()=>{const p=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(p)},[]),hs(()=>{const p=d.current;if(p){b.current=b.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const w=p.getBoundingClientRect();h.current=w.height,x.current=w.width,v.current||(p.style.transitionDuration=b.current.transitionDuration,p.style.animationName=b.current.animationName),c(n)}},[o.open,n]),r.jsx(Ve.div,{"data-state":Ox(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function Ox(t){return t?"open":"closed"}var a6=JC;const xh=a6,yh=eT,vh=tT,sT="/assets/hero-desktop_1754552987909-1761305830802.jpg",o6="/assets/hero-mobile-1761305830802.jpg";function l6(){const t=Cn(),[,e]=_r(),s=()=>{e("/trade/options")};return t?r.jsx("section",{className:"relative overflow-hidden bg-black",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o6,alt:"METACHROME Hero Banner",className:"w-full h-auto object-cover",style:{maxHeight:"280px"},onError:n=>{n.currentTarget.style.display="none",n.currentTarget.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",n.currentTarget.parentElement.style.minHeight="280px"}}),r.jsx("div",{className:"absolute bottom-6 left-4 z-20",children:r.jsx(z,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-2.5 rounded-lg text-base font-semibold border-0 shadow-lg",children:"Start Trading"})})]})}):r.jsx("section",{className:"relative overflow-hidden bg-black py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:sT,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-contain rounded-lg",style:{maxHeight:"440px"}}),r.jsx("div",{className:"absolute bottom-20 left-8 z-20",children:r.jsx(z,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-3 rounded-lg text-lg font-semibold border-0 shadow-lg",children:"Start Trading"})})]})})})}const Lb="/assets/new-metachrome-card-1761305830802.png",bh="/assets/FAQ_image-2_1755414462649-1761305830802.png",c6="/assets/featureimage01_1754552987907-1761305830802.png",d6="/assets/featureimage02_1754552987908-1761305830802.png",u6="/assets/featureimage03_1754552987909-1761305830802.png",Fb="/assets/emailsb_1754552987905-1761305830802.png",rT=()=>{const[t,e]=f.useState([]),[s,n]=f.useState(!0),[i,a]=f.useState(null),o=async()=>{try{n(!0),a(null),console.log("🪙 Fetching from CoinMarketCap via server proxy...");const d=await fetch("/api/market-data",{headers:{Accept:"application/json"},signal:AbortSignal.timeout(15e3)});if(!d.ok)throw new Error(`Server API failed: ${d.status} ${d.statusText}`);const u=await d.json();if(u.error&&u.fallback){console.log("⚠️ Server returned fallback data due to CoinMarketCap API error"),e(u.fallback),a("Using cached data");return}console.log("✅ CoinMarketCap data received via server proxy"),e(u),a(null)}catch(d){console.error("❌ Server proxy failed, trying direct CoinGecko fallback:",d);try{console.log("🔄 Fallback: Fetching from CoinGecko API...");const u=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,binancecoin,solana,cardano,ripple,dogecoin,polygon,avalanche-2,chainlink,litecoin,polkadot,uniswap,shiba-inu&order=market_cap_desc&per_page=15&page=1&sparkline=false&price_change_percentage=24h",{headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!u.ok)throw new Error(`CoinGecko API failed: ${u.status} ${u.statusText}`);const h=await u.json();console.log("✅ CoinGecko fallback data received");const m=h.map(x=>{var y,g,v;return{id:x.id,symbol:`${x.symbol.toUpperCase()}/USDT`,name:x.name,price:`$${x.current_price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:x.current_price<1?6:2})}`,change:`${((y=x.price_change_percentage_24h)==null?void 0:y.toFixed(2))||"0.00"}%`,high:`$${((g=x.high_24h)==null?void 0:g.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:x.high_24h<1?6:2}))||"N/A"}`,low:`$${((v=x.low_24h)==null?void 0:v.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:x.low_24h<1?6:2}))||"N/A"}`,isPositive:(x.price_change_percentage_24h||0)>=0,marketCap:x.market_cap,volume:x.total_volume,image:x.image,coinGeckoId:x.id,rawPrice:x.current_price,rawChange:x.price_change_percentage_24h||0}});e(m),a("Using CoinGecko fallback"),console.log("✅ CoinGecko fallback data processed successfully")}catch(u){console.error("❌ All crypto data sources failed:",u),a("Failed to fetch"),console.log("🔄 Using enhanced fallback data..."),e([{id:"bitcoin",symbol:"BTC/USDT",name:"Bitcoin",price:"$43,250.50",change:"+2.45%",high:"$44,100",low:"$42,800",isPositive:!0,marketCap:85e10,volume:25e9,image:"https://cryptoicons.org/api/icon/btc/200",coinGeckoId:"bitcoin",rawPrice:43250.5,rawChange:2.45},{id:"ethereum",symbol:"ETH/USDT",name:"Ethereum",price:"$2,650.75",change:"-1.23%",high:"$2,720",low:"$2,580",isPositive:!1,marketCap:32e10,volume:15e9,image:"https://cryptoicons.org/api/icon/eth/200",coinGeckoId:"ethereum",rawPrice:2650.75,rawChange:-1.23},{id:"binancecoin",symbol:"BNB/USDT",name:"BNB",price:"$315.20",change:"+3.67%",high:"$325",low:"$305",isPositive:!0,marketCap:5e10,volume:2e9,image:"https://cryptoicons.org/api/icon/bnb/200",coinGeckoId:"binancecoin",rawPrice:315.2,rawChange:3.67},{id:"solana",symbol:"SOL/USDT",name:"Solana",price:"$98.45",change:"+5.12%",high:"$102",low:"$94",isPositive:!0,marketCap:45e9,volume:3e9,image:"https://cryptoicons.org/api/icon/sol/200",coinGeckoId:"solana",rawPrice:98.45,rawChange:5.12},{id:"cardano",symbol:"ADA/USDT",name:"Cardano",price:"$0.485",change:"-2.34%",high:"$0.52",low:"$0.47",isPositive:!1,marketCap:15e9,volume:8e8,image:"https://cryptoicons.org/api/icon/ada/200",coinGeckoId:"cardano",rawPrice:.485,rawChange:-2.34},{id:"ripple",symbol:"XRP/USDT",name:"XRP",price:"$0.6234",change:"+4.12%",high:"$0.65",low:"$0.59",isPositive:!0,marketCap:35e9,volume:15e8,image:"https://cryptoicons.org/api/icon/xrp/200",coinGeckoId:"ripple",rawPrice:.6234,rawChange:4.12},{id:"dogecoin",symbol:"DOGE/USDT",name:"Dogecoin",price:"$0.0823",change:"+6.78%",high:"$0.087",low:"$0.076",isPositive:!0,marketCap:12e9,volume:9e8,image:"https://cryptoicons.org/api/icon/doge/200",coinGeckoId:"dogecoin",rawPrice:.0823,rawChange:6.78},{id:"polygon",symbol:"MATIC/USDT",name:"Polygon",price:"$0.8945",change:"+3.21%",high:"$0.92",low:"$0.86",isPositive:!0,marketCap:85e8,volume:65e7,image:"https://cryptoicons.org/api/icon/matic/200",coinGeckoId:"polygon",rawPrice:.8945,rawChange:3.21},{id:"avalanche-2",symbol:"AVAX/USDT",name:"Avalanche",price:"$36.78",change:"-1.45%",high:"$38.20",low:"$35.90",isPositive:!1,marketCap:14e9,volume:75e7,image:"https://cryptoicons.org/api/icon/avax/200",coinGeckoId:"avalanche-2",rawPrice:36.78,rawChange:-1.45},{id:"chainlink",symbol:"LINK/USDT",name:"Chainlink",price:"$14.56",change:"+2.89%",high:"$15.10",low:"$14.20",isPositive:!0,marketCap:88e8,volume:42e7,image:"https://cryptoicons.org/api/icon/link/200",coinGeckoId:"chainlink",rawPrice:14.56,rawChange:2.89},{id:"litecoin",symbol:"LTC/USDT",name:"Litecoin",price:"$73.45",change:"+1.67%",high:"$75.20",low:"$71.80",isPositive:!0,marketCap:54e8,volume:38e7,image:"https://cryptoicons.org/api/icon/ltc/200",coinGeckoId:"litecoin",rawPrice:73.45,rawChange:1.67},{id:"polkadot",symbol:"DOT/USDT",name:"Polkadot",price:"$5.89",change:"-3.12%",high:"$6.15",low:"$5.75",isPositive:!1,marketCap:72e8,volume:29e7,image:"https://cryptoicons.org/api/icon/dot/200",coinGeckoId:"polkadot",rawPrice:5.89,rawChange:-3.12},{id:"uniswap",symbol:"UNI/USDT",name:"Uniswap",price:"$6.78",change:"+4.56%",high:"$7.05",low:"$6.45",isPositive:!0,marketCap:51e8,volume:34e7,image:"https://cryptoicons.org/api/icon/uni/200",coinGeckoId:"uniswap",rawPrice:6.78,rawChange:4.56},{id:"shiba-inu",symbol:"SHIB/USDT",name:"Shiba Inu",price:"$0.000009234",change:"+8.92%",high:"$0.000009850",low:"$0.000008650",isPositive:!0,marketCap:54e8,volume:28e7,image:"https://cryptoicons.org/api/icon/shib/200",coinGeckoId:"shiba-inu",rawPrice:9234e-9,rawChange:8.92}])}}finally{n(!1)}};return f.useEffect(()=>{o();const d=setInterval(()=>{o()},i?3e4:6e4);return()=>clearInterval(d)},[i]),{cryptoData:t,loading:s,error:i,refetch:o,retry:()=>{console.log("🔄 Manual retry triggered"),o()},forceRefresh:async()=>{try{console.log("🔄 Force refreshing data from server..."),n(!0),await fetch("/api/market-data/refresh",{method:"POST"}),await o()}catch(d){console.error("❌ Force refresh failed:",d),o()}}}},h6=(t,e="spot")=>{const s=t.split("/")[0].toLowerCase();return e==="options"?`/trade/options?symbol=${s}usdt`:`/trade/spot?symbol=${s}usdt`};function m6(){const[t,e]=f.useState(null),[s,n]=f.useState(""),[,i]=_r(),a=Cn(),{cryptoData:o,loading:l,error:c,retry:d}=rT(),u=(p,w="spot")=>{const j=h6(p.symbol,w);i(j)},[h,m]=f.useState([{symbol:"BTC",price:"$43,250",change:"+2.34%",color:"bg-orange-500"},{symbol:"ETH",price:"$2,650",change:"+1.89%",color:"bg-blue-500"},{symbol:"BNB",price:"$315",change:"+0.89%",color:"bg-yellow-500"},{symbol:"SOL",price:"$245",change:"+3.45%",color:"bg-purple-500"}]),x=async()=>{try{const p=await fetch("/api/market-data/top-gainers");if(p.ok){const w=await p.json();m(w),console.log("✅ Top gainers data updated from CoinMarketCap")}}catch(p){console.log("⚠️ Using fallback top gainers data:",p)}};f.useEffect(()=>{x();const p=setInterval(x,12e4);return()=>clearInterval(p)},[]);const y=[{icon:c6,title:"Fast Execution",description:"Experience blazing-fast trade performance and experience."},{icon:d6,title:"Secure Wallets",description:"Your assets are protected with top-level security protocols."},{icon:u6,title:"Real-Time Updates",description:"Stay updated with real-time charts and market data."}],g=[{title:"Create Your Account",description:"Join in seconds, secure, and built for all traders."},{title:"Verify & Activate",description:"Unlock full access with multi-layered protection."},{title:"Deposit / Buy Crypto",description:"Top up with flexible options, ready to deploy instantly."},{title:"Trade",description:"Experience deep liquidity, real-time insights, and refined execution."}],v=[{question:"What products does METACHROME Ecosystem include?",answer:"Our ecosystem includes spot trading, futures, options, and advanced trading tools with MetaMask integration."},{question:"Why is it better to trade cryptocurrencies on METACHROME?",answer:"Advanced trading features with competitive fees, superior execution, and admin-controlled outcomes."},{question:"Can I buy cryptocurrency with a credit card?",answer:"Yes, we support multiple payment methods including credit cards and crypto wallets."},{question:"How to buy cryptocurrency on METACHROME?",answer:"Connect your MetaMask wallet and start trading with our intuitive interface."},{question:"How to Complete Identity Verification?",answer:"Upload required documents through our secure verification system for enhanced features."}],b=p=>{p.preventDefault(),console.log("Newsletter signup:",s),n("")};return a?r.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[r.jsx(l6,{}),r.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/30 border-y border-blue-500/30 relative overflow-hidden",style:{height:"86px"},children:r.jsx("div",{className:"flex items-center h-full",children:r.jsx("div",{className:"whitespace-nowrap animate-scroll",children:r.jsx("span",{className:"text-white text-base font-medium px-6",children:"Bitcoin surges past key resistance traders eye the next breakout | Ethereum momentum builds smart money is already in | Market opportunities don't wait execute faster with Metachrome | Metachrome introduces seamless trading built for speed and precision | Crypto market cap expands almost 5% in 24 hours | Bitcoin surges past key resistance traders eye the next breakout | Ethereum momentum builds smart money is already in | Market opportunities don't wait execute faster with Metachrome | Metachrome introduces seamless trading built for speed and precision | Crypto market cap expands almost 5% in 24 hours"})})})}),r.jsxs("section",{className:"px-4 py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Currency List"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data • Updates every minute"}),l&&r.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),c&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("p",{className:"text-yellow-400 text-sm",children:"Using cached data • Real-time updates temporarily unavailable"}),r.jsx("button",{onClick:d,className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Retry"})]})]}),r.jsx(we,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:r.jsx(je,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-purple-800/30",children:[r.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Name"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Price"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"24h"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Actions"})]})}),r.jsx("tbody",{children:l?Array.from({length:5}).map((p,w)=>r.jsxs("tr",{className:"border-b border-purple-800/20",children:[r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full animate-pulse"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse mb-1 w-12"}),r.jsx("div",{className:"h-2 bg-gray-700 rounded animate-pulse w-8"})]})]})}),r.jsx("td",{className:"p-3",children:r.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})}),r.jsx("td",{className:"p-3",children:r.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-10"})}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"h-6 bg-gray-700 rounded animate-pulse w-10"}),r.jsx("div",{className:"h-6 bg-gray-700 rounded animate-pulse w-12"})]})})]},w)):o.slice(0,12).map(p=>r.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:[p.image?r.jsx("img",{src:p.image,alt:p.name,className:"w-5 h-5 object-cover",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling.style.display="flex"}}):null,r.jsx("span",{className:"text-white font-bold text-xs",style:{display:p.image?"none":"flex"},children:p.symbol.split("/")[0].charAt(0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white text-sm",children:p.symbol}),r.jsx("div",{className:"text-xs text-gray-400",children:p.name})]})]})}),r.jsx("td",{className:"p-3 text-white font-medium text-sm",children:p.price}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:`flex items-center space-x-1 ${p.isPositive?"text-green-400":"text-red-400"}`,children:[p.isPositive?r.jsx(cr,{className:"w-3 h-3"}):r.jsx(lh,{className:"w-3 h-3"}),r.jsx("span",{className:"font-medium text-xs",children:p.change})]})}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(z,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white text-xs px-2 py-1 h-6",onClick:()=>u(p,"spot"),children:"Spot"}),r.jsx(z,{variant:"outline",size:"sm",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white text-xs px-2 py-1 h-6",onClick:()=>u(p,"options"),children:"Options"})]})})]},p.symbol))})]})})})})]}),r.jsxs("section",{className:"px-4 py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-left",children:"Top Gainers"})}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(p=>r.jsx(we,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:r.jsxs(je,{className:"p-4",children:[r.jsx("div",{className:"flex items-center mb-4",children:r.jsx("div",{className:`w-8 h-8 ${p.color} rounded-full flex items-center justify-center`,children:r.jsx("span",{className:"text-white font-bold text-xs",children:p.symbol})})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-bold text-sm",children:p.symbol}),r.jsx("span",{className:"text-gray-400 text-xs",children:p.price.replace("$","")})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-green-400 font-bold text-sm",children:p.change})]})]})]})},p.symbol))})]}),r.jsxs("section",{className:"px-4 py-8",children:[r.jsx("div",{className:"mb-8 text-left",children:r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Metachrome Features"})}),r.jsx("div",{className:"space-y-6",children:y.map((p,w)=>r.jsx(we,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:r.jsxs(je,{className:"p-6 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:p.icon,alt:p.title,className:"w-32 h-32 object-contain"})}),r.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:p.title}),r.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:p.description})]})},w))})]}),r.jsx("section",{className:"bg-black py-12",children:r.jsx("div",{className:"px-4",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"A New Era Begins"}),r.jsx("p",{className:"text-gray-400 mb-8 text-base leading-relaxed",children:"Explore the future of trading—smart, secure, and accessible for everyone."}),r.jsx("div",{className:"space-y-6",children:g.map((p,w)=>r.jsxs("div",{className:"flex items-start space-x-3 relative",children:[r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("div",{className:"w-8 h-8 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0 bg-black z-10",children:w+1}),w<g.length-1&&r.jsx("div",{className:"w-0.5 h-12 bg-gray-600 mt-3"})]}),r.jsxs("div",{className:"flex-1 pt-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:p.title}),r.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:p.description})]})]},w))})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:Lb,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),r.jsx("section",{className:"px-4 py-8",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-base",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),r.jsx("div",{className:"flex justify-center mb-8",children:r.jsx("div",{className:"w-64 h-64",children:r.jsx("img",{src:bh,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),r.jsx("div",{className:"space-y-4",children:v.map((p,w)=>r.jsxs(xh,{open:t===w,onOpenChange:()=>e(t===w?null:w),children:[r.jsx(yh,{asChild:!0,children:r.jsx(we,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===w?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:r.jsx(je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:`font-medium pr-3 text-sm transition-colors duration-300 ${t===w?"text-purple-400":"text-white"}`,children:p.question}),r.jsx(Qn,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===w?"rotate-180 text-purple-400":""}`})]})})})}),r.jsx(vh,{children:r.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:r.jsx("p",{className:"text-gray-400 text-sm",children:p.answer})})})]},w))})]})}),r.jsx("section",{className:"bg-black py-8",children:r.jsx("div",{className:"px-4",children:r.jsx(we,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"space-y-6 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"relative",children:r.jsx("img",{src:Fb,alt:"Newsletter Chart",className:"w-full max-w-xs h-auto object-contain"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-xs mb-2 uppercase tracking-wider",children:"Get Started For Free"}),r.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 leading-tight",children:["Subscribe our newsletter &",r.jsx("br",{}),"Stay Update Every Day"]}),r.jsxs("form",{onSubmit:b,className:"flex flex-col space-y-3",children:[r.jsx(Re,{type:"email",placeholder:"Enter you email",value:s,onChange:p=>n(p.target.value),className:"bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-10 rounded-lg"}),r.jsx(z,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 h-10 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]}):r.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[r.jsx("section",{className:"relative overflow-hidden bg-black py-8 w-full",children:r.jsxs("div",{className:"relative w-full px-6",children:[r.jsx("img",{src:sT,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-cover rounded-lg",style:{maxHeight:"440px"}}),r.jsx("div",{className:"absolute top-80 left-40 z-20",children:r.jsx(z,{onClick:()=>i("/trade/options"),className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-4 rounded-lg text-lg font-semibold border-0 shadow-lg transform hover:scale-105 transition-all duration-300",children:"Start Trading"})})]})}),r.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/20 border-y border-blue-500/30 relative overflow-hidden",style:{height:"86px"},children:r.jsx("div",{className:"flex items-center h-full",children:r.jsx("div",{className:"whitespace-nowrap animate-scroll",children:r.jsx("span",{className:"text-white text-lg font-medium px-8",children:"Bitcoin surges past key resistance traders eye the next breakout | Ethereum momentum builds smart money is already in | Market opportunities don't wait execute faster with Metachrome | Metachrome introduces seamless trading built for speed and precision | Crypto market cap expands almost 5% in 24 hours | Bitcoin surges past key resistance traders eye the next breakout | Ethereum momentum builds smart money is already in | Market opportunities don't wait execute faster with Metachrome | Metachrome introduces seamless trading built for speed and precision | Crypto market cap expands almost 5% in 24 hours"})})})}),r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Currency List"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data • Updates every minute"}),l&&r.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),c&&r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("p",{className:"text-yellow-400 text-sm",children:"Using cached data • Real-time updates temporarily unavailable"}),r.jsx("button",{onClick:d,className:"text-blue-400 text-sm underline hover:text-blue-300",children:"Retry"})]})]}),r.jsx(we,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:r.jsx(je,{className:"p-0",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-purple-800/30",children:[r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Name"}),r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Last Price"}),r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Change"}),r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h High"}),r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Low"}),r.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Actions"})]})}),r.jsx("tbody",{children:l?Array.from({length:5}).map((p,w)=>r.jsxs("tr",{className:"border-b border-purple-800/20",children:[r.jsx("td",{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full animate-pulse"}),r.jsxs("div",{children:[r.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse mb-1 w-20"}),r.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})]})]})}),r.jsx("td",{className:"p-6",children:r.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-24"})}),r.jsx("td",{className:"p-6",children:r.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-16"})}),r.jsx("td",{className:"p-6",children:r.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),r.jsx("td",{className:"p-6",children:r.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),r.jsx("td",{className:"p-6",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("div",{className:"h-8 bg-gray-700 rounded animate-pulse w-16"}),r.jsx("div",{className:"h-8 bg-gray-700 rounded animate-pulse w-20"})]})})]},w)):o.map(p=>r.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[r.jsx("td",{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:[p.image?r.jsx("img",{src:p.image,alt:p.name,className:"w-8 h-8 object-cover",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling.style.display="flex"}}):null,r.jsx("span",{className:"text-white font-bold text-sm",style:{display:p.image?"none":"flex"},children:p.symbol.split("/")[0].charAt(0)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:p.symbol}),r.jsx("div",{className:"text-sm text-gray-400",children:p.name})]})]})}),r.jsx("td",{className:"p-6 text-white font-medium",children:p.price}),r.jsx("td",{className:"p-6",children:r.jsxs("div",{className:`flex items-center space-x-1 ${p.isPositive?"text-green-400":"text-red-400"}`,children:[p.isPositive?r.jsx(cr,{className:"w-4 h-4"}):r.jsx(lh,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:p.change})]})}),r.jsx("td",{className:"p-6 text-gray-300",children:p.high}),r.jsx("td",{className:"p-6 text-gray-300",children:p.low}),r.jsx("td",{className:"p-6",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white",onClick:()=>u(p,"spot"),children:[r.jsx(ib,{className:"w-3 h-3 mr-1"}),"Spot"]}),r.jsxs(z,{variant:"outline",size:"sm",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white",onClick:()=>u(p,"options"),children:[r.jsx(ib,{className:"w-3 h-3 mr-1"}),"Options"]})]})})]},p.symbol))})]})})})})]}),r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[r.jsx("div",{className:"mb-8",children:r.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-left",children:"Top Gainers"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(p=>r.jsx(we,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:r.jsxs(je,{className:"p-6",children:[r.jsx("div",{className:"flex items-center mb-6",children:r.jsx("div",{className:`w-12 h-12 ${p.color} rounded-full flex items-center justify-center`,children:r.jsx("span",{className:"text-white font-bold text-sm",children:p.symbol})})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white font-bold text-lg",children:p.symbol}),r.jsx("span",{className:"text-gray-400 text-sm",children:p.price.replace("$","")})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-green-400 font-bold text-lg",children:p.change})]})]})]})},p.symbol))})]}),r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[r.jsx("div",{className:"mb-12 text-left",children:r.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Metachrome Features"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:y.map((p,w)=>r.jsx(we,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:r.jsxs(je,{className:"p-8 text-center",children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsx("img",{src:p.icon,alt:p.title,className:"w-60 h-60 object-contain"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:p.title}),r.jsx("p",{className:"text-gray-300 leading-relaxed text-base",children:p.description})]})},w))})]}),r.jsx("section",{className:"bg-black py-24",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"A New Era Begins"}),r.jsx("p",{className:"text-gray-400 mb-12 text-lg leading-relaxed",children:"Explore the future of trading—smart, secure, and accessible for everyone."}),r.jsx("div",{className:"space-y-8",children:g.map((p,w)=>r.jsxs("div",{className:"flex items-start space-x-4 relative",children:[r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0 bg-black z-10",children:w+1}),w<g.length-1&&r.jsx("div",{className:"w-0.5 h-16 bg-gray-600 mt-4"})]}),r.jsxs("div",{className:"flex-1 pt-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:p.title}),r.jsx("p",{className:"text-gray-400 leading-relaxed",children:p.description})]})]},w))})]}),r.jsx("div",{className:"flex justify-center lg:justify-end",children:r.jsx("img",{src:Lb,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),r.jsx("section",{className:"max-w-7xl mx-auto px-6 py-16",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[r.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),r.jsx("div",{className:"p-0 m-0",children:r.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:r.jsx("img",{src:bh,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),r.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:v.map((p,w)=>r.jsxs(xh,{open:t===w,onOpenChange:()=>e(t===w?null:w),children:[r.jsx(yh,{asChild:!0,children:r.jsx(we,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===w?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:`font-medium pr-4 text-lg transition-colors duration-300 ${t===w?"text-purple-400":"text-white"}`,children:p.question}),r.jsx(Qn,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===w?"rotate-180 text-purple-400":""}`})]})})})}),r.jsx(vh,{children:r.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:r.jsx("p",{className:"text-gray-400 text-lg",children:p.answer})})})]},w))})]})}),r.jsx("section",{className:"bg-black py-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsx(we,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:r.jsx(je,{className:"p-12",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[r.jsx("div",{className:"flex justify-center lg:justify-start",children:r.jsx("div",{className:"relative",children:r.jsx("img",{src:Fb,alt:"Newsletter Chart",className:"w-full max-w-lg h-auto object-contain",style:{width:"512px",height:"384px"}})})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase tracking-wider",children:"Get Started For Free"}),r.jsxs("h2",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Subscribe our newsletter &",r.jsx("br",{}),"Stay Update Every Day"]}),r.jsxs("form",{onSubmit:b,className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[r.jsx(Re,{type:"email",placeholder:"Enter you email",value:s,onChange:p=>n(p.target.value),className:"flex-1 bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-12 rounded-lg"}),r.jsx(z,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 h-12 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]})}function f6(){const[t,e]=f.useState(""),[s,n]=f.useState("Spot"),i=Cn(),{cryptoData:a,loading:o,error:l,forceRefresh:c,retry:d}=rT(),h=a.map(x=>({symbol:x.symbol.replace("/USDT",""),pair:"USDT",price:x.price,change:x.change,isPositive:x.isPositive,leverage:"10X",rawPrice:x.rawPrice,rawChange:x.rawChange})).filter(x=>x.symbol.toLowerCase().includes(t.toLowerCase())||`${x.symbol}${x.pair}`.toLowerCase().includes(t.toLowerCase())),m=["Favorites","Options","Spot"];return r.jsxs("div",{className:"min-h-screen bg-[#10121E]",children:[r.jsx("div",{className:"bg-[#0B0E17] py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("h1",{className:`font-bold text-white py-5 ${i?"text-xl":"text-3xl"}`,children:"Markets"})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:`mb-8 ${i?"space-y-3":"flex items-center justify-between"}`,children:[r.jsx("div",{className:"flex items-center space-x-1",children:m.map(x=>r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(x),className:s===x?"bg-purple-600 text-white hover:bg-purple-700 px-6 py-2 rounded-md":"bg-transparent text-gray-300 hover:bg-gray-700 px-6 py-2 rounded-md",children:x},x))}),r.jsxs("div",{className:`flex items-center ${i?"w-full gap-2":"space-x-4"}`,children:[r.jsxs("div",{className:`relative ${i?"flex-1":""}`,children:[r.jsx(ix,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx(Re,{type:"text",placeholder:i?"Search...":"Search cryptocurrencies...",value:t,onChange:x=>e(x.target.value),className:`pl-10 ${i?"w-full":"w-64"} bg-[#3A3A4E] border-gray-600 text-white placeholder-gray-400 rounded-md`})]}),r.jsxs(z,{onClick:c,disabled:o,className:`bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white rounded-md flex items-center gap-2 ${i?"px-3 py-2 text-sm flex-shrink-0":"px-4 py-2"}`,title:o?"Updating...":"Refresh",children:[r.jsx(Cr,{className:`w-4 h-4 ${o?"animate-spin":""}`}),!i&&(o?"Updating...":"Refresh")]})]})]}),r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-yellow-400 animate-pulse":l?"bg-red-400":"bg-green-400"}`}),r.jsx("span",{className:"text-sm text-gray-400",children:o?"Updating market data...":l?"Using cached data":"Real-time data"}),l&&r.jsx("button",{onClick:d,className:"text-blue-400 text-sm underline hover:text-blue-300 ml-2",children:"Retry"})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[h.length," cryptocurrencies"]})]}),r.jsx("div",{className:"bg-transparent",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-600",children:[r.jsx("th",{className:"text-left py-8 px-6 font-medium text-gray-400 text-sm",children:"Name"}),r.jsx("th",{className:"text-center py-8 px-6 font-medium text-gray-400 text-sm",children:"Price"}),r.jsx("th",{className:"text-right py-8 px-6 font-medium text-gray-400 text-sm",children:"24h Change"})]})}),r.jsx("tbody",{children:o&&h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"py-12 text-center",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Cr,{className:"w-5 h-5 animate-spin text-blue-400"}),r.jsx("span",{className:"text-gray-400",children:"Loading market data..."})]})})}):h.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"py-12 text-center",children:r.jsxs("span",{className:"text-gray-400",children:['No cryptocurrencies found matching "',t,'"']})})}):h.map((x,y)=>r.jsxs("tr",{className:"border-b border-gray-600/20 hover:bg-gray-700/10 transition cursor-pointer",children:[r.jsx("td",{className:"py-8 px-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(hD,{className:"w-4 h-4 text-gray-500 hover:text-yellow-400 cursor-pointer"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"font-medium text-white text-sm",children:x.symbol}),r.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",x.pair]}),r.jsx("span",{className:"bg-orange-500 text-white text-xs px-1.5 py-0.5 rounded font-medium",children:x.leverage})]})]})}),r.jsx("td",{className:"py-8 px-6 text-center",children:r.jsx("div",{className:"font-mono text-white text-sm",children:x.price})}),r.jsx("td",{className:"py-8 px-6 text-right",children:r.jsx("div",{className:`font-medium text-sm ${x.isPositive?"text-green-400":"text-red-400"}`,children:x.change})})]},`${x.symbol}-${y}`))})]})})}),r.jsx("div",{className:"flex justify-center mt-8",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{variant:"ghost",size:"sm",className:"w-8 h-8 rounded-full bg-purple-600 text-white hover:bg-purple-700",children:"1"}),r.jsx(z,{variant:"ghost",size:"sm",className:"w-8 h-8 rounded-full bg-transparent text-gray-400 hover:bg-gray-700",children:"2"})]})})]})]})}const p6=am("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-white hover:bg-destructive/80",outline:"text-white"}},defaultVariants:{variant:"default"}});function Tt({className:t,variant:e,...s}){return r.jsx("div",{className:$e(p6({variant:e}),t),...s})}function g6({type:t}){var Z;const[e,s]=f.useState(t||"spot"),[n,i]=f.useState("BTCUSDT"),[a,o]=f.useState("market"),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState("30s"),[x,y]=f.useState(!1),{toast:g}=gr(),{user:v}=ms(),b=Mr(),{data:p,isLoading:w}=Zt({queryKey:["/api/market-data"]}),{data:j}=Zt({queryKey:["/api/balances"],enabled:!!v}),{data:S}=Zt({queryKey:["/api/trades/active"],enabled:!!v,refetchInterval:5e3}),T=p==null?void 0:p.find(O=>O.symbol===n),E=((Z=j==null?void 0:j.find(O=>O.symbol==="USDT"))==null?void 0:Z.available)||"0",_=ys({mutationFn:async O=>{const V=await fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:v==null?void 0:v.id,symbol:n,...O})});if(!V.ok){const $=await V.json();throw new Error($.message||"Failed to create trade")}return V.json()},onSuccess:O=>{g({title:"Trade Created",description:`Options trade created successfully for $${l}`}),c(""),b.invalidateQueries({queryKey:["/api/balances"]}),b.invalidateQueries({queryKey:["/api/trades/active"]})},onError:O=>{g({title:"Trade Failed",description:O.message||"Failed to create trade",variant:"destructive"})}}),I=[{value:"30s",label:"30s",percentage:"10%",seconds:30,minAmount:100},{value:"60s",label:"60s",percentage:"15%",seconds:60,minAmount:1e3},{value:"120s",label:"120s",percentage:"20%",seconds:120,minAmount:5e3},{value:"180s",label:"180s",percentage:"25%",seconds:180,minAmount:1e4},{value:"240s",label:"240s",percentage:"30%",seconds:240,minAmount:15e3},{value:"300s",label:"300s",percentage:"35%",seconds:300,minAmount:2e4},{value:"600s",label:"600s",percentage:"40%",seconds:600,minAmount:5e4}],k=I.find(O=>O.value===h),P=async O=>{if(!v){g({title:"Authentication Required",description:"Please log in to start trading",variant:"destructive"});return}if(!l||parseFloat(l)<=0){g({title:"Invalid Amount",description:"Please enter a valid trade amount",variant:"destructive"});return}const V=parseFloat(l),$=(k==null?void 0:k.minAmount)||100;if(V<$){g({title:"Minimum Amount Required",description:`Minimum amount for ${h} is $${$}`,variant:"destructive"});return}if(V>parseFloat(E)){g({title:"Insufficient Balance",description:"You do not have enough USDT balance",variant:"destructive"});return}y(!0);try{await _.mutateAsync({direction:O,amount:l,duration:(k==null?void 0:k.seconds)||30})}finally{y(!1)}},F=O=>{const $=(parseFloat(E)*O/100).toFixed(2);c($)},M=[{price:"118113.00",amount:"0.12345",total:"14567.89"},{price:"118112.50",amount:"0.23456",total:"27701.23"},{price:"118112.00",amount:"0.34567",total:"40834.56"},{price:"118111.50",amount:"0.45678",total:"53967.89"},{price:"118111.00",amount:"0.56789",total:"67101.23"}],H=[{time:"14:30:15",price:"118113.00",amount:"0.12345",side:"buy"},{time:"14:30:14",price:"118112.50",amount:"0.23456",side:"sell"},{time:"14:30:13",price:"118112.00",amount:"0.34567",side:"buy"},{time:"14:30:12",price:"118111.50",amount:"0.45678",side:"sell"},{time:"14:30:11",price:"118111.00",amount:"0.56789",side:"buy"}];return r.jsx("div",{className:"min-h-screen bg-[#1a1b2e] pt-16",children:r.jsxs("div",{className:"max-w-full px-4 sm:px-6 lg:px-8 py-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:n}),r.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[r.jsxs("span",{className:"text-2xl font-bold",children:["$",T!=null&&T.price?parseFloat(T.price).toLocaleString():"118113.00"]}),r.jsxs("span",{className:`flex items-center ${parseFloat((T==null?void 0:T.priceChangePercent24h)||"0")>=0?"text-green-400":"text-red-400"}`,children:[parseFloat((T==null?void 0:T.priceChangePercent24h)||"0")>=0?r.jsx(cr,{className:"w-4 h-4 mr-1"}):r.jsx(lh,{className:"w-4 h-4 mr-1"}),parseFloat((T==null?void 0:T.priceChangePercent24h)||"0").toFixed(2),"%"]})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(ix,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx(Re,{placeholder:"Search",className:"pl-10 bg-[#2a2d47] border-gray-600 text-white w-64"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 h-auto lg:h-[calc(100vh-200px)]",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-4 order-3 lg:order-1",children:[r.jsx(we,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:r.jsxs(je,{className:"p-4",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Order Book"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[r.jsx("span",{children:"Price"}),r.jsx("span",{className:"text-right",children:"Amount"}),r.jsx("span",{className:"text-right",children:"Total"})]}),M.map((O,V)=>r.jsxs("div",{className:"grid grid-cols-3 text-red-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[r.jsx("span",{className:"font-mono",children:O.price}),r.jsx("span",{className:"font-mono text-right",children:O.amount}),r.jsx("span",{className:"font-mono text-right",children:O.total})]},`sell-${V}`)),r.jsx("div",{className:"py-2 text-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"$118113.00"})}),M.reverse().map((O,V)=>r.jsxs("div",{className:"grid grid-cols-3 text-green-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[r.jsx("span",{className:"font-mono",children:O.price}),r.jsx("span",{className:"font-mono text-right",children:O.amount}),r.jsx("span",{className:"font-mono text-right",children:O.total})]},`buy-${V}`))]})]})}),r.jsx(we,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:r.jsxs(je,{className:"p-4",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Market Trades"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[r.jsx("span",{children:"Time"}),r.jsx("span",{className:"text-right",children:"Price"}),r.jsx("span",{className:"text-right",children:"Amount"})]}),H.map((O,V)=>r.jsxs("div",{className:`grid grid-cols-3 hover:bg-[#1a1b2e]/50 p-1 rounded ${O.side==="buy"?"text-green-400":"text-red-400"}`,children:[r.jsx("span",{className:"text-gray-400",children:O.time}),r.jsx("span",{className:"font-mono text-right",children:O.price}),r.jsx("span",{className:"font-mono text-right",children:O.amount})]},V))]})]})})]}),r.jsx("div",{className:"lg:col-span-6 order-2 lg:order-2",children:r.jsx(we,{className:"bg-[#2a2d47] border-gray-600 h-64 lg:h-full",children:r.jsx(je,{className:"p-4 h-full",children:r.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ii,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{children:"Chart will be displayed here"}),r.jsxs("p",{className:"text-sm mt-2",children:["Real-time candlestick chart for ",n]})]})})})})}),r.jsxs("div",{className:"lg:col-span-3 space-y-4 order-1 lg:order-3",children:[r.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.jsx(z,{variant:e==="spot"?"default":"outline",size:"sm",onClick:()=>s("spot"),className:e==="spot"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Spot"}),r.jsx(z,{variant:e==="options"?"default":"outline",size:"sm",onClick:()=>s("options"),className:e==="options"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Options"})]}),e==="options"?r.jsx(we,{className:"bg-[#2a2d47] border-gray-600",children:r.jsxs(je,{className:"p-4",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Options Trading"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Duration"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.slice(0,4).map(O=>r.jsx(z,{variant:h===O.value?"default":"outline",size:"sm",onClick:()=>m(O.value),className:`text-xs ${h===O.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{children:O.label}),r.jsx("div",{className:"text-xs opacity-75",children:O.percentage})]})},O.value))}),r.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:I.slice(4).map(O=>r.jsx(z,{variant:h===O.value?"default":"outline",size:"sm",onClick:()=>m(O.value),className:`text-xs ${h===O.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{children:O.label}),r.jsx("div",{className:"text-xs opacity-75",children:O.percentage})]})},O.value))})]}),r.jsxs("div",{className:"mb-4 p-3 bg-[#1a1b2e]/50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300",children:"Available Balance:"}),r.jsxs("span",{className:"text-white font-semibold",children:["$",parseFloat(E).toFixed(2)," USDT"]})]}),r.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[r.jsxs("span",{className:"text-gray-300",children:["Min Amount (",h,"):"]}),r.jsxs("span",{className:"text-yellow-400",children:["$",(k==null?void 0:k.minAmount)||100]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (USDT)"}),r.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[25,50,75,100].map(O=>r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>F(O),className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:[O,"%"]},O))}),r.jsx(Re,{type:"number",placeholder:"0",value:l,onChange:O=>c(O.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white",min:(k==null?void 0:k.minAmount)||100})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(z,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>P("up"),disabled:x||!v,children:x?"Processing...":"Buy Up"}),r.jsx(z,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>P("down"),disabled:x||!v,children:x?"Processing...":"Buy Down"})]})]})}):r.jsx(we,{className:"bg-[#2a2d47] border-gray-600",children:r.jsxs(je,{className:"p-4",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Spot Trading"}),r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"flex space-x-2",children:["market","limit"].map(O=>r.jsx(z,{variant:a===O?"default":"outline",size:"sm",onClick:()=>o(O),className:a===O?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700",children:O.charAt(0).toUpperCase()+O.slice(1)},O))})}),a==="limit"&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Price (USDT)"}),r.jsx(Re,{type:"number",placeholder:"0.00",value:d,onChange:O=>u(O.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white"})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (BTC)"}),r.jsx(Re,{type:"number",placeholder:"0.00",value:l,onChange:O=>c(O.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white"}),r.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:["25%","50%","75%","100%"].map(O=>r.jsx(z,{variant:"outline",size:"sm",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:O},O))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(z,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Buy (BTC)"}),r.jsx(z,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Sell (BTC)"})]})]})}),r.jsx(we,{className:"bg-[#2a2d47] border-gray-600",children:r.jsxs(je,{className:"p-4",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Active Trades"}),S&&S.length>0?r.jsx("div",{className:"space-y-2",children:S.map(O=>r.jsxs("div",{className:"bg-[#1a1b2e]/50 p-3 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-white font-medium",children:O.symbol}),r.jsx(Tt,{variant:O.direction==="up"?"default":"destructive",className:O.direction==="up"?"bg-green-600":"bg-red-600",children:O.direction.toUpperCase()})]}),r.jsxs("div",{className:"text-sm text-gray-300",children:[r.jsxs("div",{children:["Amount: $",parseFloat(O.amount).toFixed(2)]}),r.jsxs("div",{children:["Entry: $",parseFloat(O.entryPrice||"0").toFixed(2)]}),r.jsxs("div",{children:["Duration: ",O.duration,"s"]})]})]},O.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Ii,{className:"w-8 h-8 text-gray-500"})}),r.jsx("p",{className:"text-gray-400 text-sm",children:"No active trades"})]})]})})]})]}),r.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4",children:r.jsx(we,{className:"bg-[#2a2d47] border-gray-600",children:r.jsxs(je,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex space-x-4",children:["Open Orders","Order History","Trade History"].map(O=>r.jsx(z,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:O},O))}),r.jsx(z,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:"Hide other trading pairs"})]}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx(Ii,{className:"w-8 h-8 text-gray-500"})}),r.jsx("p",{className:"text-gray-400",children:"No data"})]})]})})})]})})}function x6({type:t="chart",symbol:e="BINANCE:BTCUSDT",height:s="100%",interval:n="1",theme:i="dark",style:a="1",locale:o="en",timezone:l="Etc/UTC",allow_symbol_change:c=!0,container_id:d="tradingview_widget",onPriceUpdate:u,onSymbolChange:h}){const m=f.useRef(null),[x,y]=Ne.useState(!0);return f.useEffect(()=>{if(m.current){try{m.current.innerHTML=""}catch(g){console.log("Error clearing container:",g)}if(t==="ticker"){const g=document.createElement("script");g.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",g.type="text/javascript",g.async=!0,g.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"US 100"},{proName:"FX_IDC:EURUSD",title:"EUR/USD"},{proName:"BITSTAMP:BTCUSD",title:"BTC/USD"},{proName:"BITSTAMP:ETHUSD",title:"ETH/USD"},{proName:"BINANCE:BNBUSDT",title:"BNB/USDT"}],showSymbolLogo:!0,colorTheme:"dark",isTransparent:!0,displayMode:"adaptive",locale:"en"}),m.current.appendChild(g)}else{const g=document.createElement("script");g.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",g.type="text/javascript",g.async=!0;const v=window.innerWidth<=768;try{const j=[];for(let T=0;T<localStorage.length;T++){const E=localStorage.key(T);E&&(E.includes("tradingview")||E.includes("tv.")||E.includes("chart")||E.includes("theme"))&&j.push(E)}j.forEach(T=>{console.log("🗑️ Clearing TradingView localStorage:",T),localStorage.removeItem(T)});const S=[];for(let T=0;T<sessionStorage.length;T++){const E=sessionStorage.key(T);E&&(E.includes("tradingview")||E.includes("tv.")||E.includes("chart")||E.includes("theme"))&&S.push(E)}S.forEach(T=>{console.log("🗑️ Clearing TradingView sessionStorage:",T),sessionStorage.removeItem(T)})}catch(j){console.warn("Could not clear storage:",j)}let b=e;e.includes(":")||(b=e.includes("USDT")?`BINANCE:${e}`:e.includes("USD")?`COINBASE:${e}`:`BINANCE:${e}`);const p={autosize:!0,symbol:b,interval:n,timezone:l,theme:"dark",colorTheme:"dark",backgroundColor:"#10121E",style:"1",locale:o,toolbar_bg:"#10121E",enable_publishing:!1,allow_symbol_change:!1,container_id:d,studies:[],hide_volume:!0,volume:!1,hide_top_toolbar:!1,hide_legend:!1,save_image:!1,disabled_features:["volume_force_overlay","create_volume_indicator_by_default","study_templates","header_indicators","header_compare","header_undo_redo","header_screenshot","header_chart_type","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","left_toolbar","header_saveload","header_settings","use_localstorage_for_settings","volume_force_overlay"],enabled_features:["hide_last_na_study_output","remove_library_container_border","disable_resolution_rebuild"],loading_screen:{backgroundColor:i==="light"?"#FFFFFF":"#10121E"},overrides:{volumePaneSize:"xtiny","paneProperties.background":"#10121E","paneProperties.backgroundType":"solid","paneProperties.vertGridProperties.color":"#1F2937","paneProperties.horzGridProperties.color":"#1F2937","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#D1D5DB","scalesProperties.backgroundColor":"#10121E","mainSeriesProperties.candleStyle.upColor":"#10B981","mainSeriesProperties.candleStyle.downColor":"#EF4444","mainSeriesProperties.candleStyle.borderUpColor":"#10B981","mainSeriesProperties.candleStyle.borderDownColor":"#EF4444","mainSeriesProperties.candleStyle.wickUpColor":"#10B981","mainSeriesProperties.candleStyle.wickDownColor":"#EF4444"},studies_overrides:{"volume.volume.color.0":"rgba(0,0,0,0)","volume.volume.color.1":"rgba(0,0,0,0)","volume.volume.transparency":100,"volume.volume ma.color":"rgba(0,0,0,0)","volume.volume ma.transparency":100,"volume.show ma":!1},settings_overrides:{theme:"dark","mainSeriesProperties.candleStyle.upColor":"#10B981","mainSeriesProperties.candleStyle.downColor":"#EF4444","paneProperties.background":"#10121E","paneProperties.backgroundType":"solid","paneProperties.vertGridProperties.color":"#1F2937","paneProperties.horzGridProperties.color":"#1F2937","scalesProperties.textColor":"#D1D5DB","scalesProperties.backgroundColor":"#10121E"},saved_data:JSON.stringify({version:1,charts:[{panes:[{sources:[{type:"MainSeries",id:"main_series",state:{style:1,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdFlagSize:2}}]}]}],studies:[],theme:"dark"})};g.innerHTML=JSON.stringify(p),g.onload=()=>{if(console.log("✅ TradingView widget loaded successfully"),console.log("🔍 Widget config:",JSON.stringify(p,null,2)),console.log("📱 Mobile detection:",v),console.log("🎨 Theme setting:",i),console.log("🎨 Config theme:",p.theme),y(!1),[500,1e3,1500,2e3,3e3].forEach(T=>{setTimeout(()=>{var _;const E=document.querySelector(`#${d} iframe`);if(E){console.log("🎨 Forcing dark theme on iframe (attempt at",T,"ms)");try{const I=E.contentDocument||((_=E.contentWindow)==null?void 0:_.document);if(I){const k=I.documentElement;if(k){k.style.backgroundColor="#10121E !important",k.style.color="#FFFFFF !important";const P=I.body;P&&(P.style.backgroundColor="#10121E !important",P.style.color="#FFFFFF !important"),console.log("🎨 Successfully set iframe dark theme")}}}catch(I){console.log("Could not access iframe document:",I)}}},T)}),setTimeout(()=>{const T=document.createElement("style");T.textContent=`
          /* Hide TradingView volume bars */
          iframe[id*="tradingview"] {
            /* This targets the TradingView iframe */
          }

          /* Hide volume-related elements */
          [data-name="volume"],
          [data-name="Volume"],
          .chart-markup-table .pane:last-child,
          .layout__area--bottom .pane,
          .chart-container .pane[data-name*="volume"],
          .chart-container .pane[data-name*="Volume"] {
            display: none !important;
            height: 0 !important;
            visibility: hidden !important;
          }

          /* Hide volume histogram specifically */
          .histogram-series,
          .volume-series,
          [class*="volume"],
          [class*="Volume"] {
            display: none !important;
          }
        `,document.head.appendChild(T),console.log("🎨 Applied CSS to hide volume bars")},2e3),[1e3,2e3,3e3,5e3,7e3].forEach((T,E)=>{setTimeout(()=>{try{console.log(`🚫 Volume removal attempt ${E+1} at ${T}ms`);const _=document.querySelector(`#${d} iframe`);if(_&&_.contentDocument){const k=_.contentDocument;['[data-name*="volume"]','[data-name*="Volume"]',".histogram-series",".volume-series",'[class*="volume"]','[class*="Volume"]',".pane:last-child",".chart-markup-table .pane:last-child",'[data-series-type="histogram"]','[data-series-type="volume"]',".tv-lightweight-charts__volume",".tv-lightweight-charts__histogram"].forEach(F=>{k.querySelectorAll(F).forEach(H=>{H.style.display="none",H.style.visibility="hidden",H.style.height="0",H.style.opacity="0",H.remove()})}),console.log("🚫 Applied iframe volume removal")}const I=document.querySelectorAll(`
              #${d} [data-name*="volume"],
              #${d} [data-name*="Volume"],
              #${d} .histogram-series,
              #${d} .volume-series,
              #${d} [class*="volume"],
              #${d} [class*="Volume"]
            `);I.forEach(k=>{k.style.display="none",k.style.visibility="hidden",k.style.height="0",k.style.opacity="0"}),I.length>0&&console.log("🚫 Removed",I.length,"global volume elements")}catch(_){console.log("Volume removal attempt failed:",_)}},T)}),setTimeout(()=>{try{if(window.TradingView&&window.TradingView.widget){console.log("🔍 TradingView widget API detected, setting up direct monitoring");const T=window.TradingView.widget({container_id:d,onSymbolChanged:function(E){if(h&&E&&E.name){console.log("🔄 Direct TradingView onSymbolChanged:",E.name);const _=E.name.replace("BINANCE:","").replace("COINBASE:","");h(_)}}})}}catch{console.log("Direct TradingView API access failed, using fallback methods")}},3e3),h)try{let T=e.replace("BINANCE:","").replace("COINBASE:","").replace("BITSTAMP:","");console.log("🔍 Setting up symbol monitoring for:",T),console.log("🔍 Initial symbol from props:",e);const E=R=>{try{if(R.data&&R.origin&&(R.origin.includes("tradingview")||R.origin.includes("charting_library"))){if(console.log("📨 TradingView message:",R.data),typeof R.data=="string"){const X=R.data.match(/([A-Z]{3,6}USD[T]?)/g);if(X&&X.length>0){const q=X[0].replace("USD","USDT");q!==T&&(console.log("🔄 Symbol detected in string message:",q),T=q,h(q))}}if(R.data&&typeof R.data=="object"){const q=JSON.stringify(R.data).match(/([A-Z]{2,10}USD[T]?)/g);if(q&&q.length>0){const ne=q[0].replace("USD","USDT");ne!==T&&(console.log("🔄 Symbol detected in object message:",ne),T=ne,h(ne))}(R.data.name==="tv-widget-ready"||R.data.type==="symbol_changed")&&console.log("🎯 TradingView widget event detected:",R.data)}}}catch{}};window.addEventListener("message",E);const _=()=>{var R,X,q;try{const ne=(R=m.current)==null?void 0:R.querySelector("iframe");if(ne){if(Math.random()<.1&&console.log("🔍 Current iframe URL:",ne.src),ne.src){const de=ne.src.match(/symbol=([^&]+)/);if(de&&de[1]){const be=decodeURIComponent(de[1]),ce=be.replace("BINANCE:","").replace("COINBASE:","").replace("CRYPTO:","").replace("BITSTAMP:","");if(console.log("🔍 Raw detected symbol:",be,"-> Clean:",ce),ce!==T&&(ce.includes("USDT")||ce.includes("USD"))){let pe=ce;ce.endsWith("USD")&&!ce.endsWith("USDT")&&(pe=ce.replace("USD","USDT")),console.log("🔄 URL symbol change detected:",pe),console.log("🔄 Current symbol was:",T),T=pe,h(pe);return}}const Se=ne.src.match(/\/([A-Z]{3,6}USD[T]?)\//);if(Se&&Se[1]){let be=Se[1];if(be.endsWith("USD")&&!be.endsWith("USDT")&&(be=be+"T"),be!==T){console.log("🔄 Path symbol change:",be),T=be,h(be);return}}const ie=ne.src.match(/([A-Z]{3,6}USD[T]?)/g);if(ie&&ie.length>0)for(const be of ie){let ce=be;if(ce.endsWith("USD")&&!ce.endsWith("USDT")&&(ce=ce.replace("USD","USDT")),ce!==T&&ce.length>=6){console.log("🔄 Any symbol pattern detected:",ce,"from URL pattern"),T=ce,h(ce);return}}const _e=["ETHUSD","BTCUSD","SOLUSD","BNBUSD","ADAUSD","XRPUSD"];for(const be of _e)if(ne.src.includes(be)){const ce=be.replace("USD","USDT");if(ce!==T){console.log("🔄 Common symbol detected in URL:",ce,"from",be),T=ce,h(ce);return}}const me=ne.src.match(/symbol=([A-Z]{3,10})/g);if(me&&me.length>0)for(const be of me){const ce=be.replace("symbol=","");let pe=ce;if(pe.includes("BINANCE%3A")&&(pe=pe.replace("BINANCE%3A","")),pe.includes("COINBASE%3A")&&(pe=pe.replace("COINBASE%3A","")),pe.endsWith("USD")&&!pe.endsWith("USDT")&&(pe=pe.replace("USD","USDT")),pe!==T&&pe.length>=6){console.log("🔄 Enhanced symbol detection from URL parameter:",pe,"from",ce),T=pe,h(pe);return}}const Oe=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","ADAUSDT","XRPUSDT","DOGEUSDT","DOTUSDT","LINKUSDT","LTCUSDT"];for(const be of Oe){const ce=be.replace("USDT","USD");if((ne.src.includes(be)||ne.src.includes(ce))&&be!==T){console.log("🔄 Crypto symbol found in URL:",be,"(detected as",ne.src.includes(ce)?ce:be,")"),T=be,h(be);return}}}try{const de=ne.contentDocument||((X=ne.contentWindow)==null?void 0:X.document);de&&de.querySelectorAll("[data-symbol], .symbol, .tv-symbol").forEach(ie=>{const _e=ie.textContent||ie.getAttribute("data-symbol");_e&&_e.includes("USDT")&&_e!==T&&(console.log("🔄 DOM symbol change:",_e),T=_e,h(_e))})}catch{}try{const de=(q=ne.contentDocument)==null?void 0:q.title;if(de){const Se=de.match(/([A-Z]+USDT)/);Se&&Se[1]!==T&&(console.log("🔄 Title symbol change:",Se[1]),T=Se[1],h(Se[1]))}}catch{}}}catch{}},I=setInterval(_,100);setTimeout(_,100),setTimeout(_,1e3),setTimeout(_,3e3),setTimeout(_,5e3),setTimeout(()=>{console.log("🧪 Testing symbol detection..."),h&&console.log("🧪 Simulating symbol change to BTCUSDT")},1e4);const P=setInterval(()=>{var R;try{const X=(R=m.current)==null?void 0:R.querySelector("iframe");if(X){const q=X.src,ne=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","ADAUSDT","XRPUSDT","DOGEUSDT","DOTUSDT","LINKUSDT","LTCUSDT"];for(const de of ne)if((q.includes(de)||q.includes(de.replace("USDT","USD")))&&de!==T){console.log("🔄 Crypto symbol detected in URL:",de),T=de,h(de);break}}}catch{}},1e3);let F="";const H=setInterval(()=>{var R;try{const X=(R=m.current)==null?void 0:R.querySelector("iframe");if(X&&X.src){const q=X.src.split("#")[1]||"";if(q!==F){F=q,console.log("🔗 TradingView hash changed:",q);const ne=q.match(/([A-Z]{3,6}USD[T]?)/);if(ne&&ne[1]){const de=ne[1].replace("USD","USDT");de!==T&&(console.log("🔄 Symbol detected from hash change:",de),T=de,h(de))}}}}catch{}},500),Z=()=>{var R;try{const X=(R=m.current)==null?void 0:R.querySelector("iframe");if(X&&X.contentWindow)try{const q=X.src;q!==O&&(O=q,console.log("🔄 TradingView iframe URL changed:",q),_()),X.contentWindow.postMessage({type:"get_symbol",source:"metachrome"},"*")}catch{}}catch{}};let O="";const V=setInterval(Z,500),$=R=>{try{if((R.origin.includes("tradingview.com")||R.origin.includes("tradingview-widget.com"))&&(console.log("📨 TradingView message received:",R.data),R.data&&typeof R.data=="object"&&(R.data.symbol||R.data.name))){const q=(R.data.symbol||R.data.name).replace("BINANCE:","").replace("COINBASE:","");if(q&&q!==T){let ne=q;q.endsWith("USD")&&!q.endsWith("USDT")&&(ne=q.replace("USD","USDT")),console.log("🔄 Symbol change from TradingView message:",ne),T=ne,h(ne)}}}catch{}};return window.addEventListener("message",$),()=>{window.removeEventListener("message",E),window.removeEventListener("message",$),clearInterval(I),clearInterval(P),clearInterval(H),clearInterval(V)}}catch(T){console.log("TradingView symbol monitoring setup error:",T)}if(u&&window.TradingView)try{const E=setInterval(()=>{var _;try{const I=(_=m.current)==null?void 0:_.querySelector("iframe");if(I&&I.contentWindow){const k=117124.78+(Math.random()-.5)*1e3;u(k)}}catch(I){console.log("Price monitoring error:",I)}},5e3)}catch(T){console.log("TradingView price monitoring setup error:",T)}},g.onerror=()=>{console.error("❌ TradingView widget failed to load"),y(!1)};const w=setTimeout(()=>{console.warn("⏱️ TradingView widget loading timeout - clearing loading state"),y(!1)},5e3);g.loadingTimeout=w;try{m.current.appendChild(g)}catch(j){console.error("Error appending TradingView script:",j)}}return()=>{try{m.current&&(m.current.innerHTML="")}catch(g){console.log("Error during cleanup:",g)}}}},[t,e,s,n,i,a,o,l,c,d]),console.log("🎯 TradingViewWidget render - type:",t,"onSymbolChange:",!!h,"symbol:",e),r.jsxs("div",{className:`tradingview-widget-container ${t==="ticker"?"w-full overflow-hidden bg-transparent":"bg-[#10121E]"}`,ref:m,style:{height:t==="ticker"?"50px":typeof s=="number"?`${s}px`:s,width:"100%",position:"relative",backgroundColor:t==="ticker"?"transparent":"#10121E",overflow:"hidden"},children:[t!=="ticker"&&h&&r.jsx("div",{className:"absolute top-4 left-4 z-50",style:{zIndex:9999},children:r.jsx("div",{className:"bg-red-600 backdrop-blur-sm rounded-lg p-3 border border-gray-600 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Symbol:"}),r.jsxs("select",{value:e.replace("BINANCE:","").replace("COINBASE:",""),onChange:g=>{var p;const v=g.target.value;h(v);const b=(p=m.current)==null?void 0:p.querySelector("iframe");if(b)try{const w=v.includes("USDT")?`BINANCE:${v}`:`COINBASE:${v}`,S=b.src.replace(/symbol=[^&]*/,`symbol=${encodeURIComponent(w)}`);b.src=S}catch(w){console.log("Could not update TradingView symbol:",w)}},className:"bg-gray-800 text-white text-sm font-medium rounded-md px-3 py-2 border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 min-w-[100px]",children:[r.jsx("option",{value:"BTCUSDT",children:"BTC/USDT"}),r.jsx("option",{value:"ETHUSDT",children:"ETH/USDT"}),r.jsx("option",{value:"XRPUSDT",children:"XRP/USDT"}),r.jsx("option",{value:"LTCUSDT",children:"LTC/USDT"}),r.jsx("option",{value:"BNBUSDT",children:"BNB/USDT"}),r.jsx("option",{value:"SOLUSDT",children:"SOL/USDT"}),r.jsx("option",{value:"TONUSDT",children:"TON/USDT"}),r.jsx("option",{value:"DOGEUSDT",children:"DOGE/USDT"}),r.jsx("option",{value:"ADAUSDT",children:"ADA/USDT"}),r.jsx("option",{value:"TRXUSDT",children:"TRX/USDT"}),r.jsx("option",{value:"HYPEUSDT",children:"HYPE/USDT"}),r.jsx("option",{value:"LINKUSDT",children:"LINK/USDT"}),r.jsx("option",{value:"AVAXUSDT",children:"AVAX/USDT"}),r.jsx("option",{value:"SUIUSDT",children:"SUI/USDT"}),r.jsx("option",{value:"SHIBUSDT",children:"SHIB/USDT"}),r.jsx("option",{value:"BCHUSDT",children:"BCH/USDT"}),r.jsx("option",{value:"DOTUSDT",children:"DOT/USDT"}),r.jsx("option",{value:"MATICUSDT",children:"MATIC/USDT"}),r.jsx("option",{value:"XLMUSDT",children:"XLM/USDT"})]})]})})}),t==="ticker"?r.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:r.jsx("div",{className:"animate-pulse",children:"Loading market data..."})}):r.jsx("div",{id:d,className:"tradingview-widget-container__widget",style:{height:"100%",width:"100%",backgroundColor:"#10121E"}})]})}const wh=f.memo(x6);function Ot(t){var e=t.width,s=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function Ca(t,e){return t.width===e.width&&t.height===e.height}var y6=function(){function t(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var s=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){s._observers=s._observers.filter(function(i){return i!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function v6(t){return new y6(t)}var b6=function(){function t(e,s,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Ot({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??function(a){return a},this._allowResizeObserver=(i=n==null?void 0:n.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Ot({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Ot(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var s=this.bitmapSize;Ca(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},t.prototype._emitBitmapSizeChanged=function(e,s){var n=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,s)})},t.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,n=Ot(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Ca(this.bitmapSize,n)?null:n;s===null&&i===null||s!==null&&i!==null&&Ca(s,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(s,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,s)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}j6().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=Ub(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=v6(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var n=Ub(this._canvasElement);if(n!==null){var i=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:n.devicePixelRatio,a=this._canvasElement.getClientRects(),o=a[0]!==void 0?N6(a[0],i):Ot({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var n=s.find(function(o){return o.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var i=n.devicePixelContentBoxSize[0],a=Ot({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function w6(t,e){return new b6(t,e.transform,e.options)}function Ub(t){return t.ownerDocument.defaultView}function j6(){return new Promise(function(t){var e=new ResizeObserver(function(s){t(s.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function N6(t,e){return Ot({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var S6=function(){function t(e,s,n){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Fa(t,e){var s=t.canvasElementClientSize;if(s.width===0||s.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new S6(i,s,n)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const C6={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},T6={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},E6={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},k6={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},P6={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},_6={color:"#26a69a",base:0},nT={color:"#2196f3"},iT={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var $b,Bb;function Ua(t,e){const s={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(s)}function aT(t,e,s,n){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(s,e+i),t.lineTo(n,e+i),t.stroke()}function Wi(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Rs(t){if(t===void 0)throw new Error("Value is undefined");return t}function ae(t){if(t===null)throw new Error("Value is null");return t}function wo(t){return ae(Rs(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})($b||($b={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Bb||(Bb={}));const zb={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function yr(t){return t<0?0:t>255?255:Math.round(t)||0}function oT(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const M6=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,D6=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,A6=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,R6=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function zc(t){(t=t.toLowerCase())in zb&&(t=zb[t]);{const e=R6.exec(t)||A6.exec(t);if(e)return[yr(parseInt(e[1],10)),yr(parseInt(e[2],10)),yr(parseInt(e[3],10)),oT(e.length<5?1:parseFloat(e[4]))]}{const e=D6.exec(t);if(e)return[yr(parseInt(e[1],16)),yr(parseInt(e[2],16)),yr(parseInt(e[3],16)),1]}{const e=M6.exec(t);if(e)return[yr(17*parseInt(e[1],16)),yr(17*parseInt(e[2],16)),yr(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function lT(t){return .199*t[0]+.687*t[1]+.114*t[2]}function Sm(t){const e=zc(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:lT(e)>160?"black":"white"}}class Qt{constructor(){this.h=[]}l(e,s,n){const i={o:e,_:s,u:n===!0};this.h.push(i)}v(e){const s=this.h.findIndex(n=>e===n.o);s>-1&&this.h.splice(s,1)}p(e){this.h=this.h.filter(s=>s._!==e)}m(e,s,n){const i=[...this.h];this.h=this.h.filter(a=>!a.u),i.forEach(a=>a.o(e,s,n))}M(){return this.h.length>0}S(){this.h=[]}}function Zr(t,...e){for(const s of e)for(const n in s)s[n]!==void 0&&Object.prototype.hasOwnProperty.call(s,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof s[n]!="object"||t[n]===void 0||Array.isArray(s[n])?t[n]=s[n]:Zr(t[n],s[n]));return t}function xn(t){return typeof t=="number"&&isFinite(t)}function Vc(t){return typeof t=="number"&&t%1==0}function fd(t){return typeof t=="string"}function Xd(t){return typeof t=="boolean"}function Bn(t){const e=t;if(!e||typeof e!="object")return e;let s,n,i;for(n in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(i=e[n],s[n]=i&&typeof i=="object"?Bn(i):i);return s}function O6(t){return t!==null}function Wc(t){return t===null?void 0:t}const Ix="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function nl(t,e,s){return e===void 0&&(e=Ix),`${s=s!==void 0?`${s} `:""}${t}px ${e}`}class I6{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,s=this.j(),n=this.H();return e.P===s&&e.D===n||(e.P=s,e.D=n,e.R=nl(s,n),e.L=2.5/12*s,e.B=e.L,e.A=s/12*e.T,e.I=s/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Lx{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,s,n){this.Y.forEach(i=>{i.X(e,s,n)})}}class en{X(e,s,n){e.useBitmapCoordinateSpace(i=>this.K(i,s,n))}}class L6 extends en{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,a=this.G,o=Math.max(1,Math.floor(s))%2/2,l=c=>{e.beginPath();for(let d=i.to-1;d>=i.from;--d){const u=a.it[d],h=Math.round(u.nt*s)+o,m=u.st*n,x=c*n+o;e.moveTo(h,m),e.arc(h,m,x,0,2*Math.PI)}e.fill()};a.et>0&&(e.fillStyle=a.rt,l(a.ht+a.et)),e.fillStyle=a.lt,l(a.ht)}}function F6(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const U6={from:0,to:1};class $6{constructor(e,s){this.ut=new Lx,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=s,this.ut.Z(this.ct)}bt(e){const s=this.F.wt();s.length!==this.ct.length&&(this.dt=s.map(F6),this.ct=this.dt.map(n=>{const i=new L6;return i.J(n),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,s=this.F.wt(),n=this.vt.xt(),i=this.F.St();s.forEach((a,o)=>{var l;const c=this.dt[o],d=a.kt(n);if(e||d===null||!a.yt())return void(c.tt=null);const u=ae(a.Ct());c.lt=d.Tt,c.ht=d.ht,c.et=d.Pt,c.it[0]._t=d._t,c.it[0].st=a.Dt().Rt(d._t,u.Vt),c.rt=(l=d.Ot)!==null&&l!==void 0?l:this.F.Bt(c.it[0].st/a.Dt().At()),c.it[0].ot=n,c.it[0].nt=i.It(n),c.tt=U6})}}class B6 extends en{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null)return;const a=this.zt.Lt.yt,o=this.zt.Et.yt;if(!a&&!o)return;const l=Math.round(this.zt.nt*n),c=Math.round(this.zt.st*i);e.lineCap="butt",a&&l>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*n),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Ua(e,this.zt.Lt.Nt),function(d,u,h,m){d.beginPath();const x=d.lineWidth%2?.5:0;d.moveTo(u+x,h),d.lineTo(u+x,m),d.stroke()}(e,l,0,s.height)),o&&c>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Ua(e,this.zt.Et.Nt),aT(e,c,0,s.width))}}class z6{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new B6(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),s=ae(this.jt.Ht()),n=s.$t().W().crosshair,i=this.Ft;if(n.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(s),i.Lt.yt=e&&this.jt.qt(),i.Et.et=n.horzLine.width,i.Et.Nt=n.horzLine.style,i.Et.V=n.horzLine.color,i.Lt.et=n.vertLine.width,i.Lt.Nt=n.vertLine.style,i.Lt.V=n.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function V6(t,e,s,n,i,a){t.fillRect(e+a,s,n-2*a,a),t.fillRect(e+a,s+i-a,n-2*a,a),t.fillRect(e,s,a,i),t.fillRect(e+n-a,s,a,i)}function Cm(t,e,s,n,i,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,s,n,i),t.restore()}function Vb(t,e,s,n,i,a){t.beginPath(),t.roundRect?t.roundRect(e,s,n,i,a):(t.lineTo(e+n-a[1],s),a[1]!==0&&t.arcTo(e+n,s,e+n,s+a[1],a[1]),t.lineTo(e+n,s+i-a[2]),a[2]!==0&&t.arcTo(e+n,s+i,e+n-a[2],s+i,a[2]),t.lineTo(e+a[3],s+i),a[3]!==0&&t.arcTo(e,s+i,e,s+i-a[3],a[3]),t.lineTo(e,s+a[0]),a[0]!==0&&t.arcTo(e,s,e+a[0],s,a[0]))}function Wb(t,e,s,n,i,a,o=0,l=[0,0,0,0],c=""){if(t.save(),!o||!c||c===a)return Vb(t,e,s,n,i,l),t.fillStyle=a,t.fill(),void t.restore();const d=o/2;var u;Vb(t,e+d,s+d,n-o,i-o,(u=-d,l.map(h=>h===0?h:h+u))),a!=="transparent"&&(t.fillStyle=a,t.fill()),c!=="transparent"&&(t.lineWidth=o,t.strokeStyle=c,t.closePath(),t.stroke()),t.restore()}function cT(t,e,s,n,i,a,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,i);l.addColorStop(0,a),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,s,n,i),t.restore()}class Hb{constructor(e,s){this.J(e,s)}J(e,s){this.zt=e,this.Xt=s}At(e,s){return this.zt.yt?e.P+e.L+e.B:0}X(e,s,n,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const a=this.zt.V,o=this.Xt.t,l=e.useBitmapCoordinateSpace(c=>{const d=c.context;d.font=s.R;const u=this.Gt(c,s,n,i),h=u.Jt;return u.Qt?Wb(d,h.ti,h.ii,h.ni,h.si,o,h.ei,[h.ht,0,0,h.ht],o):Wb(d,h.ri,h.ii,h.ni,h.si,o,h.ei,[0,h.ht,h.ht,0],o),this.zt.hi&&(d.fillStyle=a,d.fillRect(h.ri,h.li,h.ai-h.ri,h.oi)),this.zt._i&&(d.fillStyle=s.O,d.fillRect(u.Qt?h.ui-h.ei:0,h.ii,h.ei,h.ci-h.ii)),u});e.useMediaCoordinateSpace(({context:c})=>{const d=l.di;c.font=s.R,c.textAlign=l.Qt?"right":"left",c.textBaseline="middle",c.fillStyle=a,c.fillText(this.zt.Kt,d.fi,(d.ii+d.ci)/2+d.pi)})}Gt(e,s,n,i){var a;const{context:o,bitmapSize:l,mediaSize:c,horizontalPixelRatio:d,verticalPixelRatio:u}=e,h=this.zt.hi||!this.zt.mi?s.T:0,m=this.zt.bi?s.C:0,x=s.L+this.Xt.wi,y=s.B+this.Xt.gi,g=s.A,v=s.I,b=this.zt.Kt,p=s.P,w=n.Mi(o,b),j=Math.ceil(n.xi(o,b)),S=p+x+y,T=s.C+g+v+j+h,E=Math.max(1,Math.floor(u));let _=Math.round(S*u);_%2!=E%2&&(_+=1);const I=m>0?Math.max(1,Math.floor(m*d)):0,k=Math.round(T*d),P=Math.round(h*d),F=(a=this.Xt.Si)!==null&&a!==void 0?a:this.Xt.ki,M=Math.round(F*u)-Math.floor(.5*u),H=Math.floor(M+E/2-_/2),Z=H+_,O=i==="right",V=O?c.width-m:m,$=O?l.width-I:I;let R,X,q;return O?(R=$-k,X=$-P,q=V-h-g-m):(R=$+k,X=$+P,q=V+h+g),{Qt:O,Jt:{ii:H,li:M,ci:Z,ni:k,si:_,ht:2*d,ei:I,ti:R,ri:$,ai:X,oi:E,ui:l.width},di:{ii:H/u,ci:Z/u,fi:q,pi:w}}}}class Tm{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||Hb)(this.Ci,this.yi),this.Ri=new(e||Hb)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,s=!1){return Math.max(this.Pi.At(e,s),this.Ri.At(e,s))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class W6 extends Tm{constructor(e,s,n){super(),this.jt=e,this.Li=s,this.Ei=n}zi(e,s,n){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const a=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||a===null)return;const o=Sm(i.labelBackgroundColor);n.t=o.t,e.V=o.i;const l=2/12*this.Li.P();n.wi=l,n.gi=l;const c=this.Ei(this.Li);n.ki=c.ki,e.Kt=this.Li.Fi(c._t,a),e.yt=!0}}const H6=/[1-9]/g;class dT{constructor(){this.zt=null}J(e){this.zt=e}X(e,s){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const n=e.useMediaCoordinateSpace(({context:m})=>(m.font=s.R,Math.round(s.Wi.xi(m,ae(this.zt).Kt,H6))));if(n<=0)return;const i=s.ji,a=n+2*i,o=a/2,l=this.zt.Hi;let c=this.zt.ki,d=Math.floor(c-o)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-o)+.5):d+a>l&&(c-=Math.abs(l-(d+a)),d=Math.floor(c-o)+.5);const u=d+a,h=Math.ceil(0+s.C+s.T+s.L+s.P+s.B);e.useBitmapCoordinateSpace(({context:m,horizontalPixelRatio:x,verticalPixelRatio:y})=>{const g=ae(this.zt);m.fillStyle=g.t;const v=Math.round(d*x),b=Math.round(0*y),p=Math.round(u*x),w=Math.round(h*y),j=Math.round(2*x);if(m.beginPath(),m.moveTo(v,b),m.lineTo(v,w-j),m.arcTo(v,w,v+j,w,j),m.lineTo(p-j,w),m.arcTo(p,w,p,w-j,j),m.lineTo(p,b),m.fill(),g.hi){const S=Math.round(g.ki*x),T=b,E=Math.round((T+s.T)*y);m.fillStyle=g.V;const _=Math.max(1,Math.floor(x)),I=Math.floor(.5*x);m.fillRect(S-I,T,_,E-T)}}),e.useMediaCoordinateSpace(({context:m})=>{const x=ae(this.zt),y=0+s.C+s.T+s.L+s.P/2;m.font=s.R,m.textAlign="left",m.textBaseline="middle",m.fillStyle=x.V;const g=s.Wi.Mi(m,"Apr0");m.translate(d+i,y+g),m.fillText(x.Kt,0,0)})}}class K6{constructor(e,s,n){this.ft=!0,this.Wt=new dT,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=s,this.Ei=n}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const s=this.vt.W().vertLine;if(!s.labelVisible)return;const n=this.$i.St();if(n.Ni())return;e.Hi=n.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const a=n.Ui(this.vt.xt());e.Kt=n.qi(ae(a)),e.yt=!0;const o=Sm(s.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=n.W().ticksVisible}}class Fx{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var Kb;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(Kb||(Kb={}));class G6 extends Fx{constructor(e,s){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=s,this.dn=new $6(e,this),this.fn=((i,a)=>o=>{const l=a(),c=i();if(o===ae(this.tn).vn())return{_t:c,ki:l};{const d=ae(o.Ct());return{_t:o.pn(l,d),ki:l}}})(()=>this.nn,()=>this.an);const n=((i,a)=>()=>{const o=this.$i.St().mn(i()),l=a();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new K6(this,e,n),this.wn=new z6(this)}W(){return this.cn}gn(e,s){this._n=e,this.un=s}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,s,n){this.hn||(this.hn=!0),this.en=!0,this.yn(e,s,n)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,s){this.en&&this.tn===e||this.rn.clear();const n=[];return this.tn===e&&n.push(this.Dn(this.rn,s,this.fn)),n}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,s,n){this.Bn(e,s,n)&&this.Vn()}Bn(e,s,n){const i=this.ln,a=this.an,o=this.nn,l=this.sn,c=this.tn,d=this.On(n);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=n;const u=d!==null?d.Ct():null;return d!==null&&u!==null?(this.nn=s,this.an=d.Rt(s,u)):(this.nn=NaN,this.an=NaN),i!==this.ln||a!==this.an||l!==this.sn||o!==this.nn||c!==this.tn}Tn(){const e=this.$i.wt().map(n=>n.In().An()).filter(O6),s=e.length===0?null:Math.max(...e);this.sn=s!==null?s:NaN}Dn(e,s,n){let i=e.get(s);return i===void 0&&(i=new W6(this,s,n),e.set(s,i)),i}}function Em(t){return t==="left"||t==="right"}class gs{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,s){const n=function(i,a){return i===void 0?a:{Fn:Math.max(i.Fn,a.Fn),Wn:i.Wn||a.Wn}}(this.zn.get(e),s);this.zn.set(e,n)}jn(){return this.En}Hn(e){const s=this.zn.get(e);return s===void 0?{Fn:this.En}:{Fn:Math.max(this.En,s.Fn),Wn:s.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const s of e.Ln)this.ns(s);this.En=Math.max(this.En,e.En),e.zn.forEach((s,n)=>{this.Nn(n,s)})}static ss(){return new gs(2)}static es(){return new gs(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(s=>s.qn===5);e!==-1&&this.Ln.splice(e,1)}}const Gb=".";function zn(t,e){if(!xn(t))return"n/a";if(!Vc(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class km{constructor(e,s){if(s||(s=1),xn(e)&&Vc(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=s,this.hs()}format(e){const s=e<0?"−":"";return e=Math.abs(e),s+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const s=this.Li/this.rs;let n=Math.floor(e),i="";const a=this._s!==void 0?this._s:NaN;if(s>1){let o=+(Math.round(e*s)-n*s).toFixed(this._s);o>=s&&(o-=s,n+=1),i=Gb+zn(+o.toFixed(this._s)*this.rs,a)}else n=Math.round(n*s)/s,a>0&&(i=Gb+zn(0,a));return n.toFixed(0)+i}}class uT extends km{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class q6{constructor(e){this.us=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.cs(e):e<999995?s+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.cs(e/1e9)+"B")}cs(e){let s;const n=Math.pow(10,this.us);return s=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,(i,a)=>a)}}function hT(t,e,s,n,i,a,o){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:c,verticalPixelRatio:d}=t,u=e[n.from];let h=a(t,u),m=u;if(n.to-n.from<2){const x=i/2;l.beginPath();const y={nt:u.nt-x,st:u.st},g={nt:u.nt+x,st:u.st};l.moveTo(y.nt*c,y.st*d),l.lineTo(g.nt*c,g.st*d),o(t,h,y,g)}else{const x=(g,v)=>{o(t,h,m,v),l.beginPath(),h=g,m=v};let y=m;l.beginPath(),l.moveTo(u.nt*c,u.st*d);for(let g=n.from+1;g<n.to;++g){y=e[g];const v=a(t,y);switch(s){case 0:l.lineTo(y.nt*c,y.st*d);break;case 1:l.lineTo(y.nt*c,e[g-1].st*d),v!==h&&(x(v,y),l.lineTo(y.nt*c,e[g-1].st*d)),l.lineTo(y.nt*c,y.st*d);break;case 2:{const[b,p]=Q6(e,g-1,g);l.bezierCurveTo(b.nt*c,b.st*d,p.nt*c,p.st*d,y.nt*c,y.st*d);break}}s!==1&&v!==h&&(x(v,y),l.moveTo(y.nt*c,y.st*d))}(m!==y||m===y&&s===1)&&o(t,h,m,y)}}const qb=6;function Af(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function Qb(t,e){return{nt:t.nt/e,st:t.st/e}}function Q6(t,e,s){const n=Math.max(0,e-1),i=Math.min(t.length-1,s+1);var a,o;return[(a=t[e],o=Qb(Af(t[s],t[n]),qb),{nt:a.nt+o.nt,st:a.st+o.st}),Af(t[s],Qb(Af(t[i],t[e]),qb))]}function X6(t,e,s,n,i){const{context:a,horizontalPixelRatio:o,verticalPixelRatio:l}=e;a.lineTo(i.nt*o,t*l),a.lineTo(n.nt*o,t*l),a.closePath(),a.fillStyle=s,a.fill()}class mT extends en{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var s;if(this.G===null)return;const{it:n,tt:i,ds:a,et:o,Nt:l,fs:c}=this.G,d=(s=this.G.vs)!==null&&s!==void 0?s:this.G.ps?0:e.mediaSize.height;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,Ua(u,l),u.lineWidth=1,hT(e,n,c,i,a,this.bs.bind(this),X6.bind(null,d))}}function Eg(t,e,s){return Math.min(Math.max(t,e),s)}function Yd(t,e,s){return e-t<=s}function fT(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Ux{ws(e,s){const n=this.gs,{Ms:i,xs:a,Ss:o,ks:l,ys:c,vs:d}=s;if(this.Cs===void 0||n===void 0||n.Ms!==i||n.xs!==a||n.Ss!==o||n.ks!==l||n.vs!==d||n.ys!==c){const u=e.context.createLinearGradient(0,0,0,c);if(u.addColorStop(0,i),d!=null){const h=Eg(d*e.verticalPixelRatio/c,0,1);u.addColorStop(h,a),u.addColorStop(h,o)}u.addColorStop(1,l),this.Cs=u,this.gs=s}return this.Cs}}class Y6 extends mT{constructor(){super(...arguments),this.Ts=new Ux}bs(e,s){return this.Ts.ws(e,{Ms:s.Ps,xs:"",Ss:"",ks:s.Rs,ys:e.bitmapSize.height})}}function J6(t,e){const s=t.context;s.strokeStyle=e,s.stroke()}class pT extends en{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:s,tt:n,ds:i,fs:a,et:o,Nt:l,Ds:c}=this.G;if(n===null)return;const d=e.context;d.lineCap="butt",d.lineWidth=o*e.verticalPixelRatio,Ua(d,l),d.lineJoin="round";const u=this.Vs.bind(this);a!==void 0&&hT(e,s,a,n,i,u,J6),c&&function(h,m,x,y,g){const{horizontalPixelRatio:v,verticalPixelRatio:b,context:p}=h;let w=null;const j=Math.max(1,Math.floor(v))%2/2,S=x*b+j;for(let T=y.to-1;T>=y.from;--T){const E=m[T];if(E){const _=g(h,E);_!==w&&(p.beginPath(),w!==null&&p.fill(),p.fillStyle=_,w=_);const I=Math.round(E.nt*v)+j,k=E.st*b;p.moveTo(I,k),p.arc(I,k,S,0,2*Math.PI)}}p.fill()}(e,s,c,n,u)}}class gT extends pT{Vs(e,s){return s.lt}}function xT(t,e,s,n,i=0,a=e.length){let o=a-i;for(;0<o;){const l=o>>1,c=i+l;n(e[c],s)===t?(i=c+1,o-=l+1):o=l}return i}const pd=xT.bind(null,!0),yT=xT.bind(null,!1);function Z6(t,e){return t.ot<e}function e5(t,e){return e<t.ot}function vT(t,e,s){const n=e.Os(),i=e.ui(),a=pd(t,n,Z6),o=yT(t,i,e5);if(!s)return{from:a,to:o};let l=a,c=o;return a>0&&a<t.length&&t[a].ot>=n&&(l=a-1),o>0&&o<t.length&&t[o-1].ot<=i&&(c=o+1),{from:l,to:c}}class $x{constructor(e,s,n){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=s,this.Fs=n}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),s=this.Ns.St();if(this.qs(),s.Ni()||e.Ni())return;const n=s.Xs();if(n===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=vT(this.zs,n,this.Fs),this.Gs(e,s,i.Vt),this.Js())}}class Pm extends $x{constructor(e,s){super(e,s,!0)}Gs(e,s,n){s.Qs(this.zs,Wc(this.Ls)),e.te(this.zs,n,Wc(this.Ls))}ie(e,s){return{ot:e,_t:s,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>{const n=s.Vt[3];return this.se(s.ee,n,e)})}}class t5 extends Pm{constructor(e,s){super(e,s),this.js=new Lx,this.re=new Y6,this.he=new gT,this.js.Z([this.re,this.he])}se(e,s,n){return Object.assign(Object.assign({},this.ie(e,s)),n.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class s5 extends en{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(s),this.ae>=2&&Math.max(1,Math.floor(s))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(s)):this.ae;let i=null;const a=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*s);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];i!==l.ce&&(e.fillStyle=l.ce,i=l.ce);const c=Math.floor(.5*this.oe),d=Math.round(l.nt*s),u=d-c,h=this.oe,m=u+h-1,x=Math.min(l.de,l.fe),y=Math.max(l.de,l.fe),g=Math.round(x*n)-c,v=Math.round(y*n)+c,b=Math.max(v-g,this.oe);e.fillRect(u,g,h,b);const p=Math.ceil(1.5*this.ae);if(a){if(this.zt.ve){const T=d-p;let E=Math.max(g,Math.round(l.pe*n)-c),_=E+h-1;_>g+b-1&&(_=g+b-1,E=_-h+1),e.fillRect(T,E,u-T,_-E+1)}const w=d+p;let j=Math.max(g,Math.round(l.me*n)-c),S=j+h-1;S>g+b-1&&(S=g+b-1,j=S-h+1),e.fillRect(m+1,j,w-m,S-j+1)}}}_e(e){const s=Math.floor(e);return Math.max(s,Math.floor(function(n,i){return Math.floor(.3*n*i)}(ae(this.zt).le,e)))}}class bT extends $x{constructor(e,s){super(e,s,!1)}Gs(e,s,n){s.Qs(this.zs,Wc(this.Ls)),e.be(this.zs,n,Wc(this.Ls))}we(e,s,n){return{ot:e,ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>this.se(s.ee,s,e))}}class r5 extends bT{constructor(){super(...arguments),this.js=new s5}se(e,s,n){return Object.assign(Object.assign({},this.we(e,s,n)),n.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class n5 extends mT{constructor(){super(...arguments),this.Ts=new Ux}bs(e,s){const n=this.G;return this.Ts.ws(e,{Ms:s.ke,xs:s.ye,Ss:s.Ce,ks:s.Te,ys:e.bitmapSize.height,vs:n.vs})}}class i5 extends pT{constructor(){super(...arguments),this.Pe=new Ux}Vs(e,s){const n=this.G;return this.Pe.ws(e,{Ms:s.Re,xs:s.Re,Ss:s.De,ks:s.De,ys:e.bitmapSize.height,vs:n.vs})}}class a5 extends Pm{constructor(e,s){super(e,s),this.js=new Lx,this.Ve=new n5,this.Oe=new i5,this.js.Z([this.Ve,this.Oe])}se(e,s,n){return Object.assign(Object.assign({},this.ie(e,s)),n.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const s=this.Es.W(),n=this.Es.Dt().Rt(s.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineType,vs:n,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineVisible?s.lineType:void 0,Ds:s.pointMarkersVisible?s.pointMarkersRadius||s.lineWidth/2+2:void 0,vs:n,tt:this.Ls,ds:i})}}class o5 extends en{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:s}=e;this.ae=function(a,o){if(a>=2.5&&a<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),c=Math.floor(a*l*o),d=Math.floor(a*o),u=Math.min(c,d);return Math.max(Math.floor(o),u)}(this.zt.le,s),this.ae>=2&&Math.floor(s)%2!=this.ae%2&&this.ae--;const n=this.zt.In;this.zt.Be&&this.Ae(e,n,this.zt.tt),this.zt._i&&this.Ie(e,n,this.zt.tt);const i=this.ze(s);(!this.zt._i||this.ae>2*i)&&this.Le(e,n,this.zt.tt)}Ae(e,s,n){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="",c=Math.min(Math.floor(a),Math.floor(this.zt.le*a));c=Math.max(Math.floor(a),Math.min(c,this.ae));const d=Math.floor(.5*c);let u=null;for(let h=n.from;h<n.to;h++){const m=s[h];m.Ee!==l&&(i.fillStyle=m.Ee,l=m.Ee);const x=Math.round(Math.min(m.pe,m.me)*o),y=Math.round(Math.max(m.pe,m.me)*o),g=Math.round(m.de*o),v=Math.round(m.fe*o);let b=Math.round(a*m.nt)-d;const p=b+c-1;u!==null&&(b=Math.max(u+1,b),b=Math.min(b,p));const w=p-b+1;i.fillRect(b,g,w,x-g),i.fillRect(b,y+1,w,v-y),u=p}}ze(e){let s=Math.floor(1*e);this.ae<=2*s&&(s=Math.floor(.5*(this.ae-1)));const n=Math.max(Math.floor(e),s);return this.ae<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}Ie(e,s,n){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="";const c=this.ze(a);let d=null;for(let u=n.from;u<n.to;u++){const h=s[u];h.Ne!==l&&(i.fillStyle=h.Ne,l=h.Ne);let m=Math.round(h.nt*a)-Math.floor(.5*this.ae);const x=m+this.ae-1,y=Math.round(Math.min(h.pe,h.me)*o),g=Math.round(Math.max(h.pe,h.me)*o);if(d!==null&&(m=Math.max(d+1,m),m=Math.min(m,x)),this.zt.le*a>2*c)V6(i,m,y,x-m+1,g-y+1,c);else{const v=x-m+1;i.fillRect(m,y,v,g-y+1)}d=x}}Le(e,s,n){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="";const c=this.ze(a);for(let d=n.from;d<n.to;d++){const u=s[d];let h=Math.round(Math.min(u.pe,u.me)*o),m=Math.round(Math.max(u.pe,u.me)*o),x=Math.round(u.nt*a)-Math.floor(.5*this.ae),y=x+this.ae-1;if(u.ce!==l){const g=u.ce;i.fillStyle=g,l=g}this.zt._i&&(x+=c,h+=c,y-=c,m-=c),h>m||i.fillRect(x,h,y-x+1,m-h+1)}}}class l5 extends bT{constructor(){super(...arguments),this.js=new o5}se(e,s,n){return Object.assign(Object.assign({},this.we(e,s,n)),n.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class c5{constructor(e,s){this.Fe=e,this.Li=s}X(e,s,n){this.Fe.draw(e,this.Li,s,n)}}class Rf extends $x{constructor(e,s,n){super(e,s,!1),this.wn=n,this.js=new c5(this.wn.renderer(),i=>{const a=e.Ct();return a===null?null:e.Dt().Rt(i,a.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>Object.assign(Object.assign({ot:s.ee,nt:NaN},e.$s(s.ee)),{He:s.$e}))}Gs(e,s){s.Qs(this.zs,Wc(this.Ls))}Js(){this.wn.update({bars:this.zs.map(d5),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function d5(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class u5 extends en{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:n}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(s);const i=Math.max(1,Math.floor(n)),a=Math.round(this.zt.Ye*n)-Math.floor(i/2),o=a+i;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const c=this.zt.it[l],d=this.Ue[l-this.zt.tt.from],u=Math.round(c.st*n);let h,m;e.fillStyle=c.ce,u<=a?(h=u,m=o):(h=a,m=u-Math.floor(i/2)+i),e.fillRect(d.Os,h,d.ui-d.Os+1,m-h)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const s=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.zt.le*e)-s;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.zt.it[a],l=Math.round(o.nt*e);let c,d;if(n%2){const u=(n-1)/2;c=l-u,d=l+u}else{const u=n/2;c=l-u,d=l+u-1}this.Ue[a-this.zt.tt.from]={Os:c,ui:d,Ze:l,Xe:o.nt*e,ot:o.ot}}for(let a=this.zt.tt.from+1;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from],l=this.Ue[a-this.zt.tt.from-1];o.ot===l.ot+1&&o.Os-l.ui!==s+1&&(l.Ze>l.Xe?l.ui=o.Os-s-1:o.Os=l.ui+s+1)}let i=Math.ceil(this.zt.le*e);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const l=o.ui-o.Os+1;i=Math.min(l,i)}if(s>0&&i<4)for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class h5 extends Pm{constructor(){super(...arguments),this.js=new u5}se(e,s,n){return Object.assign(Object.assign({},this.ie(e,s)),n.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,ae(this.Es.Ct()).Vt)};this.js.J(e)}}class m5 extends Pm{constructor(){super(...arguments),this.js=new gT}se(e,s,n){return Object.assign(Object.assign({},this.ie(e,s)),n.$s(e))}Js(){const e=this.Es.W(),s={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(s)}}const f5=/[2-9]/g;class Hc{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,s,n){return this.sr(e,s,n).width}Mi(e,s,n){const i=this.sr(e,s,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,s,n){const i=n||f5,a=String(s).replace(i,"0");if(this.tr.has(a))return Rs(this.tr.get(a)).er;if(this.Ke===this.ir){const l=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(l),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(a);return e.restore(),o.width===0&&s.length||(this.tr.set(a,{er:o,rr:this.Ge}),this.Qe[this.Ge]=a,this.Ke++,this.Ge++),o}}class p5{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,s,n){this.hr=e,this.k=s,this.lr=n}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class wT{constructor(e,s,n){this.ur=e,this.ar=new Hc(50),this.cr=s,this.F=n,this.j=-1,this.Wt=new p5(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const s=e.vr(this.cr)?e.pr():this.cr.Dt();if(s===null)return null;const n=e.mr(s);if(n==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,n),this.Wt}}class g5 extends en{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,s){var n;if(!(!((n=this.zt)===null||n===void 0)&&n.yt))return null;const{st:i,et:a,gr:o}=this.zt;return s>=i-a-7&&s<=i+a+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:s,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const a=Math.round(this.zt.st*i);a<0||a>s.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*n),Ua(e,this.zt.Nt),aT(e,a,0,s.width))}}class Bx{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new g5,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class x5 extends Bx{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),s=e.Cr().Cr;if(s!==2&&s!==3)return;const n=this.Es.W();if(!n.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=n.baseLineColor,this.Sr.et=n.baseLineWidth,this.Sr.Nt=n.baseLineStyle)}}class y5 extends en{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:n}){const i=this.zt;if(i===null)return;const a=Math.max(1,Math.floor(s)),o=a%2/2,l=Math.round(i.Xe.x*s)+o,c=i.Xe.y*n;e.fillStyle=i.Tr,e.beginPath();const d=Math.max(2,1.5*i.Pr)*s;e.arc(l,c,d,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(l,c,i.ht*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=i.Dr,e.beginPath(),e.arc(l,c,i.ht*s+a/2,0,2*Math.PI,!1),e.stroke()}}const v5=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Xb(t,e,s,n){return function(i,a){if(i==="transparent")return i;const o=zc(i),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${a*l})`}(t,s+(n-s)*e)}function Yb(t,e){const s=t%2600/2600;let n;for(const c of v5)if(s>=c.Vr&&s<=c.Or){n=c;break}Wi(n!==void 0,"Last price animation internal logic error");const i=(s-n.Vr)/(n.Or-n.Vr);return{Rr:Xb(e,i,n.Ir,n.zr),Dr:Xb(e,i,n.Lr,n.Er),ht:(a=i,o=n.Br,l=n.Ar,o+(l-o)*a)};var a,o,l}class b5{constructor(e){this.Wt=new y5,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),s=this.Wr-e;if(s>0)return void(s<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),s=e.Xs(),n=this.jr.Ct();if(s===null||n===null)return;const i=this.jr.Zr(!0);if(i.Xr||!s.Kr(i.ee))return;const a={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,n.Vt)},o=i.V,l=this.jr.W().lineWidth,c=Yb(this.Gr(),o);this.Wt.J({Tr:o,Pr:l,Rr:c.Rr,Dr:c.Dr,ht:c.ht,Xe:a})}Yr(){const e=this.Wt.$e();if(e!==null){const s=Yb(this.Gr(),e.Tr);e.Rr=s.Rr,e.Dr=s.Dr,e.ht=s.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function dc(t,e){return fT(Math.min(Math.max(t,12),30)*e)}function Kc(t,e){switch(t){case"arrowDown":case"arrowUp":return dc(e,1);case"circle":return dc(e,.8);case"square":return dc(e,.7)}}function jT(t){return function(e){const s=Math.ceil(e);return s%2!=0?s-1:s}(dc(t,1))}function Jb(t){return Math.max(dc(t,.1),3)}function Zb(t,e,s){return e?t:s?Math.ceil(t/2):0}function NT(t,e,s,n,i){const a=Kc("square",s),o=(a-1)/2,l=t-o,c=e-o;return n>=l&&n<=l+a&&i>=c&&i<=c+a}function ew(t,e,s,n){const i=(Kc("arrowUp",n)-1)/2*s.Jr,a=(fT(n/2)-1)/2*s.Jr;e.beginPath(),t?(e.moveTo(s.nt-i,s.st),e.lineTo(s.nt,s.st-i),e.lineTo(s.nt+i,s.st),e.lineTo(s.nt+a,s.st),e.lineTo(s.nt+a,s.st+i),e.lineTo(s.nt-a,s.st+i),e.lineTo(s.nt-a,s.st)):(e.moveTo(s.nt-i,s.st),e.lineTo(s.nt,s.st+i),e.lineTo(s.nt+i,s.st),e.lineTo(s.nt+a,s.st),e.lineTo(s.nt+a,s.st-i),e.lineTo(s.nt-a,s.st-i),e.lineTo(s.nt-a,s.st)),e.fill()}function w5(t,e,s,n,i,a){return NT(e,s,n,i,a)}class j5 extends en{constructor(){super(...arguments),this.zt=null,this.ar=new Hc,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,s){this.j===e&&this.H===s||(this.j=e,this.H=s,this.Qr=nl(e,s),this.ar.nr())}wr(e,s){if(this.zt===null||this.zt.tt===null)return null;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const i=this.zt.it[n];if(S5(i,e,s))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:n},i,a){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.ar.xi(e,l.Kt.ih),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),N5(l,e,s,n)}}}}function N5(t,e,s,n){e.fillStyle=t.V,t.Kt!==void 0&&function(i,a,o,l,c,d){i.save(),i.scale(c,d),i.fillText(a,o,l),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,s,n),function(i,a,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void ew(!1,a,o,i.Ks);case"arrowUp":return void ew(!0,a,o,i.Ks);case"circle":return void function(l,c,d){const u=(Kc("circle",d)-1)/2;l.beginPath(),l.arc(c.nt,c.st,u*c.Jr,0,2*Math.PI,!1),l.fill()}(a,o,i.Ks);case"square":return void function(l,c,d){const u=Kc("square",d),h=(u-1)*c.Jr/2,m=c.nt-h,x=c.st-h;l.fillRect(m,x,u*c.Jr,u*c.Jr)}(a,o,i.Ks)}i.nh}}(t,e,function(i,a,o){const l=Math.max(1,Math.floor(a))%2/2;return{nt:Math.round(i.nt*a)+l,st:i.st*o,Jr:a}}(t,s,n))}function S5(t,e,s){return!(t.Kt===void 0||!function(n,i,a,o,l,c){const d=o/2;return l>=n&&l<=n+a&&c>=i-d&&c<=i+d}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,s))||function(n,i,a){if(n.Ks===0)return!1;switch(n.nh){case"arrowDown":case"arrowUp":return w5(0,n.nt,n.st,n.Ks,i,a);case"circle":return function(o,l,c,d,u){const h=2+Kc("circle",c)/2,m=o-d,x=l-u;return Math.sqrt(m*m+x*x)<=h}(n.nt,n.st,n.Ks,i,a);case"square":return NT(n.nt,n.st,n.Ks,i,a)}}(t,e,s)}function C5(t,e,s,n,i,a,o,l,c){const d=xn(s)?s:s.Se,u=xn(s)?s:s.Me,h=xn(s)?s:s.xe,m=xn(e.size)?Math.max(e.size,0):1,x=jT(l.le())*m,y=x/2;switch(t.Ks=x,e.position){case"inBar":return t.st=o.Rt(d,c),void(t.Kt!==void 0&&(t.Kt.st=t.st+y+a+.6*i));case"aboveBar":return t.st=o.Rt(u,c)-y-n.sh,t.Kt!==void 0&&(t.Kt.st=t.st-y-.6*i,n.sh+=1.2*i),void(n.sh+=x+a);case"belowBar":return t.st=o.Rt(h,c)+y+n.eh,t.Kt!==void 0&&(t.Kt.st=t.st+y+a+.6*i,n.eh+=1.2*i),void(n.eh+=x+a)}e.position}class T5{constructor(e,s){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new j5,this.jr=e,this.$i=s,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const s=this.$i.W().layout;return this.Wt._r(s.fontSize,s.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),s=Jb(e),n=1.5*jT(e)+2*s,i=this.fh();this.ah={above:Zb(n,i.aboveBar,i.inBar),below:Zb(n,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,s)=>(e[s.position]||(e[s.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),s=this.$i.St(),n=this.jr.dh();this.rh&&(this.zt.it=n.map(u=>({ot:u.time,nt:0,st:0,Ks:0,nh:u.shape,V:u.color,th:u.th,gr:u.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const a=s.Xs();if(a===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const c=Jb(s.le()),d={sh:c,eh:c};this.zt.tt=vT(this.zt.it,a,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const h=n[u];h.time!==l&&(d.sh=c,d.eh=c,l=h.time);const m=this.zt.it[u];m.nt=s.It(h.time),h.text!==void 0&&h.text.length>0&&(m.Kt={ih:h.text,nt:0,st:0,Hi:0,At:0});const x=this.jr.ph(h.time);x!==null&&C5(m,h,x,d,i.fontSize,c,e,s,o.Vt)}this.ft=!1}}class E5 extends Bx{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const s=this.Es.W();if(!s.priceLineVisible||!this.Es.yt())return;const n=this.Es.Zr(s.priceLineSource===0);n.Xr||(e.yt=!0,e.st=n.ki,e.V=this.Es.mh(n.V),e.et=s.priceLineWidth,e.Nt=s.priceLineStyle)}}class k5 extends Tm{constructor(e){super(),this.jt=e}zi(e,s,n){e.yt=!1,s.yt=!1;const i=this.jt;if(!i.yt())return;const a=i.W(),o=a.lastValueVisible,l=i.bh()!=="",c=a.seriesLastValueMode===0,d=i.Zr(!1);if(d.Xr)return;o&&(e.Kt=this.wh(d,o,c),e.yt=e.Kt.length!==0),(l||c)&&(s.Kt=this.gh(d,o,l,c),s.yt=s.Kt.length>0);const u=i.mh(d.V),h=Sm(u);n.t=h.t,n.ki=d.ki,s.Ot=i.$t().Bt(d.ki/i.Dt().At()),e.Ot=u,e.V=h.i,s.V=h.i}gh(e,s,n,i){let a="";const o=this.jt.bh();return n&&o.length!==0&&(a+=`${o} `),s&&i&&(a+=this.jt.Dt().Mh()?e.xh:e.Sh),a.trim()}wh(e,s,n){return s?n?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function tw(t,e,s,n){const i=Number.isFinite(e),a=Number.isFinite(s);return i&&a?t(e,s):i||a?i?e:s:n}class Qs{constructor(e,s){this.kh=e,this.yh=s}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Qs(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Qs(tw(Math.min,this.Ph(),e.Ph(),-1/0),tw(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!xn(e)||this.yh-this.kh===0)return;const s=.5*(this.yh+this.kh);let n=this.yh-s,i=this.kh-s;n*=e,i*=e,this.yh=s+n,this.kh=s+i}Oh(e){xn(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Qs(e.minValue,e.maxValue)}}class jh{constructor(e,s){this.Ih=e,this.zh=s||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new jh(Qs.Ah(e.priceRange),e.margins)}}class P5 extends Bx{constructor(e,s){super(e),this.Nh=s}yr(){const e=this.Sr;e.yt=!1;const s=this.Nh.W();if(!this.Es.yt()||!s.lineVisible)return;const n=this.Nh.Fh();n!==null&&(e.yt=!0,e.st=n,e.V=s.color,e.et=s.lineWidth,e.Nt=s.lineStyle,e.gr=this.Nh.W().id)}}class _5 extends Tm{constructor(e,s){super(),this.jr=e,this.Nh=s}zi(e,s,n){e.yt=!1,s.yt=!1;const i=this.Nh.W(),a=i.axisLabelVisible,o=i.title!=="",l=this.jr;if(!a||!l.yt())return;const c=this.Nh.Fh();if(c===null)return;o&&(s.Kt=i.title,s.yt=!0),s.Ot=l.$t().Bt(c/l.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const d=Sm(i.axisLabelColor||i.color);n.t=d.t;const u=i.axisLabelTextColor||d.i;e.V=u,s.V=u,n.ki=c}Wh(e){const s=this.jr.Ct();return s===null?"":this.jr.Dt().Fi(e,s.Vt)}}class M5{constructor(e,s){this.jr=e,this.cn=s,this.jh=new P5(e,this),this.ur=new _5(e,this),this.Hh=new wT(this.ur,e,e.$t())}$h(e){Zr(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,s=e.Dt();if(e.$t().St().Ni()||s.Ni())return null;const n=e.Ct();return n===null?null:s.Rt(this.cn.price,n.Vt)}}class D5 extends Fx{constructor(e){super(),this.$i=e}$t(){return this.$i}}const A5={Bar:(t,e,s,n)=>{var i;const a=e.upColor,o=e.downColor,l=ae(t(s,n)),c=wo(l.Vt[0])<=wo(l.Vt[3]);return{ce:(i=l.V)!==null&&i!==void 0?i:c?a:o}},Candlestick:(t,e,s,n)=>{var i,a,o;const l=e.upColor,c=e.downColor,d=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,m=e.wickDownColor,x=ae(t(s,n)),y=wo(x.Vt[0])<=wo(x.Vt[3]);return{ce:(i=x.V)!==null&&i!==void 0?i:y?l:c,Ne:(a=x.Ot)!==null&&a!==void 0?a:y?d:u,Ee:(o=x.Xh)!==null&&o!==void 0?o:y?h:m}},Custom:(t,e,s,n)=>{var i;return{ce:(i=ae(t(s,n)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,s,n)=>{var i,a,o,l;const c=ae(t(s,n));return{ce:(i=c.lt)!==null&&i!==void 0?i:e.lineColor,lt:(a=c.lt)!==null&&a!==void 0?a:e.lineColor,Ps:(o=c.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(l=c.Rs)!==null&&l!==void 0?l:e.bottomColor}},Baseline:(t,e,s,n)=>{var i,a,o,l,c,d;const u=ae(t(s,n));return{ce:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=u.Re)!==null&&i!==void 0?i:e.topLineColor,De:(a=u.De)!==null&&a!==void 0?a:e.bottomLineColor,ke:(o=u.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(l=u.ye)!==null&&l!==void 0?l:e.topFillColor2,Ce:(c=u.Ce)!==null&&c!==void 0?c:e.bottomFillColor1,Te:(d=u.Te)!==null&&d!==void 0?d:e.bottomFillColor2}},Line:(t,e,s,n)=>{var i,a;const o=ae(t(s,n));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(a=o.V)!==null&&a!==void 0?a:e.color}},Histogram:(t,e,s,n)=>{var i;return{ce:(i=ae(t(s,n)).V)!==null&&i!==void 0?i:e.color}}};class R5{constructor(e){this.Kh=(s,n)=>n!==void 0?n.Vt:this.jr.In().Gh(s),this.jr=e,this.Jh=A5[e.Qh()]}$s(e,s){return this.Jh(this.Kh,this.jr.W(),e,s)}}var sw;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(sw||(sw={}));const ai=30;class O5{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,s=0){const n=this.hl(e,s);return n===null?null:Object.assign(Object.assign({},this.al(n)),{ee:this.rl(n)})}ne(){return this.tl}ol(e,s,n){if(this.Ni())return null;let i=null;for(const a of n)i=Jd(i,this._l(e,s,a));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,s){const n=this.ul(e);if(n===null&&s!==0)switch(s){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return n}cl(e){let s=this.fl(e);return s>0&&(s-=1),s!==this.tl.length&&this.rl(s)<e?s:null}dl(e){const s=this.vl(e);return s!==this.tl.length&&e<this.rl(s)?s:null}ul(e){const s=this.fl(e);return s===this.tl.length||e<this.tl[s].ee?null:s}fl(e){return pd(this.tl,e,(s,n)=>s.ee<n)}vl(e){return yT(this.tl,e,(s,n)=>s.ee>n)}pl(e,s,n){let i=null;for(let a=e;a<s;a++){const o=this.tl[a].Vt[n];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,s,n){if(this.Ni())return null;let i=null;const a=ae(this.el()),o=ae(this.An()),l=Math.max(e,a),c=Math.min(s,o),d=Math.ceil(l/ai)*ai,u=Math.max(d,Math.floor(c/ai)*ai);{const m=this.fl(l),x=this.vl(Math.min(c,d,s));i=Jd(i,this.pl(m,x,n))}let h=this.il.get(n);h===void 0&&(h=new Map,this.il.set(n,h));for(let m=Math.max(d+1,l);m<u;m+=ai){const x=Math.floor(m/ai);let y=h.get(x);if(y===void 0){const g=this.fl(x*ai),v=this.vl((x+1)*ai-1);y=this.pl(g,v,n),h.set(x,y)}i=Jd(i,y)}{const m=this.fl(u),x=this.vl(c);i=Jd(i,this.pl(m,x,n))}return i}}function Jd(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class I5{constructor(e){this.wl=e}X(e,s,n){this.wl.draw(e)}gl(e,s,n){var i,a;(a=(i=this.wl).drawBackground)===null||a===void 0||a.call(i,e)}}class Of{constructor(e){this.tr=null,this.wn=e}gt(){var e;const s=this.wn.renderer();if(s===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===s)return this.tr.xl;const n=new I5(s);return this.tr={Ml:s,xl:n},n}Sl(){var e,s,n;return(n=(s=(e=this.wn).zOrder)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:"normal"}}function ST(t){var e,s,n,i,a;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(n=(s=t.visible)===null||s===void 0?void 0:s.call(t))===null||n===void 0||n,hi:(a=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||a===void 0||a}}class L5{constructor(e,s){this.Wt=new dT,this.kl=e,this.yl=s}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},ST(this.kl))),this.Wt}}class F5 extends Tm{constructor(e,s){super(),this.kl=e,this.Li=s}zi(e,s,n){const i=ST(this.kl);n.t=i.t,e.V=i.V;const a=2/12*this.Li.P();n.wi=a,n.gi=a,n.ki=i.ki,n.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class U5{constructor(e,s){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=s}Ol(){return this.Vl}Vn(){var e,s;(s=(e=this.Vl).updateAllViews)===null||s===void 0||s.call(e)}Pn(){var e,s,n,i;const a=(n=(s=(e=this.Vl).paneViews)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===a)return this.Cl.xl;const o=a.map(l=>new Of(l));return this.Cl={Ml:a,xl:o},o}Qi(){var e,s,n,i;const a=(n=(s=(e=this.Vl).timeAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===a)return this.Tl.xl;const o=this.jr.$t().St(),l=a.map(c=>new L5(c,o));return this.Tl={Ml:a,xl:l},l}Rn(){var e,s,n,i;const a=(n=(s=(e=this.Vl).priceAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===a)return this.Pl.xl;const o=this.jr.Dt(),l=a.map(c=>new F5(c,o));return this.Pl={Ml:a,xl:l},l}Bl(){var e,s,n,i;const a=(n=(s=(e=this.Vl).priceAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===a)return this.Rl.xl;const o=a.map(l=>new Of(l));return this.Rl={Ml:a,xl:o},o}Al(){var e,s,n,i;const a=(n=(s=(e=this.Vl).timeAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&n!==void 0?n:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===a)return this.Dl.xl;const o=a.map(l=>new Of(l));return this.Dl={Ml:a,xl:o},o}Il(e,s){var n,i,a;return(a=(i=(n=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(n,e,s))!==null&&a!==void 0?a:null}wr(e,s){var n,i,a;return(a=(i=(n=this.Vl).hitTest)===null||i===void 0?void 0:i.call(n,e,s))!==null&&a!==void 0?a:null}}function If(t,e,s,n){t.forEach(i=>{e(i).forEach(a=>{a.Sl()===s&&n.push(a)})})}function Lf(t){return t.Pn()}function $5(t){return t.Bl()}function B5(t){return t.Al()}class zx extends D5{constructor(e,s,n,i,a){super(e),this.zt=new O5,this.jh=new E5(this),this.zl=[],this.Ll=new x5(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=s,this.$l=n;const o=new k5(this);this.rn=[o],this.Hh=new wT(o,this,e),n!=="Area"&&n!=="Line"&&n!=="Baseline"||(this.El=new b5(this)),this.Ul(),this.ql(a)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const s={Xr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return s;const i=this.$t().St().Xs(),a=this.Ct();if(i===null||a===null)return s;let o,l;if(e){const h=this.zt.sl();if(h===null)return s;o=h,l=h.ee}else{const h=this.zt.ll(i.ui(),-1);if(h===null||(o=this.zt.Gh(h.ee),o===null))return s;l=h.ee}const c=o.Vt[3],d=this.Us().$s(l,{Vt:o}),u=n.Rt(c,a.Vt);return{Xr:!1,_t:c,Kt:n.Fi(c,a.Vt),xh:n.Yl(c),Sh:n.Zl(c,a.Vt),V:d.ce,ki:u,ee:l}}Us(){return this.Nl!==null||(this.Nl=new R5(this)),this.Nl}W(){return this.cn}$h(e){const s=e.priceScaleId;s!==void 0&&s!==this.cn.priceScaleId&&this.$t().Xl(this,s),Zr(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,s){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(s&&s.ta?this.El.$r():e.length===0&&this.El.Hr());const n=this.$t().dr(this);this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const s=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(s),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const s=new M5(this,e);return this.zl.push(s),this.$t().Gl(this),s}ra(e){const s=this.zl.indexOf(e);s!==-1&&this.zl.splice(s,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const s=e.Os();return this.zt.ll(s,1)}In(){return this.zt}ph(e){const s=this.zt.Gh(e);return s===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3]}:s.Vt[3]}aa(e){const s=[];If(this.Hl,Lf,"top",s);const n=this.El;return n!==null&&n.yt()&&(this.jl===null&&n.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),n.Ur(),s.unshift(n)),s}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const s=this.zl.map(n=>n.qh());return e.push(...s),If(this.Hl,Lf,"normal",e),e}ua(){return this.ca(Lf,"bottom")}da(e){return this.ca($5,e)}fa(e){return this.ca(B5,e)}va(e,s){return this.Hl.map(n=>n.wr(e,s)).filter(n=>n!==null)}Ji(e){return[this.Hh,...this.zl.map(s=>s.Yh())]}Rn(e,s){if(s!==this.Yi&&!this._a())return[];const n=[...this.rn];for(const i of this.zl)n.push(i.Zh());return this.Hl.forEach(i=>{n.push(...i.Rn())}),n}Qi(){const e=[];return this.Hl.forEach(s=>{e.push(...s.Qi())}),e}Il(e,s){if(this.cn.autoscaleInfoProvider!==void 0){const n=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,s);return i===null?null:i.Bh()});return jh.Ah(n)}return this.pa(e,s)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const s of this.rn)s.bt();for(const s of this.zl)s.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(s=>s.Vn())}Dt(){return ae(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const s=this.zt.Gh(e);return s===null?null:{_t:s.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new U5(e,this))}ya(e){this.Hl=this.Hl.filter(s=>s.Ol()!==e)}Ca(){if(this.wn instanceof Rf)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Rf)return e=>this.wn.je(e)}_a(){return!Em(this.Dt().Pa())}pa(e,s){if(!Vc(e)||!Vc(s)||this.zt.Ni())return null;const n=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,s,n);let a=i!==null?new Qs(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const l=this.cn.base,c=new Qs(l,l);a=a!==null?a.ts(c):c}let o=this.dn.uh();return this.Hl.forEach(l=>{const c=l.Il(e,s);if(c!=null&&c.priceRange){const x=new Qs(c.priceRange.minValue,c.priceRange.maxValue);a=a!==null?a.ts(x):x}var d,u,h,m;c!=null&&c.margins&&(d=o,u=c.margins,o={above:Math.max((h=d==null?void 0:d.above)!==null&&h!==void 0?h:0,u.above),below:Math.max((m=d==null?void 0:d.below)!==null&&m!==void 0?m:0,u.below)})}),new jh(a,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const s=this.cn.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new q6(this.cn.priceFormat.precision);break;case"percent":this.wa=new uT(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new km(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const s=ae(this.zt.el());this.Wl=this.Fl.map((n,i)=>{const a=ae(e.Va(n.time,!0)),o=a<s?1:-1;return{time:ae(this.zt.ll(a,o)).ee,position:n.position,shape:n.shape,color:n.color,id:n.id,th:i,text:n.text,size:n.size,originalTime:n.originalTime}})}ql(e){switch(this.dn=new T5(this,this.$t()),this.$l){case"Bar":this.wn=new r5(this,this.$t());break;case"Candlestick":this.wn=new l5(this,this.$t());break;case"Line":this.wn=new m5(this,this.$t());break;case"Custom":this.wn=new Rf(this,this.$t(),Rs(e));break;case"Area":this.wn=new t5(this,this.$t());break;case"Baseline":this.wn=new a5(this,this.$t());break;case"Histogram":this.wn=new h5(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,s){const n=[];return If(this.Hl,e,s,n),n}}class z5{constructor(e){this.cn=e}Oa(e,s,n){let i=e;if(this.cn.mode===0)return i;const a=n.vn(),o=a.Ct();if(o===null)return i;const l=a.Rt(e,o),c=n.Ba().filter(u=>u instanceof zx).reduce((u,h)=>{if(n.vr(h)||!h.yt())return u;const m=h.Dt(),x=h.In();if(m.Ni()||!x.Kr(s))return u;const y=x.Gh(s);if(y===null)return u;const g=wo(h.Ct());return u.concat([m.Rt(y.Vt[3],g.Vt)])},[]);if(c.length===0)return i;c.sort((u,h)=>Math.abs(u-l)-Math.abs(h-l));const d=c[0];return i=a.pn(d,o),i}}class V5 extends en{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null)return;const a=Math.max(1,Math.floor(n));e.lineWidth=a,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(e,()=>{const o=ae(this.zt);if(o.Aa){e.strokeStyle=o.Ia,Ua(e,o.za),e.beginPath();for(const l of o.La){const c=Math.round(l.Ea*n);e.moveTo(c,-a),e.lineTo(c,s.height+a)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,Ua(e,o.Wa),e.beginPath();for(const l of o.ja){const c=Math.round(l.Ea*i);e.moveTo(-a,c),e.lineTo(s.width+a,c)}e.stroke()}})}}class W5{constructor(e){this.Wt=new V5,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,s={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(n=>({Ea:n.coord}))};this.Wt.J(s),this.ft=!1}return this.Wt}}class H5{constructor(e){this.wn=new W5(e)}qh(){return this.wn}}const Ff={$a:4,Ua:1e-4};function jo(t,e){const s=100*(t-e)/e;return e<0?-s:s}function K5(t,e){const s=jo(t.Ph(),e),n=jo(t.Rh(),e);return new Qs(s,n)}function uc(t,e){const s=100*(t-e)/e+100;return e<0?-s:s}function G5(t,e){const s=uc(t.Ph(),e),n=uc(t.Rh(),e);return new Qs(s,n)}function Nh(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const n=Math.log10(s+e.Ua)+e.$a;return t<0?-n:n}function hc(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const n=Math.pow(10,s-e.$a)-e.Ua;return t<0?-n:n}function Bl(t,e){if(t===null)return null;const s=Nh(t.Ph(),e),n=Nh(t.Rh(),e);return new Qs(s,n)}function Zd(t,e){if(t===null)return null;const s=hc(t.Ph(),e),n=hc(t.Rh(),e);return new Qs(s,n)}function Uf(t){if(t===null)return Ff;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return Ff;const s=Math.ceil(Math.abs(Math.log10(e))),n=Ff.$a+s;return{$a:n,Ua:1/Math.pow(10,n)}}class $f{constructor(e,s){if(this.qa=e,this.Ya=s,function(n){if(n<0)return!1;for(let i=n;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let n=this.qa;n!==1;){if(n%2==0)this.Za.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),n/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,s,n){const i=this.qa===0?0:1/this.qa;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),o=0,l=this.Ya[0];for(;;){const h=Yd(a,i,1e-14)&&a>i+1e-14,m=Yd(a,n*l,1e-14),x=Yd(a,1,1e-14);if(!(h&&m&&x))break;a/=l,l=this.Ya[++o%this.Ya.length]}if(a<=i+1e-14&&(a=i),a=Math.max(1,a),this.Za.length>0&&(c=a,d=1,u=1e-14,Math.abs(c-d)<u))for(o=0,l=this.Za[0];Yd(a,n*l,1e-14)&&a>i+1e-14;)a/=l,l=this.Za[++o%this.Za.length];var c,d,u;return a}}class rw{constructor(e,s,n,i){this.Ka=[],this.Li=e,this.qa=s,this.Ga=n,this.Ja=i}Xa(e,s){if(e<s)throw new Error("high < low");const n=this.Li.At(),i=(e-s)*this.Qa()/n,a=new $f(this.qa,[2,2.5,2]),o=new $f(this.qa,[2,2,2.5]),l=new $f(this.qa,[2.5,2,2]),c=[];return c.push(a.Xa(e,s,i),o.Xa(e,s,i),l.Xa(e,s,i)),function(d){if(d.length<1)throw Error("array is empty");let u=d[0];for(let h=1;h<d.length;++h)d[h]<u&&(u=d[h]);return u}(c)}io(){const e=this.Li,s=e.Ct();if(s===null)return void(this.Ka=[]);const n=e.At(),i=this.Ga(n-1,s),a=this.Ga(0,s),o=this.Li.W().entireTextOnly?this.no()/2:0,l=o,c=n-1-o,d=Math.max(i,a),u=Math.min(i,a);if(d===u)return void(this.Ka=[]);let h=this.Xa(d,u),m=d%h;m+=m<0?h:0;const x=d>=u?1:-1;let y=null,g=0;for(let v=d-m;v>u;v-=h){const b=this.Ja(v,s,!0);y!==null&&Math.abs(b-y)<this.Qa()||b<l||b>c||(g<this.Ka.length?(this.Ka[g].Ea=b,this.Ka[g].so=e.eo(v)):this.Ka.push({Ea:b,so:e.eo(v)}),g++,y=b,e.ro()&&(h=this.Xa(v*x,u)))}this.Ka.length=g}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function CT(t){return t.slice().sort((e,s)=>ae(e.Xi())-ae(s.Xi()))}var nw;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(nw||(nw={}));const iw=new uT,aw=new km(100,1);class q5{constructor(e,s,n,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Qt,this.vo=new Qt,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=aw,this.xo=Uf(null),this.So=e,this.cn=s,this.ko=n,this.yo=i,this.Co=new rw(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(Zr(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const s=Rs(e.scaleMargins.top),n=Rs(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(s+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+n}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const s=this.Cr();let n=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),s.Cr===1&&e.Cr!==s.Cr&&(function(a,o){if(a===null)return!1;const l=hc(a.Ph(),o),c=hc(a.Rh(),o);return isFinite(l)&&isFinite(c)}(this.Ih,this.xo)?(n=Zd(this.Ih,this.xo),n!==null&&this.Ao(n)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==s.Cr&&(n=Bl(this.Ih,this.xo),n!==null&&this.Ao(n));const i=s.Cr!==this.cn.mode;i&&(s.Cr===2||this.Mh())&&this.Ra(),i&&(s.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&s.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(s,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,s){const n=this.Ih;(s||n===null&&e!==null||n!==null&&!n.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,s){return this.Mh()?e=jo(e,s):this.Oo()&&(e=uc(e,s)),this.Po(e,s)}te(e,s,n){this.Wo();const i=this.Fo(),a=ae(this.Lh()),o=a.Ph(),l=a.Rh(),c=this.Eo()-1,d=this.Bo(),u=c/(l-o),h=n===void 0?0:n.from,m=n===void 0?e.length:n.to,x=this.Ho();for(let y=h;y<m;y++){const g=e[y],v=g._t;if(isNaN(v))continue;let b=v;x!==null&&(b=x(g._t,s));const p=i+u*(b-o),w=d?p:this.ho-1-p;g.st=w}}be(e,s,n){this.Wo();const i=this.Fo(),a=ae(this.Lh()),o=a.Ph(),l=a.Rh(),c=this.Eo()-1,d=this.Bo(),u=c/(l-o),h=n===void 0?0:n.from,m=n===void 0?e.length:n.to,x=this.Ho();for(let y=h;y<m;y++){const g=e[y];let v=g.ge,b=g.Me,p=g.xe,w=g.Se;x!==null&&(v=x(g.ge,s),b=x(g.Me,s),p=x(g.xe,s),w=x(g.Se,s));let j=i+u*(v-o),S=d?j:this.ho-1-j;g.pe=S,j=i+u*(b-o),S=d?j:this.ho-1-j,g.de=S,j=i+u*(p-o),S=d?j:this.ho-1-j,g.fe=S,j=i+u*(w-o),S=d?j:this.ho-1-j,g.me=S}}pn(e,s){const n=this.To(e,s);return this.$o(n,s)}$o(e,s){let n=e;return this.Mh()?n=function(i,a){return a<0&&(i=-i),i/100*a+a}(n,s):this.Oo()&&(n=function(i,a){return i-=100,a<0&&(i=-i),i/100*a+a}(n,s)),n}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let s=0;s<this.po.length;s++){const n=this.po[s];n.Xi()===null&&n.Ki(s+1),e.push(n)}return e=CT(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const s=this.po.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.po.splice(s,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const s of this.po){const n=s.Ct();n!==null&&(e===null||n.la<e.la)&&(e=n)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const s=this.Co.Ha();return this.bo={Ha:s,Xo:e},this.fo.m(),s}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=ae(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let s=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const n=ae(this.ao).Th();s=Math.max(s,.1),n.Vh(s),this.Ao(n)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=ae(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const s=ae(this.Lh()).Dh()/(this.Eo()-1);let n=e-this.Mo;this.Bo()&&(n*=-1);const i=n*s,a=ae(this.ao).Th();a.Oh(i),this.Ao(a,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,s){switch(this.cn.mode){case 2:return this.s_(jo(e,s));case 3:return this.ba().format(uc(e,s));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,ae(this.e_()).ba())}Zl(e,s){return e=jo(e,s),this.s_(e,iw)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let s=100;e!==null&&(s=Math.round(1/e.ma())),this.wa=aw,this.Mh()?(this.wa=iw,s=100):this.Oo()?(this.wa=new km(100,1),s=100):e!==null&&(this.wa=e.ba()),this.Co=new rw(this,s,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,s){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Nh(e,this.xo):e;const n=ae(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-n.Ph())/n.Dh();return this.jo(i)}To(e,s){if(this.Wo(),this.Ni())return 0;const n=this.jo(e),i=ae(this.Lh()),a=i.Ph()+i.Dh()*((n-this.Fo())/(this.Eo()-1));return this.ro()?hc(a,this.xo):a}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let s=null;const n=this.r_();let i=0,a=0;for(const c of n){if(!c.yt())continue;const d=c.Ct();if(d===null)continue;const u=c.Il(e.Os(),e.ui());let h=u&&u.Lh();if(h!==null){switch(this.cn.mode){case 1:h=Bl(h,this.xo);break;case 2:h=K5(h,d.Vt);break;case 3:h=G5(h,d.Vt)}if(s=s===null?h:s.ts(ae(h)),u!==null){const m=u.Eh();m!==null&&(i=Math.max(i,m.above),a=Math.max(a,m.below))}}}if(i===this.co&&a===this.do||(this.co=i,this.do=a,this.bo=null,this.Do()),s!==null){if(s.Ph()===s.Rh()){const c=this.e_(),d=5*(c===null||this.Mh()||this.Oo()?1:c.ma());this.ro()&&(s=Zd(s,this.xo)),s=new Qs(s.Ph()-d,s.Rh()+d),this.ro()&&(s=Bl(s,this.xo))}if(this.ro()){const c=Zd(s,this.xo),d=Uf(c);if(o=d,l=this.xo,o.$a!==l.$a||o.Ua!==l.Ua){const u=this.ao!==null?Zd(this.ao,this.xo):null;this.xo=d,s=Bl(c,d),u!==null&&(this.ao=Bl(u,d))}}this.Ao(s)}else this.Ih===null&&(this.Ao(new Qs(-.5,.5)),this.xo=Uf(null));var o,l;this.oo._o=!0}Ho(){return this.Mh()?jo:this.Oo()?uc:this.ro()?e=>Nh(e,this.xo):null}a_(e,s,n){return s===void 0?(n===void 0&&(n=this.ba()),n.format(e)):s(e)}Wh(e,s){return this.a_(e,this.yo.priceFormatter,s)}s_(e,s){return this.a_(e,this.yo.percentageFormatter,s)}}class Q5{constructor(e,s){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Qt,this.yl=e,this.$i=s,this.d_=new H5(this);const n=s.W();this.f_=this.v_("left",n.leftPriceScale),this.p_=this.v_("right",n.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(n)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const s=Array.from(this.o_.values());for(const n of s){const i=ae(n[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Rs(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(s=>{if(this.vr(s)){const n=s.Dt();n!==null&&n.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const s=e.Dt();return s===null||this.f_!==s&&this.p_!==s}qo(e,s,n){const i=n!==void 0?n:this.C_().y_+1;this.T_(e,s,i)}Zo(e){const s=this.po.indexOf(e);Wi(s!==-1,"removeDataSource: invalid data source"),this.po.splice(s,1);const n=ae(e.Dt()).Pa();if(this.o_.has(n)){const a=Rs(this.o_.get(n)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.o_.delete(n))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,s){e.Go(s)}O_(e,s){e.Jo(s),this.k_()}B_(e){e.Qo()}A_(e,s){e.t_(s)}I_(e,s){e.i_(s),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const s=this.yl.Xs();e.Ro({Wn:!0}),s!==null&&e.h_(s),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=CT(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const s=e.r_();if(s&&s.length>0&&!this.yl.Ni()){const n=this.yl.Xs();n!==null&&e.h_(n)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let s=0,n=0;for(let i=0;i<e.length;i++){const a=e[i].Xi();a!==null&&(a<s&&(s=a),a>n&&(n=a))}return{H_:s,y_:n}}T_(e,s,n){let i=this.w_(s);if(i===null&&(i=this.v_(s,this.$i.W().overlayPriceScales)),this.po.push(e),!Em(s)){const a=this.o_.get(s)||[];a.push(e),this.o_.set(s,a)}i.qo(e),e.Gi(i),e.Ki(n),this.P_(i),this.mo=null}m_(e,s,n){s.Cr!==n.Cr&&this.L_(e)}v_(e,s){const n=Object.assign({visible:!0,autoScale:!0},Bn(s)),i=new q5(e,n,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class X5{constructor(e,s,n=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=s,this.ir=n}Y_(e){const s=e.time,n=this.q_.cacheKey(s),i=this.tr.get(n);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Rs(o)),this.Je++,this.Ke--}const a=this.U_(e);return this.tr.set(n,{Z_:a,rr:this.Ge}),this.Qe.set(this.Ge,n),this.Ke++,this.Ge++,a}}class mc{constructor(e,s){Wi(e<=s,"right should be >= left"),this.X_=e,this.K_=s}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function ow(t,e){return t===null||e===null?t===e:t.Ch(e)}class Y5{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,s){this.nu(s),this.tr=null;for(let n=s;n<e.length;++n){const i=e[n];let a=this.J_.get(i.timeWeight);a===void 0&&(a=[],this.J_.set(i.timeWeight,a)),a.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,s){const n=Math.ceil(s/e);return this.tr!==null&&this.tr.eu===n||(this.tr={Ha:this.ru(n),eu:n}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const s=[];this.J_.forEach((n,i)=>{e<=n[0].index?s.push(i):n.splice(pd(n,e,a=>a.index<e),1/0)});for(const n of s)this.J_.delete(n)}ru(e){let s=[];for(const n of Array.from(this.J_.keys()).sort((i,a)=>a-i)){if(!this.J_.get(n))continue;const i=s;s=[];const a=i.length;let o=0;const l=Rs(this.J_.get(n)),c=l.length;let d=1/0,u=-1/0;for(let h=0;h<c;h++){const m=l[h],x=m.index;for(;o<a;){const y=i[o],g=y.index;if(!(g<x)){d=g;break}o++,s.push(y),u=g,d=1/0}if(d-x>=e&&x-u>=e)s.push(m),u=x;else if(this.Q_)return i}for(;o<a;o++)s.push(i[o])}return s}}class Do{constructor(e){this.hu=e}lu(){return this.hu===null?null:new mc(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Do(null)}}function J5(t,e){return t.weight>e.weight?t:e}class Z5{constructor(e,s,n,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new Y5,this.du=new Map,this.fu=Do.ou(),this.vu=!0,this.pu=new Qt,this.mu=new Qt,this.bu=new Qt,this.wu=null,this.gu=null,this.Mu=[],this.cn=s,this.yo=n,this.xu=s.rightOffset,this.Su=s.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(s.uniformDistribution)}W(){return this.cn}yu(e){Zr(this.yo,e),this.Cu(),this.ku()}$h(e,s){var n;Zr(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((n=e.barSpacing)!==null&&n!==void 0?n:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var s,n;return(n=(s=this.uu[e])===null||s===void 0?void 0:s.time)!==null&&n!==void 0?n:null}Ui(e){var s;return(s=this.uu[e])!==null&&s!==void 0?s:null}Va(e,s){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return s?this.uu.length-1:null;const n=pd(this.uu,this.q_.key(e),(i,a)=>this.q_.key(i.time)<a);return this.q_.key(e)<this.q_.key(this.uu[n].time)?s?n:null:n}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const s={from:e.Os(),to:e.ui()};return this.Ou(s)}Ou(e){const s=Math.round(e.from),n=Math.round(e.to),i=ae(this.Bu()),a=ae(this.Au());return{from:ae(this.Ui(Math.max(i,s))),to:ae(this.Ui(Math.min(a,n)))}}Iu(e){return{from:ae(this.Va(e.from,!0)),to:ae(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const s=this.Du(),n=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&n!==0){const i=this.Su*e/n;this.Su=i}if(this.cn.fixLeftEdge&&s!==null&&s.Os()<=0){const i=n-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Vc(e))return 0;const s=this.Eu()+this.xu-e;return this.__-(s+.5)*this.Su-1}Qs(e,s){const n=this.Eu(),i=s===void 0?0:s.from,a=s===void 0?e.length:s.to;for(let o=i;o<a;o++){const l=e[o].ot,c=n+this.xu-l,d=this.__-(c+.5)*this.Su-1;e[o].nt=d}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,s=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(s/e),i=ae(this.Xs()),a=Math.max(i.Os(),i.Os()-n),o=Math.max(i.ui(),i.ui()-n),l=this.cu.su(e,s),c=this.Bu()+n,d=this.Au()-n,u=this.$u(),h=this.cn.fixLeftEdge||u,m=this.cn.fixRightEdge||u;let x=0;for(const y of l){if(!(a<=y.index&&y.index<=o))continue;let g;x<this.Mu.length?(g=this.Mu[x],g.coord=this.It(y.index),g.label=this.Uu(y),g.weight=y.weight):(g={needAlignCoordinate:!1,coord:this.It(y.index),label:this.Uu(y),weight:y.weight},this.Mu.push(g)),this.Su>s/2&&!u?g.needAlignCoordinate=!1:g.needAlignCoordinate=h&&y.index<=c||m&&y.index>=d,x++}return this.Mu.length=x,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,s){const n=this.Fu(e),i=this.le(),a=i+s*(i/10);this.Gn(a),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(n-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const s=Eg(this.__-e,0,this.__),n=Eg(this.__-ae(this.wo),0,this.__);s!==0&&n!==0&&this.Gn(this.wu.le*s/n)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const s=(this.Mo-e)/this.le();this.xu=ae(this.wu).Hu+s,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.xu,i=performance.now();this.$i.Zn({Qu:a=>(a-i)/s>=1,tc:a=>{const o=(a-i)/s;return o>=1?e:n+(e-n)*o}})}bt(e,s){this.vu=!0,this.uu=e,this.cu.iu(e,s),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const s=e.G_();this.ju(this.__/s),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),s=this.Au();e!==null&&s!==null&&this.rc(new mc(e,s+this.cn.rightOffset))}lc(e){const s=new mc(e.from,e.to);this.rc(s)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:s}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const s=this.ac(e),n=this.Eu()+this.xu-s;return Math.round(1e6*n)/1e6}ju(e){const s=this.Su;this.Su=e,this.zu(),s!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Do.ou());const e=this.Eu(),s=this.__/this.Su,n=this.xu+e,i=new mc(n-s+1,n);this._c(new Do(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const s=.5*this.__;this.Su>s&&(this.Su=s,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const s=this.dc();this.xu>s&&(this.xu=s,this.vu=!0)}cc(){const e=this.Bu(),s=this._u;return e===null||s===null?null:e-s-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let s=this.du.get(e.weight);return s===void 0&&(s=new X5(n=>this.fc(n),this.q_),this.du.set(e.weight,s)),s.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const s=this.fu;this.fu=e,ow(s.lu(),this.fu.lu())||this.pu.m(),ow(s.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const s=this.Xs();if(s===null)return;const n=s.Os()-e;if(n<0){const i=this.xu-n-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class eL{X(e,s,n){e.useMediaCoordinateSpace(i=>this.K(i,s,n))}gl(e,s,n){e.useMediaCoordinateSpace(i=>this.vc(i,s,n))}vc(e,s,n){}}class tL extends eL{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:s,mediaSize:n}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;s.font=o.R;const l=this.wc(s,o.Kt);l>n.width?o.Zu=n.width/l:o.Zu=1,i+=o.gc*o.Zu}let a=0;switch(this.zt.Mc){case"top":a=0;break;case"center":a=Math.max((n.height-i)/2,0);break;case"bottom":a=Math.max(n.height-i,0)}s.fillStyle=this.zt.V;for(const o of this.zt.bc){s.save();let l=0;switch(this.zt.xc){case"left":s.textAlign="left",l=o.gc/2;break;case"center":s.textAlign="center",l=n.width/2;break;case"right":s.textAlign="right",l=n.width-1-o.gc/2}s.translate(l,a),s.textBaseline="top",s.font=o.R,s.scale(o.Zu,o.Zu),s.fillText(o.Kt,0,o.Sc),s.restore(),a+=o.gc*o.Zu}}wc(e,s){const n=this.kc(e.font);let i=n.get(s);return i===void 0&&(i=e.measureText(s).width,n.set(s,i)),i}kc(e){let s=this.mc.get(e);return s===void 0&&(s=new Map,this.mc.set(e,s)),s}}class sL{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new tL(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),s=this.Ft;s.yt=e.visible,s.yt&&(s.V=e.color,s.xc=e.horzAlign,s.Mc=e.vertAlign,s.bc=[{Kt:e.text,R:nl(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class rL extends Fx{constructor(e,s){super(),this.cn=s,this.wn=new sL(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var lw,cw,dw,uw,hw;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(lw||(lw={}));class nL{constructor(e,s,n){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Qt,this.Rc=new Qt,this.Dc=null,this.Vc=e,this.cn=s,this.q_=n,this.Oc=new I6(this),this.yl=new Z5(this,s.timeScale,this.cn.localization,n),this.vt=new G6(this,s.crosshair),this.Bc=new z5(s.crosshair),this.Ac=new rL(this,s.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(gs.es())}Uh(){this.Nc(gs.ss())}oa(){this.Nc(new gs(1))}Gl(e){const s=this.Fc(e);this.Nc(s)}Wc(){return this.Tc}jc(e){const s=this.Tc;this.Tc=e,s!==null&&this.Gl(s.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){Zr(this.cn,e),this.yc.forEach(s=>s.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,s){if(e==="left")return void this.$h({leftPriceScale:s});if(e==="right")return void this.$h({rightPriceScale:s});const n=this.Uc(e);n!==null&&(n.Dt.$h(s),this.Pc.m())}Uc(e){for(const s of this.yc){const n=s.w_(e);if(n!==null)return{Ht:s,Dt:n}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,s){e.Lo(s),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(s=>s.S_(e)),this.Wu()}Ic(e){const s=new Q5(this.yl,this);e!==void 0?this.yc.splice(e,0,s):this.yc.push(s);const n=e===void 0?this.yc.length-1:e,i=gs.es();return i.Nn(n,{Fn:0,Wn:!0}),this.Nc(i),s}V_(e,s,n){e.V_(s,n)}O_(e,s,n){e.O_(s,n),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,s){e.B_(s),this.Nc(this.Gc(e,2))}A_(e,s,n){s.Vo()||e.A_(s,n)}I_(e,s,n){s.Vo()||(e.I_(s,n),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,s){s.Vo()||(e.z_(s),this.Nc(this.Gc(e,2)))}E_(e,s){e.E_(s),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,s){const n=this.St();if(n.Ni()||s===0)return;const i=n.Hi();e=Math.max(1,Math.min(e,i)),n.Zu(e,s),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,s,n,i,a){this.vt.gn(e,s);let o=NaN,l=this.yl.Nu(e);const c=this.yl.Xs();c!==null&&(l=Math.min(Math.max(c.Os(),l),c.ui()));const d=i.vn(),u=d.Ct();u!==null&&(o=d.pn(s,u)),o=this.Bc.Oa(o,l,i),this.vt.kn(l,o,i),this.oa(),a||this.Rc.m(this.vt.xt(),{x:e,y:s},n)}ad(e,s,n){const i=n.vn(),a=i.Ct(),o=i.Rt(e,ae(a)),l=this.yl.Va(s,!0),c=this.yl.It(ae(l));this.ld(c,o,null,n,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const s=this.vt.xn(),n=this.vt.Sn();this.ld(s,n,null,e)}this.vt.Vn()}_d(e,s,n){const i=this.yl.mn(0);s!==void 0&&n!==void 0&&this.yl.bt(s,n);const a=this.yl.mn(0),o=this.yl.Eu(),l=this.yl.Xs();if(l!==null&&i!==null&&a!==null){const c=l.Kr(o),d=this.q_.key(i)>this.q_.key(a),u=e!==null&&e>o&&!d,h=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,m=c&&(n!==void 0||h)&&this.yl.W().shiftVisibleRangeOnNewBar;if(u&&!m){const x=e-o;this.yl.Jn(this.yl.Hu()-x)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const s=this.yc.find(n=>n.Uo().includes(e));return s===void 0?null:s}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,s,n){const i=this.yc[0],a=this.fd(s,e,i,n);return this.Cc.push(a),this.Cc.length===1?this.Kl():this.Uh(),a}vd(e){const s=this.dr(e),n=this.Cc.indexOf(e);Wi(n!==-1,"Series not found"),this.Cc.splice(n,1),ae(s).Zo(e),e.S&&e.S()}Xl(e,s){const n=ae(this.dr(e));n.Zo(e);const i=this.Uc(s);if(i===null){const a=e.Xi();n.qo(e,s,a)}else{const a=i.Ht===n?e.Xi():void 0;i.Ht.qo(e,s,a)}}hc(){const e=gs.ss();e.$n(),this.Nc(e)}pd(e){const s=gs.ss();s.Yn(e),this.Nc(s)}Kn(){const e=gs.ss();e.Kn(),this.Nc(e)}Gn(e){const s=gs.ss();s.Gn(e),this.Nc(s)}Jn(e){const s=gs.ss();s.Jn(e),this.Nc(s)}Zn(e){const s=gs.ss();s.Zn(e),this.Nc(s)}Un(){const e=gs.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const s=this.Ec,n=this.zc;if(s===n)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==n||this.Dc.Rs!==s)this.Dc={Ps:n,Rs:s,wd:new Map};else{const a=this.Dc.wd.get(e);if(a!==void 0)return a}const i=function(a,o,l){const[c,d,u,h]=zc(a),[m,x,y,g]=zc(o),v=[yr(c+l*(m-c)),yr(d+l*(x-d)),yr(u+l*(y-u)),oT(h+l*(g-h))];return`rgba(${v[0]}, ${v[1]}, ${v[2]}, ${v[3]})`}(n,s,e/100);return this.Dc.wd.set(e,i),i}Gc(e,s){const n=new gs(s);if(e!==null){const i=this.yc.indexOf(e);n.Nn(i,{Fn:s})}return n}Fc(e,s){return s===void 0&&(s=2),this.Gc(this.dr(e),s)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(s=>s.j_().qh().bt())}fd(e,s,n,i){const a=new zx(this,e,s,n,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return n.qo(a,o),Em(o)||a.$h(e),a}Lc(e){const s=this.cn.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}}function kg(t){return!xn(t)&&!fd(t)}function TT(t){return xn(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(cw||(cw={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(dw||(dw={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(uw||(uw={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(hw||(hw={}));const mw=t=>t.getUTCFullYear();function iL(t,e,s){return e.replace(/yyyy/g,(n=>zn(mw(n),4))(t)).replace(/yy/g,(n=>zn(mw(n)%100,2))(t)).replace(/MMMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,s)).replace(/MMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,s)).replace(/MM/g,(n=>zn((i=>i.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>zn((i=>i.getUTCDate())(n),2))(t))}class ET{constructor(e="yyyy-MM-dd",s="default"){this.gd=e,this.Md=s}Y_(e){return iL(e,this.gd,this.Md)}}class aL{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",zn(e.getUTCHours(),2)).replace("%m",zn(e.getUTCMinutes(),2)).replace("%s",zn(e.getUTCSeconds(),2))}}const oL={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class lL{constructor(e={}){const s=Object.assign(Object.assign({},oL),e);this.Td=new ET(s.Sd,s.Cd),this.Pd=new aL(s.kd),this.Rd=s.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function eu(t){return 60*t*60*1e3}function Bf(t){return 60*t*1e3}const tu=[{Dd:(fw=1,1e3*fw),Vd:10},{Dd:Bf(1),Vd:20},{Dd:Bf(5),Vd:21},{Dd:Bf(30),Vd:22},{Dd:eu(1),Vd:30},{Dd:eu(3),Vd:31},{Dd:eu(6),Vd:32},{Dd:eu(12),Vd:33}];var fw;function pw(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let s=tu.length-1;s>=0;--s)if(Math.floor(e.getTime()/tu[s].Dd)!==Math.floor(t.getTime()/tu[s].Dd))return tu[s].Vd;return 0}function zf(t){let e=t;if(fd(t)&&(e=Vx(t)),!kg(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(s.getTime()/1e3),Bd:e}}function gw(t){if(!TT(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Vx(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function xw(t){fd(t.time)&&(t.time=Vx(t.time))}class yw{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(s){s.forEach(xw)}(e):xw(e)}createConverterToInternalObj(e){return ae(function(s){return s.length===0?null:kg(s[0].time)||fd(s[0].time)?zf:gw}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.Bd===void 0?new Date(1e3*s.Od).getTime():new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day)).getTime()}convertHorzItemToInternal(e){return TT(s=e)?gw(s):kg(s)?zf(s):zf(Vx(s));var s}updateFormatter(e){if(!this.cn)return;const s=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new lL({Sd:s,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new ET(s,e.locale)}formatHorzItem(e){const s=e;return this.Ad.Y_(new Date(1e3*s.Od))}formatTickmark(e,s){const n=function(a,o,l){switch(a){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const a=i.tickMarkFormatter(e.originalTime,n,s.locale);if(a!==null)return a}return function(a,o,l){const c={};switch(o){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const d=a.Bd===void 0?new Date(1e3*a.Od):new Date(Date.UTC(a.Bd.year,a.Bd.month-1,a.Bd.day));return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,n,s.locale)}maxTickMarkWeight(e){let s=e.reduce(J5,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(n,i=0){if(n.length===0)return;let a=i===0?null:n[i-1].time.Od,o=a!==null?new Date(1e3*a):null,l=0;for(let c=i;c<n.length;++c){const d=n[c],u=new Date(1e3*d.time.Od);o!==null&&(d.timeWeight=pw(u,o)),l+=d.time.Od-(a||d.time.Od),a=d.time.Od,o=u}if(i===0&&n.length>1){const c=Math.ceil(l/(n.length-1)),d=new Date(1e3*(n[0].time.Od-c));n[0].timeWeight=pw(new Date(1e3*n[0].time.Od),d)}})(e,s)}static Id(e){return Zr({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const il=typeof window<"u";function vw(){return!!il&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Vf(){return!!il&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Pg(t){return t+t%2}function Wf(t,e){return t.zd-e.zd}function Hf(t,e,s){const n=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(n)*Math.min(Math.abs(n),s)}class cL{constructor(e,s,n,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=s,this.qd=n,this.rs=i}Yd(e,s){if(this.Ld!==null){if(this.Ld.ot===s)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:s,zd:e}}Vr(e,s){if(this.Ld===null||this.Ed===null||s-this.Ld.ot>50)return;let n=0;const i=Hf(this.Ld,this.Ed,this.Ud),a=Wf(this.Ld,this.Ed),o=[i],l=[a];if(n+=a,this.Nd!==null){const d=Hf(this.Ed,this.Nd,this.Ud);if(Math.sign(d)===Math.sign(i)){const u=Wf(this.Ed,this.Nd);if(o.push(d),l.push(u),n+=u,this.Fd!==null){const h=Hf(this.Nd,this.Fd,this.Ud);if(Math.sign(h)===Math.sign(i)){const m=Wf(this.Nd,this.Fd);o.push(h),l.push(m),n+=m}}}}let c=0;for(let d=0;d<o.length;++d)c+=l[d]/n*o[d];Math.abs(c)<this.$d||(this.Wd={zd:e,ot:s},this.Hd=c,this.jd=function(d,u){const h=Math.log(u);return Math.log(1*h/-d)/h}(Math.abs(c),this.qd))}tc(e){const s=ae(this.Wd),n=e-s.ot;return s.zd+this.Hd*(Math.pow(this.qd,n)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const s=e-ae(this.Wd).ot;return Math.min(s,this.jd)}}class dL{constructor(e,s){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=s,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return lT(zc(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function $a(t,e){const s=ae(t.ownerDocument).createElement("canvas");t.appendChild(s);const n=w6(s,{options:{allowResizeObserver:!1},transform:(i,a)=>({width:Math.max(i.width,a.width),height:Math.max(i.height,a.height)})});return n.resizeCanvasElement(e),n}function Ba(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function _g(t,e,s,n){t.gl&&t.gl(e,s,n)}function Du(t,e,s,n){t.X(e,s,n)}function Mg(t,e,s,n){const i=t(s,n);for(const a of i){const o=a.gt();o!==null&&e(o)}}function uL(t){il&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Wx{constructor(e,s,n){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Vf(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const a=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(an(i),this.cf);o<30&&!this.wf&&this.Wf(a,this.Hf.jf),this.$f()}}else{const a=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(an(i),this.af);o<5&&!this.bf&&this.Uf(a,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=s,this.cn=n,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const s=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",s)},this.Zf.addEventListener("mousemove",s),this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.tv),this.Bf=!0}iv(e){const s=Kf(e.changedTouches,ae(this.Of));if(s===null||(this.Vf=su(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const n=this.Ff(an(s),ae(this.pf)),{nv:i,sv:a,Nf:o}=n;if(this.mf||!(o<5)){if(!this.mf){const l=.5*i,c=a>=l&&!this.cn.ev(),d=l>a&&!this.cn.rv();c||d||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const l=this.Ef(e,s);this.Wf(l,this.Hf.hv),no(e)}}}lv(e){if(e.button!==0)return;const s=this.Ff(an(e),ae(this.vf)),{Nf:n}=s;if(n>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,s){const n=Math.abs(s.nt-e.nt),i=Math.abs(s.st-e.st);return{nv:n,sv:i,Nf:n+i}}ov(e){let s=Kf(e.changedTouches,ae(this.Of));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Of=null,this.Vf=su(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const n=this.Ef(e,s);if(this.Wf(n,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(an(s),this.cf);i<30&&!this.wf&&this.Wf(n,this.Hf.jf),this.$f()}else this.wf||(this.Wf(n,this.Hf.uv),this.Hf.uv&&no(e));this._f===0&&no(e),e.touches.length===0&&this.ff&&(this.ff=!1,no(e))}If(e){if(e.button!==0)return;const s=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),vw()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(s,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:n}=this.Ff(an(e),this.af);n<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}else this.bf||this.Uf(s,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const s=e.changedTouches[0];this.Of=s.identifier,this.Vf=su(e);const n=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=an(s),this.yf&&(this.yf(),this.yf=null);{const a=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{n.removeEventListener("touchmove",a),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",a,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,s);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=an(s))}mv(e){if(e.button!==0)return;const s=this.Zf.ownerDocument.documentElement;vw()&&s.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=an(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),a=this.If.bind(this);this.kf=()=>{s.removeEventListener("mousemove",i),s.removeEventListener("mouseup",a)},s.addEventListener("mousemove",i),s.addEventListener("mouseup",a)}if(this.Df=!0,this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=an(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,s=n=>{this.Hf.wv&&(n.composed&&this.Zf.contains(n.composedPath()[0])||n.target&&this.Zf.contains(n.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",s)},this.gf=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}Vf()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),uL(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const s=bw(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,s),no(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const s=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,st:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Tf=bw(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const s=this.Ef(e);this.Uf(s,this.Hf.Pv),this.Bf=!Vf()}vv(e){const s=Kf(e.touches,ae(this.Of));if(s===null)return;const n=this.Ef(e,s);this.Wf(n,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:su(e)<this.Vf+500}Wf(e,s){s&&s.call(this.Hf,e)}Uf(e,s){s&&s.call(this.Hf,e)}Ef(e,s){const n=s||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:n.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&no(e)}}}}function bw(t,e){const s=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(s*s+n*n)}function no(t){t.cancelable&&t.preventDefault()}function an(t){return{nt:t.pageX,st:t.pageY}}function su(t){return t.timeStamp||performance.now()}function Kf(t,e){for(let s=0;s<t.length;++s)if(t[s].identifier===e)return t[s];return null}function ru(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function hL(t,e,s){for(const n of t){const i=n.gt();if(i!==null&&i.wr){const a=i.wr(e,s);if(a!==null)return{Bv:n,Iv:a}}}return null}function Gf(t,e){return s=>{var n,i,a,o;return((i=(n=s.Dt())===null||n===void 0?void 0:n.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(a=s.da)===null||a===void 0?void 0:a.call(s,t))!==null&&o!==void 0?o:[]}}function ww(t,e,s,n){if(!t.length)return;let i=0;const a=s/2,o=t[0].At(n,!0);let l=e===1?a-(t[0].Vi()-o/2):t[0].Vi()-o/2-a;l=Math.max(0,l);for(let c=1;c<t.length;c++){const d=t[c],u=t[c-1],h=u.At(n,!1),m=d.Vi(),x=u.Vi();if(e===1?m>x-h:m<x+h){const y=x-h*e;d.Oi(y);const g=y-e*h/2;if((e===1?g<0:g>s)&&l>0){const v=e===1?-1-g:g-s,b=Math.min(v,l);for(let p=i;p<t.length;p++)t[p].Oi(t[p].Vi()+e*b);l-=b}}else i=c,l=e===1?x-h-m:m-(x+h)}}class jw{constructor(e,s,n,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Hc(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=s,this.ko=s.layout,this.Oc=n,this.qv=i==="left",this.Yv=Gf("normal",i),this.Zv=Gf("top",i),this.Xv=Gf("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=$a(this.Kv,Ot({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const a=this.Gv.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Jv=$a(this.Kv,Ot({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Wx(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Ba(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Ba(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const s=this.ap(),n=ae(this.Gv.canvasElement.getContext("2d"));n.save();const i=this.Li.Ha();n.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(n,i[0].so),this.Fv.xi(n,i[i.length-1].so)));const a=this.up();for(let d=a.length;d--;){const u=this.Fv.xi(n,a[d].Kt());u>e&&(e=u)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(l=this.cn.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const d=this.Li.pn(1,o),u=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(n,this.Li.Fi(Math.floor(Math.min(d,u))+.11111111111111,o)),this.Fv.xi(n,this.Li.Fi(Math.ceil(Math.max(d,u))-.11111111111111,o)))}var l;n.restore();const c=e||34;return Pg(Math.ceil(s.C+s.T+s.A+s.I+5+c))}cp(e){this.Ev!==null&&Ca(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return ae(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,ae(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const n=Fa(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(n,this.Xv),this.wp(n),this.tn.bp(n,this.Yv),this.gp(n))}this.Jv.applySuggestedBitmapSize();const s=Fa(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:i})=>{n.clearRect(0,0,i.width,i.height)}),this.Mp(s),this.tn.bp(s,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,s,n){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,n)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!0,s.V_(n,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),n=this.tn.fp(),i=this.Li;s.O_(n,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),s=this.tn.fp(),n=this.Li;this.Nv&&(this.Nv=!1,e.B_(s,n))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!1,s.B_(n,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],s=this.Li===null?void 0:this.Li;return(n=>{for(let i=0;i<n.length;++i){const a=n[i].Rn(this.tn.fp(),s);for(let o=0;o<a.length;o++)e.push(a[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:s}){const{width:n,height:i}=s,a=this.tn.fp().$t(),o=a.q(),l=a.bd();o===l?Cm(e,0,0,n,i,o):cT(e,0,0,n,i,o,l)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:n}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*n));let a;a=this.qv?s.width-i:0,e.fillRect(a,0,i,s.height)}wp(e){if(this.Ev===null||this.Li===null)return;const s=this.Li.Ha(),n=this.Li.W(),i=this.ap(),a=this.qv?this.Ev.width-i.T:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:c})=>{o.fillStyle=n.borderColor;const d=Math.max(1,Math.floor(c)),u=Math.floor(.5*c),h=Math.round(i.T*l);o.beginPath();for(const m of s)o.rect(Math.floor(a*l),Math.round(m.Ea*c)-u,h,d);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this._p(),o.fillStyle=(l=n.textColor)!==null&&l!==void 0?l:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const c=this.qv?Math.round(a-i.A):Math.round(a+i.T+i.A),d=s.map(u=>this.Fv.Mi(o,u.so));for(let u=s.length;u--;){const h=s[u];o.fillText(h.so,c,h.Ea+d[u])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],s=this.Li.Uo().slice(),n=this.tn.fp(),i=this.ap();this.Li===n.pr()&&this.tn.fp().Uo().forEach(o=>{n.vr(o)&&s.push(o)});const a=this.Li;s.forEach(o=>{o.Rn(n,a).forEach(l=>{l.Oi(null),l.Bi()&&e.push(l)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,s){if(this.Ev===null)return;const n=this.Ev.height/2,i=e.filter(o=>o.ki()<=n),a=e.filter(o=>o.ki()>n);i.sort((o,l)=>l.ki()-o.ki()),a.sort((o,l)=>o.ki()-l.ki());for(const o of e){const l=Math.floor(o.At(s)/2),c=o.ki();c>-l&&c<l&&o.Oi(l),c>this.Ev.height-l&&c<this.Ev.height+l&&o.Oi(this.Ev.height-l)}ww(i,1,this.Ev.height,s),ww(a,-1,this.Ev.height,s)}gp(e){if(this.Ev===null)return;const s=this.up(),n=this.ap(),i=this.qv?"right":"left";s.forEach(a=>{a.Ai()&&a.gt(ae(this.Li)).X(e,n,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const s=this.tn.$v().$t(),n=[],i=this.tn.fp(),a=s.Zc().Rn(i,this.Li);a.length&&n.push(a);const o=this.ap(),l=this.qv?"right":"left";n.forEach(c=>{c.forEach(d=>{d.gt(ae(this.Li)).X(e,o,this.Fv,l)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return nl(this.ko.fontSize,this.ko.fontFamily)}}function mL(t,e){var s,n;return(n=(s=t.ua)===null||s===void 0?void 0:s.call(t,e))!==null&&n!==void 0?n:[]}function nu(t,e){var s,n;return(n=(s=t.Pn)===null||s===void 0?void 0:s.call(t,e))!==null&&n!==void 0?n:[]}function fL(t,e){var s,n;return(n=(s=t.Ji)===null||s===void 0?void 0:s.call(t,e))!==null&&n!==void 0?n:[]}function pL(t,e){var s,n;return(n=(s=t.aa)===null||s===void 0?void 0:s.call(t,e))!==null&&n!==void 0?n:[]}class Hx{constructor(e,s){this.Ev=Ot({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Qt,this.Op=new Qt,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=s,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(n),this.Gv=$a(n,Ot({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=$a(n,Ot({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const a=this.Jv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Wx(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Ba(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Ba(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return ae(this.Np)}qp(e){var s,n;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Hx.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(s=this.Pp)!==null&&s!==void 0?s:new dL(this.Wp,this.Qd),this.Pp.bt()):((n=this.Pp)===null||n===void 0||n.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(ae(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(ae(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const s=e.localX,n=e.localY;this.Gp(s,n,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var s;if(!this.Np)return;this.Kp();const n=e.localX,i=e.localY;this.Gp(n,i,e);const a=this.wr(n,i);this.Qd.Qp((s=a==null?void 0:a.Lv)!==null&&s!==void 0?s:null),this.$i().jc(a&&{Hc:a.Hc,Iv:a.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const s={x:e.localX,y:e.localY};this.rm(s,s,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,s){if(!this.Qd.W().handleScale.pinch)return;const n=5*(s-this.Bp);this.Bp=s,this.$i().Qc(e.nt,n)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const s=this.$i().Zc();this.Ip!==null&&s.yt()&&(this.Lp={x:s.Yt(),y:s.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const s=e.localX,n=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=ae(this.Lp),a=i.x+(s-this.Ip.x),o=i.y+(n-this.Ip.y);this.Gp(a,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,s){const n=this.Np;return n===null?null:function(i,a,o){const l=i.Uo(),c=function(d,u,h){var m,x;let y,g;for(const p of d){const w=(x=(m=p.va)===null||m===void 0?void 0:m.call(p,u,h))!==null&&x!==void 0?x:[];for(const j of w)v=j.zOrder,(!(b=y==null?void 0:y.zOrder)||v==="top"&&b!=="top"||v==="normal"&&b==="bottom")&&(y=j,g=p)}var v,b;return y&&g?{zv:y,Hc:g}:null}(l,a,o);if((c==null?void 0:c.zv.zOrder)==="top")return ru(c);for(const d of l){if(c&&c.Hc===d&&c.zv.zOrder!=="bottom"&&!c.zv.isBackground)return ru(c);const u=hL(d.Pn(i),a,o);if(u!==null)return{Hc:d,Bv:u.Bv,Iv:u.Iv};if(c&&c.Hc===d&&c.zv.zOrder!=="bottom"&&c.zv.isBackground)return ru(c)}return c!=null&&c.zv?ru(c):null}(n,e,s)}_m(e,s){ae(s==="left"?this.Cp:this.Tp).cp(Ot({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Ca(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=ae(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const s of e.Ba())if(e.vr(s)){const n=s.Dt();n!==null&&e.P_(n),s.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,s,n){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,n)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const n=Fa(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(n,mL),this.vm(n),this.pm(n),this.fm(n,nu),this.fm(n,fL)))}this.Jv.applySuggestedBitmapSize();const s=Fa(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:i})=>{n.clearRect(0,0,i.width,i.height)}),this.bm(s),this.fm(s,pL))}wm(){return this.Cp}gm(){return this.Tp}bp(e,s){this.fm(e,s)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,s){const n=s.localX,i=s.localY;e.M()&&e.m(this.$i().St().Nu(n),{x:n,y:i},s)}mp({context:e,bitmapSize:s}){const{width:n,height:i}=s,a=this.$i(),o=a.q(),l=a.bd();o===l?Cm(e,0,0,n,i,l):cT(e,0,0,n,i,o,l)}vm(e){const s=ae(this.Np).j_().qh().gt();s!==null&&s.X(e,!1)}pm(e){const s=this.$i().Yc();this.Mm(e,nu,_g,s),this.Mm(e,nu,Du,s)}bm(e){this.Mm(e,nu,Du,this.$i().Zc())}fm(e,s){const n=ae(this.Np).Uo();for(const i of n)this.Mm(e,s,_g,i);for(const i of n)this.Mm(e,s,Du,i)}Mm(e,s,n,i){const a=ae(this.Np),o=a.$t().Wc(),l=o!==null&&o.Hc===i,c=o!==null&&l&&o.Iv!==void 0?o.Iv.Mr:void 0;Mg(s,d=>n(d,e,l,c),i,a)}Zp(){if(this.Np===null)return;const e=this.Qd,s=this.Np.R_().W().visible,n=this.Np.D_().W().visible;s||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),n||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();s&&this.Cp===null&&(this.Cp=new jw(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),n&&this.Tp===null&&(this.Tp=new jw(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,s,n){this.$i().ld(this.Sm(e),this.km(s),n,ae(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,s,n){this.Ip=e,this.zp=!1,this.Gp(s.x,s.y,n);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const s=this.$i(),n=this.fp();if(s.z_(n,n.vn()),this.Rp=null,this.Dp=!1,s.ed(),this.Ep!==null){const i=performance.now(),a=s.St();this.Ep.Vr(a.Hu(),i),this.Ep.Qu(i)||s.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ae(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const s=this.$i(),n=s.St();if(n.Ni())return;const i=this.Qd.W(),a=i.handleScroll,o=i.kineticScroll;if((!a.pressedMouseMove||e.Dv)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Dv))return;const l=this.Np.vn(),c=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:c,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const d=n.le();this.Ep=new cL(.2/d,7/d,.997,15/d),this.Ep.Yd(n.Hu(),this.Rp.Od)}else this.Ep=null;l.Ni()||s.A_(this.Np,l,e.localY),s.nd(e.localX),this.Dp=!0}this.Dp&&(l.Ni()||s.I_(this.Np,l,e.localY),s.sd(e.localX),this.Ep!==null&&this.Ep.Yd(n.Hu(),c))}}class Nw{constructor(e,s,n,i,a){this.ft=!0,this.Ev=Ot({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=n.ud,this.cn=s,this.Tm=i,this.Pm=a,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=$a(this.Kv,Ot({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Ba(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Ca(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const s=Fa(this.Gv);s!==null&&s.useBitmapCoordinateSpace(n=>{this.mp(n),this.Ie(n)})}xp(){return this.Gv.bitmapSize}Sp(e,s,n){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,n)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:n,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const a=Math.floor(this.Oc.W().C*n),o=Math.floor(this.Oc.W().C*i),l=this.qv?s.width-a:0;e.fillRect(l,0,a,o)}mp({context:e,bitmapSize:s}){Cm(e,0,0,s.width,s.height,this.Pm())}}function Kx(t){return e=>{var s,n;return(n=(s=e.fa)===null||s===void 0?void 0:s.call(e,t))!==null&&n!==void 0?n:[]}}const gL=Kx("normal"),xL=Kx("top"),yL=Kx("bottom");class vL{constructor(e,s){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=Ot({width:0,height:0}),this.Om=new Qt,this.Fv=new Hc(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=s,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=$a(this.Im,Ot({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=$a(this.Im,Ot({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Wx(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Ba(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Ba(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,s,n){Ca(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(Ot({width:s,height:e.height})),this.Dm!==null&&this.Dm.cp(Ot({width:n,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,s,n){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,n)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const n=Fa(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(n,yL)}),this.wp(n),this.$m(n,gL)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const s=Fa(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:n,bitmapSize:i})=>{n.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],s),this.$m(s,xL))}$m(e,s){const n=this.Qd.$t().wt();for(const i of n)Mg(s,a=>_g(a,e,!1,void 0),i,void 0);for(const i of n)Mg(s,a=>Du(a,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:s}){Cm(e,0,0,s.width,s.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:s,verticalPixelRatio:n}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*n));e.fillRect(0,0,s.width,i)}}wp(e){const s=this.Qd.$t().St(),n=s.Ha();if(!n||n.length===0)return;const i=this.q_.maxTickMarkWeight(n),a=this.jm(),o=s.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:d})=>{l.strokeStyle=this.qm(),l.fillStyle=this.qm();const u=Math.max(1,Math.floor(c)),h=Math.floor(.5*c);l.beginPath();const m=Math.round(a.T*d);for(let x=n.length;x--;){const y=Math.round(n[x].coord*c);l.rect(y-h,0,u,m)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=a.C+a.T+a.L+a.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this._p();for(const d of n)if(d.weight<i){const u=d.needAlignCoordinate?this.Ym(l,d.coord,d.label):d.coord;l.fillText(d.label,u,c)}this.Qd.W().timeScale.allowBoldLabels&&(l.font=this.Zm());for(const d of n)if(d.weight>=i){const u=d.needAlignCoordinate?this.Ym(l,d.coord,d.label):d.coord;l.fillText(d.label,u,c)}})}Ym(e,s,n){const i=this.Fv.xi(e,n),a=i/2,o=Math.floor(s-a)+.5;return o<0?s+=Math.abs(0-o):o+i>this.Ev.width&&(s-=Math.abs(this.Ev.width-(o+i))),s}Um(e,s){const n=this.jm();for(const i of e)for(const a of i.Qi())a.gt().X(s,n)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return nl(this.j(),this.cn.fontFamily)}Zm(){return nl(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Hc,Hm:0});const e=this.k,s=this._p();if(e.R!==s){const n=this.j();e.P=n,e.R=s,e.L=3*n/12,e.B=3*n/12,e.ji=9*n/12,e.N=0,e.Hm=4*n/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),s=e.W();s.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),s.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const n={ud:this.Qd.$t().ud()},i=()=>s.leftPriceScale.borderVisible&&e.St().W().borderVisible,a=()=>e.bd();s.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Nw("left",s,n,i,a),this.Bm.appendChild(this.Rm.lp())),s.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Nw("right",s,n,i,a),this.Am.appendChild(this.Dm.lp()))}}const bL=!!il&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!il&&(!((qf=navigator==null?void 0:navigator.userAgentData)===null||qf===void 0)&&qf.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var qf;class wL{constructor(e,s,n){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Qt,this.Op=new Qt,this.Rc=new Qt,this.ib=null,this.nb=null,this.Jd=e,this.cn=s,this.q_=n,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Qf(this.cn)&&this.hb(!0),this.$i=new nL(this.Vc.bind(this),this.cn,n),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new vL(this,this.q_),this.sb.appendChild(this.ab.lp());const a=s.autoSize&&this.ob();let o=this.cn.width,l=this.cn.height;if(a||o===0||l===0){const c=e.getBoundingClientRect();o=o||c.width,l=l||c.height}this._b(o,l),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],ae(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,s,n=!1){if(this.ho===s&&this.__===e)return;const i=function(l){const c=Math.floor(l.width),d=Math.floor(l.height);return Ot({width:c-c%2,height:d-d%2})}(Ot({width:e,height:s}));this.ho=i.height,this.__=i.width;const a=this.ho+"px",o=this.__+"px";ae(this.Xd).style.height=a,ae(this.Xd).style.width=o,this.sb.style.height=a,this.sb.style.width=o,n?this.mb(gs.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=gs.es());for(let s=0;s<this.Xm.length;s++)this.Xm[s].vp(e.Hn(s).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const s=Qf(this.cn);this.$i.$h(e);const n=Qf(this.cn);n!==s&&this.hb(n),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),s=document.createElement("canvas");s.width=e.width,s.height=e.height;const n=ae(s.getContext("2d"));return this.gb(n),s}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:ae(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Rs(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let s=0,n=0;const i=this.Xm[0],a=(l,c)=>{let d=0;for(let u=0;u<this.Xm.length;u++){const h=this.Xm[u],m=ae(l==="left"?h.wm():h.gm()),x=m.xp();e!==null&&m.Sp(e,c,d),d+=x.height}};this.xb()&&(a("left",0),s+=ae(i.wm()).xp().width);for(let l=0;l<this.Xm.length;l++){const c=this.Xm[l],d=c.xp();e!==null&&c.Sp(e,s,n),n+=d.height}s+=i.xp().width,this.Sb()&&(a("right",s),s+=ae(i.gm()).xp().width);const o=(l,c,d)=>{ae(l==="left"?this.ab.Lm():this.ab.Em()).Sp(ae(e),c,d)};if(this.cn.timeScale.visible){const l=this.ab.xp();if(e!==null){let c=0;this.xb()&&(o("left",c,n),c=ae(i.wm()).xp().width),this.ab.Sp(e,c,n),c+=l.width,this.Sb()&&o("right",c,n)}n+=l.height}return Ot({width:s,height:n})}Pb(){let e=0,s=0,n=0;for(const y of this.Xm)this.xb()&&(s=Math.max(s,ae(y.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(n=Math.max(n,ae(y.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=y.M_();s=Pg(s),n=Pg(n);const i=this.__,a=this.ho,o=Math.max(i-s-n,0),l=this.cn.timeScale.visible;let c=l?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var d;c=(d=c)+d%2;const u=0+c,h=a<u?0:a-u,m=h/e;let x=0;for(let y=0;y<this.Xm.length;++y){const g=this.Xm[y];g.qp(this.$i.qc()[y]);let v=0,b=0;b=y===this.Xm.length-1?h-x:Math.round(g.M_()*m),v=Math.max(b,2),x+=v,g.cp(Ot({width:o,height:v})),this.xb()&&g._m(s,"left"),this.Sb()&&g._m(n,"right"),g.fp()&&this.$i.Kc(g.fp(),v)}this.ab.Fm(Ot({width:l?o:0,height:c}),l?s:0,l?n:0),this.$i.S_(o),this.Gm!==s&&(this.Gm=s),this.Jm!==n&&(this.Jm=n)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return bL?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const s=this.Rb(e),n=s*e.deltaX/100,i=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const a=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,a)}n!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*n)}mb(e,s){var n;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,s),this.ab.bt(),this.Xm.forEach(a=>{a.Xp()}),((n=this.Qm)===null||n===void 0?void 0:n.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,s),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,s){for(const n of e.Qn())this.ns(n,s)}Vb(e){const s=this.$i.qc();for(let n=0;n<s.length;n++)e.Hn(n).Wn&&s[n].N_()}ns(e,s){const n=this.$i.St();switch(e.qn){case 0:n.hc();break;case 1:n.lc(e.Vt);break;case 2:n.Gn(e.Vt);break;case 3:n.Jn(e.Vt);break;case 4:n.qu();break;case 5:e.Vt.Qu(s)||n.Jn(e.Vt.tc(s))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(s=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const n=this.Qm;this.Qm=null,this.mb(n,s);for(const i of n.Qn())if(i.qn===5&&!i.Vt.Qu(s)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),s=e.length,n=this.Xm.length;for(let i=s;i<n;i++){const a=Rs(this.Xm.pop());this.sb.removeChild(a.lp()),a.lm().p(this),a.am().p(this),a.S()}for(let i=n;i<s;i++){const a=new Hx(this,e[i]);a.lm().l(this.Bb.bind(this),this),a.am().l(this.Ab.bind(this),this),this.Xm.push(a),this.sb.insertBefore(a.lp(),this.ab.lp())}for(let i=0;i<s;i++){const a=e[i],o=this.Xm[i];o.fp()!==a?o.qp(a):o.Up()}this.cb(),this.Pb()}Ib(e,s,n){var i;const a=new Map;e!==null&&this.$i.wt().forEach(u=>{const h=u.In().ll(e);h!==null&&a.set(u,h)});let o;if(e!==null){const u=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;u!==void 0&&(o=u)}const l=this.$t().Wc(),c=l!==null&&l.Hc instanceof zx?l.Hc:void 0,d=l!==null&&l.Iv!==void 0?l.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:s??void 0,Eb:c,Nb:a,Fb:d,Wb:n??void 0}}Bb(e,s,n){this.Vp.m(()=>this.Ib(e,s,n))}Ab(e,s,n){this.Op.m(()=>this.Ib(e,s,n))}lb(e,s,n){this.Rc.m(()=>this.Ib(e,s,n))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const s=e.find(n=>n.target===this.Jd);s&&this._b(s.contentRect.width,s.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function Qf(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function jL(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function kT(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]])}return s}function Sw(t,e,s,n){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:n};return s.color!==void 0&&(a.V=s.color),a}function NL(t,e,s,n){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:n};return s.lineColor!==void 0&&(a.lt=s.lineColor),s.topColor!==void 0&&(a.Ps=s.topColor),s.bottomColor!==void 0&&(a.Rs=s.bottomColor),a}function SL(t,e,s,n){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:n};return s.topLineColor!==void 0&&(a.Re=s.topLineColor),s.bottomLineColor!==void 0&&(a.De=s.bottomLineColor),s.topFillColor1!==void 0&&(a.ke=s.topFillColor1),s.topFillColor2!==void 0&&(a.ye=s.topFillColor2),s.bottomFillColor1!==void 0&&(a.Ce=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(a.Te=s.bottomFillColor2),a}function CL(t,e,s,n){const i={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:n};return s.color!==void 0&&(i.V=s.color),i}function TL(t,e,s,n){const i={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:n};return s.color!==void 0&&(i.V=s.color),s.borderColor!==void 0&&(i.Ot=s.borderColor),s.wickColor!==void 0&&(i.Xh=s.wickColor),i}function EL(t,e,s,n,i){const a=Rs(i)(s),o=Math.max(...a),l=Math.min(...a),c=a[a.length-1],d=[c,o,l,c],u=s,{time:h,color:m}=u;return{ee:e,ot:t,Vt:d,zb:n,$e:kT(u,["time","color"]),V:m}}function iu(t){return t.Vt!==void 0}function Cw(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function ta(t){return(e,s,n,i,a,o)=>function(l,c){return c?c(l):(d=l).open===void 0&&d.value===void 0;var d}(n,o)?Cw({ot:e,ee:s,zb:i},n):Cw(t(e,s,n,i,a),n)}function Tw(t){return{Candlestick:ta(TL),Bar:ta(CL),Area:ta(NL),Baseline:ta(SL),Histogram:ta(Sw),Line:ta(Sw),Custom:ta(EL)}[t]}function Ew(t){return{ee:0,Hb:new Map,la:t}}function kw(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function Pw(t){let e;return t.forEach(s=>{e===void 0&&(e=s.zb)}),Rs(e)}class kL{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,s){let n=this.qb.size!==0,i=!1;const a=this.Yb.get(e);if(a!==void 0)if(this.Yb.size===1)n=!1,i=!0,this.qb.clear();else for(const c of this.Xb)c.pointData.Hb.delete(e)&&(i=!0);let o=[];if(s.length!==0){const c=s.map(x=>x.time),d=this.q_.createConverterToInternalObj(s),u=Tw(e.Qh()),h=e.Ca(),m=e.Ta();o=s.map((x,y)=>{const g=d(x.time),v=this.q_.key(g);let b=this.qb.get(v);b===void 0&&(b=Ew(g),this.qb.set(v,b),i=!0);const p=u(g,b.ee,x,c[y],h,m);return b.Hb.set(e,p),p})}n&&this.Gb(),this.Jb(e,o);let l=-1;if(i){const c=[];this.qb.forEach(d=>{c.push({timeWeight:0,time:d.la,pointData:d,originalTime:Pw(d.Hb)})}),c.sort((d,u)=>this.q_.key(d.time)-this.q_.key(u.time)),l=this.Qb(c)}return this.tw(e,l,function(c,d,u){const h=kw(c,u),m=kw(d,u);if(h!==void 0&&m!==void 0)return{ta:h.Ub>=m.Ub&&h.$b>=m.$b}}(this.Yb.get(e),a,this.q_))}vd(e){return this.Kb(e,[])}iw(e,s){const n=s;(function(g){g.zb===void 0&&(g.zb=g.time)})(n),this.q_.preprocessData(s);const i=this.q_.createConverterToInternalObj([s])(s.time),a=this.Zb.get(e);if(a!==void 0&&this.q_.key(i)<this.q_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const l=o===void 0;o===void 0&&(o=Ew(i),this.qb.set(this.q_.key(i),o));const c=Tw(e.Qh()),d=e.Ca(),u=e.Ta(),h=c(i,o.ee,s,n.zb,d,u);o.Hb.set(e,h),this.nw(e,h);const m={ta:iu(h)};if(!l)return this.tw(e,-1,m);const x={timeWeight:0,time:o.la,pointData:o,originalTime:Pw(o.Hb)},y=pd(this.Xb,this.q_.key(x.time),(g,v)=>this.q_.key(g.time)<v);this.Xb.splice(y,0,x);for(let g=y;g<this.Xb.length;++g)Xf(this.Xb[g].pointData,g);return this.q_.fillWeightsForPoints(this.Xb,y),this.tw(e,y,m)}nw(e,s){let n=this.Yb.get(e);n===void 0&&(n=[],this.Yb.set(e,n));const i=n.length!==0?n[n.length-1]:null;i===null||this.q_.key(s.ot)>this.q_.key(i.ot)?iu(s)&&n.push(s):iu(s)?n[n.length-1]=s:n.splice(-1,1),this.Zb.set(e,s.ot)}Jb(e,s){s.length!==0?(this.Yb.set(e,s.filter(iu)),this.Zb.set(e,s[s.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let s=-1;for(let n=0;n<this.Xb.length&&n<e.length;++n){const i=this.Xb[n],a=e[n];if(this.q_.key(i.time)!==this.q_.key(a.time)){s=n;break}a.timeWeight=i.timeWeight,Xf(a.pointData,n)}if(s===-1&&this.Xb.length!==e.length&&(s=Math.min(this.Xb.length,e.length)),s===-1)return-1;for(let n=s;n<e.length;++n)Xf(e[n].pointData,n);return this.q_.fillWeightsForPoints(e,s),this.Xb=e,s}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].ee))}),e}tw(e,s,n){const i={ew:new Map,St:{Eu:this.sw()}};if(s!==-1)this.Yb.forEach((a,o)=>{i.ew.set(o,{$e:a,rw:o===e?n:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:n}),i.St.hw=this.Xb,i.St.lw=s;else{const a=this.Yb.get(e);i.ew.set(e,{$e:a||[],rw:n})}return i}}function Xf(t,e){t.ee=e,t.Hb.forEach(s=>{s.ee=e})}function Gx(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function _w(t){const e=Gx(t);return t.V!==void 0&&(e.color=t.V),e}function PL(t){const e=Gx(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function _L(t){const e=Gx(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function PT(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function ML(t){const e=PT(t);return t.V!==void 0&&(e.color=t.V),e}function DL(t){const e=PT(t),{V:s,Ot:n,Xh:i}=t;return s!==void 0&&(e.color=s),n!==void 0&&(e.borderColor=n),i!==void 0&&(e.wickColor=i),e}function Dg(t){return{Area:PL,Line:_w,Baseline:_L,Histogram:_w,Bar:ML,Candlestick:DL,Custom:AL}[t]}function AL(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const RL={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},OL={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},IL={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Ix,attributionLogo:!0},Yf={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},LL={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},FL={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Ix,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Mw(){return{width:0,height:0,autoSize:!1,layout:IL,crosshair:RL,grid:OL,overlayPriceScales:Object.assign({},Yf),leftPriceScale:Object.assign(Object.assign({},Yf),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Yf),{visible:!0}),timeScale:LL,watermark:FL,localization:{locale:il?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class UL{constructor(e,s){this.aw=e,this.ow=s}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Em(this.ow)?this.aw.Mb(this.ow):0}Li(){return ae(this.aw.$t().Uc(this.ow)).Dt}}function Dw(t,e,s){const n=kT(t,["time","originalTime"]),i=Object.assign({time:e},n);return s!==void 0&&(i.originalTime=s),i}const $L={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class BL{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class zL{constructor(e,s,n,i,a){this.uw=new Qt,this.Es=e,this.cw=s,this.dw=n,this.q_=a,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().Rt(e,s.Vt)}coordinateToPrice(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().pn(e,s.Vt)}barsInLogicalRange(e){if(e===null)return null;const s=new Do(new mc(e.from,e.to)).lu(),n=this.Es.In();if(n.Ni())return null;const i=n.ll(s.Os(),1),a=n.ll(s.ui(),-1),o=ae(n.el()),l=ae(n.An());if(i!==null&&a!==null&&i.ee>a.ee)return{barsBefore:e.from-o,barsAfter:l-e.to};const c={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:a===null||a.ee===l?l-e.to:l-a.ee};return i!==null&&a!==null&&(c.from=i.zb,c.to=a.zb),c}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,s){const n=this.Es.In().ll(e,s);return n===null?null:Dg(this.seriesType())(n)}data(){const e=Dg(this.seriesType());return this.Es.In().ne().map(s=>e(s))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const s=e.map(n=>Dw(n,this.q_.convertHorzItemToInternal(n.time),n.time));this.Es.na(s)}markers(){return this.Es.sa().map(e=>Dw(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Bn(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const s=Zr(Bn($L),e),n=this.Es.ea(s);return new BL(n)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class VL{constructor(e,s,n){this.ww=new Qt,this.mu=new Qt,this.Om=new Qt,this.$i=e,this.yl=e.St(),this.ab=s,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=n}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,s){s?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},n=this.yl.Iu(s);this.$i.pd(n)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Wi(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const s=this.$i.St();return s.Ni()?null:s.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const s=this.q_.convertHorzItemToInternal(e),n=this.yl.Va(s,!1);return n===null?null:this.yl.It(n)}coordinateToTime(e){const s=this.$i.St(),n=s.Nu(e),i=s.Ui(n);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Bn(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function WL(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(s){if(s>=1)return 0;let n=0;for(;n<8;n++){const i=Math.round(s);if(Math.abs(i-s)<1e-8)return n;s*=10}return n}(e.minMove))}function Aw(t){return function(e){if(Xd(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:i}=e.handleScale;Xd(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),Xd(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const s=e.handleScroll;Xd(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(t),t}class HL{constructor(e,s,n){this.Sw=new Map,this.kw=new Map,this.yw=new Qt,this.Cw=new Qt,this.Tw=new Qt,this.Pw=new kL(s);const i=n===void 0?Bn(Mw()):Zr(Bn(Mw()),Aw(n));this.q_=s,this.aw=new wL(e,i,s),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const a=this.aw.$t();this.Dw=new VL(a,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,s,n){this.autoSizeActive()||this.aw._b(e,s,n)}addCustomSeries(e,s){const n=wo(e),i=Object.assign(Object.assign({},nT),n.defaultOptions());return this.Vw("Custom",i,s,n)}addAreaSeries(e){return this.Vw("Area",k6,e)}addBaselineSeries(e){return this.Vw("Baseline",P6,e)}addBarSeries(e){return this.Vw("Bar",T6,e)}addCandlestickSeries(e={}){return function(s){s.borderColor!==void 0&&(s.borderUpColor=s.borderColor,s.borderDownColor=s.borderColor),s.wickColor!==void 0&&(s.wickUpColor=s.wickColor,s.wickDownColor=s.wickColor)}(e),this.Vw("Candlestick",C6,e)}addHistogramSeries(e){return this.Vw("Histogram",_6,e)}addLineSeries(e){return this.Vw("Line",E6,e)}removeSeries(e){const s=Rs(this.Sw.get(e)),n=this.Pw.vd(s);this.aw.$t().vd(s),this.Ow(n),this.Sw.delete(e),this.kw.delete(s)}pw(e,s){this.Ow(this.Pw.Kb(e,s))}bw(e,s){this.Ow(this.Pw.iw(e,s))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new UL(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(Aw(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,s,n){const i=this.Sw.get(n);if(i===void 0)return;const a=this.aw.$t().dr(i);a!==null&&this.aw.$t().ad(e,s,a)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,s,n={},i){WL(n.priceFormat);const a=Zr(Bn(iT),Bn(s),n),o=this.aw.$t().dd(e,a,i),l=new zL(o,this,this,this,this.q_);return this.Sw.set(l,o),this.kw.set(o,l),l}Ow(e){const s=this.aw.$t();s._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((n,i)=>i.J(n.$e,n.rw)),s.Wu()}Bw(e){return Rs(this.kw.get(e))}Rw(e){const s=new Map;e.Nb.forEach((i,a)=>{const o=a.Qh(),l=Dg(o)(i);if(o!=="Custom")Wi(jL(l));else{const c=a.Ta();Wi(!c||c(l)===!1)}s.set(this.Bw(a),l)});const n=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:n,hoveredObjectId:e.Fb,seriesData:s,sourceEvent:e.Wb}}}function KL(t,e,s){let n;if(fd(t)){const a=document.getElementById(t);Wi(a!==null,`Cannot find element in DOM with id=${t}`),n=a}else n=t;const i=new HL(n,e,s);return e.setOptions(i.options()),i}function GL(t,e){return KL(t,new yw,yw.Id(e))}Object.assign(Object.assign({},iT),nT);const _T=f.createContext(void 0);function qx({children:t,symbol:e="BTCUSDT",updateInterval:s=2e3}){const[n,i]=f.useState(null),[a,o]=f.useState(!0),[l,c]=f.useState(null),d=f.useCallback(async()=>{try{console.log("💰 [PriceContext] Fetching price for:",e);const h=await fetch(`/api/binance/price?symbol=${e}`);if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);const m=await h.json();if(m.success&&m.data)i(m.data),c(null),console.log("✅ [PriceContext] Price updated:",m.data.price);else throw new Error("Invalid response format")}catch(h){const m=h instanceof Error?h.message:"Unknown error";console.error("❌ [PriceContext] Error fetching price:",m),c(m)}finally{o(!1)}},[e]);f.useEffect(()=>{d()},[d]),f.useEffect(()=>{const h=setInterval(()=>{d()},s);return()=>clearInterval(h)},[d,s]);const u={priceData:n,isLoading:a,error:l,refreshPrice:d};return r.jsx(_T.Provider,{value:u,children:t})}function Sl(){const t=f.useContext(_T);if(t===void 0)throw new Error("usePrice must be used within a PriceProvider");return t}function Qx(){const{priceData:t}=Sl();if(!t)return{changeText:"+0.00%",changeColor:"#10B981",isPositive:!0};const e=t.priceChangePercent24h>=0;return{changeText:`${e?"+":""}${t.priceChangePercent24h.toFixed(2)}%`,changeColor:e?"#10B981":"#EF4444",isPositive:e,changeValue:t.priceChange24h,changePercent:t.priceChangePercent24h}}function Xx(){const{priceData:t}=Sl();return t?{high:t.high24h,low:t.low24h,volume:t.volume24h,quoteVolume:t.quoteVolume24h,openPrice:t.openPrice}:{high:0,low:0,volume:0,quoteVolume:0,openPrice:0}}function qL({symbol:t="BTCUSDT",interval:e="1m",height:s=400,containerId:n="lightweight_chart"}){const i=f.useRef(null),a=f.useRef(null),o=f.useRef(null),[l,c]=f.useState(!0),[d,u]=f.useState(null),{priceData:h}=Sl();return f.useEffect(()=>{if(!i.current)return;console.log("📊 [LightweightChart] Initializing chart for",t,e);let m=400;if(typeof s=="number")m=s;else if(typeof s=="string")if(s.includes("%"))m=i.current.clientHeight||window.innerHeight*.8;else if(s.includes("calc(")||s.includes("vh")){const v=i.current.clientHeight;v>50?m=v:m=Math.max(400,window.innerHeight-150)}else m=parseInt(s)||400;const x=GL(i.current,{width:i.current.clientWidth,height:m,layout:{background:{color:"#10121E"},textColor:"#D1D5DB",fontSize:11},grid:{vertLines:{color:"#1F2937",visible:!0},horzLines:{color:"#1F2937",visible:!0}},crosshair:{mode:0,vertLine:{visible:!1,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},rightPriceScale:{borderColor:"#374151",width:45,scaleMargins:{top:.05,bottom:.05},minimumWidth:45,entireTextOnly:!1},timeScale:{borderColor:"#374151",timeVisible:!0,secondsVisible:!1},handleScroll:!1,handleScale:!1});a.current=x;const y=x.addCandlestickSeries({upColor:"#10B981",downColor:"#EF4444",borderUpColor:"#10B981",borderDownColor:"#EF4444",wickUpColor:"#10B981",wickDownColor:"#EF4444",priceLineVisible:!1,lastValueVisible:!1});o.current=y;try{const v=x.priceScale("right").getPriceLines();v&&v.length>0&&v.forEach(b=>{x.removePriceLine(b)})}catch{console.log("No price lines to remove")}const g=()=>{if(i.current&&a.current){let v=m;if(typeof s=="string"&&(s.includes("%")||s.includes("calc(")||s.includes("vh"))){const b=i.current.clientHeight;v=b>50?b:Math.max(400,window.innerHeight-150)}a.current.applyOptions({width:i.current.clientWidth,height:v})}};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g),a.current&&(a.current.remove(),a.current=null)}},[t,e,s]),f.useEffect(()=>{(async()=>{try{c(!0),u(null),console.log("📊 [LightweightChart] Fetching klines for",t,e);const x=await fetch(`/api/binance/klines?symbol=${t}&interval=${e}&limit=500`);if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const y=await x.json();if(!y.success||!y.data)throw new Error("Invalid response format");const g=y.data;console.log("✅ [LightweightChart] Received",g.length,"candles"),console.log("📊 [LightweightChart] Latest candle:",g[g.length-1]),o.current&&o.current.setData(g),a.current&&(a.current.timeScale().fitContent(),setTimeout(()=>{try{const v=a.current;if(v){const b=v.priceScale("right");b&&typeof b.removePriceLine=="function"&&console.log("🧹 Attempting to clean up any automatic price lines")}}catch{}},100)),c(!1)}catch(x){const y=x instanceof Error?x.message:"Unknown error";console.error("❌ [LightweightChart] Error fetching klines:",y),u(y),c(!1)}})()},[t,e]),f.useEffect(()=>{if(!h||!o.current)return;console.log("📊 [LightweightChart] Updating last candle with real-time price:",h.price);const m=Math.floor(Date.now()/1e3);o.current.update({time:m,open:h.openPrice,high:h.high24h,low:h.low24h,close:h.price})},[h]),r.jsxs("div",{className:"relative w-full",style:{height:typeof s=="number"?`${s}px`:s},children:[l&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:r.jsx("div",{className:"text-gray-400 text-sm",children:r.jsx("div",{className:"animate-pulse",children:"Loading chart data..."})})}),d&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:r.jsxs("div",{className:"text-red-400 text-sm",children:["Error loading chart: ",d]})}),r.jsx("div",{ref:i,id:n,className:"w-full h-full"}),h&&!l&&r.jsxs("div",{className:"absolute top-2 left-2 bg-[#10121E]/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-gray-700 z-20",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:t}),r.jsxs("div",{className:"text-lg font-bold text-white",children:["$",h.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsxs("div",{className:`text-sm ${h.priceChangePercent24h>=0?"text-green-400":"text-red-400"}`,children:[h.priceChangePercent24h>=0?"+":"",h.priceChangePercent24h.toFixed(2),"%"]})]})]})}class Sh extends f.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s)}render(){var e;return this.state.hasError?this.props.fallback||r.jsx("div",{className:"flex items-center justify-center min-h-[400px] bg-[#10121E] text-white",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-400 mb-4",children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),r.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try again"})]})}):this.props.children}}const QL=({trade:t,onClose:e})=>{const[s,n]=f.useState(!1),[i,a]=f.useState(()=>window.innerWidth<768),o=f.useCallback(()=>{n(!1),setTimeout(e,300)},[e]);if(f.useEffect(()=>{const d=()=>{a(window.innerWidth<768)};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),f.useEffect(()=>{if(t){n(!0);const d=setTimeout(o,25e3);return()=>clearTimeout(d)}},[t==null?void 0:t.id,o]),!t||!s)return null;const l=t.status==="won",c=l?t.payout-t.amount:-t.amount;return console.log("NOTIFICATION RENDER:",{tradeId:t.id,isMobile:i,screenWidth:window.innerWidth,isVisible:s,position:i?"centered":"top-right"}),r.jsx("div",{className:"trade-notification fixed transition-all duration-300",style:{zIndex:2147483647,top:i?"50%":"20px",left:i?"50%":"auto",right:i?"auto":"20px",transform:i?"translate(-50%, -50%)":"none",width:i?"85vw":"auto",maxWidth:i?"400px":"320px",minWidth:i?"300px":"280px",opacity:s?1:0,scale:s?1:.95,pointerEvents:"auto"},children:r.jsxs("div",{className:`rounded-xl shadow-2xl border-2 ${l?"bg-gradient-to-br from-emerald-900/95 via-green-800/95 to-teal-900/95 border-emerald-400 text-emerald-50":"bg-gradient-to-br from-red-900/95 via-rose-800/95 to-pink-900/95 border-red-400 text-red-50"}`,style:{padding:i?"24px":"20px"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"font-bold",style:{fontSize:i?"22px":"18px"},children:l?"TRADE WON!":"TRADE LOST"}),r.jsx("button",{onClick:o,className:"text-gray-300 hover:text-white flex items-center justify-center font-bold rounded-full bg-black/20 hover:bg-black/40 transition-colors",style:{width:i?"32px":"28px",height:i?"32px":"28px",fontSize:i?"16px":"14px"},children:"×"})]}),r.jsxs("div",{className:"space-y-3",style:{fontSize:i?"16px":"14px"},children:[r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Market:"}),r.jsx("span",{className:"font-bold",children:t.symbol||"BTC/USDT"})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Trade:"}),r.jsx("span",{className:"font-bold",children:t.direction==="up"?"BUY UP":"BUY DOWN"})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Amount:"}),r.jsxs("span",{className:"font-bold",children:[t.amount.toLocaleString()," USDT"]})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Entry Price:"}),r.jsx("span",{className:"font-mono",children:t.entryPrice.toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Close Price:"}),r.jsx("span",{className:"font-mono",children:t.finalPrice.toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Duration:"}),r.jsxs("span",{className:"font-bold",children:[t.duration||30," seconds"]})]}),r.jsxs("div",{className:"flex justify-between items-center bg-gray-800/40 rounded-lg",style:{padding:i?"12px 16px":"10px 12px"},children:[r.jsx("span",{className:"text-gray-200",children:"Profit:"}),r.jsxs("span",{className:`font-bold ${l?"text-emerald-300":"text-red-300"}`,children:[l?"+"+c.toFixed(0):c.toFixed(0)," USDT"]})]})]})]})})};function Rw({trade:t,onClose:e}){return console.log("🔔 UNIVERSAL NOTIFICATION: Rendering for trade:",t==null?void 0:t.id,"Status:",t==null?void 0:t.status),r.jsx(QL,{trade:t,onClose:e})}function Ow({trades:t,currentPrice:e}){return t.length===0?null:r.jsx("div",{className:"absolute top-2 left-2 z-50 space-y-2",children:t.map(s=>{const n=Math.max(0,Math.ceil((s.endTime-Date.now())/1e3)),i=e-s.entryPrice,a=s.direction==="up"&&i>0||s.direction==="down"&&i<0;return r.jsxs("div",{className:`px-3 py-2 rounded-lg backdrop-blur-sm border ${a?"bg-green-900/80 border-green-400 text-green-100":"bg-red-900/80 border-red-400 text-red-100"} text-xs min-w-[200px]`,children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsxs("span",{className:`font-bold ${s.direction==="up"?"text-green-300":"text-red-300"}`,children:[s.direction.toUpperCase()," $",s.amount]}),r.jsxs("span",{className:"text-yellow-300 font-bold",children:[n,"s"]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{children:["Entry: $",s.entryPrice.toFixed(2)]}),r.jsxs("span",{className:`font-bold ${i>=0?"text-green-300":"text-red-300"}`,children:[i>=0?"+":"","$",i.toFixed(2)]})]}),r.jsx("div",{className:"text-center mt-1",children:r.jsxs("span",{className:`text-xs ${a?"text-green-300":"text-red-300"}`,children:[a?"🟢 WINNING":"🔴 LOSING"," • ",s.profitPercentage,"%"]})})]},s.id)})})}const Jf=t=>{try{const e=new(window.AudioContext||window.webkitAudioContext),s=(n,i,a=.1)=>{const o=e.createOscillator(),l=e.createGain();o.connect(l),l.connect(e.destination),o.frequency.setValueAtTime(n,e.currentTime),o.type="sine",l.gain.setValueAtTime(0,e.currentTime),l.gain.linearRampToValueAtTime(a,e.currentTime+.01),l.gain.exponentialRampToValueAtTime(.001,e.currentTime+i),o.start(e.currentTime),o.stop(e.currentTime+i)};switch(t){case"win":s(523,.2),setTimeout(()=>s(659,.2),100),setTimeout(()=>s(784,.3),200);break;case"lose":s(523,.3),setTimeout(()=>s(466,.3),150),setTimeout(()=>s(392,.4),300);break;case"place":s(800,.1);break}}catch(e){console.log("Audio not available:",e)}},XL=["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","XRPUSDT","ADAUSDT","LTCUSDT","TONUSDT","DOGEUSDT","AVAXUSDT","DOTUSDT","LINKUSDT","MATICUSDT","UNIUSDT","ATOMUSDT","FILUSDT","TRXUSDT","ETCUSDT","XLMUSDT"];function MT(t=XL,e=5e3){const[s,n]=f.useState({}),[i,a]=f.useState(!0),[o,l]=f.useState(null),c=f.useCallback(async h=>{try{const m=await fetch(`/api/binance/price?symbol=${h}`);if(!m.ok)throw new Error(`HTTP ${m.status}: ${m.statusText}`);const x=await m.json();if(x.success&&x.data)return x.data;throw new Error("Invalid response format")}catch(m){return console.error(`❌ [MultiSymbolPrice] Error fetching ${h}:`,m),null}},[]),d=f.useCallback(async()=>{try{console.log("💰 [MultiSymbolPrice] Fetching prices for:",t);const h=t.map(g=>c(g).then(v=>({symbol:g,data:v}))),m=await Promise.all(h),x={};let y=0;if(m.forEach(({symbol:g,data:v})=>{v&&(x[g]=v,y++)}),y>0)n(x),l(null),console.log(`✅ [MultiSymbolPrice] Updated ${y}/${t.length} symbols`);else throw new Error("Failed to fetch any price data")}catch(h){const m=h instanceof Error?h.message:"Unknown error";console.error("❌ [MultiSymbolPrice] Error fetching prices:",m),l(m)}finally{a(!1)}},[t,c]),u=f.useCallback(h=>s[h]||null,[s]);return f.useEffect(()=>{d()},[d]),f.useEffect(()=>{const h=setInterval(()=>{d()},e);return()=>clearInterval(h)},[d,e]),{priceData:s,isLoading:i,error:o,refreshPrices:d,getPriceForSymbol:u}}function YL({selectedSymbol:t,setSelectedSymbol:e}){var Zi,L,te,Fe,it,Lt,_t,Us;const{user:s}=ms(),{lastMessage:n,subscribe:i,connected:a,sendMessage:o}=fm(),l=Mr(),c=Cn();f.useEffect(()=>{console.log("🔌 WebSocket connection status:",a?"CONNECTED":"DISCONNECTED")},[a]),f.useEffect(()=>{console.log("🔌 WEBSOCKET STATUS:",{connected:a,hasLastMessage:!!n}),console.log(a?"✅ WebSocket is connected and ready":"❌ WebSocket is NOT connected")},[a,n]);const{priceData:d}=Sl(),{changeText:u,changeColor:h,isPositive:m}=Qx(),{high:x,low:y,volume:g}=Xx(),{getPriceForSymbol:v}=MT(),[b,p]=f.useState("tradingview");console.log("🔍 OPTIONS PAGE - User data:",{id:s==null?void 0:s.id,role:s==null?void 0:s.role,verificationStatus:s==null?void 0:s.verificationStatus,username:s==null?void 0:s.username}),console.log("💰 OPTIONS PAGE - Price from context:",d==null?void 0:d.price);const[w,j]=f.useState(""),[S,T]=f.useState("open"),[E,_]=f.useState("30s"),[I,k]=f.useState(100),[P,F]=f.useState(0),[M,H]=f.useState(0),[Z,O]=f.useState(!1),[V,$]=f.useState([]),[R,X]=f.useState([]),[q,ne]=f.useState(null),[de,Se]=f.useState(""),ie=f.useRef(new Map),_e=N=>{console.log("🔔 TRIGGER: Starting notification trigger for trade:",N.id);const U=Date.now(),fe=N.id.includes("test-"),J=ie.current.get(N.id);if(J&&U-J<5e3&&!fe){console.log("🔔 TRIGGER: Duplicate notification prevented for trade:",N.id,"Last notification was",U-J,"ms ago");return}ie.current.set(N.id,U);const le=U-10*60*1e3;for(const[mt,kt]of ie.current.entries())kt<le&&ie.current.delete(mt);document.querySelectorAll('[data-mobile-notification="true"]').forEach(mt=>mt.remove());const Ie=`trade-${N.id}`;Se(Ie),ne(N),localStorage.setItem("completedTrade",JSON.stringify(N)),console.log("🔔 TRIGGER: Notification set for trade:",N.id),setTimeout(()=>{ne(null),localStorage.removeItem("completedTrade")},25e3)};f.useEffect(()=>{typeof window<"u"&&(window.simulateRealTradeCompletion=()=>{if(console.log("🎭 SIMULATING REAL TRADE COMPLETION..."),!(s!=null&&s.id)){console.log("❌ No user logged in");return}const N={type:"trade_completed",data:{tradeId:"simulated-"+Date.now(),userId:s.id,result:"win",exitPrice:51e3,profitAmount:10,newBalance:1e3,timestamp:new Date().toISOString()}};console.log("🎭 Mock trade completion message:",N),console.log("🎭 This should trigger the notification system...");const U={id:N.data.tradeId,symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",duration:30,profitPercentage:10,payout:110,profit:10};console.log("🎭 Triggering notification directly..."),_e(U)},window.testMobileNotification=()=>{console.log("🧪 GLOBAL: Testing mobile notification from console");const N={id:"console-test-"+Date.now(),direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10};_e(N)},window.testNotificationNow=()=>{console.log("🚀 IMMEDIATE: Testing notification immediately");const N={id:"immediate-test-"+Date.now(),symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:114420.87,currentPrice:114904.29,status:"won",duration:30,profitPercentage:10,payout:110,profit:10};console.log("🚀 IMMEDIATE: Calling triggerNotification with:",N),_e(N)},window.testWebSocketNotification=async()=>{console.log("🧪 WEBSOCKET TEST: Requesting server to send WebSocket notification");try{const U=await(await fetch("/api/test/websocket-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s==null?void 0:s.id})})).json();console.log("🧪 WEBSOCKET TEST: Server response:",U)}catch(N){console.error("🧪 WEBSOCKET TEST: Error:",N)}},window.simulateTradeCompleted=()=>{console.log("🎭 SIMULATE: Creating fake trade_completed message");const N={type:"trade_completed",data:{tradeId:"simulate-"+Date.now(),userId:s==null?void 0:s.id,result:"win",exitPrice:5e4,profitAmount:10,newBalance:1e3,timestamp:new Date().toISOString()}};console.log("🎭 SIMULATE: Fake message created:",N),console.log("🎭 SIMULATE: This would trigger the notification if WebSocket was working");const U={id:N.data.tradeId,symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:49e3,currentPrice:N.data.exitPrice,status:"won",duration:30,profitPercentage:10,payout:110,profit:N.data.profitAmount};console.log("🎭 SIMULATE: Triggering notification with simulated trade:",U),_e(U)},window.testDirectNotification=()=>{console.log("🧪 GLOBAL: Creating direct DOM notification from console"),document.querySelectorAll('[data-mobile-notification="true"]').forEach(fe=>fe.remove());const U={id:"flow-test-"+Date.now(),direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10,symbol:"BTC/USDT",duration:30,profit:10};console.log("🧪 GLOBAL: Testing complete notification flow with trade:",U),_e(U)},window.testTradeCompletion=()=>{console.log("🧪 GLOBAL: Simulating trade completion WebSocket message");const N={type:"trigger_mobile_notification",data:{tradeId:"mock-test-"+Date.now(),userId:s==null?void 0:s.id,direction:"up",amount:100,entryPrice:5e4,currentPrice:51e3,status:"won",payout:110,profitPercentage:10,symbol:"BTC/USDT",duration:30}};console.log("🧪 GLOBAL: Simulating WebSocket message:",N)},window.testOldDirectNotification=()=>{console.log("🧪 GLOBAL: Creating direct DOM notification from console"),document.querySelectorAll('[data-mobile-notification="true"]').forEach(fe=>fe.remove());const U=document.createElement("div");U.setAttribute("data-mobile-notification","true"),U.style.cssText=`
          position: fixed !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          z-index: 999999999 !important;
          background-color: rgba(0, 0, 0, 0.95) !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          padding: 16px !important;
          visibility: visible !important;
          opacity: 1 !important;
          pointer-events: auto !important;
        `,U.innerHTML=`
          <div style="
            background-color: #1a1b3a;
            border-radius: 16px;
            padding: 20px;
            max-width: 320px;
            width: 90%;
            border: 3px solid #10b981;
            color: white;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            text-align: center;
          ">
            <div style="font-size: 20px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
              🎉 CONSOLE TEST SUCCESS!
            </div>
            <div style="margin-bottom: 16px; color: #9ca3af;">
              This notification was triggered from the browser console.
            </div>
            <button onclick="this.closest('[data-mobile-notification]').remove()" style="
              background-color: #10b981;
              color: white;
              border: none;
              border-radius: 8px;
              padding: 12px 24px;
              font-size: 14px;
              font-weight: bold;
              cursor: pointer;
              width: 100%;
            ">
              Close Console Test
            </button>
          </div>
        `,document.body.appendChild(U),console.log("✅ GLOBAL: Direct notification created from console")},window.forceNotificationTest=()=>{console.log("🚀 FORCE: Creating notification directly via DOM manipulation"),document.querySelectorAll('[data-mobile-notification="true"]').forEach(fe=>fe.remove());const U=document.createElement("div");U.setAttribute("data-mobile-notification","true"),U.style.cssText=`
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.8);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 999999;
          font-family: Arial, sans-serif;
        `,U.innerHTML=`
          <div style="
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 16px;
            padding: 24px;
            max-width: 350px;
            width: 90%;
            border: 1px solid #3a3d5a;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            text-align: center;
            color: white;
          ">
            <div style="font-size: 20px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
              🎉 Trade Won!
            </div>
            <div style="font-size: 12px; color: #9ca3af; margin-bottom: 16px;">
              Market: BTC/USDT
            </div>
            <div style="background: #2a2d47; border-radius: 8px; padding: 12px; margin-bottom: 16px; border: 1px solid #3a3d5a;">
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Trade:</span>
                <span style="color: #10b981; font-weight: bold;">BUY UP</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Amount:</span>
                <span style="color: white; font-weight: bold;">100 USDT</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Entry Price:</span>
                <span style="color: white; font-weight: bold;">115,520.39</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Close Price:</span>
                <span style="color: white; font-weight: bold;">115,904.29</span>
              </div>
              <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 12px;">
                <span style="color: #9ca3af;">Duration:</span>
                <span style="color: white; font-weight: bold;">30 seconds</span>
              </div>
              <div style="display: flex; justify-content: space-between; font-size: 12px;">
                <span style="color: #9ca3af;">Profit:</span>
                <span style="color: #10b981; font-weight: bold;">+10</span>
              </div>
            </div>
            <button onclick="this.parentElement.parentElement.remove()" style="
              background: #10b981;
              color: white;
              border: none;
              border-radius: 8px;
              padding: 12px 24px;
              font-weight: bold;
              cursor: pointer;
              width: 100%;
            ">
              Close Notification
            </button>
          </div>
        `,document.body.appendChild(U),console.log("✅ FORCE: Notification created and added to DOM"),setTimeout(()=>{U.parentNode&&(U.remove(),console.log("🗑️ FORCE: Auto-removed notification"))},3e4)},console.log("🧪 GLOBAL FUNCTIONS AVAILABLE:"),console.log("- testMobileNotification() - Test React notification"),console.log("- testDirectNotification() - Test direct DOM notification"),console.log("- forceNotificationTest() - Force create notification (GUARANTEED TO WORK)"))},[]);const[me,Oe]=f.useState(()=>{const N=localStorage.getItem("currentTradingMode");return N==="win"||N==="lose"||N==="normal"?N:"normal"}),[be,ce]=f.useState(!1),[pe,ze]=f.useState(null),K=f.useRef([]),[he,Ye]=f.useState(!1),Ge=async()=>{if(s!=null&&s.id){Ye(!0);try{l.invalidateQueries({queryKey:[`/api/users/${s.id}/trades`]}),console.log("🗑️ Invalidated React Query cache for trade history to prevent conflicts")}catch(N){console.error("❌ Error invalidating React Query cache:",N)}try{localStorage.removeItem(`tradeHistory_${s.id}`),console.log("🗑️ Cleared any existing localStorage trade history cache")}catch(N){console.error("❌ Error clearing localStorage cache:",N)}console.log("📈 Loading fresh trade history from server (no caching)");try{const N=await fetch(`/api/users/${s.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(N.ok){const U=await N.json();console.log("📈 Loaded trade history from server:",U.length),console.log("📈 Raw server trades:",U),console.log("📈 Raw server trades before filtering:",U);const fe=U.filter(J=>{const le=J.result&&(J.result==="win"||J.result==="lose"||J.result==="won"||J.result==="lost"),ke=J.status!=="pending"&&J.result!=="pending";return console.log(`📈 Trade ${J.id}: result=${J.result}, status=${J.status}, hasResult=${le}, notPending=${ke}`),le&&ke}).map(J=>{const le=parseFloat(J.entry_price||"0");let ke=parseFloat(J.exit_price||"0");const Ie=J.result==="win"||J.result==="won";if(console.log(`📊 Trade ${J.id}: Entry=${le}, Exit=${ke}, Status=${J.status}, Result=${J.result}`),!ke||ke===0){console.log(`⚠️ Missing exit price for trade ${J.id}, generating consistent fallback`);const Ct=((parseInt(J.id.toString().slice(-6))||123456)*9301+49297)%233280/233280,Ft=.005,C=1e-4,Q=Ft-C,ve=Ct*Q+C;let Y=1;J.direction==="up"?Y=Ie?1:-1:J.direction==="down"&&(Y=Ie?-1:1),ke=le*(1+ve*Y);const ye=.01;Math.abs(ke-le)<ye&&(ke=le+Y*ye),console.log(`✅ Generated fallback exit price for trade ${J.id}: ${ke}`)}else console.log(`✅ Using stored exit price for trade ${J.id}: ${ke}`);const mt={id:J.id,symbol:J.symbol||"BTCUSDT",amount:parseFloat(J.amount),direction:J.direction,duration:J.duration||30,entryPrice:le,currentPrice:ke,payout:Ie?parseFloat(J.amount)+parseFloat(J.profit_loss||"0"):0,status:Ie?"won":"lost",endTime:J.updated_at||J.created_at,startTime:J.created_at,profit:parseFloat(J.profit_loss||"0"),profitPercentage:J.duration===30?10:15};return console.log(`📈 Formatted trade ${J.id}:`,mt),mt});console.log("📈 Formatted trades count:",fe.length),X(fe),console.log("📈 Trade history loaded fresh from server (no caching):",s.id)}else console.log("⚠️ Failed to load trade history from server, using cached data")}catch(N){console.error("❌ Error loading trade history from server, using cached data:",N)}finally{Ye(!1)}}};f.useEffect(()=>{Ge()},[s==null?void 0:s.id]),f.useEffect(()=>{const N=()=>{const U=localStorage.getItem("currentTradingMode");U&&(U==="win"||U==="lose"||U==="normal")&&(Oe(U),console.log(`🔄 Synced trading mode from localStorage: ${U.toUpperCase()}`))};return N(),window.addEventListener("storage",N),()=>{window.removeEventListener("storage",N)}},[]);const ct=(d==null?void 0:d.price.toFixed(2))||"0.00";d!=null&&d.price;const dt=(d==null?void 0:d.price)||P||166373.87,ft=["BTCUSDT","ETHUSDT","XRPUSDT","LTCUSDT","BNBUSDT","SOLUSDT","TONUSDT","DOGEUSDT","ADAUSDT","TRXUSDT","HYPEUSDT","LINKUSDT","AVAXUSDT","SUIUSDT","SHIBUSDT","BCHUSDT","DOTUSDT","MATICUSDT","XLMUSDT"].map(N=>{const U=v(N),fe=N===t,J=fe&&d?d.price:(U==null?void 0:U.price)||0,le=fe&&d?d.priceChangePercent24h:(U==null?void 0:U.priceChangePercent24h)||0,ke=le>=0?`+${le.toFixed(2)}%`:`${le.toFixed(2)}%`;return{symbol:N.replace("USDT","/USDT"),coin:N.replace("USDT",""),rawSymbol:N,price:J.toString(),priceChangePercent24h:ke}}),A=ft.filter(N=>N.coin.toLowerCase().includes(w.toLowerCase())||N.symbol.toLowerCase().includes(w.toLowerCase())),B=ft.find(N=>N.rawSymbol===t)||ft[0],G=N=>{console.log("🔄 Selected trading pair:",N),e(N),j("")},ge=N=>{console.log("📈 TradingView symbol changed to:",N),console.log("📈 Current selected symbol:",t),console.log("📈 Available trading pairs:",ft.map(J=>J.rawSymbol));const U=N.replace("BINANCE:","").replace("COINBASE:",""),fe=ft.find(J=>J.rawSymbol===U);fe?(console.log("✅ Found matching pair:",fe),console.log("✅ Setting selected symbol to:",U),e(U),j("")):(console.log("⚠️ Symbol not found in trading pairs:",U),console.log("⚠️ Available symbols:",ft.map(J=>J.rawSymbol).join(", ")))},se=N=>{if(j(N),N.length>0){const U=ft.filter(fe=>fe.coin.toLowerCase()===N.toLowerCase());U.length===1&&(console.log("🎯 Auto-selecting exact match:",U[0].rawSymbol),e(U[0].rawSymbol))}},[re,Ce]=f.useState({sellOrders:[],buyOrders:[]});f.useEffect(()=>{if(d!=null&&d.price){const N=d.price;K.current.push(N),K.current.length>1e3&&(K.current=K.current.slice(-1e3));const U=W(N);Ce(U),console.log("📊 Price update from context:",N.toFixed(2)),console.log("📊 Order book data generated:",{sellOrders:U.sellOrders.length,buyOrders:U.buyOrders.length,firstSell:U.sellOrders[0],firstBuy:U.buyOrders[0]})}},[d==null?void 0:d.price]);const W=N=>{const U=[],fe=[];for(let J=0;J<8;J++){const le=(J+1)*(Math.random()*.5+.1),ke=N+le,Ie=(Math.random()*2+.1).toFixed(4),mt=(ke*parseFloat(Ie)).toFixed(2);U.push({price:ke.toFixed(2),volume:Ie,turnover:mt})}for(let J=0;J<8;J++){const le=(J+1)*(Math.random()*.5+.1),ke=N-le,Ie=(Math.random()*2+.1).toFixed(4),mt=(ke*parseFloat(Ie)).toFixed(2);fe.push({price:ke.toFixed(2),volume:Ie,turnover:mt})}return{sellOrders:U,buyOrders:fe}},{data:xe}=Zt({queryKey:["/api/market-data"],refetchInterval:5e3}),{data:qe}=Zt({queryKey:["/api/balances"],enabled:!!s,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:async()=>{var fe;console.log("🔍 OPTIONS: Fetching balance from /api/balances for user:",s==null?void 0:s.id,s==null?void 0:s.username),console.log("🔍 OPTIONS: Auth token:",((fe=localStorage.getItem("authToken"))==null?void 0:fe.substring(0,30))+"...");const N=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 OPTIONS: Response status:",N.status,N.statusText),!N.ok){const J=await N.text();throw console.error("❌ OPTIONS: Balance API failed:",N.status,J),new Error(`Failed to fetch balance: ${N.status} ${J}`)}const U=await N.json();return console.log("🔍 OPTIONS: Balance API response:",U),U}});let We=0;if(console.log("🔍 OPTIONS PAGE - User:",s==null?void 0:s.id,"UserBalances:",qe),s&&qe&&Array.isArray(qe)){console.log("🔍 OPTIONS - RAW userBalances (array):",qe);const N=qe.find(U=>U.symbol==="USDT");We=Number((N==null?void 0:N.available)||0),console.log("🔍 OPTIONS - Using standardized array format:",We,N)}else s?(console.log("🔍 OPTIONS - userBalances is not in expected array format:",typeof qe,qe),console.log("🔍 OPTIONS - User authenticated but no balance data")):console.log("🔍 OPTIONS - No user authenticated");isNaN(We)&&(console.warn("🔍 OPTIONS - Balance is NaN, setting to 0"),We=0),console.log("🔍 OPTIONS - Final balance:",We),f.useEffect(()=>{var N;(n==null?void 0:n.type)==="balance_update"&&(console.log("🔄 OPTIONS: Real-time balance update received:",n.data),console.log("🔄 OPTIONS: Current user ID:",s==null?void 0:s.id,"Update for user:",(N=n.data)==null?void 0:N.userId),l.invalidateQueries({queryKey:["/api/balances"]}),l.invalidateQueries({queryKey:["/api/auth"]}),l.removeQueries({queryKey:["/api/balances"]}),setTimeout(()=>{l.refetchQueries({queryKey:["/api/balances"]})},100))},[n,l,s==null?void 0:s.id]);const ee=xe==null?void 0:xe.find(N=>N.symbol==="BTCUSDT"),Ys=ee?parseFloat(ee.price):0,Je=dt;f.useEffect(()=>{const N=()=>{const fe=Je,J=W(fe);Ce(J),console.log("📊 Order book updated with price:",fe.toFixed(2))};N();const U=setInterval(N,3e4);return()=>clearInterval(U)},[Je,ct]),f.useEffect(()=>{},[Ys,ct]),f.useEffect(()=>{a&&(s!=null&&s.id)&&(i(["BTCUSDT"]),console.log("🔌 Subscribed to BTCUSDT price updates"),o({type:"subscribe_user_balance",userId:s.id}),console.log("🔌 Subscribed to balance updates for user:",s.id))},[a,i,o,s==null?void 0:s.id]),f.useEffect(()=>{var N;if((n==null?void 0:n.type)==="price_update"&&((N=n.data)==null?void 0:N.symbol)==="BTCUSDT"){const U=parseFloat(n.data.price);if(U>0){F(U),K.current.push(U),K.current.length>1e3&&(K.current=K.current.slice(-1e3));const fe=W(U);Ce(fe),console.log("📈 WebSocket Price Update:",U.toFixed(2))}}},[n]),f.useEffect(()=>{var N;(n==null?void 0:n.type)==="balance_update"&&((N=n.data)==null?void 0:N.userId)===(s==null?void 0:s.id)&&(console.log("💰 Real-time balance update received:",n.data),l.invalidateQueries({queryKey:["/api/balances"]}),n.data.changeType!=="trade_start"&&console.log(`💰 Balance updated: ${n.data.newBalance} USDT (${n.data.change>0?"+":""}${n.data.change})`))},[n,s==null?void 0:s.id,l]);const jt=f.useRef(new Set);f.useEffect(()=>{var fe,J,le,ke,Ie,mt,kt,Ct,Ft,C,Q,ve,Y,ye,ot,Mt,Ts,vd,Tl,bd,wy,jy,Ny;if(!n||!(s!=null&&s.id))return;const N=`${n.type}-${((fe=n.data)==null?void 0:fe.tradeId)||((J=n.data)==null?void 0:J.id)||"unknown"}-${((le=n.data)==null?void 0:le.userId)||"unknown"}-${((ke=n.data)==null?void 0:ke.timestamp)||Date.now()}`;console.log("🔍 WEBSOCKET DEBUG: Checking message:",n==null?void 0:n.type,"userId match:",((Ie=n==null?void 0:n.data)==null?void 0:Ie.userId)===(s==null?void 0:s.id)),console.log("🔍 WEBSOCKET DEBUG: Message ID:",N),console.log("🔍 WEBSOCKET DEBUG: Full message:",n),console.log("🔍 WEBSOCKET DEBUG: Current user ID:",s==null?void 0:s.id),console.log("🔍 WEBSOCKET DEBUG: Active trades count:",V.length);const U=N.includes("test-");if(jt.current.has(N)&&!U){console.log("🔍 WEBSOCKET DEBUG: Message already processed, skipping:",N);return}if(jt.current.size>100){const Es=Array.from(jt.current).slice(-50);jt.current=new Set(Es),console.log("🧹 WEBSOCKET DEBUG: Cleaned up processed messages cache")}if(n&&(console.log("📡 ALL WEBSOCKET MESSAGES:",{type:n.type,data:n.data,timestamp:new Date().toISOString()}),n.type==="trade_completed"&&(console.log("🚨 TRADE COMPLETION MESSAGE RECEIVED!"),console.log("🚨 Message type:",n.type),console.log("🚨 Message data:",n.data),console.log("🚨 User ID from message:",(mt=n.data)==null?void 0:mt.userId),console.log("🚨 Current user ID:",s==null?void 0:s.id),console.log("🚨 User IDs match:",((kt=n.data)==null?void 0:kt.userId)===(s==null?void 0:s.id)),console.log("🚨 Will process message:",((Ct=n.data)==null?void 0:Ct.userId)===(s==null?void 0:s.id))),n.type==="balance_update"&&console.log("💰 BALANCE UPDATE DETAILS:",{type:n.type,userId:(Ft=n.data)==null?void 0:Ft.userId,currentUserId:s==null?void 0:s.id,userMatch:((C=n.data)==null?void 0:C.userId)===(s==null?void 0:s.id),data:n.data,activeTrades:V.length,change:(Q=n.data)==null?void 0:Q.change,changeType:(ve=n.data)==null?void 0:ve.changeType,newBalance:(Y=n.data)==null?void 0:Y.newBalance,oldBalance:(ye=n.data)==null?void 0:ye.oldBalance}),n.type&&n.type.toLowerCase().includes("trade")&&(console.log("🎯 TRADE MESSAGE DETECTED:",n),console.log("🎯 Message type:",n.type),console.log("🎯 Message data:",n.data),console.log("🎯 User ID from message:",(ot=n.data)==null?void 0:ot.userId),console.log("🎯 Current user ID:",s==null?void 0:s.id),console.log("🎯 User IDs match:",((Mt=n.data)==null?void 0:Mt.userId)===(s==null?void 0:s.id)))),(n==null?void 0:n.type)==="trigger_mobile_notification"&&((Ts=n.data)==null?void 0:Ts.userId)===(s==null?void 0:s.id)){jt.current.add(N),console.log("🔔 BULLETPROOF: Direct notification trigger received:",n.data);const pt=n.data;console.log("🔔 WEBSOCKET RECEIVED: Raw tradeData:",JSON.stringify(pt,null,2));const Es={id:pt.tradeId,direction:pt.direction,amount:pt.amount,entryPrice:pt.entryPrice,currentPrice:pt.currentPrice,status:pt.status,payout:pt.payout,profitPercentage:pt.profitPercentage,symbol:pt.symbol,duration:pt.duration,profit:pt.status==="won"?pt.payout-pt.amount:-pt.amount};console.log("🔔 BULLETPROOF: Triggering notification with trade data:",Es),console.log("🔔 AMOUNT IN TRADE OBJECT:",Es.amount,"TYPE:",typeof Es.amount),_e(Es);return}if((n==null?void 0:n.type)==="trade_completed"&&((vd=n.data)==null?void 0:vd.userId)===(s==null?void 0:s.id)){jt.current.add(N),console.log("🎯 WEBSOCKET: Trade completion notification received:",n.data),console.log("🎯 WEBSOCKET: Amount from message:",(Tl=n.data)==null?void 0:Tl.amount,"Type:",typeof((bd=n.data)==null?void 0:bd.amount));const{tradeId:pt,result:Es,exitPrice:He,profitAmount:ea,newBalance:sn,symbol:El,direction:Sy,amount:Ja,entryPrice:kl,duration:Pl,profitPercentage:Cy}=n.data,Ir=V.find(Lr=>Lr.id===pt);if(console.log("🔍 WEBSOCKET: Looking for active trade:",pt,"Found:",!!Ir),console.log("🔍 WEBSOCKET: Current active trades:",V.map(Lr=>Lr.id)),Ir){const Lr=Es==="win",Za=Cy||(Pl===30?10:15),rn=Ja!==void 0&&Ja>0?Ja:Ir.amount,_l=kl!==void 0&&kl>0?kl:Ir.entryPrice;console.log("🎯 WEBSOCKET: Amount resolution:",{websocketAmount:Ja,localAmount:Ir.amount,finalAmount:rn,websocketEntryPrice:kl,localEntryPrice:Ir.entryPrice,finalEntryPrice:_l});const si={...Ir,symbol:El||Ir.symbol,direction:Sy||Ir.direction,amount:rn,entryPrice:_l,status:Lr?"won":"lost",currentPrice:He||Ir.currentPrice,payout:Lr?rn*(1+Za/100):0,profit:ea,duration:Pl||Ir.duration,profitPercentage:Za};console.log("🎯 WEBSOCKET: Setting completed trade notification with fresh data:",{amount:si.amount,entryPrice:si.entryPrice,exitPrice:si.currentPrice,profitAmount:si.profit,profitPercentage:si.profitPercentage}),console.log("🔔 WEBSOCKET: About to trigger notification"),_e(si)}else{console.log("⚠️ WEBSOCKET: Active trade not found, using WebSocket data for notification"),console.log("⚠️ WEBSOCKET: Fallback amount from message:",Ja,"profitAmount:",ea);const Lr=Es==="win",Za=Cy||(Pl===30?10:15);let rn=Ja;(!rn||rn<=0)&&(rn=Math.abs(ea)/(Lr?Za/100:1),console.log("⚠️ WEBSOCKET: Calculated amount from profit:",rn));const _l={id:pt,symbol:El||"BTC/USDT",direction:Sy||"up",amount:rn,entryPrice:kl||He*(Lr?.99:1.01),currentPrice:He,status:Lr?"won":"lost",duration:Pl||30,profitPercentage:Za,payout:Lr?rn*(1+Za/100):0,profit:ea,startTime:Date.now()-(Pl||30)*1e3,endTime:Date.now()};console.log("🔔 WEBSOCKET: Triggering fallback notification with WebSocket data:",_l),_e(_l),$(si=>si.filter(ck=>ck.id!==pt)),l.invalidateQueries({queryKey:["/api/balances"]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/trades`]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/transactions`]}),console.log("🔄 WEBSOCKET: Refreshing trade history after trade completion..."),setTimeout(()=>{s!=null&&s.id&&Ge()},1e3)}}if(n&&(s!=null&&s.id)&&!jt.current.has(N)){const pt=JSON.stringify(n).toLowerCase();if((pt.includes("trade")||pt.includes("win")||pt.includes("lose")||pt.includes("profit")||pt.includes("payout")||pt.includes("result"))&&((wy=n.data)==null?void 0:wy.userId)===(s==null?void 0:s.id)){console.log("🚨 AGGRESSIVE: Found trade-related message:",n),console.log("🚨 AGGRESSIVE: Message data fields:",Object.keys(n.data||{})),console.log("🚨 AGGRESSIVE: Full message data:",n.data);const He=n.data,ea=He&&(He.result==="win"||He.result==="lose"||He.status==="won"||He.status==="lost"||He.changeType==="trade_completion"||He.changeType==="trade_end"||He.changeType==="trade_win"||He.changeType==="trade_lose"||He.changeType!=="trade_start"&&He.change&&He.change>0&&V.length>0);if(console.log("🚨 AGGRESSIVE: Trade completion check:",{changeType:He==null?void 0:He.changeType,change:He==null?void 0:He.change,activeTrades:V.length,isTradeCompletion:ea}),ea){jt.current.add(N),console.log("🚨 AGGRESSIVE: Triggering notification for trade-related message");let sn=!1;He.result==="win"||He.status==="won"?sn=!0:He.result==="lose"||He.status==="lost"?sn=!1:He.change&&He.change>0?sn=!0:He.change&&He.change<0?sn=!1:V.length>0&&(sn=!0);const El={id:He.tradeId||He.id||"aggressive-"+Date.now(),symbol:He.symbol||"BTC/USDT",direction:He.direction||"up",amount:He.amount||100,entryPrice:He.entryPrice||He.entry_price||5e4,currentPrice:He.exitPrice||He.currentPrice||He.current_price||51e3,status:sn?"won":"lost",duration:He.duration||30,profitPercentage:sn?He.profitPercentage||10:0,payout:sn?He.payout||He.amount*1.1:0,profit:He.profitAmount||He.profit||(sn?10:-100)};console.log("🚨 AGGRESSIVE: About to trigger notification with trade:",El),_e(El)}else console.log("🚨 AGGRESSIVE: Message detected but no valid trade completion indicators found")}}if(((jy=n==null?void 0:n.data)==null?void 0:jy.userId)===(s==null?void 0:s.id)&&((Ny=n==null?void 0:n.data)!=null&&Ny.result)&&!jt.current.has(N)){jt.current.add(N),console.log("🔥 ULTRA FALLBACK: Message with userId match and result field:",n);const pt=n.data,Es=pt.result==="win",He={id:pt.tradeId||"ultra-"+Date.now(),symbol:"BTC/USDT",direction:"up",amount:100,entryPrice:5e4,currentPrice:pt.exitPrice||51e3,status:Es?"won":"lost",duration:30,profitPercentage:Es?10:0,payout:Es?110:0,profit:pt.profitAmount||(Es?10:-100)};console.log("🔥 ULTRA FALLBACK: Triggering notification:",He),_e(He)}},[n,s==null?void 0:s.id,V,l]),f.useEffect(()=>{if(V.length===0)return;console.log("🔄 POLLING: Checking",V.length,"active trades:",V.map(U=>({id:U.id,amount:U.amount})));const N=setInterval(async()=>{try{const U=await fetch(`/api/users/${s==null?void 0:s.id}/trades`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(U.ok){const fe=await U.json();V.forEach(J=>{console.log("🔄 POLLING: Checking active trade:",{id:J.id,amount:J.amount});const le=fe.find(ke=>ke.id===J.id);if(le&&le.status==="completed"&&le.result!=="pending"){console.log("🔄 POLLING: Found completed trade:",le);const ke=le.result==="win",Ie=J.profitPercentage||(J.duration===30?10:15),mt=parseFloat(le.amount)||J.amount,kt={...J,amount:mt,status:ke?"won":"lost",currentPrice:le.exit_price||J.entryPrice,payout:ke?mt*(1+Ie/100):0,profit:ke?mt*Ie/100:-mt};console.log("🔄 POLLING: Setting completed trade notification:",kt),_e(kt),$(Ct=>Ct.filter(Ft=>Ft.id!==J.id)),l.invalidateQueries({queryKey:["/api/balances"]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/trades`]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/transactions`]}),console.log("🔄 POLLING: Refreshing trade history after trade completion..."),setTimeout(()=>{Ge()},1e3)}})}}catch(U){console.error("🔄 POLLING: Error checking trade completion:",U)}},2e3);return()=>clearInterval(N)},[V,s==null?void 0:s.id,l]),f.useEffect(()=>{if((n==null?void 0:n.type)==="trading_control_update"||(n==null?void 0:n.type)==="trading_mode_update"){const{userId:N,controlType:U,tradingMode:fe,username:J,message:le}=n.data||{},ke=U||fe;let Ie="user-1";(s==null?void 0:s.email)==="angela.soenoko@gmail.com"?Ie="user-angela":(s==null?void 0:s.email)==="amdsnkstudio@metachrome.io"?Ie="user-1":s!=null&&s.id&&(Ie=s.id),console.log("🎯 Real-time trading control update received:",{userId:N,controlType:ke,username:J,currentUserId:Ie,message:le}),N===Ie&&(console.log(`🎯 IMMEDIATE EFFECT: Trading mode changed to ${ke.toUpperCase()} for current user!`),Oe(ke),localStorage.setItem("currentTradingMode",ke||"normal"))}},[n,s]);const ti=async(N,U,fe)=>{const J=N.profitPercentage||(N.duration===30?10:15),le=U?N.amount*J/100:-N.amount,ke={...N,status:U?"won":"lost",currentPrice:fe,payout:U?N.amount*(1+J/100):0,profit:le};console.log("🎯 COMPLETE TRADE: Updated trade object:",ke);try{(await fetch("/api/trades/complete",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({tradeId:N.id,userId:(s==null?void 0:s.id)||"user-1",won:U,amount:N.amount,payout:ke.payout,profit:le,finalPrice:fe})})).ok?(l.invalidateQueries({queryKey:["/api/balances"]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/trades`]}),l.invalidateQueries({queryKey:[`/api/users/${s==null?void 0:s.id}/transactions`]}),console.log(`💰 Balance updated: Trade ${U?"WON":"LOST"} - Amount: ${N.amount} USDT`),console.log("🔄 COMPLETE TRADE: Refreshing trade history after API completion..."),setTimeout(()=>{s!=null&&s.id&&Ge()},1500)):console.error("Failed to update balance after trade completion")}catch(Ie){console.error("Error updating balance:",Ie)}return console.log("🎯 COMPLETE TRADE: Setting up fallback notification check"),setTimeout(async()=>{try{console.log("🔄 FALLBACK: Checking server result for trade:",N.id);const Ie=await fetch(`/api/users/${s==null?void 0:s.id}/trades`);if(Ie.ok){const kt=(await Ie.json()).find(Ct=>Ct.id===N.id);if(kt&&kt.status==="completed"){console.log("🔄 FALLBACK: Found completed trade with server result:",kt);const Ct=kt.result==="win",Ft=N.profitPercentage||(N.duration===30?10:15),C={...N,status:Ct?"won":"lost",currentPrice:kt.exit_price||fe,payout:Ct?N.amount*(1+Ft/100):0,profit:Ct?N.amount*Ft/100:-N.amount};console.log("🔄 FALLBACK: Triggering notification with server result:",C),_e(C)}}}catch(Ie){console.error("🔄 FALLBACK: Error checking server result:",Ie)}},2e3),ke};f.useEffect(()=>{try{const N=Date.now();let U=!1;V.length>0&&console.log(`🎯 USEEFFECT: Checking ${V.length} active trades at ${new Date(N).toLocaleTimeString()}`),$(J=>{const le=[];return J.forEach(ke=>{const Ie=Math.max(0,Math.ceil((ke.endTime-N)/1e3));if(console.log(`🎯 TRADE CHECK: ID=${ke.id}, timeRemaining=${Ie}, status=${ke.status}, endTime=${ke.endTime}, now=${N}`),Ie===0&&ke.status==="active"){console.log(`🎯 TRADE EXPIRED: Trade ${ke.id} has expired! Starting completion...`);const mt=Je||ke.entryPrice,kt=mt-ke.entryPrice;let Ct=ke.direction==="up"&&kt>0||ke.direction==="down"&&kt<0;ti(ke,Ct,mt).then(Ft=>{console.log("🎯 TRADE COMPLETED: Trade completed, waiting for WebSocket notification for trade:",Ft.id)}).catch(Ft=>{console.error("❌ Trade completion failed:",Ft)}),U=!0;try{typeof Jf=="function"&&Jf(Ct?"win":"lose")}catch(Ft){console.error("Sound play error:",Ft)}}else le.push({...ke,currentPrice:P||ke.entryPrice})}),le});const fe=V.find(J=>J.status==="active");if(fe){const J=Math.max(0,Math.ceil((fe.endTime-N)/1e3));H(J),O(J>0)}else U||(H(0),O(!1))}catch(N){console.error("Trade management error:",N),O(!1),H(0)}},[Je,V]),f.useEffect(()=>{const N=setInterval(()=>{const U=Date.now();V.forEach(fe=>{Math.max(0,Math.ceil((fe.endTime-U)/1e3))===0&&fe.status==="active"&&H(le=>le)})},1e3);return()=>clearInterval(N)},[V]);const Js={"30s":{minAmount:100,profit:10},"60s":{minAmount:1e3,profit:15},"90s":{minAmount:5e3,profit:20},"120s":{minAmount:1e4,profit:25},"180s":{minAmount:3e4,profit:30},"240s":{minAmount:5e4,profit:50},"300s":{minAmount:1e5,profit:75},"600s":{minAmount:2e5,profit:100}},rs=N=>{var U;return((U=Js[N])==null?void 0:U.profit)||10},Fs=N=>{var U;return((U=Js[N])==null?void 0:U.minAmount)||100},Ya=(N,U)=>{const fe=Fs(U);return N>=fe},Or=async N=>{var U,fe;try{if(!Ya(I,E)){const Ct=Fs(E);alert(`You cannot follow this market, please recharge your deposit. Minimum amount for ${E} is ${Ct.toLocaleString()} USDT`);return}if(We<I){alert("Insufficient balance");return}if(V.length>=3){alert("Maximum 3 active trades allowed");return}const J=parseInt(E.replace("s","")),le=dt;console.log("🔍 Current user for trade:",s);let ke="user-1";if((s==null?void 0:s.email)==="angela.soenoko@gmail.com"?ke="user-angela-1758195715":(s==null?void 0:s.email)==="amdsnkstudio@metachrome.io"?ke="user-1":s!=null&&s.id&&(ke=s.id),console.log("🔍 Trading with user ID:",ke),!le||le<=0){alert("Price data not available. Please wait a moment and try again.");return}console.log("🚀 TRADE DEBUG: About to place trade:",{userId:ke,symbol:t,direction:N,amount:I,duration:J,entryPrice:le});const Ie={userId:ke,symbol:t,direction:N,amount:I.toString(),duration:J,entryPrice:le};console.log("💰 CLIENT: Sending trade with amount:",I,"Type:",typeof I),console.log("💰 CLIENT: Full payload:",JSON.stringify(Ie,null,2));const mt=await fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(Ie)});if(!mt.ok){const Ct=await mt.text();throw new Error(Ct||"Failed to place trade")}const kt=await mt.json();if(console.log("🚀 TRADE DEBUG: Trade placement response:",kt),kt.success){console.log("✅ TRADE DEBUG: Trade placed successfully, trade ID:",(U=kt.trade)==null?void 0:U.id);const Ct=Date.now(),Ft=rs(E),C={id:((fe=kt.trade)==null?void 0:fe.id)||`trade_${Ct}_${Math.random().toString(36).substring(2,11)}`,direction:N,entryPrice:le,amount:I,duration:J,startTime:Ct,endTime:Ct+J*1e3,profitPercentage:Ft,status:"active"};$(Q=>[...Q,C]),H(J),O(!0),l.invalidateQueries({queryKey:["/api/balances"]}),s!=null&&s.id&&(localStorage.removeItem(`tradeHistory_${s.id}`),console.log("🗑️ Cleared trade history cache to prevent conflicts"));try{Jf("place")}catch(Q){console.warn("Sound play failed:",Q)}console.log("🚀 Trade Executed:",{direction:N.toUpperCase(),amount:`${I} USDT`,duration:E,entryPrice:`$${le.toFixed(2)}`,potentialProfit:`${Ft}%`,potentialPayout:`${(I*(1+Ft/100)).toFixed(2)} USDT`})}else throw new Error(kt.message||"Failed to place trade")}catch(J){console.error("Trade execution error:",J);const le=J instanceof Error?J.message:"Please try again.";alert(`Failed to execute trade: ${le}`)}};try{return c?r.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[r.jsx(Mx,{}),r.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold text-base",children:B.symbol}),r.jsxs("div",{className:"text-white text-lg font-bold",children:[dt.toFixed(2)," USDT"]}),r.jsx("div",{className:`text-xs font-semibold ${h}`,children:u||(ee==null?void 0:ee.priceChangePercent24h)||"+0.00%"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),r.jsx("div",{className:"text-white text-sm font-bold",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M":"0.00M"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2 text-xs",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"24h High"}),r.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.high24h)||"119,558"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"24h Low"}),r.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.low24h)||"117,205"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Volume"}),r.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Turnover"}),r.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)*parseFloat(ee.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),r.jsx("div",{className:"bg-gray-800/50 px-4 py-2 border-b border-gray-600",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Symbol:"}),r.jsxs("select",{value:t,onChange:N=>{const U=N.target.value;e(U),ge(U)},className:"bg-gray-700 text-white text-sm font-medium rounded-md px-3 py-1.5 border border-gray-600 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"BTCUSDT",children:"BTC/USDT"}),r.jsx("option",{value:"ETHUSDT",children:"ETH/USDT"}),r.jsx("option",{value:"XRPUSDT",children:"XRP/USDT"}),r.jsx("option",{value:"LTCUSDT",children:"LTC/USDT"}),r.jsx("option",{value:"BNBUSDT",children:"BNB/USDT"}),r.jsx("option",{value:"SOLUSDT",children:"SOL/USDT"}),r.jsx("option",{value:"TONUSDT",children:"TON/USDT"}),r.jsx("option",{value:"DOGEUSDT",children:"DOGE/USDT"}),r.jsx("option",{value:"ADAUSDT",children:"ADA/USDT"}),r.jsx("option",{value:"TRXUSDT",children:"TRX/USDT"}),r.jsx("option",{value:"HYPEUSDT",children:"HYPE/USDT"}),r.jsx("option",{value:"LINKUSDT",children:"LINK/USDT"}),r.jsx("option",{value:"AVAXUSDT",children:"AVAX/USDT"}),r.jsx("option",{value:"SUIUSDT",children:"SUI/USDT"}),r.jsx("option",{value:"SHIBUSDT",children:"SHIB/USDT"}),r.jsx("option",{value:"BCHUSDT",children:"BCH/USDT"}),r.jsx("option",{value:"DOTUSDT",children:"DOT/USDT"}),r.jsx("option",{value:"MATICUSDT",children:"MATIC/USDT"}),r.jsx("option",{value:"XLMUSDT",children:"XLM/USDT"})]})]})}),r.jsxs("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"380px"},children:[r.jsx(Ow,{trades:V,currentPrice:dt}),r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx("select",{value:t,onChange:N=>{const U=N.target.value;e(U),ge(U)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:ft.map(N=>r.jsxs("option",{value:N.rawSymbol,className:"bg-gray-800 text-white",children:[N.coin,"/USDT"]},N.rawSymbol))})}),r.jsx("div",{className:"w-full h-full",children:r.jsx(Sh,{children:r.jsx(wh,{type:"chart",symbol:`BINANCE:${t}`,height:380,interval:"1",theme:"dark",container_id:"options_mobile_tradingview_chart",onSymbolChange:ge})})})]}),r.jsxs("div",{className:"bg-[#10121E] min-h-screen flex",children:[r.jsxs("div",{className:"w-1/2 border-r border-gray-700",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("div",{className:"text-white font-bold text-sm",children:B.symbol}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold text-white text-sm",children:[P>0?P.toFixed(2):Je>0?Je.toFixed(2):"Loading..."," USDT"]}),r.jsxs("div",{className:`text-xs ${m?"text-green-400":"text-red-400"}`,children:[u," (",h,")"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-1 p-1.5 text-xs text-gray-400 border-b border-gray-700",children:[r.jsx("span",{children:"Price"}),r.jsx("span",{children:"Volume"}),r.jsx("span",{children:"Total"})]}),r.jsxs("div",{className:"h-[300px] overflow-y-auto",children:[r.jsx("div",{className:"space-y-0",children:re.sellOrders.slice(0,8).map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 text-xs hover:bg-gray-800",children:[r.jsx("span",{className:"text-red-400 font-mono",children:N.price}),r.jsx("span",{className:"text-gray-300 font-mono",children:N.volume}),r.jsx("span",{className:"text-gray-400 font-mono",children:N.turnover})]},U))}),r.jsx("div",{className:"px-2 py-2 border-y border-gray-600",children:r.jsx("div",{className:"text-center",children:r.jsxs("span",{className:`text-sm font-bold ${m?"text-green-400":"text-red-400"}`,children:[dt.toFixed(2)," USDT"]})})}),r.jsx("div",{className:"space-y-0",children:re.buyOrders.slice(0,8).map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 gap-1 px-2 py-1 text-xs hover:bg-gray-800",children:[r.jsx("span",{className:"text-green-400 font-mono",children:N.price}),r.jsx("span",{className:"text-gray-300 font-mono",children:N.volume}),r.jsx("span",{className:"text-gray-400 font-mono",children:N.turnover})]},U))})]})]}),r.jsxs("div",{className:"w-1/2",children:[r.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[r.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"Market Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"24h Change"}),r.jsx("span",{className:`font-semibold ${(Zi=ee==null?void 0:ee.priceChangePercent24h)!=null&&Zi.startsWith("-")?"text-red-400":"text-green-400"}`,children:(ee==null?void 0:ee.priceChangePercent24h)||"0.00%"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"24h High"}),r.jsx("span",{className:"text-white font-semibold",children:(ee==null?void 0:ee.high24h)||P.toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"24h Low"}),r.jsx("span",{className:"text-white font-semibold",children:(ee==null?void 0:ee.low24h)||P.toFixed(2)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"24h Volume"}),r.jsx("span",{className:"text-white font-semibold",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M":"0.00"})]})]})]}),r.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[r.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"My Orders"}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:V.length>0?V.map(N=>{const U=Math.max(0,Math.ceil(((N.expiryTime||N.endTime)-Date.now())/1e3)),fe=U>0?U/N.duration*100:0;return r.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N.direction==="up"?"bg-green-400":"bg-red-400"}`}),r.jsx("span",{className:"text-white text-xs font-medium",children:B.symbol}),r.jsx("span",{className:`text-xs px-1 py-0.5 rounded ${N.direction==="up"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:N.direction.toUpperCase()})]}),r.jsxs("span",{className:"text-white font-bold text-xs",children:["$",N.amount]})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[r.jsxs("span",{children:["Entry: $",N.entryPrice]}),r.jsxs("span",{children:["Current: $",dt.toFixed(2)]})]}),U>0?r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsxs("span",{className:"text-gray-400",children:[U,"s"]}),r.jsx("span",{className:`font-medium ${N.direction==="up"&&dt>N.entryPrice||N.direction==="down"&&dt<N.entryPrice?"text-green-400":"text-red-400"}`,children:N.direction==="up"&&dt>N.entryPrice||N.direction==="down"&&dt<N.entryPrice?"Winning":"Losing"})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-0.5",children:r.jsx("div",{className:"bg-blue-500 h-0.5 rounded-full transition-all duration-1000",style:{width:`${fe}%`}})})]}):r.jsx("div",{className:"text-center",children:r.jsx("span",{className:`text-xs font-bold ${N.direction==="up"&&(N.exitPrice||N.currentPrice||0)>N.entryPrice||N.direction==="down"&&(N.exitPrice||N.currentPrice||0)<N.entryPrice?"text-green-400":"text-red-400"}`,children:N.direction==="up"&&(N.exitPrice||N.currentPrice||0)>N.entryPrice||N.direction==="down"&&(N.exitPrice||N.currentPrice||0)<N.entryPrice?"WON":"LOST"})})]},N.id)}):r.jsx("div",{className:"text-center py-2",children:r.jsx("div",{className:"text-gray-400 text-xs",children:"No active trades"})})})]}),r.jsxs("div",{className:"px-3 py-2",children:[r.jsx("h3",{className:"text-white font-bold mb-2 text-sm",children:"Trading Pairs"}),r.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:A.slice(0,6).map((N,U)=>{var Ie;const fe=!((Ie=N.priceChangePercent24h)!=null&&Ie.startsWith("-")),le={BTC:{icon:"₿",bg:"bg-orange-500"},ETH:{icon:"Ξ",bg:"bg-purple-500"},BNB:{icon:"B",bg:"bg-yellow-600"},SOL:{icon:"S",bg:"bg-purple-600"},XRP:{icon:"✕",bg:"bg-gray-600"},ADA:{icon:"A",bg:"bg-blue-500"}}[N.coin]||{icon:N.coin[0],bg:"bg-gray-500"},ke=parseFloat(N.price).toFixed(N.price.includes(".")&&parseFloat(N.price)<1?4:2);return r.jsxs("div",{onClick:()=>G(N.rawSymbol),className:`flex items-center justify-between p-1.5 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ${t===N.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center text-white font-bold text-xs ${le.bg}`,children:le.icon}),r.jsx("div",{children:r.jsx("div",{className:"text-white text-xs font-medium",children:N.symbol})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-white text-xs",children:ke}),r.jsx("div",{className:`text-xs ${fe?"text-green-400":"text-red-400"}`,children:N.priceChangePercent24h})]})]},U)})})]})]})]}),r.jsxs("div",{className:"px-3 py-2 space-y-2 bg-[#10121E]",children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-400 text-xs",children:"Current Price:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-green-400 animate-pulse":"bg-red-400"}`}),r.jsx("span",{className:"text-xs text-gray-500",children:a?"Live":"Offline"})]})]}),r.jsxs("span",{className:"text-white font-bold text-sm",children:[P>0?P.toFixed(2):Je>0?Je.toFixed(2):"Loading..."," USDT"]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-gray-400 text-xs",children:"Balance:"}),s?r.jsxs("span",{className:"text-green-400 font-bold text-sm",children:[We.toFixed(2)," USDT"]}):r.jsx("span",{className:"text-yellow-400 font-bold text-xs",children:"Sign in required"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Duration & Profit"}),r.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(N=>r.jsxs("button",{onClick:()=>{_(N.duration);const U=Fs(N.duration);I<U&&k(U)},className:`py-1 px-1 rounded text-center transition-colors ${E===N.duration?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:Z,children:[r.jsx("div",{className:"text-xs font-medium",children:N.duration}),r.jsx("div",{className:"text-[9px] text-green-400",children:N.profit})]},N.duration))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:["Amount (USDT) - Min: ",Fs(E).toLocaleString()]}),r.jsx("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[100,500,1e3,2e3].map(N=>r.jsx("button",{onClick:()=>k(N),className:`py-1 px-2 rounded text-xs font-medium transition-colors ${I===N?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:Z,children:N},N))}),r.jsxs("button",{onClick:()=>{const N=Math.floor(We)||0;k(N)},className:`w-full py-1 px-2 rounded text-xs font-medium transition-colors mb-1.5 ${I===Math.floor(We||0)?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:Z,children:["Max (",Math.floor(We||0)," USDT)"]}),r.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:I,onChange:N=>{const U=N.target.value.replace(/[^0-9.]/g,""),fe=parseFloat(U)||0;k(fe)},onBlur:N=>{const U=parseFloat(N.target.value)||0;U<100?k(100):U>(We||0)&&k(Math.floor(We||0))},className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-1.5 text-white text-xs focus:border-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:`Enter amount (Min: 100, Max: ${Math.floor(We||0)})`})]}),!s&&r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-3 mb-2 text-center",children:[r.jsx("div",{className:"text-white font-bold text-base mb-1",children:"🔒 Login to Trade"}),r.jsx("div",{className:"text-white/80 text-xs mb-2",children:"Sign in to start options trading and earn up to 15% profit"}),r.jsx("a",{href:"/login",className:"inline-block bg-white text-purple-600 font-bold py-1.5 px-4 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"Login Now"})]}),(!(s!=null&&s.verificationStatus)||(s==null?void 0:s.verificationStatus)==="unverified")&&(s==null?void 0:s.role)!=="super_admin"?r.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-3 mb-2",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-yellow-100 font-semibold mb-1 text-sm",children:"🔒 Verification Required"}),r.jsx("div",{className:"text-yellow-200 text-xs mb-2",children:"Upload your verification documents to start trading"}),r.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1.5 rounded text-xs",children:"Upload Documents"})]})}):(s==null?void 0:s.verificationStatus)==="pending"?r.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-3 mb-2",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-blue-100 font-semibold mb-1 text-sm",children:"⏳ Verification Pending"}),r.jsx("div",{className:"text-blue-200 text-xs",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})}):r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{onClick:()=>Or("up"),disabled:V.length>=3||I<100||We<I,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium text-base transition-colors relative",children:[r.jsx("div",{children:"Buy Up"}),r.jsxs("div",{className:"text-xs mt-0.5",children:["Profit: ",rs(E),"% • Payout: ",(I*(1+rs(E)/100)).toFixed(0)," USDT"]})]}),r.jsxs("button",{onClick:()=>Or("down"),disabled:V.length>=3||I<100||We<I,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium text-base transition-colors relative",children:[r.jsx("div",{children:"Buy Down"}),r.jsxs("div",{className:"text-xs mt-0.5",children:["Profit: ",rs(E),"% • Payout: ",(I*(1+rs(E)/100)).toFixed(0)," USDT"]})]})]}),M>0&&r.jsx("div",{className:"text-center py-2",children:r.jsxs("div",{className:"text-yellow-400 font-bold",children:["Next trade available in: ",M,"s"]})})]}),r.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[200px]",children:[r.jsx("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("button",{onClick:()=>T("open"),className:`pb-1 text-sm font-medium ${S==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Active Trades(",V.length,")"]}),r.jsxs("button",{onClick:()=>T("history"),className:`pb-1 text-sm font-medium ${S==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Trade History(",R.length,")"]}),S==="history"&&r.jsxs("button",{onClick:()=>{console.log("🔄 MANUAL REFRESH: User clicked refresh button"),Ye(!0),Ge()},disabled:he,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r.jsx("svg",{className:`w-4 h-4 ${he?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r.jsx("span",{children:he?"Refreshing...":"Refresh"})]})]})}),r.jsxs("div",{className:"px-4 py-2 max-h-[300px] overflow-y-auto",children:[S==="open"&&r.jsx(r.Fragment,{children:V.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})]}):V.map(N=>{const U=Math.max(0,Math.ceil((N.endTime-Date.now())/1e3)),fe=Je-N.entryPrice,J=N.direction==="up"&&fe>0||N.direction==="down"&&fe<0,le=J?N.amount*(1+N.profitPercentage/100)-N.amount:-N.amount;return r.jsxs("div",{className:"bg-gray-800 rounded p-3 mb-2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:`font-bold text-sm ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:[N.direction.toUpperCase()," • ",N.amount," USDT"]}),r.jsxs("span",{className:"text-yellow-400 font-bold text-sm",children:[U,"s"]})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[r.jsxs("span",{children:["Entry: ",N.entryPrice.toFixed(2)]}),r.jsxs("span",{children:["Current: ",P.toFixed(2)]}),r.jsxs("span",{className:`font-bold ${J?"text-green-400":"text-red-400"}`,children:[le>0?"+":"",le.toFixed(2)," USDT"]})]})]},N.id)})}),S==="history"&&r.jsx(r.Fragment,{children:he?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-8 h-8 mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Loading trade history..."})]}):R.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No trade history"}),r.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Complete some trades to see your history here"})]}):r.jsx("div",{className:"space-y-2",children:R.map(N=>{const U=N.duration===30?10:15,fe=N.profit!==void 0?N.profit:N.status==="won"?N.amount*U/100:-N.amount,J=new Date(N.endTime).toLocaleTimeString();return r.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:`font-bold text-sm ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:[N.direction.toUpperCase()," • ",N.amount," USDT"]}),r.jsx("span",{className:`font-bold text-sm ${N.status==="won"?"text-green-400":"text-red-400"}`,children:N.status==="won"?"✅ WON":"❌ LOST"})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-300",children:[r.jsxs("span",{children:["Entry: ",N.entryPrice.toFixed(2)]}),r.jsxs("span",{children:["Time: ",J]}),r.jsxs("span",{className:`font-bold ${N.status==="won"?"text-green-400":"text-red-400"}`,children:[N.status==="won"?"+":"",fe.toFixed(2)," USDT"]})]})]},N.id)})})})]})]}),r.jsx(Bc,{}),r.jsx(fh,{}),r.jsx(Rw,{trade:q?{id:q.id,direction:q.direction,amount:q.amount,entryPrice:q.entryPrice,finalPrice:q.currentPrice||q.entryPrice,status:q.status,payout:q.payout||(q.status==="won"?q.amount+q.amount*(q.profitPercentage||10)/100:0),profitPercentage:q.profitPercentage||(E==="30"?10:15),symbol:t.replace("USDT","/USDT"),duration:parseInt(E.replace("s",""))}:null,onClose:()=>{console.log("🔔 NOTIFICATION: onClose called (mobile)"),ne(null),localStorage.removeItem("completedTrade")}},de)]}):r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[r.jsx(Dx,{}),r.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold text-lg",children:B.symbol}),r.jsx("div",{className:"text-white text-2xl font-bold",children:parseFloat(B.price).toFixed(2)}),r.jsxs("div",{className:"text-gray-400 text-sm",children:[parseFloat(B.price).toFixed(2)," USDT"]})]}),r.jsx("div",{className:`text-lg font-semibold ${(L=B.priceChangePercent24h)!=null&&L.startsWith("-")?"text-red-400":"text-green-400"}`,children:B.priceChangePercent24h||"+0.00%"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Change 24h"}),r.jsxs("div",{className:`text-white font-semibold ${(d==null?void 0:d.priceChange24h)>=0?"text-green-400":"text-red-400"}`,children:[((te=d==null?void 0:d.priceChange24h)==null?void 0:te.toFixed(2))||"0.00"," ",(d==null?void 0:d.priceChangePercent24h)>=0?"+":"",((Fe=d==null?void 0:d.priceChangePercent24h)==null?void 0:Fe.toFixed(2))||"0.00","%"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h High"}),r.jsx("div",{className:"text-white",children:((it=d==null?void 0:d.high24h)==null?void 0:it.toFixed(2))||(ee==null?void 0:ee.high24h)||P.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h Low"}),r.jsx("div",{className:"text-white",children:((Lt=d==null?void 0:d.low24h)==null?void 0:Lt.toFixed(2))||(ee==null?void 0:ee.low24h)||P.toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Volume 24h (BTC)"}),r.jsx("div",{className:"text-white",children:d!=null&&d.volume24h?(parseFloat(d.volume24h.toString())/1e6).toFixed(2)+"M":ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M":"0.00"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),r.jsx("div",{className:"text-white",children:d!=null&&d.volume24h&&(d!=null&&d.price)?(parseFloat(d.volume24h.toString())*d.price/1e6).toFixed(2)+"M":ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)*parseFloat(ee.price)/1e6).toFixed(2)+"M":"0.00"})]})]})]})}),r.jsxs("div",{className:"bg-[#10121E] flex",children:[r.jsxs("div",{className:"w-64 border-r border-gray-700",children:[r.jsxs("div",{className:"p-3 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-white font-bold",children:B.symbol}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold text-white text-lg",children:parseFloat(B.price).toFixed(2)}),r.jsx("div",{className:`text-sm font-semibold ${(_t=B.priceChangePercent24h)!=null&&_t.startsWith("-")?"text-red-400":"text-green-400"}`,children:B.priceChangePercent24h||"+0.00%"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-sm"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-white text-sm",children:"0.01"}),r.jsx("span",{className:"text-gray-400",children:"▼"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 text-xs text-gray-400 border-b border-gray-700",children:[r.jsx("span",{children:"Price (USDT)"}),r.jsx("span",{children:"Volume (BTC)"}),r.jsx("span",{children:"Turnover"})]}),r.jsxs("div",{className:"h-[400px] overflow-y-auto","data-orderbook":"desktop",children:[r.jsx("div",{className:"space-y-0",children:re.sellOrders.length>0?re.sellOrders.map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"sell",children:[r.jsx("span",{style:{color:"rgb(248, 113, 113)",fontWeight:"500"},"data-field":"price",children:N.price}),r.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:N.volume}),r.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:N.turnover})]},U)):r.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading sell orders..."})}),r.jsx("div",{className:`p-2 my-1 ${m?"bg-green-900/20":"bg-red-900/20"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-bold text-white text-lg",children:dt.toFixed(2)}),r.jsx("span",{className:`${m?"text-green-400":"text-red-400"}`,children:m?"↑":"↓"}),r.jsxs("span",{className:"text-gray-400 text-sm",children:[dt.toFixed(2)," USDT"]})]})}),r.jsx("div",{className:"space-y-0",children:re.buyOrders.length>0?re.buyOrders.map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"buy",children:[r.jsx("span",{style:{color:"rgb(74, 222, 128)",fontWeight:"500"},"data-field":"price",children:N.price}),r.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:N.volume}),r.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:N.turnover})]},U)):r.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading buy orders..."})})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{className:"text-xs text-gray-400",children:["Chart Sync: ",r.jsx("span",{className:"text-green-400",children:"Active"})]})}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[!1,r.jsx("button",{onClick:()=>p("tradingview"),className:`text-xs transition-colors ${b==="tradingview"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Trading view"}),b==="tradingview"&&r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("span",{className:"text-xs text-gray-400",children:"Quick select:"}),r.jsx("button",{onClick:()=>{console.log("🔄 Manual symbol change to BTCUSDT"),ft.find(U=>U.rawSymbol==="BTCUSDT")&&e("BTCUSDT")},className:"text-xs text-orange-400 hover:text-orange-300 px-1",children:"BTC"}),r.jsx("button",{onClick:()=>{console.log("🔄 Manual symbol change to ETHUSDT"),ft.find(U=>U.rawSymbol==="ETHUSDT")&&e("ETHUSDT")},className:"text-xs text-blue-400 hover:text-blue-300 px-1",children:"ETH"}),r.jsx("button",{onClick:()=>{console.log("🔄 Manual symbol change to SOLUSDT"),ft.find(U=>U.rawSymbol==="SOLUSDT")&&e("SOLUSDT")},className:"text-xs text-green-400 hover:text-green-300 px-1",children:"SOL"})]}),r.jsx("button",{onClick:()=>p("depth"),className:`text-xs transition-colors ${b==="depth"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Depth"})]})})]})}),r.jsxs("div",{className:"h-[500px] relative bg-[#10121E] p-1",children:[r.jsx(Ow,{trades:V,currentPrice:(d==null?void 0:d.price)||P}),!1,b==="tradingview"&&r.jsxs("div",{className:"relative h-full",children:[r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs("select",{value:t,onChange:N=>{const U=N.target.value;e(U),ge(U)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:[r.jsx("option",{value:"BTCUSDT",className:"bg-gray-800 text-white",children:"BTC/USDT"}),r.jsx("option",{value:"ETHUSDT",className:"bg-gray-800 text-white",children:"ETH/USDT"}),r.jsx("option",{value:"XRPUSDT",className:"bg-gray-800 text-white",children:"XRP/USDT"}),r.jsx("option",{value:"LTCUSDT",className:"bg-gray-800 text-white",children:"LTC/USDT"}),r.jsx("option",{value:"BNBUSDT",className:"bg-gray-800 text-white",children:"BNB/USDT"}),r.jsx("option",{value:"SOLUSDT",className:"bg-gray-800 text-white",children:"SOL/USDT"}),r.jsx("option",{value:"TONUSDT",className:"bg-gray-800 text-white",children:"TON/USDT"}),r.jsx("option",{value:"DOGEUSDT",className:"bg-gray-800 text-white",children:"DOGE/USDT"}),r.jsx("option",{value:"ADAUSDT",className:"bg-gray-800 text-white",children:"ADA/USDT"}),r.jsx("option",{value:"TRXUSDT",className:"bg-gray-800 text-white",children:"TRX/USDT"}),r.jsx("option",{value:"HYPEUSDT",className:"bg-gray-800 text-white",children:"HYPE/USDT"}),r.jsx("option",{value:"LINKUSDT",className:"bg-gray-800 text-white",children:"LINK/USDT"}),r.jsx("option",{value:"AVAXUSDT",className:"bg-gray-800 text-white",children:"AVAX/USDT"}),r.jsx("option",{value:"SUIUSDT",className:"bg-gray-800 text-white",children:"SUI/USDT"}),r.jsx("option",{value:"SHIBUSDT",className:"bg-gray-800 text-white",children:"SHIB/USDT"}),r.jsx("option",{value:"BCHUSDT",className:"bg-gray-800 text-white",children:"BCH/USDT"}),r.jsx("option",{value:"DOTUSDT",className:"bg-gray-800 text-white",children:"DOT/USDT"}),r.jsx("option",{value:"MATICUSDT",className:"bg-gray-800 text-white",children:"MATIC/USDT"}),r.jsx("option",{value:"XLMUSDT",className:"bg-gray-800 text-white",children:"XLM/USDT"})]})}),r.jsx(Sh,{children:r.jsx(wh,{type:"chart",symbol:`BINANCE:${t}`,height:490,interval:"1",theme:"dark",container_id:"options_tradingview_chart",onSymbolChange:ge})})]}),b==="depth"&&r.jsxs("div",{className:"w-full h-full p-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Market Depth Chart"}),r.jsxs("div",{className:"text-gray-400 text-sm",children:["Real-time order book visualization for ",t]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 h-[400px]",children:[r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsx("div",{className:"text-green-400 text-sm font-bold mb-3 text-center",children:"Buy Orders (Bids)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-3 text-xs text-gray-400 border-b border-gray-600 pb-1",children:[r.jsx("span",{children:"Price"}),r.jsx("span",{className:"text-center",children:"Amount"}),r.jsx("span",{className:"text-right",children:"Total"})]}),re.buyOrders.slice(0,15).map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 text-xs hover:bg-gray-700/50 p-1 rounded",children:[r.jsx("span",{className:"text-green-400 font-mono",children:N.price}),r.jsx("span",{className:"text-gray-300 font-mono text-center",children:N.volume}),r.jsx("span",{className:"text-gray-300 font-mono text-right",children:N.turnover})]},U))]})]}),r.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[r.jsx("div",{className:"text-red-400 text-sm font-bold mb-3 text-center",children:"Sell Orders (Asks)"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-3 text-xs text-gray-400 border-b border-gray-600 pb-1",children:[r.jsx("span",{children:"Price"}),r.jsx("span",{className:"text-center",children:"Amount"}),r.jsx("span",{className:"text-right",children:"Total"})]}),re.sellOrders.slice(0,15).map((N,U)=>r.jsxs("div",{className:"grid grid-cols-3 text-xs hover:bg-gray-700/50 p-1 rounded",children:[r.jsx("span",{className:"text-red-400 font-mono",children:N.price}),r.jsx("span",{className:"text-gray-300 font-mono text-center",children:N.volume}),r.jsx("span",{className:"text-gray-300 font-mono text-right",children:N.turnover})]},U))]})]})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gray-700/50 px-4 py-2 rounded-lg",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Current Price:"}),r.jsxs("span",{className:"text-white font-bold text-lg",children:[dt.toFixed(2)," USDT"]}),r.jsxs("span",{className:`text-sm ${(d==null?void 0:d.priceChangePercent24h)>=0?"text-green-400":"text-red-400"}`,children:[(d==null?void 0:d.priceChangePercent24h)>=0?"+":"",((Us=d==null?void 0:d.priceChangePercent24h)==null?void 0:Us.toFixed(2))||"0.00","%"]})]})})]})]}),r.jsxs("div",{className:"p-4 border-t border-gray-700",children:[r.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-400",children:"Current Price:"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-400 animate-pulse":"bg-red-400"}`}),r.jsx("span",{className:"text-xs text-gray-500",children:a?"Live":"Offline"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-white font-bold text-lg",children:[P>0?P.toFixed(2):Je>0?Je.toFixed(2):"Loading..."," USDT"]})})]}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-gray-400",children:"Balance:"}),s?r.jsxs("span",{className:"text-green-400 font-bold",children:[We.toFixed(2)," USDT"]}):r.jsx("span",{className:"text-yellow-400 font-bold",children:"Sign in required"})]}),!1,Z&&V.length>0&&r.jsx("div",{className:"mt-3 space-y-2",children:V.map(N=>{const U=Math.max(0,Math.ceil((N.endTime-Date.now())/1e3)),fe=Je-N.entryPrice,J=N.direction==="up"&&fe>0||N.direction==="down"&&fe<0;return r.jsxs("div",{className:"p-2 bg-gray-700 rounded text-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:`font-bold ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:[N.direction.toUpperCase()," ",N.amount," USDT"]}),r.jsxs("span",{className:"text-yellow-400 font-bold",children:[U,"s"]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("span",{className:"text-gray-400",children:["Entry: ",N.entryPrice.toFixed(2)," USDT"]}),r.jsxs("span",{className:`font-bold ${J?"text-green-400":"text-red-400"}`,children:[fe>0?"+":"",fe.toFixed(2)," USDT"]})]}),r.jsx("div",{className:"text-center mt-1",children:r.jsxs("span",{className:`text-xs ${J?"text-green-400":"text-red-400"}`,children:[J?"🟢 WINNING":"🔴 LOSING"," • Profit: ",N.profitPercentage,"%"]})})]},N.id)})})]}),r.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(N=>r.jsxs("button",{onClick:()=>{_(N.duration);const U=Fs(N.duration);I<U&&k(U)},className:`p-2 rounded text-center border transition-colors ${E===N.duration?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:Z,children:[r.jsx("div",{className:"text-sm font-medium",children:N.duration}),r.jsx("div",{className:"text-xs text-green-400",children:N.profit})]},N.duration))}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"text-gray-400 text-sm mb-2",children:["Minimum buy: ",Fs(E).toLocaleString()," USDT | Selected: ",I," USDT"]}),r.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[100,500,1e3,2e3].map(N=>r.jsx("button",{onClick:()=>k(N),className:`p-2 rounded text-sm transition-colors ${I===N?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:Z,children:N},N))}),r.jsx("div",{className:"grid grid-cols-1 gap-2 mb-2",children:r.jsxs("button",{onClick:()=>{const N=Math.floor(We)||0;k(N)},className:`p-2 rounded text-sm transition-colors ${I===Math.floor(We||0)?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:Z,children:["Max (",Math.floor(We||0)," USDT)"]})}),r.jsx("div",{className:"mt-2",children:r.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:I,onChange:N=>{const U=N.target.value.replace(/[^0-9.]/g,""),fe=parseFloat(U)||0;k(fe)},onBlur:N=>{const U=parseFloat(N.target.value)||0;U<100?k(100):U>(We||0)&&k(Math.floor(We||0))},className:"w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:`Enter amount (Min: 100, Max: ${Math.floor(We||0)})`})})]}),r.jsx("div",{className:"text-gray-400 text-sm mb-4",children:s?r.jsxs(r.Fragment,{children:["Available: ",(We||0).toFixed(2)," USDT | Active Trades: ",V.length,"/3"]}):r.jsx(r.Fragment,{children:"Sign in to view balance and start trading"})}),!1,s?(!(s!=null&&s.verificationStatus)||(s==null?void 0:s.verificationStatus)==="unverified")&&(s==null?void 0:s.role)!=="super_admin"?r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-yellow-100 font-semibold mb-2",children:"🔒 Verification Required"}),r.jsx("div",{className:"text-yellow-200 text-sm mb-3",children:"Upload your verification documents to start trading"}),r.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm",children:"Upload Documents"})]})})}):(s==null?void 0:s.verificationStatus)==="pending"?r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-blue-100 font-semibold mb-2",children:"⏳ Verification Pending"}),r.jsx("div",{className:"text-blue-200 text-sm",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})})}):r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>Or("up"),disabled:V.length>=3||I<100||We<I,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[r.jsx("div",{children:"Buy Up"}),r.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",rs(E),"% • Payout: ",(I*(1+rs(E)/100)).toFixed(0)," USDT"]})]}),r.jsxs("button",{onClick:()=>Or("down"),disabled:V.length>=3||I<100||We<I,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[r.jsx("div",{children:"Buy Down"}),r.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",rs(E),"% • Payout: ",(I*(1+rs(E)/100)).toFixed(0)," USDT"]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[r.jsx("div",{children:"Buy Up"}),r.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]}),r.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[r.jsx("div",{children:"Buy Down"}),r.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]})]}),r.jsx("p",{className:"text-center text-yellow-400 text-sm",children:r.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start options trading"})})]})]})]}),r.jsxs("div",{className:"w-80 border-l border-gray-700",children:[r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",placeholder:"Search coins (e.g. ETH, BTC, SOL)",value:w,onChange:N=>se(N.target.value),className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),r.jsx("div",{className:"px-4 mb-4",children:r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),r.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Spot"}),r.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Options"})]})}),r.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto",children:A.length>0?A.map((N,U)=>{var Ie;const fe=!((Ie=N.priceChangePercent24h)!=null&&Ie.startsWith("-")),le={BTC:{icon:"₿",bg:"bg-orange-500"},ETH:{icon:"Ξ",bg:"bg-purple-500"},BNB:{icon:"B",bg:"bg-yellow-600"},SOL:{icon:"S",bg:"bg-purple-600"},XRP:{icon:"✕",bg:"bg-gray-600"},ADA:{icon:"A",bg:"bg-blue-500"},DOGE:{icon:"D",bg:"bg-yellow-500"},MATIC:{icon:"M",bg:"bg-purple-700"},DOT:{icon:"●",bg:"bg-pink-500"},AVAX:{icon:"A",bg:"bg-red-500"}}[N.coin]||{icon:N.coin[0],bg:"bg-gray-500"},ke=parseFloat(N.price).toFixed(N.price.includes(".")&&parseFloat(N.price)<1?6:2);return r.jsxs("div",{onClick:()=>G(N.rawSymbol),className:`flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ${t===N.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${le.bg}`,children:le.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white text-sm font-medium",children:N.symbol}),r.jsx("div",{className:"text-gray-400 text-xs",children:N.coin})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-white text-sm",children:ke}),r.jsx("div",{className:`text-xs ${fe?"text-green-400":"text-red-400"}`,children:N.priceChangePercent24h})]})]},U)}):r.jsxs("div",{className:"text-center text-gray-400 py-4",children:[r.jsx("div",{className:"text-sm",children:"No coins found"}),r.jsx("div",{className:"text-xs mt-1",children:"Try searching for BTC, ETH, SOL, etc."})]})}),r.jsxs("div",{className:"border-t border-gray-700",children:[r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),r.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Time"}),r.jsx("span",{children:"Price (USDT)"}),r.jsx("span",{children:"Amount"})]})}),r.jsx("div",{className:"h-[200px] overflow-y-auto px-4",children:r.jsx("div",{className:"space-y-1 py-2",children:R.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"No recent transactions"}),r.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Complete some trades to see transactions here"})]}):R.slice(0,8).map((N,U)=>r.jsxs("div",{className:"flex justify-between text-xs py-1 hover:bg-gray-800/50 rounded px-2 -mx-2 max-w-full overflow-hidden",children:[r.jsx("span",{className:"text-gray-400 font-mono truncate flex-shrink-0 w-16",children:new Date(N.endTime).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8)}),r.jsx("span",{className:`font-mono truncate flex-shrink-0 w-16 text-center ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.entryPrice.toFixed(2)}),r.jsx("span",{className:"text-gray-300 font-mono truncate flex-shrink-0 w-12 text-right",children:N.amount.toFixed(0)})]},U))})})]})]})]}),r.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[200px]",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("button",{onClick:()=>T("open"),className:`pb-1 text-sm font-medium ${S==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Active Trades(",V.length,")"]}),r.jsxs("button",{onClick:()=>T("history"),className:`pb-1 text-sm font-medium ${S==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Trade History(",R.length,")"]}),S==="history"&&r.jsxs("button",{onClick:()=>{console.log("🔄 MANUAL REFRESH: User clicked refresh button"),Ye(!0),Ge()},disabled:he,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r.jsx("svg",{className:`w-4 h-4 ${he?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r.jsx("span",{children:he?"Refreshing...":"Refresh"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("label",{className:"flex items-center text-sm text-gray-400",children:[r.jsx("input",{type:"checkbox",className:"mr-2"}),"Hide other trading pairs"]}),S==="history"&&r.jsxs("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),s!=null&&s.id&&(async()=>{Ye(!0);try{const U=await fetch(`/api/users/${s.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(U.ok){const fe=await U.json();console.log("🔄 Refreshed trade history:",fe.length);const J=fe.filter(le=>le.result&&le.result!=="pending"&&le.status==="completed").map(le=>{const ke=parseFloat(le.entry_price||"0");let Ie=parseFloat(le.exit_price||"0");const mt=le.result==="win";if(console.log(`📊 Trade ${le.id}: Entry=${ke}, Exit=${Ie}, Status=${le.status}, Result=${le.result}`),!Ie||Ie===0){console.log(`⚠️ Missing exit price for trade ${le.id}, generating consistent fallback`);const Ct=((parseInt(le.id.toString().slice(-6))||123456)*9301+49297)%233280/233280,Ft=.005,C=1e-4,Q=Ft-C,ve=Ct*Q+C;let Y=1;le.direction==="up"?Y=mt?1:-1:le.direction==="down"&&(Y=mt?-1:1),Ie=ke*(1+ve*Y);const ye=.01;Math.abs(Ie-ke)<ye&&(Ie=ke+Y*ye),console.log(`✅ Generated fallback exit price for trade ${le.id}: ${Ie}`)}else console.log(`✅ Using stored exit price for trade ${le.id}: ${Ie}`);return{id:le.id,symbol:le.symbol||"BTCUSDT",amount:parseFloat(le.amount),direction:le.direction,duration:le.duration||30,entryPrice:ke,currentPrice:Ie,payout:mt?parseFloat(le.amount)+parseFloat(le.profit_loss||"0"):0,status:mt?"won":"lost",endTime:le.updated_at||le.created_at,startTime:le.created_at,profit:parseFloat(le.profit_loss||"0")}});X(J)}}catch(U){console.error("❌ Error refreshing trade history:",U)}finally{Ye(!1)}})()},className:"text-gray-400 hover:text-white flex items-center space-x-1",disabled:he,children:[r.jsx("svg",{className:`w-4 h-4 ${he?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r.jsx("span",{className:"text-xs",children:"Refresh"})]}),r.jsx("button",{className:"text-gray-400 hover:text-white",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),r.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:r.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs text-gray-400",children:[r.jsx("span",{className:"truncate",children:"Market/Direction"}),r.jsx("span",{className:"truncate text-center",children:"Entry Price"}),r.jsx("span",{className:"truncate text-center",children:"Current Price"}),r.jsx("span",{className:"truncate text-center",children:"Amount"}),r.jsx("span",{className:"truncate text-center",children:"Profit/Loss %"}),r.jsx("span",{className:"truncate text-center",children:"P&L (USDT)"}),r.jsx("span",{className:"truncate text-center",children:"Date & Time"}),r.jsx("span",{className:"truncate text-center",children:"Status"})]})}),r.jsxs("div",{className:"px-4 py-2 max-h-[300px] overflow-y-auto",children:[S==="open"&&r.jsx(r.Fragment,{children:V.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})]}):V.map(N=>{const U=Math.max(0,Math.ceil((N.endTime-Date.now())/1e3)),fe=Je-N.entryPrice,J=N.direction==="up"&&fe>0||N.direction==="down"&&fe<0,le=J?N.amount*(1+N.profitPercentage/100)-N.amount:-N.amount;return r.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs py-3 border-b border-gray-800 hover:bg-gray-800/30 max-w-full overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("span",{className:"text-gray-400 text-xs truncate",children:t.replace("USDT","/USDT")}),r.jsx("span",{className:`font-bold truncate ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.direction.toUpperCase()})]}),r.jsx("span",{className:"text-gray-300 truncate text-center",children:N.entryPrice.toFixed(2)}),r.jsx("span",{className:"text-white truncate text-center",children:P.toFixed(2)}),r.jsx("span",{className:"text-gray-300 truncate text-center",children:N.amount}),r.jsxs("span",{className:"text-gray-300 truncate text-center",children:[N.profitPercentage,"%"]}),r.jsxs("span",{className:`font-bold truncate text-center ${J?"text-green-400":"text-red-400"}`,children:[le>0?"+":"",le.toFixed(2)]}),r.jsxs("span",{className:"text-yellow-400 font-bold truncate text-center",children:[U,"s"]}),r.jsx("span",{className:`font-bold truncate text-center ${J?"text-green-400":"text-red-400"}`,children:J?"🟢":"🔴"})]},N.id)})}),S==="history"&&r.jsx(r.Fragment,{children:he?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-8 h-8 mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Loading trade history..."})]}):R.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No trade history"}),r.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Complete some trades to see your history here"})]}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"mb-6",children:R.map(N=>{var Ie;const U=N.duration===30?10:15,fe=N.profit!==void 0?N.profit:N.status==="won"?N.amount*U/100:-N.amount,J=new Date(N.endTime).toLocaleTimeString(),le=N.symbol?N.symbol.replace("USDT","/USDT"):"BTC/USDT",ke=new Date(N.endTime).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return r.jsxs("div",{className:"grid grid-cols-8 gap-2 text-xs py-3 border-b border-gray-800 hover:bg-gray-800/30 max-w-full overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("span",{className:"text-gray-400 text-xs truncate",children:le}),r.jsx("span",{className:`font-bold truncate ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.direction.toUpperCase()})]}),r.jsx("span",{className:"text-gray-300 truncate text-center",children:N.entryPrice.toFixed(2)}),r.jsx("span",{className:"text-gray-300 truncate text-center",children:((Ie=N.currentPrice)==null?void 0:Ie.toFixed(2))||"N/A"}),r.jsx("span",{className:"text-gray-300 truncate text-center",children:N.amount}),r.jsxs("span",{className:"text-gray-300 truncate text-center",children:[U,"%"]}),r.jsxs("span",{className:`font-bold truncate text-center ${N.status==="won"?"text-green-400":"text-red-400"}`,children:[N.status==="won"?"+":"",fe.toFixed(2)]}),r.jsx("span",{className:"text-gray-400 text-xs truncate text-center",children:new Date(N.endTime).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),r.jsx("span",{className:`font-bold truncate text-center ${N.status==="won"?"text-green-400":"text-red-400"}`,children:N.status==="won"?"WIN":"LOSE"})]},N.id)})})})})]})]}),r.jsx(Bc,{}),!1,r.jsx(Rw,{trade:q?{id:q.id,direction:q.direction,amount:q.amount,entryPrice:q.entryPrice,finalPrice:q.currentPrice||q.entryPrice,status:q.status,payout:q.payout||(q.status==="won"?q.amount+q.amount*(q.profitPercentage||10)/100:0),profitPercentage:q.profitPercentage||(E==="30"?10:15),symbol:t.replace("USDT","/USDT"),duration:parseInt(E.replace("s",""))}:null,onClose:()=>{console.log("🔔 NOTIFICATION: onClose called"),ne(null),localStorage.removeItem("completedTrade")}},de),be&&pe&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-5 z-[999999]",onClick:()=>{ce(!1),document.body.style.overflow="auto"},children:r.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 max-w-sm w-full text-white relative",onClick:N=>N.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-5",children:[r.jsx("div",{className:"text-lg font-bold",children:pe.symbol}),r.jsx("button",{onClick:()=>{ce(!1),document.body.style.overflow="auto"},className:"bg-transparent border-0 text-white text-2xl cursor-pointer p-0 w-6 h-6",children:"×"})]}),r.jsxs("div",{className:"text-center mb-5",children:[r.jsxs("div",{className:`text-4xl font-bold mb-2 ${pe.pnl>=0?"text-green-400":"text-red-400"}`,children:[pe.pnl>=0?"+":"",pe.pnl.toFixed(0)," USDT"]}),r.jsx("div",{className:"text-gray-400 text-base",children:"Settlement completed"})]}),r.jsxs("div",{className:"mb-5",children:[r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsx("span",{className:"text-gray-400",children:"Current price :"}),r.jsx("span",{children:pe.currentPrice})]}),r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsx("span",{className:"text-gray-400",children:"Time :"}),r.jsx("span",{children:pe.duration})]}),r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsx("span",{className:"text-gray-400",children:"Side :"}),r.jsx("span",{className:pe.side==="Buy Up"?"text-green-400":"text-red-400",children:pe.side})]}),r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsx("span",{className:"text-gray-400",children:"Amount :"}),r.jsxs("span",{children:[pe.amount," USDT"]})]}),r.jsxs("div",{className:"flex justify-between mb-3",children:[r.jsx("span",{className:"text-gray-400",children:"Price :"}),r.jsxs("span",{children:[pe.price.toFixed(2)," USDT"]})]})]}),r.jsx("div",{className:"text-gray-400 text-sm leading-relaxed",children:"The ultimate price for each option contract is determined by the system's settlement process."})]})})]})}catch(N){return console.error("OptionsPage render error:",N),r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-red-400 text-xl mb-4",children:"⚠️ Trading Page Error"}),r.jsx("div",{className:"text-gray-300 mb-4",children:"Something went wrong. Please refresh the page."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded",children:"Refresh Page"})]})})}}function Iw(){return r.jsx(JL,{})}function JL(){const[t,e]=f.useState("BTCUSDT");return r.jsx(qx,{symbol:t,updateInterval:2e3,children:r.jsx(YL,{selectedSymbol:t,setSelectedSymbol:e})})}function ZL(){var Zi;const{user:t}=ms(),{toast:e}=gr(),s=Mr(),{lastMessage:n,connected:i,sendMessage:a}=fm(),o=Cn(),[l,c]=f.useState(""),[d,u]=f.useState("open"),[h,m]=f.useState("buy"),[x,y]=f.useState("limit"),[g,v]=f.useState("LTCUSDT"),[b,p]=f.useState("tradingview"),[w,j]=f.useState([]),[S,T]=f.useState([]),E=f.useRef(!1),{priceData:_}=Sl(),{changeText:I,changeColor:k,isPositive:P}=Qx(),{high:F,low:M,volume:H}=Xx(),{getPriceForSymbol:Z}=MT(),O=Z(g),V=(O==null?void 0:O.price)||(_==null?void 0:_.price)||0,$=V.toFixed(2),R=L=>{const te=Z(L);return te?{price:te.price.toFixed(L.includes("SHIB")?8:2),change:`${te.priceChangePercent24h>=0?"+":""}${te.priceChangePercent24h.toFixed(2)}%`,isPositive:te.priceChangePercent24h>=0}:{price:"0.00",change:"+0.00%",isPositive:!0}};f.useEffect(()=>(console.log("🔍 SpotPage mounted"),console.log("🔍 User:",t),console.log("💰 SpotPage - Price from context:",_==null?void 0:_.price),console.log("💰 SpotPage - Selected symbol:",g),console.log("💰 SpotPage - Selected symbol price data:",O),console.log("💰 SpotPage - Current price:",V),()=>{console.log("🔍 SpotPage unmounted")}),[t,_,g,O,V]),f.useEffect(()=>{t&&!E.current&&(X(),E.current=!0)},[t]);const X=async()=>{if(t)try{const L=localStorage.getItem(`orderHistory_${t.id||"user-1"}`);if(L){const Fe=JSON.parse(L);T(Fe),console.log("📋 Loaded order history from localStorage:",Fe.length,"orders");return}const te=[{id:"1",symbol:"BTC/USDT",type:"buy",orderType:"limit",amount:"0.001",price:"110,750.00",total:"110.75",status:"filled",time:new Date(Date.now()-36e5).toLocaleString(),fee:"0.11"},{id:"2",symbol:"ETH/USDT",type:"sell",orderType:"market",amount:"0.05",price:"3,577.42",total:"178.87",status:"filled",time:new Date(Date.now()-72e5).toLocaleString(),fee:"0.18"},{id:"3",symbol:"BTC/USDT",type:"buy",orderType:"limit",amount:"0.0005",price:"110,500.00",total:"55.25",status:"filled",time:new Date(Date.now()-108e5).toLocaleString(),fee:"0.06"},{id:"4",symbol:"SOL/USDT",type:"buy",orderType:"market",amount:"2.5",price:"245.67",total:"614.18",status:"filled",time:new Date(Date.now()-144e5).toLocaleString(),fee:"0.61"},{id:"5",symbol:"XRP/USDT",type:"sell",orderType:"limit",amount:"100",price:"3.18",total:"318.00",status:"filled",time:new Date(Date.now()-18e6).toLocaleString(),fee:"0.32"}];T(te),localStorage.setItem(`orderHistory_${t.id||"user-1"}`,JSON.stringify(te)),console.log("📋 Created initial order history:",te.length,"orders")}catch(L){console.error("❌ Error loading order history:",L)}},q=L=>{if(t)try{localStorage.setItem(`orderHistory_${t.id||"user-1"}`,JSON.stringify(L)),console.log("💾 Saved order history to localStorage:",L.length,"orders")}catch(te){console.error("❌ Error saving order history:",te)}},ne=[{symbol:"BTC/USDT",coin:"BTC",rawSymbol:"BTCUSDT",...R("BTCUSDT"),icon:"₿",iconBg:"bg-orange-500"},{symbol:"ETH/USDT",coin:"ETH",rawSymbol:"ETHUSDT",...R("ETHUSDT"),icon:"Ξ",iconBg:"bg-purple-500"},{symbol:"XRP/USDT",coin:"XRP",rawSymbol:"XRPUSDT",...R("XRPUSDT"),icon:"✕",iconBg:"bg-gray-600"},{symbol:"LTC/USDT",coin:"LTC",rawSymbol:"LTCUSDT",...R("LTCUSDT"),icon:"Ł",iconBg:"bg-gray-500"},{symbol:"BNB/USDT",coin:"BNB",rawSymbol:"BNBUSDT",...R("BNBUSDT"),icon:"B",iconBg:"bg-yellow-600"},{symbol:"SOL/USDT",coin:"SOL",rawSymbol:"SOLUSDT",...R("SOLUSDT"),icon:"S",iconBg:"bg-purple-600"},{symbol:"TON/USDT",coin:"TON",rawSymbol:"TONUSDT",...R("TONUSDT"),icon:"T",iconBg:"bg-blue-600"},{symbol:"DOGE/USDT",coin:"DOGE",rawSymbol:"DOGEUSDT",...R("DOGEUSDT"),icon:"D",iconBg:"bg-yellow-500"},{symbol:"ADA/USDT",coin:"ADA",rawSymbol:"ADAUSDT",...R("ADAUSDT"),icon:"A",iconBg:"bg-blue-500"},{symbol:"TRX/USDT",coin:"TRX",rawSymbol:"TRXUSDT",...R("TRXUSDT"),icon:"⚡",iconBg:"bg-red-600"},{symbol:"LINK/USDT",coin:"LINK",rawSymbol:"LINKUSDT",...R("LINKUSDT"),icon:"🔗",iconBg:"bg-blue-700"},{symbol:"AVAX/USDT",coin:"AVAX",rawSymbol:"AVAXUSDT",...R("AVAXUSDT"),icon:"A",iconBg:"bg-red-500"},{symbol:"DOT/USDT",coin:"DOT",rawSymbol:"DOTUSDT",...R("DOTUSDT"),icon:"●",iconBg:"bg-pink-500"},{symbol:"MATIC/USDT",coin:"MATIC",rawSymbol:"MATICUSDT",...R("MATICUSDT"),icon:"M",iconBg:"bg-purple-700"},{symbol:"UNI/USDT",coin:"UNI",rawSymbol:"UNIUSDT",...R("UNIUSDT"),icon:"🦄",iconBg:"bg-pink-600"},{symbol:"ATOM/USDT",coin:"ATOM",rawSymbol:"ATOMUSDT",...R("ATOMUSDT"),icon:"⚛",iconBg:"bg-blue-600"},{symbol:"FIL/USDT",coin:"FIL",rawSymbol:"FILUSDT",...R("FILUSDT"),icon:"F",iconBg:"bg-gray-600"},{symbol:"ETC/USDT",coin:"ETC",rawSymbol:"ETCUSDT",...R("ETCUSDT"),icon:"E",iconBg:"bg-green-600"},{symbol:"XLM/USDT",coin:"XLM",rawSymbol:"XLMUSDT",...R("XLMUSDT"),icon:"⭐",iconBg:"bg-indigo-500"}],de=ne.filter(L=>L.coin.toLowerCase().includes(l.toLowerCase())||L.symbol.toLowerCase().includes(l.toLowerCase())),Se=ne.find(L=>L.rawSymbol===g)||ne[0],ie=L=>{console.log("🔄 Selected trading pair:",L),v(L),c("")},_e=L=>{if(c(L),L.length>0){const te=ne.filter(Fe=>Fe.coin.toLowerCase()===L.toLowerCase());te.length===1&&(console.log("🎯 Auto-selecting exact match:",te[0].rawSymbol),v(te[0].rawSymbol))}},me=L=>{console.log("📈 SPOT: TradingView symbol changed to:",L),console.log("📈 SPOT: Current selected symbol:",g),console.log("📈 SPOT: Available trading pairs:",ne.map(it=>it.rawSymbol));const te=L.replace("BINANCE:","").replace("COINBASE:",""),Fe=ne.find(it=>it.rawSymbol===te);console.log("📈 SPOT: Clean symbol:",te),console.log("📈 SPOT: Matching pair:",Fe),Fe?(console.log("✅ SPOT: Found matching pair:",Fe),v(te)):console.log("⚠️ SPOT: Symbol not found in trading pairs, keeping current:",g)},[Oe,be]=f.useState(""),[ce,pe]=f.useState(""),[ze,K]=f.useState(0),[he,Ye]=f.useState(""),[Ge,ct]=f.useState(""),[dt,ft]=f.useState(0),[A,B]=f.useState(""),[G,ge]=f.useState(""),{data:se}=Zt({queryKey:["/api/balances"],enabled:!!t,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:async()=>{var Fe;console.log("🔍 SPOT: Fetching balance from /api/balances for user:",t==null?void 0:t.id,t==null?void 0:t.username),console.log("🔍 SPOT: Auth token:",((Fe=localStorage.getItem("authToken"))==null?void 0:Fe.substring(0,30))+"...");const L=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 SPOT: Response status:",L.status,L.statusText),!L.ok){const it=await L.text();throw console.error("❌ SPOT: Balance API failed:",L.status,it),new Error(`Failed to fetch balance: ${L.status} ${it}`)}const te=await L.json();return console.log("🔍 SPOT: Balance API response:",te),te}}),{data:re}=Zt({queryKey:["/api/spot/orders"],enabled:!!t,queryFn:async()=>{const L=await fetch("/api/spot/orders");if(!L.ok)throw new Error("Failed to fetch orders");return L.json()}}),[Ce,W]=f.useState(0),[xe,qe]=f.useState(.5);f.useEffect(()=>{if(!t)return;const L=localStorage.getItem(`balances_${t.id||"user-1"}`);if(L){const{usdt:te,btc:Fe}=JSON.parse(L);W(te),qe(Fe),console.log("💾 Loaded balances from localStorage:",{usdt:te,btc:Fe});return}if(se&&Array.isArray(se)){const te=se.find(_t=>_t.symbol==="USDT"),Fe=se.find(_t=>_t.symbol==="BTC"),it=parseFloat((te==null?void 0:te.available)||"0"),Lt=parseFloat((Fe==null?void 0:Fe.available)||"0.5");W(it),qe(Lt),localStorage.setItem(`balances_${t.id||"user-1"}`,JSON.stringify({usdt:it,btc:Lt})),console.log("🔍 SPOT: Updated balances from API and saved to localStorage:",{usdtData:te,btcData:Fe,newUsdtBalance:it,newBtcBalance:Lt})}},[se,t]),console.log("🔍 SPOT PAGE BALANCE DEBUG:",{user:t==null?void 0:t.id,balances:se,usdtBalance:Ce,btcBalance:xe,"balances?.USDT":se==null?void 0:se.USDT,"balances?.USDT?.available":(Zi=se==null?void 0:se.USDT)==null?void 0:Zi.available,"Array.isArray(balances?.balances)":Array.isArray(se==null?void 0:se.balances),"Array.isArray(balances)":Array.isArray(se),"typeof balances":typeof se,"balances keys":se?Object.keys(se):"null"}),typeof window<"u"&&console.log(`🚨 SPOT PAGE: Displaying balance ${Ce} USDT`),f.useEffect(()=>{i&&(t!=null&&t.id)&&(a({type:"subscribe_user_balance",userId:t.id}),console.log("🔌 SPOT: Subscribed to balance updates for user:",t.id))},[i,a,t==null?void 0:t.id]),f.useEffect(()=>{var L;(n==null?void 0:n.type)==="balance_update"&&(console.log("🔄 SPOT: Real-time balance update received:",n.data),console.log("🔄 SPOT: Current user ID:",t==null?void 0:t.id,"Update for user:",(L=n.data)==null?void 0:L.userId),s.invalidateQueries({queryKey:["/api/balances"]}),s.invalidateQueries({queryKey:["/api/auth"]}),s.removeQueries({queryKey:["/api/balances"]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/balances"]})},100))},[n,s,t==null?void 0:t.id]);const{data:We}=Zt({queryKey:["/api/market-data"],refetchInterval:5e3,queryFn:async()=>{const L=await fetch("/api/market-data");if(!L.ok)throw new Error("Failed to fetch market data");return L.json()}}),ee=We==null?void 0:We.find(L=>L.symbol===g);ee&&parseFloat(ee.price);const Ys=ys({mutationFn:async L=>{var N;if(!(t!=null&&t.id))throw new Error("User not authenticated");const te=L.type==="limit"?parseFloat(L.price):V,Fe=parseFloat(L.amount),it=te*Fe,Lt=await fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({userId:t.id,symbol:g,side:"buy",amount:Fe,price:te,type:L.type||"market"})});if(!Lt.ok){const U=await Lt.json();throw new Error(U.message||"Failed to place buy order")}const _t=await Lt.json();return{order:{id:((N=_t.order)==null?void 0:N.id)||Date.now().toString(),symbol:g,type:"buy",orderType:L.type,amount:Fe.toFixed(6),price:te.toFixed(2),total:it.toFixed(2),status:"filled",time:new Date().toLocaleString(),fee:(it*.001).toFixed(2)},executionPrice:te,amount:Fe,total:it,apiResult:_t}},onSuccess:L=>{const{order:te,executionPrice:Fe,amount:it,total:Lt,apiResult:_t}=L;T(Us=>{const N=[te,...Us];return q(N),N}),s.invalidateQueries({queryKey:["/api/balances"]}),e({title:"Buy order completed!",description:`Bought ${it.toFixed(6)} BTC at $${Fe.toFixed(2)}. New balance: ${(Ce-Lt).toFixed(2)} USDT`,duration:5e3}),pe(""),K(0),console.log("✅ Buy order completed:",te)},onError:L=>{e({title:"Failed to place buy order",description:L.message,variant:"destructive"})}}),Je=ys({mutationFn:async L=>{var N;if(!(t!=null&&t.id))throw new Error("User not authenticated");const te=L.type==="limit"?parseFloat(L.price):V,Fe=parseFloat(L.amount),it=te*Fe,Lt=await fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({userId:t.id,symbol:g,side:"sell",amount:Fe,price:te,type:L.type||"market"})});if(!Lt.ok){const U=await Lt.json();throw new Error(U.message||"Failed to place sell order")}const _t=await Lt.json();return{order:{id:((N=_t.order)==null?void 0:N.id)||Date.now().toString(),symbol:g,type:"sell",orderType:L.type,amount:Fe.toFixed(6),price:te.toFixed(2),total:it.toFixed(2),status:"filled",time:new Date().toLocaleString(),fee:(it*.001).toFixed(2)},executionPrice:te,amount:Fe,total:it,apiResult:_t}},onSuccess:L=>{const{order:te,executionPrice:Fe,amount:it,total:Lt,apiResult:_t}=L;T(Us=>{const N=[te,...Us];return q(N),N}),s.invalidateQueries({queryKey:["/api/balances"]}),e({title:"Sell order completed!",description:`Sold ${it.toFixed(6)} BTC at $${Fe.toFixed(2)}. New balance: ${(Ce+Lt).toFixed(2)} USDT`,duration:5e3}),ct(""),ft(0),console.log("✅ Sell order completed:",te)},onError:L=>{e({title:"Failed to place sell order",description:L.message,variant:"destructive"})}});f.useEffect(()=>{var L;(n==null?void 0:n.type)==="balance_update"&&((L=n.data)==null?void 0:L.userId)===(t==null?void 0:t.id)&&(console.log("💰 Real-time balance update received in Spot page:",n.data),s.invalidateQueries({queryKey:["/api/balances"]}),(n.data.changeType==="spot_buy"||n.data.changeType==="spot_sell")&&e({title:"Balance Updated",description:`${n.data.changeType==="spot_buy"?"Buy":"Sell"} order completed. New balance: ${n.data.newBalance} USDT`}))},[n,t==null?void 0:t.id,s,e]),f.useEffect(()=>{i&&(t!=null&&t.id)&&console.log("🔌 Subscribing to balance updates for user:",t.id)},[i,t==null?void 0:t.id]);const jt=()=>{const L=parseFloat(Oe)||0,te=parseFloat(ce)||0;return(L*te).toFixed(2)},ti=()=>{const L=parseFloat(he)||0,te=parseFloat(Ge)||0;return(L*te).toFixed(2)};f.useEffect(()=>{Oe&&ce?B(jt()):ce||B("")},[Oe,ce]),f.useEffect(()=>{he&&Ge?ge(ti()):Ge||ge("")},[he,Ge]);const Js=L=>{K(L);const te=parseFloat(Oe)||V,it=(Ce/te*L/100).toFixed(6);pe(it)},rs=L=>{ft(L);const te=(xe*L/100).toFixed(6);ct(te)},Fs=()=>{console.log("🔥 Buy button clicked!"),console.log("User:",t),console.log("USDT Balance:",Ce),console.log("Buy Amount:",ce),console.log("Buy Price:",Oe);const L=parseFloat(Oe),te=parseFloat(ce);if(!te||te<=0){e({title:"Please enter a valid amount",variant:"destructive"});return}if(x==="limit"&&(!L||L<=0)){e({title:"Please enter a valid price",variant:"destructive"});return}const Fe=x==="limit"?L*te:V*te;if(console.log("Calculated total:",Fe),Fe>Ce){e({title:`Insufficient USDT balance. Need ${Fe.toFixed(2)} but have ${Ce.toFixed(2)}`,variant:"destructive"});return}console.log("✅ All validations passed, placing order..."),Ys.mutate({type:x,amount:te.toString(),price:x==="limit"?L.toString():void 0,total:Fe.toString()})},Ya=()=>{console.log("🔥 Sell button clicked!"),console.log("User:",t),console.log("BTC Balance:",xe),console.log("Sell Amount:",Ge),console.log("Sell Price:",he);const L=parseFloat(he),te=parseFloat(Ge);if(!te||te<=0){e({title:"Please enter a valid amount",variant:"destructive"});return}if(x==="limit"&&(!L||L<=0)){e({title:"Please enter a valid price",variant:"destructive"});return}if(te>xe){e({title:`Insufficient BTC balance. Need ${te.toFixed(6)} but have ${xe.toFixed(6)}`,variant:"destructive"});return}const Fe=x==="limit"?L*te:V*te;console.log("Calculated total:",Fe),console.log("✅ All validations passed, placing sell order..."),Je.mutate({type:x,amount:te.toString(),price:x==="limit"?L.toString():void 0,total:Fe.toString()})};f.useEffect(()=>{V>0&&(Oe||be($),he||Ye($))},[V,Oe,he,$]);const Or=L=>{var Lt;let te=L;(!te||isNaN(te)||te<=0)&&(te=((Lt=Z(g))==null?void 0:Lt.price)||(_==null?void 0:_.price)||166373.87),console.log("📊 Order Book - Base price:",L,"Safe price:",te,"Symbol:",g);const Fe=[],it=[];for(let _t=0;_t<14;_t++){const Us=(_t+1)*(Math.random()*.5+.1),N=te+Us,U=(Math.random()*2+.1).toFixed(4),fe=(N*parseFloat(U)).toFixed(2);Fe.push({price:N.toFixed(2),volume:U,turnover:fe})}for(let _t=0;_t<14;_t++){const Us=(_t+1)*(Math.random()*.5+.1),N=te-Us,U=(Math.random()*2+.1).toFixed(4),fe=(N*parseFloat(U)).toFixed(2);it.push({price:N.toFixed(2),volume:U,turnover:fe})}return{sellOrders:Fe,buyOrders:it}};return o?r.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[r.jsx(Mx,{}),r.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold text-lg",children:Se.symbol}),r.jsxs("div",{className:"text-white text-xl font-bold",children:["$",Se.price]}),r.jsx("div",{className:"text-sm font-semibold",style:{color:Se.isPositive?"#10b981":"#ef4444"},children:Se.change})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),r.jsx("div",{className:"text-white text-sm font-bold",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(1)+"M BTC":"1.2M BTC"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-3 text-xs",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"24h High"}),r.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.high24h)||"119,558"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"24h Low"}),r.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.low24h)||"117,205"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Volume"}),r.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400",children:"Turnover"}),r.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)*parseFloat(ee.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),r.jsxs("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"450px"},children:[r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx("select",{value:g,onChange:L=>{const te=L.target.value;v(te),me(te)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:ne.map(L=>r.jsxs("option",{value:L.rawSymbol,className:"bg-gray-800 text-white",children:[L.coin,"/USDT"]},L.rawSymbol))})}),r.jsx("div",{className:"w-full h-full",children:r.jsx(Sh,{children:r.jsx(wh,{type:"chart",symbol:`BINANCE:${g}`,height:450,interval:"1",theme:"dark",container_id:"spot_mobile_tradingview_chart",onSymbolChange:me})})})]}),r.jsxs("div",{className:"bg-[#10121E] min-h-screen",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Market Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Current Price"}),r.jsxs("div",{className:"text-white font-bold text-lg",children:["$",$]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h Change"}),r.jsx("div",{className:"font-semibold",style:{color:k},children:I})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h Volume"}),r.jsx("div",{className:"text-white font-semibold",children:"2,847.32 BTC"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Market Cap"}),r.jsx("div",{className:"text-white font-semibold",children:"$1.2T"})]})]})]}),r.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[r.jsx("h3",{className:"text-white font-bold mb-3",children:"Order Book"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-red-400 text-sm font-medium mb-2",children:"Sell Orders"}),r.jsx("div",{className:"space-y-1",children:Or(V).sellOrders.slice(0,5).map((L,te)=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-red-400",children:L.price}),r.jsx("span",{className:"text-gray-400",children:L.amount})]},te))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-green-400 text-sm font-medium mb-2",children:"Buy Orders"}),r.jsx("div",{className:"space-y-1",children:Or(V).buyOrders.slice(0,5).map((L,te)=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{className:"text-green-400",children:L.price}),r.jsx("span",{className:"text-gray-400",children:L.amount})]},te))})]})]})]}),r.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[r.jsx("h3",{className:"text-white font-bold mb-3",children:"Market Overview"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{symbol:"BTC/USDT",price:$,change:I},{symbol:"ETH/USDT",price:"3,456.78",change:"+1.23%"},{symbol:"BNB/USDT",price:"712.45",change:"-0.45%"},{symbol:"ADA/USDT",price:"0.8272",change:"+0.60%"}].map((L,te)=>r.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[r.jsx("div",{className:"text-white text-sm font-medium",children:L.symbol}),r.jsxs("div",{className:"text-white text-lg font-bold",children:["$",L.price]}),r.jsx("div",{className:`text-xs font-medium ${L.change.startsWith("-")?"text-red-400":"text-green-400"}`,children:L.change})]},te))})]}),r.jsxs("div",{className:"px-4 py-4 space-y-4",children:[r.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>m("buy"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${h==="buy"?"bg-green-600 text-white":"text-gray-400 hover:text-white"}`,children:"Buy"}),r.jsx("button",{onClick:()=>m("sell"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${h==="sell"?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:"Sell"})]}),r.jsxs("div",{className:"flex space-x-6 mb-4",children:[r.jsx("button",{onClick:()=>y("limit"),className:`pb-2 text-sm font-medium ${x==="limit"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Limit order"}),r.jsx("button",{onClick:()=>y("market"),className:`pb-2 text-sm font-medium ${x==="market"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Market order"})]}),h==="buy"?r.jsxs("div",{className:"space-y-4",children:[x==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price (USDT)"}),r.jsx("input",{type:"number",value:Oe,onChange:L=>be(L.target.value),placeholder:$,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Amount (BTC)"}),r.jsx("input",{type:"number",value:ce,onChange:L=>pe(L.target.value),placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),r.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:jt()})]}),r.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium",children:["Available ",Ce.toFixed(2)," USDT"]}),r.jsx("span",{className:"text-blue-400",children:"≈"})]}),r.jsxs("div",{className:"text-green-400 font-medium",children:["Can buy ≈ ",(Ce/V).toFixed(6)," BTC"]})]}):r.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),r.jsx(z,{onClick:Fs,disabled:!ce||ce==="0"||!t,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?"Buy BTC":"Login to Trade"})]}):r.jsxs("div",{className:"space-y-4",children:[x==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price (USDT)"}),r.jsx("input",{type:"number",value:he,onChange:L=>Ye(L.target.value),placeholder:$,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Amount (BTC)"}),r.jsx("input",{type:"number",value:Ge,onChange:L=>ct(L.target.value),placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),r.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:ti()})]}),r.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium",children:["Available ",xe.toFixed(6)," BTC"]}),r.jsx("span",{className:"text-blue-400",children:"≈"})]}),r.jsxs("div",{className:"text-red-400 font-medium",children:["Available ≈ ",(xe*V).toFixed(2)," USDT"]})]}):r.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),r.jsx(z,{onClick:Ya,disabled:!Ge||Ge==="0"||!t,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?"Sell BTC":"Login to Trade"})]})]}),r.jsxs("div",{className:"px-4 py-4",children:[r.jsx("h3",{className:"text-white font-bold mb-3",children:"Recent Orders"}),r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[S.slice(0,5).map(L=>r.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("span",{className:`text-sm font-medium ${L.type==="buy"?"text-green-400":"text-red-400"}`,children:[L.type.toUpperCase()," ",L.symbol]}),r.jsxs("div",{className:"text-xs text-gray-400",children:[L.amount," @ $",L.price]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`text-sm font-medium ${L.status==="filled"?"text-green-400":L.status==="cancelled"?"text-red-400":"text-yellow-400"}`,children:L.status}),r.jsxs("div",{className:"text-xs text-gray-400",children:["$",L.total]})]})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.time})]},L.id)),S.length===0&&r.jsx("div",{className:"text-center text-gray-400 py-4",children:"No recent orders"})]})]})]}),r.jsx(Bc,{}),r.jsx(fh,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[r.jsx(Dx,{}),r.jsx("div",{className:"bg-[#10121E] flex min-h-screen",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-bold text-lg",children:Se.symbol}),r.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",Se.price]}),r.jsxs("div",{className:"text-gray-400 text-sm",children:["$ ",Se.price]})]}),r.jsx("div",{className:"text-lg font-semibold",style:{color:Se.isPositive?"#10b981":"#ef4444"},children:Se.change}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Change 24h"}),r.jsx("div",{className:"text-white",style:{color:Se.isPositive?"#10b981":"#ef4444"},children:Se.change})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h High"}),r.jsx("div",{className:"text-white",children:g==="BTCUSDT"?F?F.toFixed(2):"119558.19":(parseFloat(Se.price)*1.02).toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"24h Low"}),r.jsx("div",{className:"text-white",children:g==="BTCUSDT"?M?M.toFixed(2):"117204.65":(parseFloat(Se.price)*.98).toFixed(2)})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-gray-400",children:["Volume 24h (",Se.coin,")"]}),r.jsx("div",{className:"text-white",children:g==="BTCUSDT"?H?H.toFixed(2):"681.35":(Math.random()*1e3+500).toFixed(2)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),r.jsx("div",{className:"text-white",children:g==="BTCUSDT"?"80520202.92":(parseFloat(Se.price)*(Math.random()*1e6+5e5)).toFixed(2)})]})]})]})})}),r.jsxs("div",{className:"flex min-h-[900px]",children:[r.jsxs("div",{className:"w-56 bg-[#10121E] border-r border-gray-700 min-h-[900px]",children:[r.jsxs("div",{className:"p-3 border-b border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-white font-bold text-lg",children:g.replace("USDT","/USDT")}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-bold",style:{color:k},children:["$",$]}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Change 24h"}),r.jsx("div",{className:"text-sm",style:{color:k},children:I})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-sm"}),r.jsx("div",{className:"w-4 h-4 bg-yellow-600 rounded-sm"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-white text-sm",children:"0.01"}),r.jsx("span",{className:"text-gray-400",children:"▼"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 text-xs text-gray-400 border-b border-gray-700",children:[r.jsx("span",{children:"Price (USDT)"}),r.jsxs("span",{children:["Volume (",g.replace("USDT",""),")"]}),r.jsx("span",{children:"Turnover"})]}),r.jsxs("div",{className:"flex-1 min-h-[650px] overflow-y-auto",children:[r.jsx("div",{className:"space-y-0",children:Or(V).sellOrders.map((L,te)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-[#3a3d57]",children:[r.jsx("span",{className:"text-red-400",children:L.price}),r.jsx("span",{className:"text-gray-300",children:L.volume}),r.jsx("span",{className:"text-gray-300",children:L.turnover})]},te))}),r.jsx("div",{className:"bg-[#10121E] p-2 my-1",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-bold text-lg",style:{color:k},children:$}),r.jsx("span",{style:{color:k},children:P?"↑":"↓"}),r.jsxs("span",{className:"text-gray-400 text-sm",children:["$",$]})]})}),r.jsx("div",{className:"space-y-0",children:Or(V).buyOrders.map((L,te)=>r.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-[#3a3d57]",children:[r.jsx("span",{className:"text-green-400",children:L.price}),r.jsx("span",{className:"text-gray-300",children:L.volume}),r.jsx("span",{className:"text-gray-300",children:L.turnover})]},te))})]})]}),r.jsxs("div",{className:"flex-1 bg-[#10121E] flex flex-col",children:[r.jsx("div",{className:"p-2 border-b border-gray-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("div",{className:"text-xs text-gray-400",children:["Chart Sync: ",r.jsx("span",{className:"text-green-400",children:"Active"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[!1,r.jsx("button",{onClick:()=>p("tradingview"),className:`text-xs transition-colors ${b==="tradingview"?"text-white bg-blue-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Trading view"}),r.jsx("button",{onClick:()=>p("depth"),className:`text-xs transition-colors ${b==="depth"?"text-white bg-blue-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Depth"})]}),r.jsx("button",{className:"text-gray-400 hover:text-white",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})]})}),r.jsxs("div",{className:"h-[500px] relative bg-[#10121E] p-1",children:[!1,b==="tradingview"&&r.jsxs("div",{className:"relative h-full",children:[r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx("select",{value:g,onChange:L=>{const te=L.target.value;v(te),me(te)},className:"bg-gray-800/90 text-white text-xs font-medium rounded px-2 py-1 border border-gray-600/50 focus:border-blue-500 focus:outline-none min-w-[90px] max-w-[120px] backdrop-blur-sm",style:{backgroundColor:"rgba(31, 41, 55, 0.9)"},children:ne.map(L=>r.jsxs("option",{value:L.rawSymbol,className:"bg-gray-800 text-white",children:[L.coin,"/USDT"]},L.rawSymbol))})}),r.jsx(Sh,{children:r.jsx(wh,{type:"chart",symbol:`BINANCE:${g}`,height:490,interval:"1",theme:"dark",container_id:"spot_tradingview_chart",onSymbolChange:me})})]}),b==="depth"&&r.jsxs("div",{className:"w-full h-full p-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-white text-lg font-bold mb-1",children:"Market Depth Chart"}),r.jsxs("div",{className:"text-gray-400 text-sm",children:["Real-time order book visualization for ",g]})]}),r.jsx("div",{className:"w-full h-[400px] bg-gray-800 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"📊"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Market Depth Chart"}),r.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Coming Soon"})]})})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-4 min-h-[450px] flex-shrink-0",children:[r.jsxs("div",{className:"flex space-x-6 mb-6",children:[r.jsx("button",{onClick:()=>y("limit"),className:`pb-2 text-sm font-medium ${x==="limit"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Limit order"}),r.jsx("button",{onClick:()=>y("market"),className:`pb-2 text-sm font-medium ${x==="market"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Market order"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[x==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:Oe,onChange:L=>be(L.target.value),placeholder:$}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:ce,onChange:L=>{console.log("Buy amount changed:",L.target.value),pe(L.target.value),K(0)},placeholder:"0.00000000",step:"0.000001"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"BTC"})]})]}),r.jsxs("div",{className:"relative py-4",children:[r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("div",{className:`w-2 h-2 rounded-full z-10 ${ze>0?"bg-green-400":"bg-gray-400"}`,style:{left:`${ze}%`}}),r.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),r.jsx("div",{className:"absolute h-0.5 bg-green-400 top-1/2 transform -translate-y-1/2",style:{width:`${ze}%`}})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[r.jsx("button",{onClick:()=>Js(0),className:`hover:text-white transition-colors ${ze===0?"text-green-400":""}`,children:"0"}),r.jsx("button",{onClick:()=>Js(25),className:`hover:text-white transition-colors ${ze===25?"text-green-400":""}`,children:"25%"}),r.jsx("button",{onClick:()=>Js(50),className:`hover:text-white transition-colors ${ze===50?"text-green-400":""}`,children:"50%"}),r.jsx("button",{onClick:()=>Js(75),className:`hover:text-white transition-colors ${ze===75?"text-green-400":""}`,children:"75%"}),r.jsx("button",{onClick:()=>Js(100),className:`hover:text-white transition-colors ${ze===100?"text-green-400":""}`,children:"100%"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:A,onChange:L=>{console.log("Buy turnover changed:",L.target.value),B(L.target.value);const te=parseFloat(L.target.value)||0,Fe=parseFloat(Oe)||V;if(Fe>0){const it=(te/Fe).toFixed(6);console.log("Calculated buy amount:",it),pe(it)}},placeholder:"0.00"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),r.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium",children:["Available ",Ce.toFixed(2)," USDT"]}),r.jsx("span",{className:"text-blue-400",children:"≈"})]}),r.jsxs("div",{className:"text-green-400 font-medium",children:["Can buy ≈ ",(Ce/V).toFixed(6)," BTC"]})]}):r.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),t?r.jsx("button",{onClick:Fs,disabled:Ys.isPending,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:Ys.isPending?"Placing...":"Buy(BTC)"}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:"Buy(BTC)"}),r.jsx("p",{className:"text-center text-yellow-400 text-sm",children:r.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[x==="limit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:he,onChange:L=>Ye(L.target.value),placeholder:$}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:Ge,onChange:L=>{console.log("Sell amount changed:",L.target.value),ct(L.target.value),ft(0)},placeholder:"0.00000000",step:"0.000001"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"BTC"})]})]}),r.jsxs("div",{className:"relative py-4",children:[r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("div",{className:`w-2 h-2 rounded-full z-10 ${dt>0?"bg-red-400":"bg-gray-400"}`,style:{left:`${dt}%`}}),r.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),r.jsx("div",{className:"absolute h-0.5 bg-red-400 top-1/2 transform -translate-y-1/2",style:{width:`${dt}%`}})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[r.jsx("button",{onClick:()=>rs(0),className:`hover:text-white transition-colors ${dt===0?"text-red-400":""}`,children:"0"}),r.jsx("button",{onClick:()=>rs(25),className:`hover:text-white transition-colors ${dt===25?"text-red-400":""}`,children:"25%"}),r.jsx("button",{onClick:()=>rs(50),className:`hover:text-white transition-colors ${dt===50?"text-red-400":""}`,children:"50%"}),r.jsx("button",{onClick:()=>rs(75),className:`hover:text-white transition-colors ${dt===75?"text-red-400":""}`,children:"75%"}),r.jsx("button",{onClick:()=>rs(100),className:`hover:text-white transition-colors ${dt===100?"text-red-400":""}`,children:"100%"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:G,onChange:L=>{console.log("Sell turnover changed:",L.target.value),ge(L.target.value);const te=parseFloat(L.target.value)||0,Fe=parseFloat(he)||V;if(Fe>0){const it=(te/Fe).toFixed(6);console.log("Calculated sell amount:",it),ct(it)}},placeholder:"0.00"}),r.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),r.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"font-medium",children:["Available ",xe.toFixed(6)," BTC"]}),r.jsx("span",{className:"text-blue-400",children:"≈"})]}),r.jsxs("div",{className:"text-red-400 font-medium",children:["Available ≈ ",(xe*V).toFixed(2)," USDT"]})]}):r.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),t?r.jsx("button",{onClick:Ya,disabled:Je.isPending,className:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:Je.isPending?"Placing...":"Sell (BTC)"}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:"Sell (BTC)"}),r.jsx("p",{className:"text-center text-yellow-400 text-sm",children:r.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]})]})]})]}),r.jsxs("div",{className:"w-72 bg-[#10121E] border-l border-gray-700 min-h-[900px] flex flex-col",children:[r.jsx("div",{className:"p-4 flex-shrink-0",children:r.jsxs("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",placeholder:"Search coins (e.g. ETH, BTC, SOL)",value:l,onChange:L=>_e(L.target.value),className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),r.jsx("div",{className:"px-4 mb-4 flex-shrink-0",children:r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),r.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Spot"}),r.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Options"})]})}),r.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto flex-shrink-0",children:de.length>0?de.map((L,te)=>r.jsxs("div",{onClick:()=>ie(L.rawSymbol),className:`flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer transition-colors ${g===L.rawSymbol?"bg-blue-600/20 border border-blue-500/30":""}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${L.iconBg}`,children:L.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white text-sm font-medium",children:L.symbol}),r.jsx("div",{className:"text-gray-400 text-xs",children:L.coin})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-white text-sm",children:L.price}),r.jsx("div",{className:`text-xs ${L.isPositive?"text-green-400":"text-red-400"}`,children:L.change})]})]},te)):r.jsxs("div",{className:"text-center text-gray-400 py-4",children:[r.jsx("div",{className:"text-sm",children:"No coins found"}),r.jsx("div",{className:"text-xs mt-1",children:"Try searching for BTC, ETH, SOL, etc."})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-t border-gray-700",children:[r.jsx("div",{className:"px-4 py-3 flex-shrink-0",children:r.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),r.jsx("div",{className:"px-4 py-2 border-b border-gray-700 flex-shrink-0",children:r.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[r.jsx("span",{children:"Time"}),r.jsx("span",{children:"Price (USDT)"}),r.jsx("span",{children:"Amount"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:r.jsx("div",{className:"space-y-1 py-2",children:[{time:new Date().toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.0080",type:"buy"},{time:new Date(Date.now()-1e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.0001700",type:"buy"},{time:new Date(Date.now()-2e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.1000",type:"sell"},{time:new Date(Date.now()-3e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.0004200",type:"buy"},{time:new Date(Date.now()-5e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.0047",type:"sell"},{time:new Date(Date.now()-6e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:$,amount:"0.0016",type:"buy"},{time:new Date(Date.now()-7e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:V.toFixed(2),amount:"0.00070000",type:"sell"},{time:new Date(Date.now()-8e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:V.toFixed(2),amount:"0.0243",type:"buy"},{time:new Date(Date.now()-9e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.01).toFixed(2),amount:"0.0089",type:"buy"},{time:new Date(Date.now()-1e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.01).toFixed(2),amount:"0.0156",type:"sell"},{time:new Date(Date.now()-11e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.02).toFixed(2),amount:"0.0034",type:"buy"},{time:new Date(Date.now()-12e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.02).toFixed(2),amount:"0.0078",type:"sell"},{time:new Date(Date.now()-13e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.03).toFixed(2),amount:"0.0092",type:"buy"},{time:new Date(Date.now()-14e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.03).toFixed(2),amount:"0.0067",type:"sell"},{time:new Date(Date.now()-15e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.04).toFixed(2),amount:"0.0123",type:"buy"},{time:new Date(Date.now()-16e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.04).toFixed(2),amount:"0.0045",type:"sell"},{time:new Date(Date.now()-17e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.05).toFixed(2),amount:"0.0234",type:"buy"},{time:new Date(Date.now()-18e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.05).toFixed(2),amount:"0.0087",type:"sell"},{time:new Date(Date.now()-19e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.06).toFixed(2),amount:"0.0156",type:"buy"},{time:new Date(Date.now()-2e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(V-.06).toFixed(2),amount:"0.0098",type:"sell"}].map((L,te)=>r.jsxs("div",{className:"flex justify-between text-xs py-1 hover:bg-gray-800/50 rounded px-2 -mx-2",children:[r.jsx("span",{className:"text-gray-400 font-mono",children:L.time}),r.jsx("span",{className:`font-mono ${L.type==="buy"?"text-green-400":"text-red-400"}`,children:L.price}),r.jsx("span",{className:"text-gray-300 font-mono",children:L.amount})]},te))})})]})]})]})]})}),r.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[300px]",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[r.jsx("div",{className:"flex items-center space-x-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>u("open"),className:`pb-1 text-sm font-medium ${d==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Open orders(",w.length,")"]}),r.jsxs("button",{onClick:()=>u("history"),className:`pb-1 text-sm font-medium ${d==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Order history(",S.length,")"]})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{children:"Hide other trading pairs"})]}),r.jsx("button",{className:"text-gray-400 hover:text-white",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-3 text-gray-400 text-xs font-medium border-b border-gray-700",children:[r.jsx("div",{className:"truncate",children:"Trading pair"}),r.jsx("div",{className:"truncate text-center",children:"Type"}),r.jsx("div",{className:"truncate text-center",children:"Price"}),r.jsx("div",{className:"truncate text-center",children:"Amount"}),r.jsx("div",{className:"truncate text-center",children:"Total"}),r.jsx("div",{className:"truncate text-center",children:"Status"}),r.jsx("div",{className:"truncate text-center",children:"Time"})]}),r.jsx("div",{className:"min-h-[200px]",children:d==="open"?w.length>0?r.jsx("div",{className:"space-y-2",children:w.map(L=>r.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-3 text-sm hover:bg-gray-800/50 max-w-full overflow-hidden",children:[r.jsx("div",{className:"text-white truncate",children:L.symbol}),r.jsxs("div",{className:`${L.type==="buy"?"text-green-400":"text-red-400"} truncate text-center`,children:[L.type.toUpperCase()," / ",L.orderType.toUpperCase()]}),r.jsx("div",{className:"text-white truncate text-center",children:L.price}),r.jsx("div",{className:"text-white truncate text-center",children:L.amount}),r.jsx("div",{className:"text-white truncate text-center",children:L.total}),r.jsx("div",{className:"text-yellow-400 truncate text-center",children:"Pending"}),r.jsx("div",{className:"text-gray-400 truncate text-center",children:L.time})]},L.id))}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-500",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),r.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No open orders"})]}):S.length>0?r.jsx("div",{className:"space-y-2",children:S.map(L=>r.jsxs("div",{className:"grid grid-cols-7 gap-2 px-4 py-3 text-sm hover:bg-gray-800/50 max-w-full overflow-hidden",children:[r.jsx("div",{className:"text-white truncate",children:L.symbol}),r.jsxs("div",{className:`${L.type==="buy"?"text-green-400":"text-red-400"} truncate text-center`,children:[L.type.toUpperCase()," / ",L.orderType.toUpperCase()]}),r.jsxs("div",{className:"text-white truncate text-center",children:["$",L.price]}),r.jsx("div",{className:"text-white truncate text-center",children:L.amount}),r.jsxs("div",{className:"text-white truncate text-center",children:["$",L.total]}),r.jsx("div",{className:"text-green-400 truncate text-center",children:"Filled"}),r.jsx("div",{className:"text-gray-400 truncate text-center",children:L.time})]},L.id))}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[r.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-500",children:[r.jsx("path",{fill:"currentColor",d:"M32 8C18.7 8 8 18.7 8 32s10.7 24 24 24 24-10.7 24-24S45.3 8 32 8zm0 44c-11 0-20-9-20-20s9-20 20-20 20 9 20 20-9 20-20 20z"}),r.jsx("path",{fill:"currentColor",d:"M32 16c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm0 28c-6.6 0-12-5.4-12-12s5.4-12 12-12 12 5.4 12 12-5.4 12-12 12z"}),r.jsx("circle",{fill:"currentColor",cx:"32",cy:"32",r:"4"})]})}),r.jsx("div",{className:"text-gray-400 text-sm",children:"No order history"})]})})]})]})}function eF(){return r.jsx(qx,{symbol:"BTCUSDT",updateInterval:2e3,children:r.jsx(ZL,{})})}function Lw(t,[e,s]){return Math.min(s,Math.max(e,t))}function tF(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sF=[" ","Enter","ArrowUp","ArrowDown"],rF=[" ","Enter"],za="Select",[_m,Mm,nF]=rm(za),[Cl]=Dr(za,[nF,Nl]),Dm=Nl(),[iF,Xi]=Cl(za),[aF,oF]=Cl(za),DT=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:x,form:y}=t,g=Dm(e),[v,b]=f.useState(null),[p,w]=f.useState(null),[j,S]=f.useState(!1),T=pm(d),[E,_]=Bi({prop:n,defaultProp:i??!1,onChange:a,caller:za}),[I,k]=Bi({prop:o,defaultProp:l,onChange:c,caller:za}),P=f.useRef(null),F=v?y||!!v.closest("form"):!0,[M,H]=f.useState(new Set),Z=Array.from(M).map(O=>O.props.value).join(";");return r.jsx(D2,{...g,children:r.jsxs(iF,{required:x,scope:e,trigger:v,onTriggerChange:b,valueNode:p,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:Qr(),value:I,onValueChange:k,open:E,onOpenChange:_,dir:T,triggerPointerDownPosRef:P,disabled:m,children:[r.jsx(_m.Provider,{scope:e,children:r.jsx(aF,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(O=>{H(V=>new Set(V).add(O))},[]),onNativeOptionRemove:f.useCallback(O=>{H(V=>{const $=new Set(V);return $.delete(O),$})},[]),children:s})}),F?r.jsxs(s4,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:O=>k(O.target.value),disabled:m,form:y,children:[I===void 0?r.jsx("option",{value:""}):null,Array.from(M)]},Z):null]})})};DT.displayName=za;var AT="SelectTrigger",RT=f.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...i}=t,a=Dm(s),o=Xi(AT,s),l=o.disabled||n,c=vt(e,o.onTriggerChange),d=Mm(s),u=f.useRef("touch"),[h,m,x]=n4(g=>{const v=d().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),p=i4(v,g,b);p!==void 0&&o.onValueChange(p.value)}),y=g=>{l||(o.onOpenChange(!0),x()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(px,{asChild:!0,...a,children:r.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":r4(o.value)?"":void 0,...i,ref:c,onClick:Ee(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Ee(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Ee(i.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(v&&g.key===" ")&&sF.includes(g.key)&&(y(),g.preventDefault())})})})});RT.displayName=AT;var OT="SelectValue",IT=f.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,children:a,placeholder:o="",...l}=t,c=Xi(OT,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=vt(e,c.onValueNodeChange);return hs(()=>{d(u)},[d,u]),r.jsx(Ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:r4(c.value)?r.jsx(r.Fragment,{children:o}):a})});IT.displayName=OT;var lF="SelectIcon",LT=f.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...i}=t;return r.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});LT.displayName=lF;var cF="SelectPortal",FT=t=>r.jsx(ld,{asChild:!0,...t});FT.displayName=cF;var Va="SelectContent",UT=f.forwardRef((t,e)=>{const s=Xi(Va,t.__scopeSelect),[n,i]=f.useState();if(hs(()=>{i(new DocumentFragment)},[]),!s.open){const a=n;return a?qa.createPortal(r.jsx($T,{scope:t.__scopeSelect,children:r.jsx(_m.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),a):null}return r.jsx(BT,{...t,ref:e})});UT.displayName=Va;var Ur=10,[$T,Yi]=Cl(Va),dF="SelectContentImpl",uF=Ia("SelectContent.RemoveScroll"),BT=f.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=t,p=Xi(Va,s),[w,j]=f.useState(null),[S,T]=f.useState(null),E=vt(e,me=>j(me)),[_,I]=f.useState(null),[k,P]=f.useState(null),F=Mm(s),[M,H]=f.useState(!1),Z=f.useRef(!1);f.useEffect(()=>{if(w)return bx(w)},[w]),vx();const O=f.useCallback(me=>{const[Oe,...be]=F().map(ze=>ze.ref.current),[ce]=be.slice(-1),pe=document.activeElement;for(const ze of me)if(ze===pe||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===Oe&&S&&(S.scrollTop=0),ze===ce&&S&&(S.scrollTop=S.scrollHeight),ze==null||ze.focus(),document.activeElement!==pe))return},[F,S]),V=f.useCallback(()=>O([_,w]),[O,_,w]);f.useEffect(()=>{M&&V()},[M,V]);const{onOpenChange:$,triggerPointerDownPosRef:R}=p;f.useEffect(()=>{if(w){let me={x:0,y:0};const Oe=ce=>{var pe,ze;me={x:Math.abs(Math.round(ce.pageX)-(((pe=R.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ze=R.current)==null?void 0:ze.y)??0))}},be=ce=>{me.x<=10&&me.y<=10?ce.preventDefault():w.contains(ce.target)||$(!1),document.removeEventListener("pointermove",Oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",be,{capture:!0})}}},[w,$,R]),f.useEffect(()=>{const me=()=>$(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[$]);const[X,q]=n4(me=>{const Oe=F().filter(pe=>!pe.disabled),be=Oe.find(pe=>pe.ref.current===document.activeElement),ce=i4(Oe,me,be);ce&&setTimeout(()=>ce.ref.current.focus())}),ne=f.useCallback((me,Oe,be)=>{const ce=!Z.current&&!be;(p.value!==void 0&&p.value===Oe||ce)&&(I(me),ce&&(Z.current=!0))},[p.value]),de=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Se=f.useCallback((me,Oe,be)=>{const ce=!Z.current&&!be;(p.value!==void 0&&p.value===Oe||ce)&&P(me)},[p.value]),ie=n==="popper"?Ag:zT,_e=ie===Ag?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return r.jsx($T,{scope:s,content:w,viewport:S,onViewportChange:T,itemRefCallback:ne,selectedItem:_,onItemLeave:de,itemTextRefCallback:Se,focusSelectedItem:V,selectedItemText:k,position:n,isPositioned:M,searchRef:X,children:r.jsx(vm,{as:uF,allowPinchZoom:!0,children:r.jsx(gm,{asChild:!0,trapped:p.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Ee(i,me=>{var Oe;(Oe=p.trigger)==null||Oe.focus({preventScroll:!0}),me.preventDefault()}),children:r.jsx(vl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:r.jsx(ie,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:me=>me.preventDefault(),...b,..._e,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,me=>{const Oe=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Oe&&me.key.length===1&&q(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ce=F().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const pe=me.target,ze=ce.indexOf(pe);ce=ce.slice(ze+1)}setTimeout(()=>O(ce)),me.preventDefault()}})})})})})})});BT.displayName=dF;var hF="SelectItemAlignedPosition",zT=f.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...i}=t,a=Xi(Va,s),o=Yi(Va,s),[l,c]=f.useState(null),[d,u]=f.useState(null),h=vt(e,E=>u(E)),m=Mm(s),x=f.useRef(!1),y=f.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:p}=o,w=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&v&&b){const E=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const pe=k.left-_.left,ze=I.left-pe,K=E.left-ze,he=E.width+K,Ye=Math.max(he,_.width),Ge=window.innerWidth-Ur,ct=Lw(ze,[Ur,Math.max(Ur,Ge-Ye)]);l.style.minWidth=he+"px",l.style.left=ct+"px"}else{const pe=_.right-k.right,ze=window.innerWidth-I.right-pe,K=window.innerWidth-E.right-ze,he=E.width+K,Ye=Math.max(he,_.width),Ge=window.innerWidth-Ur,ct=Lw(ze,[Ur,Math.max(Ur,Ge-Ye)]);l.style.minWidth=he+"px",l.style.right=ct+"px"}const P=m(),F=window.innerHeight-Ur*2,M=g.scrollHeight,H=window.getComputedStyle(d),Z=parseInt(H.borderTopWidth,10),O=parseInt(H.paddingTop,10),V=parseInt(H.borderBottomWidth,10),$=parseInt(H.paddingBottom,10),R=Z+O+M+$+V,X=Math.min(v.offsetHeight*5,R),q=window.getComputedStyle(g),ne=parseInt(q.paddingTop,10),de=parseInt(q.paddingBottom,10),Se=E.top+E.height/2-Ur,ie=F-Se,_e=v.offsetHeight/2,me=v.offsetTop+_e,Oe=Z+O+me,be=R-Oe;if(Oe<=Se){const pe=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const ze=d.clientHeight-g.offsetTop-g.offsetHeight,K=Math.max(ie,_e+(pe?de:0)+ze+V),he=Oe+K;l.style.height=he+"px"}else{const pe=P.length>0&&v===P[0].ref.current;l.style.top="0px";const K=Math.max(Se,Z+g.offsetTop+(pe?ne:0)+_e)+be;l.style.height=K+"px",g.scrollTop=Oe-Se+g.offsetTop}l.style.margin=`${Ur}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[m,a.trigger,a.valueNode,l,d,g,v,b,a.dir,n]);hs(()=>w(),[w]);const[j,S]=f.useState();hs(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const T=f.useCallback(E=>{E&&y.current===!0&&(w(),p==null||p(),y.current=!1)},[w,p]);return r.jsx(fF,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:T,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:r.jsx(Ve.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zT.displayName=hF;var mF="SelectPopperPosition",Ag=f.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=Ur,...a}=t,o=Dm(s);return r.jsx(gx,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ag.displayName=mF;var[fF,Yx]=Cl(Va,{}),Rg="SelectViewport",VT=f.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...i}=t,a=Yi(Rg,s),o=Yx(Rg,s),l=vt(e,a.onViewportChange),c=f.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(_m.Slot,{scope:s,children:r.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const y=window.innerHeight-Ur*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<y){const p=b+x,w=Math.min(y,p),j=p-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});VT.displayName=Rg;var WT="SelectGroup",[pF,gF]=Cl(WT),xF=f.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=Qr();return r.jsx(pF,{scope:s,id:i,children:r.jsx(Ve.div,{role:"group","aria-labelledby":i,...n,ref:e})})});xF.displayName=WT;var HT="SelectLabel",KT=f.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=gF(HT,s);return r.jsx(Ve.div,{id:i.id,...n,ref:e})});KT.displayName=HT;var Ch="SelectItem",[yF,GT]=Cl(Ch),qT=f.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:a,...o}=t,l=Xi(Ch,s),c=Yi(Ch,s),d=l.value===n,[u,h]=f.useState(a??""),[m,x]=f.useState(!1),y=vt(e,p=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,p,n,i)}),g=Qr(),v=f.useRef("touch"),b=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(yF,{scope:s,value:n,disabled:i,textId:g,isSelected:d,onItemTextChange:f.useCallback(p=>{h(w=>w||((p==null?void 0:p.textContent)??"").trim())},[]),children:r.jsx(_m.ItemSlot,{scope:s,value:n,disabled:i,textValue:u,children:r.jsx(Ve.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Ee(o.onFocus,()=>x(!0)),onBlur:Ee(o.onBlur,()=>x(!1)),onClick:Ee(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:Ee(o.onPointerMove,p=>{var w;v.current=p.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,p=>{var w;p.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(o.onKeyDown,p=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&p.key===" "||(rF.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});qT.displayName=Ch;var Yl="SelectItemText",QT=f.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:i,...a}=t,o=Xi(Yl,s),l=Yi(Yl,s),c=GT(Yl,s),d=oF(Yl,s),[u,h]=f.useState(null),m=vt(e,b=>h(b),c.onItemTextChange,b=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,b,c.value,c.disabled)}),x=u==null?void 0:u.textContent,y=f.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return hs(()=>(g(y),()=>v(y)),[g,v,y]),r.jsxs(r.Fragment,{children:[r.jsx(Ve.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?qa.createPortal(a.children,o.valueNode):null]})});QT.displayName=Yl;var XT="SelectItemIndicator",YT=f.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return GT(XT,s).isSelected?r.jsx(Ve.span,{"aria-hidden":!0,...n,ref:e}):null});YT.displayName=XT;var Og="SelectScrollUpButton",JT=f.forwardRef((t,e)=>{const s=Yi(Og,t.__scopeSelect),n=Yx(Og,t.__scopeSelect),[i,a]=f.useState(!1),o=vt(e,n.onScrollButtonChange);return hs(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?r.jsx(e4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});JT.displayName=Og;var Ig="SelectScrollDownButton",ZT=f.forwardRef((t,e)=>{const s=Yi(Ig,t.__scopeSelect),n=Yx(Ig,t.__scopeSelect),[i,a]=f.useState(!1),o=vt(e,n.onScrollButtonChange);return hs(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?r.jsx(e4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ZT.displayName=Ig;var e4=f.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=t,a=Yi("SelectScrollButton",s),o=f.useRef(null),l=Mm(s),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),hs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{c()})})}),vF="SelectSeparator",t4=f.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return r.jsx(Ve.div,{"aria-hidden":!0,...n,ref:e})});t4.displayName=vF;var Lg="SelectArrow",bF=f.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,i=Dm(s),a=Xi(Lg,s),o=Yi(Lg,s);return a.open&&o.position==="popper"?r.jsx(xx,{...i,...n,ref:e}):null});bF.displayName=Lg;var wF="SelectBubbleInput",s4=f.forwardRef(({__scopeSelect:t,value:e,...s},n)=>{const i=f.useRef(null),a=vt(n,i),o=tF(e);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),r.jsx(Ve.select,{...s,style:{..._S,...s.style},ref:a,defaultValue:e})});s4.displayName=wF;function r4(t){return t===""||t===void 0}function n4(t){const e=Xs(t),s=f.useRef(""),n=f.useRef(0),i=f.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,a]}function i4(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=jF(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function jF(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var NF=DT,a4=RT,SF=IT,CF=LT,TF=FT,o4=UT,EF=VT,l4=KT,c4=qT,kF=QT,PF=YT,d4=JT,u4=ZT,h4=t4;const In=NF,Ln=SF,fn=f.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(a4,{ref:n,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,r.jsx(CF,{asChild:!0,children:r.jsx(Qn,{className:"h-4 w-4 opacity-50"})})]}));fn.displayName=a4.displayName;const m4=f.forwardRef(({className:t,...e},s)=>r.jsx(d4,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(ZM,{className:"h-4 w-4"})}));m4.displayName=d4.displayName;const f4=f.forwardRef(({className:t,...e},s)=>r.jsx(u4,{ref:s,className:$e("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Qn,{className:"h-4 w-4"})}));f4.displayName=u4.displayName;const pn=f.forwardRef(({className:t,children:e,position:s="popper",...n},i)=>r.jsx(TF,{children:r.jsxs(o4,{ref:i,className:$e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[r.jsx(m4,{}),r.jsx(EF,{className:$e("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(f4,{})]})}));pn.displayName=o4.displayName;const _F=f.forwardRef(({className:t,...e},s)=>r.jsx(l4,{ref:s,className:$e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));_F.displayName=l4.displayName;const bt=f.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(c4,{ref:n,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(PF,{children:r.jsx(JS,{className:"h-4 w-4"})})}),r.jsx(kF,{children:e})]}));bt.displayName=c4.displayName;const MF=f.forwardRef(({className:t,...e},s)=>r.jsx(h4,{ref:s,className:$e("-mx-1 my-1 h-px bg-muted",t),...e}));MF.displayName=h4.displayName;var Jx="Progress",Zx=100,[DF]=Dr(Jx),[AF,RF]=DF(Jx),p4=f.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:i,getValueLabel:a=OF,...o}=t;(i||i===0)&&!Fw(i)&&console.error(IF(`${i}`,"Progress"));const l=Fw(i)?i:Zx;n!==null&&!Uw(n,l)&&console.error(LF(`${n}`,"Progress"));const c=Uw(n,l)?n:null,d=Th(c)?a(c,l):void 0;return r.jsx(AF,{scope:s,value:c,max:l,children:r.jsx(Ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Th(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":y4(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});p4.displayName=Jx;var g4="ProgressIndicator",x4=f.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,i=RF(g4,s);return r.jsx(Ve.div,{"data-state":y4(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});x4.displayName=g4;function OF(t,e){return`${Math.round(t/e*100)}%`}function y4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Th(t){return typeof t=="number"}function Fw(t){return Th(t)&&!isNaN(t)&&t>0}function Uw(t,e){return Th(t)&&!isNaN(t)&&t<=e&&t>=0}function IF(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zx}\`.`}function LF(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var v4=p4,FF=x4;const b4=f.forwardRef(({className:t,value:e,...s},n)=>r.jsx(v4,{ref:n,className:$e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:r.jsx(FF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));b4.displayName=v4.displayName;function UF(){const{user:t}=ms(),{toast:e}=gr(),s=Mr(),{lastMessage:n}=fm(),[i,a]=f.useState("BTCUSDT"),[o,l]=f.useState(30),[c,d]=f.useState(""),[u,h]=f.useState(null),[m,x]=f.useState("0"),{data:y}=Zt({queryKey:["/api/market-data"],refetchInterval:5e3}),{data:g}=Zt({queryKey:["/api/options-settings"]}),{data:v}=Zt({queryKey:["/api/trades/active"],enabled:!!t}),{data:b}=Zt({queryKey:["/api/balances"],enabled:!!t}),p=ys({mutationFn:async k=>{var M;console.log("🎯 TRADING PAGE: Placing trade with data:",k),console.log("🎯 TRADING PAGE: User ID:",t==null?void 0:t.id),console.log("🎯 TRADING PAGE: Auth token:",((M=localStorage.getItem("authToken"))==null?void 0:M.substring(0,30))+"...");const P=await fetch("/api/trades",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({userId:t==null?void 0:t.id,symbol:k.symbol,type:k.type,direction:k.direction,amount:k.amount,duration:k.duration})});if(console.log("🎯 TRADING PAGE: Response status:",P.status),!P.ok){const H=await P.text();throw console.error("🎯 TRADING PAGE: Error response:",H),new Error(H||"Failed to place trade")}const F=await P.json();return console.log("🎯 TRADING PAGE: Success response:",F),F},onSuccess:()=>{e({title:"Trade Placed Successfully",description:"Your binary options trade has been placed."}),s.invalidateQueries({queryKey:["/api/trades/active"]}),s.invalidateQueries({queryKey:["/api/balances"]}),d("")},onError:k=>{e({title:"Trade Failed",description:k.message||"Failed to place trade.",variant:"destructive"})}});f.useEffect(()=>{if((n==null?void 0:n.type)==="price_update"&&n.data){const k=n.data;k.symbol===i&&x(k.price)}},[n,i]),f.useEffect(()=>{if(y){const k=y.find(P=>P.symbol===i);k&&x(k.price)}},[y,i]),f.useEffect(()=>{const k=setInterval(()=>{if(v){const P=new Date().getTime();v.forEach(F=>{const M=new Date(F.expiresAt).getTime();Math.max(0,M-P)===0&&s.invalidateQueries({queryKey:["/api/trades/active"]})})}},1e3);return()=>clearInterval(k)},[v,s]);const w=y==null?void 0:y.find(k=>k.symbol===i),j=(g==null?void 0:g.filter(k=>k.isActive))||[],S=j.find(k=>k.duration===o),T=Array.isArray(b)?b.find(k=>k.symbol==="USDT"):null,E=k=>{if(!t){e({title:"Login Required",description:"Please login to place trades.",variant:"destructive"});return}if(!c||parseFloat(c)<parseFloat((S==null?void 0:S.minAmount)||"0")){e({title:"Invalid Amount",description:`Minimum amount is ${S==null?void 0:S.minAmount} USDT`,variant:"destructive"});return}p.mutate({symbol:i,type:"options",direction:k,amount:c,duration:o})},_=k=>{const P=new Date().getTime(),F=new Date(k).getTime(),M=Math.max(0,F-P);return Math.floor(M/1e3)},I=k=>{const P=Math.floor(k/60),F=k%60;return`${P}:${F.toString().padStart(2,"0")}`};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"METACHROME Binary Options Trading"}),r.jsx("p",{className:"text-gray-300",children:"Trade binary options with customizable durations and admin-controlled outcomes"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(we,{className:"bg-slate-800/90 border-purple-500/20",children:[r.jsx(rt,{children:r.jsxs(nt,{className:"text-white flex items-center gap-2",children:[r.jsx(cr,{className:"w-5 h-5 text-purple-400"}),"Market Selection"]})}),r.jsx(je,{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:y==null?void 0:y.map(k=>r.jsxs(z,{variant:i===k.symbol?"default":"outline",className:`p-4 h-auto flex flex-col items-start ${i===k.symbol?"bg-purple-600 hover:bg-purple-700":"bg-slate-700/50 hover:bg-slate-700"}`,onClick:()=>a(k.symbol),children:[r.jsx("div",{className:"font-semibold text-white",children:k.symbol.replace("USDT","/USDT")}),r.jsxs("div",{className:"text-sm text-gray-300",children:["$",parseFloat(k.price).toLocaleString()]}),r.jsxs("div",{className:`text-xs flex items-center gap-1 ${parseFloat(k.priceChangePercent24h)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(k.priceChangePercent24h)>=0?r.jsx(xg,{className:"w-3 h-3"}):r.jsx(gg,{className:"w-3 h-3"}),parseFloat(k.priceChangePercent24h).toFixed(2),"%"]})]},k.symbol))})})]}),r.jsx(we,{className:"bg-slate-800/90 border-purple-500/20",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:i.replace("USDT","/USDT")}),r.jsxs("div",{className:"text-4xl font-bold text-purple-400 mb-4",children:["$",parseFloat(m).toLocaleString()]}),w&&r.jsxs("div",{className:`flex items-center justify-center gap-2 ${parseFloat(w.priceChangePercent24h)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(w.priceChangePercent24h)>=0?r.jsx(cr,{className:"w-5 h-5"}):r.jsx(lh,{className:"w-5 h-5"}),r.jsxs("span",{className:"font-semibold",children:[parseFloat(w.priceChangePercent24h).toFixed(2),"% ($",parseFloat(w.priceChange24h).toFixed(2),")"]})]})]})})}),r.jsxs(we,{className:"bg-slate-800/90 border-purple-500/20",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"Place Binary Options Trade"})}),r.jsxs(je,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),r.jsxs(In,{value:o.toString(),onValueChange:k=>l(parseInt(k)),children:[r.jsx(fn,{className:"bg-slate-700 border-slate-600 text-white",children:r.jsx(Ln,{})}),r.jsx(pn,{className:"bg-slate-700 border-slate-600",children:j.map(k=>r.jsxs(bt,{value:k.duration.toString(),children:[k.duration," seconds - Min: $",k.minAmount," - Profit: ",k.profitPercentage,"%"]},k.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (USDT)"}),r.jsx(Re,{type:"number",value:c,onChange:k=>d(k.target.value),placeholder:"Enter amount",className:"bg-slate-700 border-slate-600 text-white",min:(S==null?void 0:S.minAmount)||"0",step:"0.01"}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Min: $",(S==null?void 0:S.minAmount)||"0"," | Available: $",(T==null?void 0:T.available)||"0"]})]})]}),S&&r.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Profit Percentage:"})," ",S.profitPercentage,"%"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Potential Profit:"})," $",c?(parseFloat(c)*parseFloat(S.profitPercentage)/100).toFixed(2):"0.00"]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs(z,{onClick:()=>E("up"),disabled:p.isPending||!t,className:"bg-green-600 hover:bg-green-700 text-white h-12 text-lg font-semibold",children:[r.jsx(xg,{className:"w-5 h-5 mr-2"}),"UP / CALL"]}),r.jsxs(z,{onClick:()=>E("down"),disabled:p.isPending||!t,className:"bg-red-600 hover:bg-red-700 text-white h-12 text-lg font-semibold",children:[r.jsx(gg,{className:"w-5 h-5 mr-2"}),"DOWN / PUT"]})]}),!t&&r.jsx("div",{className:"text-center text-yellow-400",children:"Please login to place trades"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(we,{className:"bg-slate-800/90 border-purple-500/20",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"Active Trades"})}),r.jsx(je,{className:"space-y-4",children:v&&v.length>0?v.map(k=>{const P=_(k.expiresAt),F=(k.duration-P)/k.duration*100;return r.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-white",children:k.symbol.replace("USDT","/USDT")}),r.jsxs("div",{className:"text-sm text-gray-300",children:["$",k.amount," USDT"]})]}),r.jsx(Tt,{variant:k.direction==="up"?"default":"destructive",className:k.direction==="up"?"bg-green-600":"bg-red-600",children:k.direction.toUpperCase()})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300",children:"Time Left:"}),r.jsx("span",{className:"text-white font-mono",children:I(P)})]}),r.jsx(b4,{value:F,className:"h-2"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-300",children:"Entry Price:"}),r.jsxs("span",{className:"text-white",children:["$",parseFloat(k.price).toFixed(2)]})]})]})]},k.id)}):r.jsx("div",{className:"text-gray-400 text-center py-8",children:"No active trades"})})]}),t&&r.jsxs(we,{className:"bg-slate-800/90 border-purple-500/20",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"Account Balance"})}),r.jsxs(je,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:["$",(T==null?void 0:T.available)||"0.00"," USDT"]}),r.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Locked: $",(T==null?void 0:T.locked)||"0.00"," USDT"]})]})]})]})]})]})})}var Am="Dialog",[w4]=Dr(Am),[$F,tn]=w4(Am),j4=t=>{const{__scopeDialog:e,children:s,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=f.useRef(null),c=f.useRef(null),[d,u]=Bi({prop:n,defaultProp:i??!1,onChange:a,caller:Am});return r.jsx($F,{scope:e,triggerRef:l,contentRef:c,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};j4.displayName=Am;var N4="DialogTrigger",S4=f.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,i=tn(N4,s),a=vt(e,i.triggerRef);return r.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sy(i.open),...n,ref:a,onClick:Ee(t.onClick,i.onOpenToggle)})});S4.displayName=N4;var ey="DialogPortal",[BF,C4]=w4(ey,{forceMount:void 0}),T4=t=>{const{__scopeDialog:e,forceMount:s,children:n,container:i}=t,a=tn(ey,e);return r.jsx(BF,{scope:e,forceMount:s,children:f.Children.map(n,o=>r.jsx(Ar,{present:s||a.open,children:r.jsx(ld,{asChild:!0,container:i,children:o})}))})};T4.displayName=ey;var Eh="DialogOverlay",E4=f.forwardRef((t,e)=>{const s=C4(Eh,t.__scopeDialog),{forceMount:n=s.forceMount,...i}=t,a=tn(Eh,t.__scopeDialog);return a.modal?r.jsx(Ar,{present:n||a.open,children:r.jsx(VF,{...i,ref:e})}):null});E4.displayName=Eh;var zF=Ia("DialogOverlay.RemoveScroll"),VF=f.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,i=tn(Eh,s);return r.jsx(vm,{as:zF,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Ve.div,{"data-state":sy(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Wa="DialogContent",k4=f.forwardRef((t,e)=>{const s=C4(Wa,t.__scopeDialog),{forceMount:n=s.forceMount,...i}=t,a=tn(Wa,t.__scopeDialog);return r.jsx(Ar,{present:n||a.open,children:a.modal?r.jsx(WF,{...i,ref:e}):r.jsx(HF,{...i,ref:e})})});k4.displayName=Wa;var WF=f.forwardRef((t,e)=>{const s=tn(Wa,t.__scopeDialog),n=f.useRef(null),i=vt(e,s.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return bx(a)},[]),r.jsx(P4,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault())})}),HF=f.forwardRef((t,e)=>{const s=tn(Wa,t.__scopeDialog),n=f.useRef(!1),i=f.useRef(!1);return r.jsx(P4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),P4=f.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=tn(Wa,s),c=f.useRef(null),d=vt(e,c);return vx(),r.jsxs(r.Fragment,{children:[r.jsx(gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(vl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(KF,{titleId:l.titleId}),r.jsx(qF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ty="DialogTitle",_4=f.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,i=tn(ty,s);return r.jsx(Ve.h2,{id:i.titleId,...n,ref:e})});_4.displayName=ty;var M4="DialogDescription",D4=f.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,i=tn(M4,s);return r.jsx(Ve.p,{id:i.descriptionId,...n,ref:e})});D4.displayName=M4;var A4="DialogClose",R4=f.forwardRef((t,e)=>{const{__scopeDialog:s,...n}=t,i=tn(A4,s);return r.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});R4.displayName=A4;function sy(t){return t?"open":"closed"}var O4="DialogTitleWarning",[nB,I4]=tM(O4,{contentName:Wa,titleName:ty,docsSlug:"dialog"}),KF=({titleId:t})=>{const e=I4(O4),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},GF="DialogDescriptionWarning",qF=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${I4(GF).contentName}}.`;return f.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},QF=j4,XF=S4,YF=T4,L4=E4,F4=k4,U4=_4,$4=D4,JF=R4;const Ao=QF,$w=XF,ZF=YF,B4=f.forwardRef(({className:t,...e},s)=>r.jsx(L4,{ref:s,className:$e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));B4.displayName=L4.displayName;const Ta=f.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(ZF,{children:[r.jsx(B4,{}),r.jsxs(F4,{ref:n,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,r.jsxs(JF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(om,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ta.displayName=F4.displayName;const Ea=({className:t,...e})=>r.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ea.displayName="DialogHeader";const ka=f.forwardRef(({className:t,...e},s)=>r.jsx(U4,{ref:s,className:$e("text-lg font-semibold leading-none tracking-tight",t),...e}));ka.displayName=U4.displayName;const eU=f.forwardRef(({className:t,...e},s)=>r.jsx($4,{ref:s,className:$e("text-sm text-muted-foreground",t),...e}));eU.displayName=$4.displayName;var tU="Label",z4=f.forwardRef((t,e)=>r.jsx(Ve.label,{...t,ref:e,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));z4.displayName=tU;var V4=z4;const sU=am("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=f.forwardRef(({className:t,...e},s)=>r.jsx(V4,{ref:s,className:$e(sU(),t),...e}));Rt.displayName=V4.displayName;var gd={},rU=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},W4={},xr={};let ry;const nU=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];xr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};xr.getSymbolTotalCodewords=function(e){return nU[e]};xr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};xr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ry=e};xr.isKanjiModeEnabled=function(){return typeof ry<"u"};xr.toSJIS=function(e){return ry(e)};var Rm={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Rm);function H4(){this.buffer=[],this.length=0}H4.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let s=0;s<e;s++)this.putBit((t>>>e-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var iU=H4;function xd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}xd.prototype.set=function(t,e,s,n){const i=t*this.size+e;this.data[i]=s,n&&(this.reservedBit[i]=!0)};xd.prototype.get=function(t,e){return this.data[t*this.size+e]};xd.prototype.xor=function(t,e,s){this.data[t*this.size+e]^=s};xd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var aU=xd,K4={};(function(t){const e=xr.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=e(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(n){const i=[],a=t.getRowColCoords(n),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(K4);var G4={};const oU=xr.getSymbolSize,Bw=7;G4.getPositions=function(e){const s=oU(e);return[[0,0],[s-Bw,0],[0,s-Bw]]};var q4={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<a;h++){l=c=0,d=u=null;for(let m=0;m<a;m++){let x=i.get(h,m);x===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=x,l=1),x=i.get(m,h),x===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=x,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function s(n,i,a){switch(n){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){a(d),t.applyMask(d,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(q4);var Om={};const Ci=Rm,au=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ou=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Om.getBlocksCount=function(e,s){switch(s){case Ci.L:return au[(e-1)*4+0];case Ci.M:return au[(e-1)*4+1];case Ci.Q:return au[(e-1)*4+2];case Ci.H:return au[(e-1)*4+3];default:return}};Om.getTotalCodewordsCount=function(e,s){switch(s){case Ci.L:return ou[(e-1)*4+0];case Ci.M:return ou[(e-1)*4+1];case Ci.Q:return ou[(e-1)*4+2];case Ci.H:return ou[(e-1)*4+3];default:return}};var Q4={},Im={};const fc=new Uint8Array(512),kh=new Uint8Array(256);(function(){let e=1;for(let s=0;s<255;s++)fc[s]=e,kh[e]=s,e<<=1,e&256&&(e^=285);for(let s=255;s<512;s++)fc[s]=fc[s-255]})();Im.log=function(e){if(e<1)throw new Error("log("+e+")");return kh[e]};Im.exp=function(e){return fc[e]};Im.mul=function(e,s){return e===0||s===0?0:fc[kh[e]+kh[s]]};(function(t){const e=Im;t.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(n[o],i[l]);return a},t.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(Q4);const X4=Q4;function ny(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ny.prototype.initialize=function(e){this.degree=e,this.genPoly=X4.generateECPolynomial(this.degree)};ny.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(e.length+this.degree);s.set(e);const n=X4.mod(s,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var lU=ny,Y4={},Ji={},iy={};iy.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Tn={};const J4="[0-9]+",cU="[A-Z $%*+\\-./:]+";let Gc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gc=Gc.replace(/u/g,"\\u");const dU="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gc+`)(?:.|[\r
]))+`;Tn.KANJI=new RegExp(Gc,"g");Tn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Tn.BYTE=new RegExp(dU,"g");Tn.NUMERIC=new RegExp(J4,"g");Tn.ALPHANUMERIC=new RegExp(cU,"g");const uU=new RegExp("^"+Gc+"$"),hU=new RegExp("^"+J4+"$"),mU=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Tn.testKanji=function(e){return uU.test(e)};Tn.testNumeric=function(e){return hU.test(e)};Tn.testAlphanumeric=function(e){return mU.test(e)};(function(t){const e=iy,s=Tn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return s.testNumeric(a)?t.NUMERIC:s.testAlphanumeric(a)?t.ALPHANUMERIC:s.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return n(a)}catch{return o}}})(Ji);(function(t){const e=xr,s=Om,n=Rm,i=Ji,a=iy,o=7973,l=e.getBCHDigit(o);function c(m,x,y){for(let g=1;g<=40;g++)if(x<=t.getCapacity(g,y,m))return g}function d(m,x){return i.getCharCountIndicator(m,x)+4}function u(m,x){let y=0;return m.forEach(function(g){const v=d(g.mode,x);y+=v+g.getBitsLength()}),y}function h(m,x){for(let y=1;y<=40;y++)if(u(m,y)<=t.getCapacity(y,x,i.MIXED))return y}t.from=function(x,y){return a.isValid(x)?parseInt(x,10):y},t.getCapacity=function(x,y,g){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const v=e.getSymbolTotalCodewords(x),b=s.getTotalCodewordsCount(x,y),p=(v-b)*8;if(g===i.MIXED)return p;const w=p-d(g,x);switch(g){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(x,y){let g;const v=n.from(y,n.M);if(Array.isArray(x)){if(x.length>1)return h(x,v);if(x.length===0)return 1;g=x[0]}else g=x;return c(g.mode,g.getLength(),v)},t.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let y=x<<12;for(;e.getBCHDigit(y)-l>=0;)y^=o<<e.getBCHDigit(y)-l;return x<<12|y}})(Y4);var Z4={};const Fg=xr,eE=1335,fU=21522,zw=Fg.getBCHDigit(eE);Z4.getEncodedBits=function(e,s){const n=e.bit<<3|s;let i=n<<10;for(;Fg.getBCHDigit(i)-zw>=0;)i^=eE<<Fg.getBCHDigit(i)-zw;return(n<<10|i)^fU};var tE={};const pU=Ji;function al(t){this.mode=pU.NUMERIC,this.data=t.toString()}al.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};al.prototype.getLength=function(){return this.data.length};al.prototype.getBitsLength=function(){return al.getBitsLength(this.data.length)};al.prototype.write=function(e){let s,n,i;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),i=parseInt(n,10),e.put(i,10);const a=this.data.length-s;a>0&&(n=this.data.substr(s),i=parseInt(n,10),e.put(i,a*3+1))};var gU=al;const xU=Ji,Zf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ol(t){this.mode=xU.ALPHANUMERIC,this.data=t}ol.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ol.prototype.getLength=function(){return this.data.length};ol.prototype.getBitsLength=function(){return ol.getBitsLength(this.data.length)};ol.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let n=Zf.indexOf(this.data[s])*45;n+=Zf.indexOf(this.data[s+1]),e.put(n,11)}this.data.length%2&&e.put(Zf.indexOf(this.data[s]),6)};var yU=ol;const vU=Ji;function ll(t){this.mode=vU.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}ll.getBitsLength=function(e){return e*8};ll.prototype.getLength=function(){return this.data.length};ll.prototype.getBitsLength=function(){return ll.getBitsLength(this.data.length)};ll.prototype.write=function(t){for(let e=0,s=this.data.length;e<s;e++)t.put(this.data[e],8)};var bU=ll;const wU=Ji,jU=xr;function cl(t){this.mode=wU.KANJI,this.data=t}cl.getBitsLength=function(e){return e*13};cl.prototype.getLength=function(){return this.data.length};cl.prototype.getBitsLength=function(){return cl.getBitsLength(this.data.length)};cl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let s=jU.toSJIS(this.data[e]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),t.put(s,13)}};var NU=cl,sE={exports:{}};(function(t){var e={single_source_shortest_paths:function(s,n,i){var a={},o={};o[n]=0;var l=e.PriorityQueue.make();l.push(n,0);for(var c,d,u,h,m,x,y,g,v;!l.empty();){c=l.pop(),d=c.value,h=c.cost,m=s[d]||{};for(u in m)m.hasOwnProperty(u)&&(x=m[u],y=h+x,g=o[u],v=typeof o[u]>"u",(v||g>y)&&(o[u]=y,l.push(u,y),a[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(b)}return a},extract_shortest_path_from_predecessor_list:function(s,n){for(var i=[],a=n;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,n,i){var a=e.single_source_shortest_paths(s,n,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var n=e.PriorityQueue,i={},a;s=s||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=s.sorter||n.default_sorter,i},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var i={value:s,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(sE);var SU=sE.exports;(function(t){const e=Ji,s=gU,n=yU,i=bU,a=NU,o=Tn,l=xr,c=SU;function d(b){return unescape(encodeURIComponent(b)).length}function u(b,p,w){const j=[];let S;for(;(S=b.exec(w))!==null;)j.push({data:S[0],index:S.index,mode:p,length:S[0].length});return j}function h(b){const p=u(o.NUMERIC,e.NUMERIC,b),w=u(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let j,S;return l.isKanjiModeEnabled()?(j=u(o.BYTE,e.BYTE,b),S=u(o.KANJI,e.KANJI,b)):(j=u(o.BYTE_KANJI,e.BYTE,b),S=[]),p.concat(w,j,S).sort(function(E,_){return E.index-_.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function m(b,p){switch(p){case e.NUMERIC:return s.getBitsLength(b);case e.ALPHANUMERIC:return n.getBitsLength(b);case e.KANJI:return a.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function x(b){return b.reduce(function(p,w){const j=p.length-1>=0?p[p.length-1]:null;return j&&j.mode===w.mode?(p[p.length-1].data+=w.data,p):(p.push(w),p)},[])}function y(b){const p=[];for(let w=0;w<b.length;w++){const j=b[w];switch(j.mode){case e.NUMERIC:p.push([j,{data:j.data,mode:e.ALPHANUMERIC,length:j.length},{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.ALPHANUMERIC:p.push([j,{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.KANJI:p.push([j,{data:j.data,mode:e.BYTE,length:d(j.data)}]);break;case e.BYTE:p.push([{data:j.data,mode:e.BYTE,length:d(j.data)}])}}return p}function g(b,p){const w={},j={start:{}};let S=["start"];for(let T=0;T<b.length;T++){const E=b[T],_=[];for(let I=0;I<E.length;I++){const k=E[I],P=""+T+I;_.push(P),w[P]={node:k,lastCount:0},j[P]={};for(let F=0;F<S.length;F++){const M=S[F];w[M]&&w[M].node.mode===k.mode?(j[M][P]=m(w[M].lastCount+k.length,k.mode)-m(w[M].lastCount,k.mode),w[M].lastCount+=k.length):(w[M]&&(w[M].lastCount=k.length),j[M][P]=m(k.length,k.mode)+4+e.getCharCountIndicator(k.mode,p))}}S=_}for(let T=0;T<S.length;T++)j[S[T]].end=0;return{map:j,table:w}}function v(b,p){let w;const j=e.getBestModeForData(b);if(w=e.from(p,j),w!==e.BYTE&&w.bit<j.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(j));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new s(b);case e.ALPHANUMERIC:return new n(b);case e.KANJI:return new a(b);case e.BYTE:return new i(b)}}t.fromArray=function(p){return p.reduce(function(w,j){return typeof j=="string"?w.push(v(j,null)):j.data&&w.push(v(j.data,j.mode)),w},[])},t.fromString=function(p,w){const j=h(p,l.isKanjiModeEnabled()),S=y(j),T=g(S,w),E=c.find_path(T.map,"start","end"),_=[];for(let I=1;I<E.length-1;I++)_.push(T.table[E[I]].node);return t.fromArray(x(_))},t.rawSplit=function(p){return t.fromArray(h(p,l.isKanjiModeEnabled()))}})(tE);const Lm=xr,ep=Rm,CU=iU,TU=aU,EU=K4,kU=G4,Ug=q4,$g=Om,PU=lU,Ph=Y4,_U=Z4,MU=Ji,tp=tE;function DU(t,e){const s=t.size,n=kU.getPositions(e);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||s<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||s<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(a+l,o+c,!0,!0):t.set(a+l,o+c,!1,!0))}}function AU(t){const e=t.size;for(let s=8;s<e-8;s++){const n=s%2===0;t.set(s,6,n,!0),t.set(6,s,n,!0)}}function RU(t,e){const s=EU.getPositions(e);for(let n=0;n<s.length;n++){const i=s[n][0],a=s[n][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0)}}function OU(t,e){const s=t.size,n=Ph.getEncodedBits(e);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+s-8-3,o=(n>>l&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function sp(t,e,s){const n=t.size,i=_U.getEncodedBits(e,s);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(n-15+a,8,o,!0),a<8?t.set(8,n-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(n-8,8,1,!0)}function IU(t,e){const s=t.size;let n=-1,i=s-1,a=7,o=0;for(let l=s-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let d=!1;o<e.length&&(d=(e[o]>>>a&1)===1),t.set(i,l-c,d),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||s<=i){i-=n,n=-n;break}}}function LU(t,e,s){const n=new CU;s.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),MU.getCharCountIndicator(c.mode,t)),c.write(n)});const i=Lm.getSymbolTotalCodewords(t),a=$g.getTotalCodewordsCount(t,e),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(o-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return FU(n,t,e)}function FU(t,e,s){const n=Lm.getSymbolTotalCodewords(e),i=$g.getTotalCodewordsCount(e,s),a=n-i,o=$g.getBlocksCount(e,s),l=n%o,c=o-l,d=Math.floor(n/o),u=Math.floor(a/o),h=u+1,m=d-u,x=new PU(m);let y=0;const g=new Array(o),v=new Array(o);let b=0;const p=new Uint8Array(t.buffer);for(let E=0;E<o;E++){const _=E<c?u:h;g[E]=p.slice(y,y+_),v[E]=x.encode(g[E]),y+=_,b=Math.max(b,_)}const w=new Uint8Array(n);let j=0,S,T;for(S=0;S<b;S++)for(T=0;T<o;T++)S<g[T].length&&(w[j++]=g[T][S]);for(S=0;S<m;S++)for(T=0;T<o;T++)w[j++]=v[T][S];return w}function UU(t,e,s,n){let i;if(Array.isArray(t))i=tp.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=tp.rawSplit(t);d=Ph.getBestVersionForData(u,s)}i=tp.fromString(t,d||40)}else throw new Error("Invalid data");const a=Ph.getBestVersionForData(i,s);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=LU(e,s,i),l=Lm.getSymbolSize(e),c=new TU(l);return DU(c,e),AU(c),RU(c,e),sp(c,s,0),e>=7&&OU(c,e),IU(c,o),isNaN(n)&&(n=Ug.getBestMask(c,sp.bind(null,c,s))),Ug.applyMask(n,c),sp(c,s,n),{modules:c,version:e,errorCorrectionLevel:s,maskPattern:n,segments:i}}W4.create=function(e,s){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ep.M,i,a;return typeof s<"u"&&(n=ep.from(s.errorCorrectionLevel,ep.M),i=Ph.from(s.version),a=Ug.from(s.maskPattern),s.toSJISFunc&&Lm.setToSJISFunction(s.toSJISFunc)),UU(e,i,n,a)};var rE={},ay={};(function(t){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const a=t.getScale(n,i);return Math.floor((n+i.margin*2)*a)},t.qrToImageData=function(n,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),d=Math.floor((o+a.margin*2)*c),u=a.margin*c,h=[a.color.light,a.color.dark];for(let m=0;m<d;m++)for(let x=0;x<d;x++){let y=(m*d+x)*4,g=a.color.light;if(m>=u&&x>=u&&m<d-u&&x<d-u){const v=Math.floor((m-u)/c),b=Math.floor((x-u)/c);g=h[l[v*o+b]?1:0]}n[y++]=g.r,n[y++]=g.g,n[y++]=g.b,n[y]=g.a}}})(ay);(function(t){const e=ay;function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=n()),c=e.getOptions(c);const u=e.getImageWidth(a.modules.size,c),h=d.getContext("2d"),m=h.createImageData(u,u);return e.qrToImageData(m.data,a,c),s(h,d,u),h.putImageData(m,0,0),d},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=t.render(a,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(rE);var nE={};const $U=ay;function Vw(t,e){const s=t.a/255,n=e+'="'+t.hex+'"';return s<1?n+" "+e+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function rp(t,e,s){let n=t+e;return typeof s<"u"&&(n+=" "+s),n}function BU(t,e,s){let n="",i=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!a&&(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(n+=a?rp("M",c+s,.5+d+s):rp("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(n+=rp("h",o),o=0)):i++}return n}nE.render=function(e,s,n){const i=$U.getOptions(s),a=e.modules.size,o=e.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+Vw(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+Vw(i.color.dark,"stroke")+' d="'+BU(o,a,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,m),m};const zU=rU,Bg=W4,iE=rE,VU=nE;function oy(t,e,s,n,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!zU())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=s,s=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=s,s=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=e,e=n=void 0):o===2&&!e.getContext&&(n=s,s=e,e=void 0),new Promise(function(c,d){try{const u=Bg.create(s,n);c(t(u,e,n))}catch(u){d(u)}})}try{const c=Bg.create(s,n);i(null,t(c,e,n))}catch(c){i(c)}}gd.create=Bg.create;gd.toCanvas=oy.bind(null,iE.render);gd.toDataURL=oy.bind(null,iE.renderToDataURL);gd.toString=oy.bind(null,function(t,e,s){return VU.render(t,s)});const aE=({value:t,size:e=128,className:s=""})=>{const n=f.useRef(null);return f.useEffect(()=>{n.current&&t&&gd.toCanvas(n.current,t,{width:e,margin:1,color:{dark:"#000000",light:"#FFFFFF"}},i=>{i&&console.error("QR Code generation error:",i)})},[t,e]),r.jsx("div",{className:`inline-block bg-white p-1 rounded ${s}`,children:r.jsx("canvas",{ref:n,className:"block",style:{width:e,height:e}})})};var oE="https://js.stripe.com/v3",WU=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var HU=function(){for(var e=document.querySelectorAll('script[src^="'.concat(oE,'"]')),s=0;s<e.length;s++){var n=e[s];if(WU.test(n.src))return n}return null},Ww=function(e){var s="",n=document.createElement("script");n.src="".concat(oE).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},KU=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:s})},zl=null,lu=null,cu=null,GU=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},qU=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},QU=function(e){return zl!==null?zl:(zl=new Promise(function(s,n){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe){s(window.Stripe);return}try{var i=HU();if(!(i&&e)){if(!i)i=Ww(e);else if(i&&cu!==null&&lu!==null){var a;i.removeEventListener("load",cu),i.removeEventListener("error",lu),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=Ww(e)}}cu=qU(s,n),lu=GU(n),i.addEventListener("load",cu),i.addEventListener("error",lu)}catch(o){n(o);return}}),zl.catch(function(s){return zl=null,Promise.reject(s)}))},XU=function(e,s,n){if(e===null)return null;var i=e.apply(void 0,s);return KU(i,n),i},Vl,lE=!1,cE=function(){return Vl||(Vl=QU(null).catch(function(e){return Vl=null,Promise.reject(e)}),Vl)};Promise.resolve().then(function(){return cE()}).catch(function(t){lE||console.warn(t)});var dE=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];lE=!0;var i=Date.now();return cE().then(function(a){return XU(a,s,i)})},uE={exports:{}},YU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JU=YU,ZU=JU;function hE(){}function mE(){}mE.resetWarningCache=hE;var e$=function(){function t(n,i,a,o,l,c){if(c!==ZU){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mE,resetWarningCache:hE};return s.PropTypes=s,s};uE.exports=e$();var t$=uE.exports;const Bt=Zg(t$);function Hw(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function Kw(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(s),!0).forEach(function(n){fE(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Hw(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Au(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(e){return typeof e}:Au=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function fE(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function pE(t,e){return s$(t)||r$(t,e)||n$(t,e)||i$()}function s$(t){if(Array.isArray(t))return t}function r$(t,e){var s=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(s!=null){var n=[],i=!0,a=!1,o,l;try{for(s=s.call(t);!(i=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&s.return!=null&&s.return()}finally{if(a)throw l}}return n}}function n$(t,e){if(t){if(typeof t=="string")return Gw(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Gw(t,e)}}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zs=function(e,s,n){var i=!!n,a=Ne.useRef(n);Ne.useEffect(function(){a.current=n},[n]),Ne.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(s,o),function(){e.off(s,o)}},[i,s,e,a])},zg=function(e){var s=Ne.useRef(e);return Ne.useEffect(function(){s.current=e},[e]),s.current},dl=function(e){return e!==null&&Au(e)==="object"},a$=function(e){return dl(e)&&typeof e.then=="function"},o$=function(e){return dl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},qw="[object Object]",l$=function t(e,s){if(!dl(e)||!dl(s))return e===s;var n=Array.isArray(e),i=Array.isArray(s);if(n!==i)return!1;var a=Object.prototype.toString.call(e)===qw,o=Object.prototype.toString.call(s)===qw;if(a!==o)return!1;if(!a&&!n)return e===s;var l=Object.keys(e),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var x=e,y=s,g=function(b){return t(x[b],y[b])};return m.every(g)},gE=function(e,s,n){return dl(e)?Object.keys(e).reduce(function(i,a){var o=!dl(s)||!l$(e[a],s[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?Kw(Kw({},i||{}),{},fE({},a,e[a])):i},null):null},xE="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Qw=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xE;if(e===null||o$(e))return e;throw new Error(s)},c$=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xE;if(a$(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return Qw(i,s)})};var n=Qw(e,s);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},d$=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Fm=Ne.createContext(null);Fm.displayName="ElementsContext";var yE=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},vE=function(e){var s=e.stripe,n=e.options,i=e.children,a=Ne.useMemo(function(){return c$(s)},[s]),o=Ne.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),l=pE(o,2),c=l[0],d=l[1];Ne.useEffect(function(){var m=!0,x=function(g){d(function(v){return v.stripe?v:{stripe:g,elements:g.elements(n)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(y){y&&m&&x(y)}):a.tag==="sync"&&!c.stripe&&x(a.stripe),function(){m=!1}},[a,c,n]);var u=zg(s);Ne.useEffect(function(){u!==null&&u!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,s]);var h=zg(n);return Ne.useEffect(function(){if(c.elements){var m=gE(n,h,["clientSecret","fonts"]);m&&c.elements.update(m)}},[n,h,c.elements]),Ne.useEffect(function(){d$(c.stripe)},[c.stripe]),Ne.createElement(Fm.Provider,{value:c},i)};vE.propTypes={stripe:Bt.any,options:Bt.object};var u$=function(e){var s=Ne.useContext(Fm);return yE(s,e)},h$=function(){var e=u$("calls useElements()"),s=e.elements;return s};Bt.func.isRequired;var bE=Ne.createContext(null);bE.displayName="CustomCheckoutSdkContext";var m$=function(e,s){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CustomCheckoutProvider> provider."));return e},f$=Ne.createContext(null);f$.displayName="CustomCheckoutContext";Bt.any,Bt.shape({clientSecret:Bt.string.isRequired,elementsOptions:Bt.object}).isRequired;var Vg=function(e){var s=Ne.useContext(bE),n=Ne.useContext(Fm);if(s&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return s?m$(s,e):yE(n,e)},p$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ts=function(e,s){var n="".concat(p$(e),"Element"),i=function(c){var d=c.id,u=c.className,h=c.options,m=h===void 0?{}:h,x=c.onBlur,y=c.onFocus,g=c.onReady,v=c.onChange,b=c.onEscape,p=c.onClick,w=c.onLoadError,j=c.onLoaderStart,S=c.onNetworksChange,T=c.onConfirm,E=c.onCancel,_=c.onShippingAddressChange,I=c.onShippingRateChange,k=Vg("mounts <".concat(n,">")),P="elements"in k?k.elements:null,F="customCheckoutSdk"in k?k.customCheckoutSdk:null,M=Ne.useState(null),H=pE(M,2),Z=H[0],O=H[1],V=Ne.useRef(null),$=Ne.useRef(null);Zs(Z,"blur",x),Zs(Z,"focus",y),Zs(Z,"escape",b),Zs(Z,"click",p),Zs(Z,"loaderror",w),Zs(Z,"loaderstart",j),Zs(Z,"networkschange",S),Zs(Z,"confirm",T),Zs(Z,"cancel",E),Zs(Z,"shippingaddresschange",_),Zs(Z,"shippingratechange",I),Zs(Z,"change",v);var R;g&&(e==="expressCheckout"?R=g:R=function(){g(Z)}),Zs(Z,"ready",R),Ne.useLayoutEffect(function(){if(V.current===null&&$.current!==null&&(P||F)){var q=null;F?q=F.createElement(e,m):P&&(q=P.create(e,m)),V.current=q,O(q),q&&q.mount($.current)}},[P,F,m]);var X=zg(m);return Ne.useEffect(function(){if(V.current){var q=gE(m,X,["paymentRequest"]);q&&"update"in V.current&&V.current.update(q)}},[m,X]),Ne.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),Ne.createElement("div",{id:d,className:u,ref:$})},a=function(c){Vg("mounts <".concat(n,">"));var d=c.id,u=c.className;return Ne.createElement("div",{id:d,className:u})},o=s?a:i;return o.propTypes={id:Bt.string,className:Bt.string,onChange:Bt.func,onBlur:Bt.func,onFocus:Bt.func,onReady:Bt.func,onEscape:Bt.func,onClick:Bt.func,onLoadError:Bt.func,onLoaderStart:Bt.func,onNetworksChange:Bt.func,onConfirm:Bt.func,onCancel:Bt.func,onShippingAddressChange:Bt.func,onShippingRateChange:Bt.func,options:Bt.object},o.displayName=n,o.__elementType=e,o},ss=typeof window>"u",g$=Ne.createContext(null);g$.displayName="EmbeddedCheckoutProviderContext";var x$=function(){var e=Vg("calls useStripe()"),s=e.stripe;return s};ts("auBankAccount",ss);var Xw=ts("card",ss);ts("cardNumber",ss);ts("cardExpiry",ss);ts("cardCvc",ss);ts("fpxBank",ss);ts("iban",ss);ts("idealBank",ss);ts("p24Bank",ss);ts("epsBank",ss);ts("payment",ss);ts("expressCheckout",ss);ts("currencySelector",ss);ts("paymentRequestButton",ss);ts("linkAuthentication",ss);ts("address",ss);ts("shippingAddress",ss);ts("paymentMethodMessaging",ss);ts("affirmMessage",ss);ts("afterpayClearpayMessage",ss);class y${constructor(){this.publishableKey="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",this.publishableKey&&this.publishableKey!=="pk_test_your_key_here"?this.stripe=dE(this.publishableKey):this.stripe=Promise.resolve(null)}async createPaymentIntent(e,s){try{const n=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:e,currency:s.toLowerCase()})});if(!n.ok){const i=await n.json();throw new Error(i.message||"Failed to create payment intent")}return await n.json()}catch(n){throw console.error("Payment intent creation failed:",n),n}}async confirmPayment(e,s){try{const n=await this.stripe;if(!n)throw new Error("Stripe not loaded");return await n.confirmPayment({clientSecret:e,confirmParams:{return_url:`${window.location.origin}/wallet?payment=success`},...s&&{paymentMethod:s}})}catch(n){throw console.error("Payment confirmation failed:",n),n}}async createPaymentMethod(e){try{const s=await this.stripe;if(!s)throw new Error("Stripe not loaded");const{error:n,paymentMethod:i}=await s.createPaymentMethod({type:"card",card:e});if(n)throw new Error(n.message);return i}catch(s){throw console.error("Payment method creation failed:",s),s}}async getStripe(){return await this.stripe}}const v$=new y$,b$="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",Yw=dE(b$);function w$({amount:t,currency:e,onSuccess:s,onError:n}){const i=x$(),a=h$(),{toast:o}=gr(),[l,c]=f.useState(!1),[d,u]=f.useState("");f.useEffect(()=>{(async()=>{try{const{clientSecret:y}=await v$.createPaymentIntent(t,e);u(y)}catch(y){n(y instanceof Error?y.message:"Failed to initialize payment")}})()},[t,e,n]);const h=async x=>{if(x.preventDefault(),!i||!a||!d)return;c(!0);const y=a.getElement(Xw);if(!y){c(!1);return}try{const{error:g,paymentIntent:v}=await i.confirmCardPayment(d,{payment_method:{card:y}});g?(n(g.message||"Payment failed"),o({title:"Payment Failed",description:g.message,variant:"destructive"})):v.status==="succeeded"&&(s(v.id),o({title:"Payment Successful",description:`Successfully processed payment of ${t} ${e.toUpperCase()}`}))}catch(g){n(g instanceof Error?g.message:"Payment processing failed")}finally{c(!1)}},m={style:{base:{fontSize:"16px",color:"#ffffff",backgroundColor:"transparent","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444"}}};return r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 mb-2 block",children:"Card Information"}),r.jsx("div",{className:"p-3 border border-gray-600 rounded-lg bg-gray-700",children:r.jsx(Xw,{options:m})})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[r.jsxs("p",{children:["Amount: ",t," ",e.toUpperCase()]}),r.jsx("p",{className:"mt-1",children:"Your payment is secured by Stripe"})]}),r.jsx(z,{type:"submit",disabled:!i||l||!d,className:"w-full bg-green-600 hover:bg-green-700",children:l?"Processing...":`Pay ${t} ${e.toUpperCase()}`})]})}function j$({amount:t,currency:e,onSuccess:s,onError:n}){return Yw?r.jsx(vE,{stripe:Yw,children:r.jsx(w$,{amount:t,currency:e,onSuccess:s,onError:n})}):r.jsxs("div",{className:"text-center p-4 text-gray-400",children:[r.jsx("p",{children:"Credit card payments are currently unavailable."}),r.jsx("p",{className:"text-sm mt-2",children:"Please use cryptocurrency deposits instead."})]})}function N$(){var ct,dt,ft,A,B,G,ge,se,re,Ce;const[t,e]=f.useState("Balance"),[s,n]=f.useState(!0);Cn();const[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,h]=f.useState("BTC"),[m,x]=f.useState("BTC"),[y,g]=f.useState(""),[v,b]=f.useState(null),p=f.useRef(null),[w,j]=f.useState(!1),[S,T]=f.useState(!1),[E,_]=f.useState(!1),[I,k]=f.useState(""),[P,F]=f.useState(""),[M,H]=f.useState(null),{toast:Z}=gr(),{user:O}=ms(),{data:V=[]}=Zt({queryKey:[`/api/users/${O==null?void 0:O.id}/withdrawals`],enabled:!!(O!=null&&O.id),queryFn:async()=>{try{const W=await fetch(`/api/users/${O.id}/withdrawals`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!W.ok)return console.log("Withdrawal history API failed, using empty array"),[];const xe=await W.json();return console.log("📊 Withdrawal history fetched:",xe),Array.isArray(xe)?xe:[]}catch(W){return console.error("Failed to fetch withdrawal history:",W),[]}},refetchInterval:3e4}),$=Mr(),R={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:10,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:10,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:10,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},X=ys({mutationFn:async W=>{const xe=localStorage.getItem("authToken");if(!xe)throw new Error("No authentication token found");const qe=await fetch("/api/deposits",{method:"POST",headers:{Authorization:`Bearer ${xe}`},body:W});if(!qe.ok){const We=await qe.json();throw new Error(We.message||"Failed to submit deposit")}return qe.json()},onSuccess:W=>{Z({title:"Deposit Submitted",description:"Your deposit request has been submitted for review."}),a(""),b(null),$.invalidateQueries({queryKey:["/api/balances"]})},onError:W=>{Z({title:"Deposit Failed",description:W.message,variant:"destructive"})}}),q=W=>{var qe;const xe=(qe=W.target.files)==null?void 0:qe[0];if(xe){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(xe.type)){Z({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(xe.size>5*1024*1024){Z({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}b(xe)}},ne=W=>{navigator.clipboard.writeText(W),Z({title:"Copied!",description:"Address copied to clipboard"})},de=()=>{if(!i||parseFloat(i)<=0){Z({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!v){Z({title:"Receipt Required",description:"Please upload a transaction receipt.",variant:"destructive"});return}const W=R[u];if(parseFloat(i)<W.minAmount){Z({title:"Amount Too Small",description:`Minimum deposit amount is ${W.minAmount} ${u}.`,variant:"destructive"});return}const xe=new FormData;xe.append("amount",i),xe.append("currency",u),xe.append("receipt",v),X.mutate(xe)},Se=()=>{const W=R[u],xe=W.address;return console.log("QR Code value:",xe),`METACHROME DEPOSIT ADDRESS
${W.network}
${xe}

COPY THIS ADDRESS TO YOUR WALLET`},{data:ie,isLoading:_e}=Zt({queryKey:["/api/balances"],enabled:!!O,refetchInterval:5e3,staleTime:0,cacheTime:0,queryFn:async()=>{var qe;console.log("🔍 WALLET: Fetching balance from /api/balances for user:",O==null?void 0:O.id,O==null?void 0:O.username),console.log("🔍 WALLET: Auth token:",((qe=localStorage.getItem("authToken"))==null?void 0:qe.substring(0,30))+"...");const W=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 WALLET: Response status:",W.status,W.statusText),!W.ok){const We=await W.text();throw console.error("❌ WALLET: Balance API failed:",W.status,We),new Error(`Failed to fetch balance: ${W.status} ${We}`)}const xe=await W.json();return console.log("🔍 WALLET: Balance API response:",xe),xe}}),{data:me}=Zt({queryKey:["/api/market-data"],refetchInterval:3e4}),Oe=[{id:"Balance",label:"Balance"},{id:"Deposit",label:"Deposit"},{id:"Withdraw",label:"Withdraw"},{id:"Transfer",label:"Transfer"},{id:"Convert",label:"Convert"}],be=parseFloat(((ct=ie==null?void 0:ie.find(W=>W.symbol==="USDT"))==null?void 0:ct.available)||"0"),ce=(ie==null?void 0:ie.reduce((W,xe)=>{const qe=parseFloat(xe.available||"0"),ee={BTC:65e3,ETH:3500,SOL:150,USDT:1,BNB:600,USDC:1,BUSD:1}[xe.symbol]||1;return W+qe*ee},0))||be;console.log("🔍 WALLET PAGE - Balance data:",{userId:O==null?void 0:O.id,userBalances:ie,usdtBalance:be,totalBalanceUSDT:ce,balancesLoading:_e});const pe=ys({mutationFn:async W=>{const xe=localStorage.getItem("authToken");if(!xe)throw new Error("Please login first to make a withdrawal");const qe=await fetch("/api/withdrawals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({amount:W.amount,currency:W.currency,address:W.address,password:W.password})});if(!qe.ok){const We=await qe.json();throw new Error(We.error||We.message||"Withdrawal failed")}return qe.json()},onSuccess:W=>{Z({title:"Withdrawal Initiated",description:`Withdrawal of ${W.amount} ${W.currency} has been initiated and is pending approval`}),l(""),d(""),g(""),$.invalidateQueries({queryKey:["/api/balances"]})},onError:W=>{Z({title:"Withdrawal Failed",description:W.message,variant:"destructive"})}}),ze=()=>{if(!I.trim()){Z({title:"Transaction Hash Required",description:"Please provide a valid transaction hash for verification",variant:"destructive"});return}X.mutate({...M,txHash:I}),j(!1),k(""),H(null)},K=()=>{if(!P.trim()){Z({title:"Transfer Reference Required",description:"Please provide your bank transfer reference number",variant:"destructive"});return}X.mutate({...M,paymentData:{transferReference:P}}),T(!1),F(""),H(null)},he=W=>{X.mutate({...M,paymentData:{paymentIntentId:W}}),_(!1),H(null)},Ye=W=>{Z({title:"Payment Failed",description:W,variant:"destructive"})},Ge=ie||[];return r.jsxs("div",{className:"min-h-screen bg-[#1a1b2e] pt-16",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"flex items-center space-x-1 mb-8 border-b border-gray-600 overflow-x-auto scrollbar-hide",children:Oe.map(W=>r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>e(W.id),className:`whitespace-nowrap flex-shrink-0 ${t===W.id?"bg-transparent text-white border-b-2 border-purple-500 rounded-none pb-3":"bg-transparent text-gray-400 hover:text-white rounded-none pb-3"}`,children:W.label},W.id))})}),t==="Balance"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Balance"}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Total Balances"}),r.jsx("span",{className:"text-gray-400",children:"💰"})]}),r.jsx("button",{onClick:()=>n(!s),className:"text-purple-400 text-sm hover:text-purple-300",children:s?"Simple View":"Detailed View"})]}),r.jsx("div",{className:"text-4xl font-bold text-white",children:_e?r.jsx("span",{className:"animate-pulse",children:"Loading..."}):`${ce.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} USDT`}),r.jsxs("div",{className:"mt-4 bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[r.jsxs("div",{className:"text-blue-400 text-sm font-medium flex items-center mb-2",children:[r.jsx("span",{className:"mr-2",children:"💱"}),"Auto-Conversion System Active"]}),r.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[r.jsx("div",{children:"• All cryptocurrency deposits are automatically converted to USDT"}),r.jsx("div",{children:"• Real-time conversion with competitive rates"}),r.jsx("div",{children:"• Unified balance for easy management and instant withdrawals"})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"My assets"}),r.jsx("div",{className:"text-sm text-gray-400",children:ie?`${ie.filter(W=>parseFloat(W.available)>0).length} assets`:"0 assets"})]}),_e?r.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-8",children:r.jsx("div",{className:"text-center text-gray-400",children:r.jsx("div",{className:"animate-pulse",children:"Loading assets..."})})}):ie&&ie.some(W=>parseFloat(W.available)>0)?r.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"hidden md:grid grid-cols-4 gap-4 p-4 bg-gray-700/30 border-b border-gray-600",children:[r.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Name"}),r.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Available assets"}),r.jsx("div",{className:"text-sm font-medium text-gray-300",children:"Occupy"}),r.jsx("div",{className:"text-sm font-medium text-gray-300 text-right",children:"Amount in USDT"})]}),r.jsx("div",{className:"divide-y divide-gray-600",children:ie.filter(W=>parseFloat(W.available)>0).map(W=>{const xe=parseFloat(W.available),qe=parseFloat(W.locked||"0"),ee={BTC:65e3,ETH:3500,SOL:150,USDT:1,BNB:600,USDC:1,BUSD:1}[W.symbol]||1,Ys=xe*ee,Je={BTC:"₿",ETH:"Ξ",SOL:"◎",USDT:"₮",BNB:"BNB",USDC:"USDC",BUSD:"BUSD"},jt={BTC:"bg-orange-500",ETH:"bg-blue-500",SOL:"bg-purple-500",USDT:"bg-green-500",BNB:"bg-yellow-500",USDC:"bg-blue-600",BUSD:"bg-yellow-600"};return r.jsxs("div",{children:[r.jsxs("div",{className:"hidden md:grid grid-cols-4 gap-4 p-4 hover:bg-gray-700/20 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 ${jt[W.symbol]||"bg-gray-500"} rounded-full flex items-center justify-center text-white font-bold text-sm`,children:Je[W.symbol]||W.symbol.charAt(0)}),r.jsx("span",{className:"text-white font-medium",children:W.symbol})]}),r.jsx("div",{className:"text-white",children:xe.toFixed(4)}),r.jsx("div",{className:"text-white",children:qe.toFixed(4)}),r.jsx("div",{className:"text-white text-right",children:Ys.toFixed(2)})]}),r.jsxs("div",{className:"md:hidden p-4 hover:bg-gray-700/20 transition-colors",children:[r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 ${jt[W.symbol]||"bg-gray-500"} rounded-full flex items-center justify-center text-white font-bold`,children:Je[W.symbol]||W.symbol.charAt(0)}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:W.symbol}),r.jsxs("div",{className:"text-gray-400 text-sm",children:[Ys.toFixed(2)," USDT"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 mb-1",children:"Available"}),r.jsx("div",{className:"text-white",children:xe.toFixed(4)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 mb-1",children:"Occupy"}),r.jsx("div",{className:"text-white",children:qe.toFixed(4)})]})]})]})]},W.symbol)})})]}):r.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl text-gray-400",children:"💰"})}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Data"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"You don't have any cryptocurrency assets yet."}),r.jsx("p",{className:"text-gray-500 text-xs",children:"Start trading or deposit funds to see your assets here."})]})})]})]})}),t==="Deposit"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Deposit"}),r.jsxs(we,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Add Funds"}),r.jsx(Et,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),r.jsx(je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),r.jsxs("select",{value:u,onChange:W=>h(W.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"BTC",children:"BTC"}),r.jsx("option",{value:"ETH",children:"ETH"}),r.jsx("option",{value:"SOL",children:"SOL"}),r.jsx("option",{value:"USDT-ERC20",children:"USDT ERC20"}),r.jsx("option",{value:"USDT-TRC20",children:"USDT TRC20"}),r.jsx("option",{value:"USDT-BEP20",children:"USDT BEP20"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"depositAmount",className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{id:"depositAmount",name:"depositAmount",type:"number",placeholder:"Please enter the recharge amount",value:i,onChange:W=>a(W.target.value),className:`w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ${i?"border-gray-600":"border-red-500"}`,min:((dt=R[u])==null?void 0:dt.minAmount)||0,step:"0.01"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",(ft=R[u])==null?void 0:ft.minAmount," ",u]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),r.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[r.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:["⚠️ Send ",u," to this address to deposit funds to your METACHROME account"]}),r.jsxs("p",{className:"text-yellow-300 text-xs",children:[r.jsx("strong",{children:"Important:"})," Only send on ",(A=R[u])==null?void 0:A.network,". Sending on wrong network will result in loss of funds!"]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[r.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(B=R[u])==null?void 0:B.address}),r.jsx(z,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:()=>{var W;return ne((W=R[u])==null?void 0:W.address)},children:r.jsx(oh,{className:"w-4 h-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(G=R[u])==null?void 0:G.network]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(ge=R[u])==null?void 0:ge.description})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:r.jsx(aE,{value:Se(),size:200,className:"mx-auto"})}),r.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),r.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",r.jsx("strong",{children:(se=R[u])==null?void 0:se.network})]}),r.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(re=R[u])==null?void 0:re.address]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(z,{onClick:()=>{var W;return ne((W=R[u])==null?void 0:W.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[r.jsx(oh,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"💡 How to use:"}),r.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${v?"border-gray-600":"border-red-500"}`,onClick:()=>{var W;return(W=p.current)==null?void 0:W.click()},children:v?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(bn,{className:"w-6 h-6 text-green-500"}),r.jsx("span",{className:"text-green-400 text-sm",children:v.name})]}):r.jsxs(r.Fragment,{children:[r.jsx(cc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),r.jsx("input",{id:"receiptUpload",name:"receiptUpload",ref:p,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:q,className:"hidden"})]}),(!i||!v)&&r.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[r.jsx("p",{className:"text-yellow-300 text-sm",children:"⚠️ Please complete all required fields:"}),r.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!i&&r.jsx("li",{children:"• Enter deposit amount"}),!v&&r.jsx("li",{children:"• Upload transaction receipt"})]})]}),r.jsx(z,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:de,disabled:X.isPending||!i||!v,children:X.isPending?"Processing...":"Confirm recharge"})]})})]})]})}),t==="Withdraw"&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Withdraw"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-8",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 text-sm font-medium",children:"Select Cryptocurrency"}),r.jsxs("select",{value:u,onChange:W=>{h(W.target.value),x(W.target.value)},className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[r.jsx("option",{value:"BTC",children:"Bitcoin (BTC)"}),r.jsx("option",{value:"ETH",children:"Ethereum (ETH)"}),r.jsx("option",{value:"USDT",children:"Tether (USDT)"}),r.jsx("option",{value:"SOL",children:"Solana (SOL)"})]})]}),r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Network"}),r.jsxs("select",{value:m,onChange:W=>x(W.target.value),className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[u==="USDT"&&r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"TRC20",children:"TRC20 (Tron)"}),r.jsx("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),r.jsx("option",{value:"BEP20",children:"BEP20 (BSC)"})]}),u==="BTC"&&r.jsx("option",{value:"BTC",children:"Bitcoin Network"}),u==="ETH"&&r.jsx("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),u==="SOL"&&r.jsx("option",{value:"SOL",children:"Solana Network"})]}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Please ensure you select the correct network to avoid loss of funds"})]}),r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Amount"}),r.jsxs("div",{className:"relative mt-2",children:[r.jsx(Re,{id:"withdrawAmount",name:"withdrawAmount",type:"number",placeholder:"0.00",value:c,onChange:W=>d(W.target.value),className:"bg-gray-700 border-gray-600 text-white pr-16 focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:u})]}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[r.jsxs("span",{children:["Available: ",((Ce=Ge.find(W=>W.symbol===u))==null?void 0:Ce.available)||"0"," ",u]}),r.jsx("button",{onClick:()=>{var W;return d(((W=Ge.find(xe=>xe.symbol===u))==null?void 0:W.available)||"0")},className:"text-purple-400 hover:text-purple-300",children:"Max"})]})]}),r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Address"}),r.jsx(Re,{id:"withdrawAddress",name:"withdrawAddress",type:"text",placeholder:`Enter ${u} address`,value:o,onChange:W=>l(W.target.value),className:"mt-2 bg-gray-700 border-gray-600 text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Double-check the address. Transactions cannot be reversed."})]}),r.jsxs("div",{children:[r.jsx(Rt,{className:"text-gray-300 text-sm font-medium",children:"Login Password"}),r.jsx(Re,{id:"fundPassword",name:"fundPassword",type:"password",placeholder:"Enter your login password",value:y,onChange:W=>g(W.target.value),className:"mt-2 bg-gray-700 border-gray-600 text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Your login password is required for security verification"})]}),r.jsx(z,{onClick:()=>{if(!o||!c||!y||parseFloat(c)<=0){Z({title:"Invalid Input",description:"Please fill in all required fields",variant:"destructive"});return}pe.mutate({address:o,amount:c,currency:u,password:y})},disabled:!o||!c||!y||pe.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 py-3",children:pe.isPending?"Processing Withdrawal...":"Confirm Withdrawal"})]})})})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsxs(je,{className:"p-6",children:[r.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Recent Withdrawals"}),r.jsxs("div",{className:"space-y-4",children:[V.length>0?V.slice(0,3).map((W,xe)=>r.jsx("div",{className:"border-b border-gray-700 pb-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-white text-sm font-medium",children:[W.amount," ",W.currency]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:[W.currency," Network"]}),r.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(W.created_at||W.timestamp).toLocaleDateString()," ",new Date(W.created_at||W.timestamp).toLocaleTimeString()]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${W.status==="pending"?"bg-yellow-500/20 text-yellow-400":W.status==="approved"||W.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:W.status==="approved"?"Completed":W.status.charAt(0).toUpperCase()+W.status.slice(1)})]})},W.id||xe)):r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-400 text-sm",children:"No withdrawal history"})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{className:"text-purple-400 hover:text-purple-300 text-sm transition-colors",children:"View All History"})})]})]})})})]})]})}),(t==="Transfer"||t==="Convert")&&r.jsx("div",{className:"space-y-8",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:t}),r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-8",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"w-16 h-16 bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:[t==="Transfer"&&r.jsx(uD,{className:"w-8 h-8 text-gray-400"}),t==="Convert"&&r.jsx(qM,{className:"w-8 h-8 text-gray-400"})]}),r.jsxs("h3",{className:"text-xl font-semibold text-white mb-2",children:[t," Feature"]}),r.jsxs("p",{className:"text-gray-400 mb-6",children:[t," functionality will be available soon. Stay tuned for updates."]}),r.jsx(z,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"Coming Soon"})]})})})]})})]}),r.jsx(Ao,{open:w,onOpenChange:j,children:r.jsxs(Ta,{className:"bg-gray-800 border-gray-700 max-w-md",children:[r.jsx(Ea,{children:r.jsx(ka,{className:"text-white",children:"Enter Transaction Hash"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your transaction hash for verification. This helps us confirm your deposit."}),r.jsxs("div",{children:[r.jsx(Rt,{htmlFor:"txHash",className:"text-gray-300",children:"Transaction Hash"}),r.jsx(Re,{id:"txHash",type:"text",placeholder:"0x...",value:I,onChange:W=>k(W.target.value),className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(z,{variant:"outline",onClick:()=>{j(!1),k(""),H(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),r.jsx(z,{onClick:ze,disabled:!I.trim()||X.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:X.isPending?"Processing...":"Confirm"})]})]})]})}),r.jsx(Ao,{open:S,onOpenChange:T,children:r.jsxs(Ta,{className:"bg-gray-800 border-gray-700 max-w-md",children:[r.jsx(Ea,{children:r.jsx(ka,{className:"text-white",children:"Enter Bank Transfer Reference"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your bank transfer reference number. This helps us verify your payment."}),r.jsxs("div",{children:[r.jsx(Rt,{htmlFor:"bankRef",className:"text-gray-300",children:"Transfer Reference Number"}),r.jsx(Re,{id:"bankRef",type:"text",placeholder:"Enter reference number",value:P,onChange:W=>F(W.target.value),className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(z,{variant:"outline",onClick:()=>{T(!1),F(""),H(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),r.jsx(z,{onClick:K,disabled:!P.trim()||X.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:X.isPending?"Processing...":"Confirm"})]})]})]})}),r.jsx(Ao,{open:E,onOpenChange:_,children:r.jsxs(Ta,{className:"bg-gray-800 border-gray-700 max-w-md",children:[r.jsx(Ea,{children:r.jsx(ka,{className:"text-white",children:"Credit/Debit Card Payment"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Complete your payment securely with Stripe. Your card information is encrypted and secure."}),M&&r.jsx(j$,{amount:M.amount,currency:"usd",onSuccess:he,onError:Ye}),r.jsx(z,{variant:"outline",onClick:()=>{_(!1),H(null)},className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})})]})}const S$="/assets/support_banner_desktop-1761305830802.jpg",C$="/assets/support_banner_mobile-1761305830802.jpg";function T$(){const[t,e]=f.useState(null),[s,n]=f.useState(null),i=Cn(),a=Date.now();console.log("SupportPage loaded - NO BANNER TEXT should appear!",{cacheKey:a});const o=[{icon:"/icon_support_email.png",title:"Email Us",description:"Email our support team for general queries or platform assistance.",contact:"support@metachrome.io",action:"Email",color:"from-purple-500 to-purple-600"},{icon:"/icon_support_livechat.png",title:"Live Chat",description:"Get in touch with our team members over Live Chat 24/7.",contact:"",action:"Live Chat",color:"from-purple-500 to-purple-600"},{icon:"/icon_support_whatsapp.png",title:"WhatsApp",description:"Get in touch with our team members over WhatsApp.",contact:"",action:"WhatsApp",color:"from-purple-500 to-purple-600"}],l=[{question:"What products does METACHROME Ecosystem include?",answer:"Our ecosystem includes spot trading, futures, options, and advanced trading tools with MetaMask integration."},{question:"Why is it better to trade cryptocurrencies on METACHROME?",answer:"Advanced trading features with competitive fees, superior execution, and admin-controlled outcomes."},{question:"Can I buy cryptocurrency with a credit card?",answer:"Yes, we support multiple payment methods including credit cards and crypto wallets."},{question:"How to buy cryptocurrency on METACHROME?",answer:"Connect your MetaMask wallet and start trading with our intuitive interface."},{question:"How to Complete Identity Verification?",answer:"Upload required documents through our secure verification system for enhanced features."}];return r.jsxs("div",{className:"min-h-screen bg-[#0B0E11]",children:[r.jsx("section",{className:"relative overflow-hidden bg-black w-full py-4 sm:py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:`relative overflow-hidden rounded-lg ${i?"h-48 sm:h-64":"h-80"}`,children:[r.jsx("img",{src:i?C$:S$,alt:"Support Banner",className:"w-full h-full object-contain"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]})})}),r.jsx("section",{className:"bg-black",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:r.jsx("div",{className:`grid gap-6 ${i?"grid-cols-1 mb-8":"grid-cols-1 md:grid-cols-3 gap-8 mb-20"}`,children:o.map((c,d)=>r.jsx(we,{className:"bg-[#1A1D29] border-gray-800 overflow-hidden hover:bg-[#1E2329] transition-colors rounded-xl",children:r.jsxs(je,{className:`${i?"p-6":"p-8"} text-center h-full flex flex-col`,children:[r.jsx("div",{className:`${i?"mb-4":"mb-6"}`,children:r.jsx("img",{src:c.icon,alt:c.title,className:`mx-auto object-contain ${i?"w-12 h-12":"w-16 h-16"}`,onLoad:()=>console.log("Support icon loaded:",c.icon),onError:u=>{console.error("Support icon failed to load:",u.target.src)}})}),r.jsx("h3",{className:`font-semibold text-white ${i?"text-lg mb-3":"text-xl mb-4"}`,children:c.title}),r.jsx("p",{className:`text-gray-400 leading-relaxed flex-grow ${i?"mb-4 text-sm":"mb-6 text-sm"}`,children:c.description}),c.contact&&r.jsx("p",{className:`text-white font-medium ${i?"mb-4 text-sm":"mb-6"}`,children:c.contact}),c.title!=="Email Us"&&r.jsx(z,{className:`text-white w-full rounded-lg font-medium mt-auto hover:opacity-90 ${i?"py-2 text-sm":"py-3"}`,style:{backgroundColor:"#AB00FF"},children:c.action})]})},d))})})}),r.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-16",children:i?r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-sm sm:text-base px-2",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),r.jsx("div",{className:"flex justify-center mb-8",children:r.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64",children:r.jsx("img",{src:bh,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),r.jsx("div",{className:"space-y-4 px-2",children:l.map((c,d)=>r.jsxs(xh,{open:s===d,onOpenChange:()=>n(s===d?null:d),children:[r.jsx(yh,{asChild:!0,children:r.jsx(we,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${s===d?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:r.jsx(je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:`font-medium pr-3 text-sm transition-colors duration-300 ${s===d?"text-purple-400":"text-white"}`,children:c.question}),r.jsx(Qn,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ${s===d?"rotate-180 text-purple-400":""}`})]})})})}),r.jsx(vh,{children:r.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:r.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:c.answer})})})]},d))})]}):r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[r.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[r.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),r.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),r.jsx("div",{className:"p-0 m-0",children:r.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:r.jsx("img",{src:bh,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),r.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:l.map((c,d)=>r.jsxs(xh,{open:s===d,onOpenChange:()=>n(s===d?null:d),children:[r.jsx(yh,{asChild:!0,children:r.jsx(we,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${s===d?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:`font-medium pr-4 text-lg transition-colors duration-300 ${s===d?"text-purple-400":"text-white"}`,children:c.question}),r.jsx(Qn,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ${s===d?"rotate-180 text-purple-400":""}`})]})})})}),r.jsx(vh,{children:r.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:r.jsx("p",{className:"text-gray-400 text-lg",children:c.answer})})})]},d))})]})})]},`support-page-clean-${a}`)}const ia=f.forwardRef(({className:t,...e},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:$e("w-full caption-bottom text-sm",t),...e})}));ia.displayName="Table";const aa=f.forwardRef(({className:t,...e},s)=>r.jsx("thead",{ref:s,className:$e("[&_tr]:border-b",t),...e}));aa.displayName="TableHeader";const oa=f.forwardRef(({className:t,...e},s)=>r.jsx("tbody",{ref:s,className:$e("[&_tr:last-child]:border-0",t),...e}));oa.displayName="TableBody";const E$=f.forwardRef(({className:t,...e},s)=>r.jsx("tfoot",{ref:s,className:$e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));E$.displayName="TableFooter";const fs=f.forwardRef(({className:t,...e},s)=>r.jsx("tr",{ref:s,className:$e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));fs.displayName="TableRow";const et=f.forwardRef(({className:t,...e},s)=>r.jsx("th",{ref:s,className:$e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));et.displayName="TableHead";const Ke=f.forwardRef(({className:t,...e},s)=>r.jsx("td",{ref:s,className:$e("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ke.displayName="TableCell";const k$=f.forwardRef(({className:t,...e},s)=>r.jsx("caption",{ref:s,className:$e("mt-4 text-sm text-muted-foreground",t),...e}));k$.displayName="TableCaption";var Um="Tabs",[P$]=Dr(Um,[xm]),wE=xm(),[_$,ly]=P$(Um),jE=f.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=pm(l),[h,m]=Bi({prop:n,onChange:i,defaultProp:a??"",caller:Um});return r.jsx(_$,{scope:s,baseId:Qr(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(Ve.div,{dir:u,"data-orientation":o,...d,ref:e})})});jE.displayName=Um;var NE="TabsList",SE=f.forwardRef((t,e)=>{const{__scopeTabs:s,loop:n=!0,...i}=t,a=ly(NE,s),o=wE(s);return r.jsx(G2,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:r.jsx(Ve.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});SE.displayName=NE;var CE="TabsTrigger",TE=f.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,disabled:i=!1,...a}=t,o=ly(CE,s),l=wE(s),c=PE(o.baseId,n),d=_E(o.baseId,n),u=n===o.value;return r.jsx(q2,{asChild:!0,...l,focusable:!i,active:u,children:r.jsx(Ve.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Ee(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(n)})})})});TE.displayName=CE;var EE="TabsContent",kE=f.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,forceMount:i,children:a,...o}=t,l=ly(EE,s),c=PE(l.baseId,n),d=_E(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(Ar,{present:i||u,children:({present:m})=>r.jsx(Ve.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});kE.displayName=EE;function PE(t,e){return`${t}-trigger-${e}`}function _E(t,e){return`${t}-content-${e}`}var M$=jE,ME=SE,DE=TE,AE=kE;const RE=M$,_h=f.forwardRef(({className:t,...e},s)=>r.jsx(ME,{ref:s,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));_h.displayName=ME.displayName;const cs=f.forwardRef(({className:t,...e},s)=>r.jsx(DE,{ref:s,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));cs.displayName=DE.displayName;const Ms=f.forwardRef(({className:t,...e},s)=>r.jsx(AE,{ref:s,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ms.displayName=AE.displayName;const OE=t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=t.replace(/[^0-9.-]/g,""),s=parseFloat(e);return isNaN(s)?0:s}return 0},du=t=>{const e=OE(t);return(Math.round(e*100)/100).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},Jw=t=>t.reduce((e,s)=>{const n=OE(s.balance);return e+n},0),D$=t=>{if(t.symbol)return t.symbol;if(t.currency)return t.currency;if(t.type==="withdrawal"&&t.description){const e=t.description.match(/- (BTC|ETH|USDT|SOL|USDT-ERC20|USDT-TRC20|USDT-BEP20)/);if(e)return e[1]}return"USDT"},A$=t=>{const e=D$(t);return`${t.amount.toLocaleString()} ${e}`};function Zw(){var ke,Ie,mt,kt,Ct,Ft;const{user:t}=ms(),[e,s]=f.useState([]),[n,i]=f.useState([]),[a,o]=f.useState([]),[l,c]=f.useState({deposits:[],withdrawals:[],total:0}),[d,u]=f.useState(null),[h,m]=f.useState(!1),[x,y]=f.useState([]),[g,v]=f.useState(null),[b,p]=f.useState([]),[w,j]=f.useState(null),[S,T]=f.useState(!1),[E,_]=f.useState(!1),[I,k]=f.useState(null),[P,F]=f.useState({code:"",bonusAmount:"",maxUses:"",description:""}),[M,H]=f.useState({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),[Z,O]=f.useState(!1),[V,$]=f.useState(!1),[R,X]=f.useState(!1),[q,ne]=f.useState(!1),[de,Se]=f.useState(null),[ie,_e]=f.useState(""),[me,Oe]=f.useState(""),[be,ce]=f.useState(""),[pe,ze]=f.useState(""),[K,he]=f.useState([]),[Ye,Ge]=f.useState(null),ct=JSON.parse(localStorage.getItem("user")||"{}"),dt=localStorage.getItem("authToken")||"",ft=ct.role==="super_admin"||ct.role==="superadmin"||ct.username==="superadmin"||dt.includes("superadmin")||dt.includes("admin-session-superadmin");console.log("🔧 Current user:",ct),console.log("🔧 Auth token:",dt.substring(0,30)+"..."),console.log("🔧 Current user role:",ct.role),console.log("🔧 Is Super Admin:",ft),console.log("🔧 Role check details:",{role:ct.role,username:ct.username,isSuper:ct.role==="super_admin",isSuperadmin:ct.role==="superadmin",isUsernameSuper:ct.username==="superadmin",tokenHasSuper:dt.includes("superadmin"),tokenHasAdminSession:dt.includes("admin-session-superadmin"),finalResult:ft});const A=async()=>{try{if(console.log("🔄 FORCE refreshing transactions with aggressive cache busting..."),"serviceWorker"in navigator&&"caches"in window){const ot=await caches.keys();await Promise.all(ot.map(Mt=>caches.delete(Mt)))}const C=Date.now(),Q=Math.random().toString(36).substring(7),ve=Math.random().toString(36).substring(2,15),Y=`/api/admin/transactions?_t=${C}&_r=${Q}&_bust=${Date.now()}&_force=${ve}&_nocache=${Math.random()}`;console.log("🔄 Force fetching from URL:",Y);const ye=await fetch(Y,{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest","If-None-Match":"*","X-Force-Refresh":"true"},cache:"no-store"});if(ye.ok){const ot=await ye.json();return console.log("💰 FORCE refreshed transactions:",ot.length,"transactions"),console.log("💰 First 3 transaction IDs:",ot.slice(0,3).map(Mt=>Mt.id)),o([...ot]),!0}else return console.error("❌ Failed to force refresh transactions:",ye.status),!1}catch(C){return console.error("❌ Force refresh error:",C),!1}},B=async()=>await A(),G=async()=>{m(!0);let C=!1;try{console.log("🔄 Fetching all data...");const Q=Date.now(),ve={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};try{const Y=await fetch(`/api/admin/users?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();console.log("👥 Users loaded:",ye),s(ye)}else console.error("❌ Failed to fetch users:",Y.status),C=!0}catch(Y){console.error("❌ Users fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/live-trades?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();console.log("🔴 Live trades loaded:",ye);const ot=ye.trades||ye;i(ot)}else console.error("❌ Failed to fetch trades:",Y.status),C=!0}catch(Y){console.error("❌ Trades fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/transactions?_t=${Q}&_r=${Math.random()}`,{headers:{...ve,"X-Requested-With":"XMLHttpRequest","If-None-Match":"*"}});if(Y.ok){const ye=await Y.json();console.log("💰 Transactions loaded:",ye.length,"transactions"),o(ye)}else console.error("❌ Failed to fetch transactions:",Y.status),C=!0}catch(Y){console.error("❌ Transactions fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/stats?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();console.log("📊 Stats loaded:",ye),u(ye)}else console.error("❌ Failed to fetch stats:",Y.status),C=!0}catch(Y){console.error("❌ Stats fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/pending-requests?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();console.log("🔔 Pending requests loaded:",ye),c(ye)}else console.error("❌ Failed to fetch pending requests:",Y.status),C=!0}catch(Y){console.error("❌ Pending requests fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/pending-verifications-enhanced?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();if(console.log("📄 Enhanced pending verifications loaded:",ye),ye.enhanced){y(ye.pending||[]),console.log(`📄 Set ${ye.pendingCount||0} pending verifications`),console.log(`📄 Total documents in database: ${ye.totalCount||0}`);const ot=ye.total||[],Mt={pending:ot.filter(Ts=>Ts.verification_status==="pending").length,approved:ot.filter(Ts=>Ts.verification_status==="approved").length,rejected:ot.filter(Ts=>Ts.verification_status==="rejected").length,total:ot.length};v(Mt)}else{y(ye);const ot={pending:ye.filter(Mt=>Mt.verification_status==="pending").length,approved:ye.filter(Mt=>Mt.verification_status==="approved").length,rejected:ye.filter(Mt=>Mt.verification_status==="rejected").length,total:ye.length};v(ot)}}else{console.error("❌ Failed to fetch enhanced pending verifications:",Y.status);try{const ye=await fetch(`/api/admin/pending-verifications?_t=${Q}`,{headers:ve});if(ye.ok){const ot=await ye.json();y(ot);const Mt={pending:ot.filter(Ts=>Ts.verification_status==="pending").length,approved:ot.filter(Ts=>Ts.verification_status==="approved").length,rejected:ot.filter(Ts=>Ts.verification_status==="rejected").length,total:ot.length};v(Mt)}}catch(ye){console.error("❌ Fallback verification fetch error:",ye),C=!0}}}catch(Y){console.error("❌ Enhanced pending verifications fetch error:",Y),C=!0}try{const Y=await fetch(`/api/admin/redeem-codes?_t=${Q}`,{headers:ve});if(Y.ok){const ye=await Y.json();console.log("🎁 Redeem codes loaded:",ye);let ot=ye.codes||[];try{const Mt=await fetch(`/api/admin/redeem-codes-usage-all?_t=${Q}`,{headers:ve});if(Mt.ok){const vd=(await Mt.json()).data||[];ot=ot.map(Tl=>({...Tl,redemptions:vd.filter(bd=>bd.code===Tl.code)})),console.log("🎁 Codes with redemption history:",ot)}}catch(Mt){console.log("⚠️ Could not fetch redemption history:",Mt)}p(ot),j(ye.stats||{})}else console.error("❌ Failed to fetch redeem codes:",Y.status),C=!0}catch(Y){console.error("❌ Redeem codes fetch error:",Y),C=!0}C?Ze({title:"Warning",description:"Some data failed to load. Check console for details.",variant:"destructive"}):console.log("✅ All data loaded successfully")}catch(Q){console.error("❌ Unexpected error fetching data:",Q),Ze({title:"Error",description:"Unexpected error occurred while loading data",variant:"destructive"})}finally{m(!1)}},ge=async()=>{if(!M.username||!M.email||!M.password){Ze({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{console.log("👤 Creating user:",M);const C=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)});if(C.ok){const Q=await C.json();console.log("✅ User created:",Q),Ze({title:"Success",description:`User ${Q.username} created successfully!`}),H({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),G()}else throw new Error("Failed to create user")}catch(C){console.error("❌ Error creating user:",C),Ze({title:"Error",description:"Failed to create user",variant:"destructive"})}},se=async(C,Q)=>{try{console.log("🎯 Updating trading mode:",C,Q);const ve=await fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:C,controlType:Q})});if(ve.ok){const Y=await ve.json();console.log("✅ Trading mode updated:",Y),Ze({title:"Success",description:`Trading mode updated to ${Q.toUpperCase()}`,duration:2e3}),s(ye=>ye.map(ot=>ot.id===C?{...ot,trading_mode:Q}:ot)),console.log(`🎯 Trading mode for user ${C} updated to ${Q.toUpperCase()} in UI`)}else throw new Error("Failed to update trading mode")}catch(ve){console.error("❌ Error updating trading mode:",ve),Ze({title:"Error",description:"Failed to update trading mode",variant:"destructive"})}},re=async(C,Q)=>{try{console.log("🎮 Controlling trade:",C,Q);const ve=await fetch(`/api/admin/trades/${C}/control`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:Q})});if(ve.ok){const Y=await ve.json();console.log("✅ Trade controlled:",Y),Ze({title:"Trade Controlled",description:`Trade set to ${Q.toUpperCase()}`}),i(n.map(ye=>ye.id===C?{...ye,result:Q}:ye)),G()}else throw new Error("Failed to control trade")}catch(ve){console.error("❌ Error controlling trade:",ve),Ze({title:"Error",description:"Failed to control trade",variant:"destructive"})}},Ce=async C=>{try{console.log("🗑️ Deleting trade:",C);const Q=[...n];i(Y=>Y.filter(ye=>ye.id!==C));const ve=await fetch(`/api/admin/trades/${C}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(ve.ok){const Y=await ve.json();console.log("✅ Trade deleted:",Y),Ze({title:"Trade Deleted",description:Y.message||"Trade deleted successfully",duration:3e3}),G()}else{console.log("🗑️ Delete failed, restoring original state..."),i(Q);const Y=await ve.text();throw new Error(Y||"Failed to delete trade")}}catch(Q){console.error("❌ Error deleting trade:",Q),i(ve=>[...n]),Ze({title:"Error",description:Q instanceof Error?Q.message:"Failed to delete trade",variant:"destructive",duration:5e3})}},[W,xe]=f.useState(!1),[qe,We]=f.useState(!1),[ee,Ys]=f.useState(null),[Je,jt]=f.useState({});f.useEffect(()=>{console.log("📊 Edit form data updated:",Je)},[Je]);const ti=C=>{console.log("👁️ Viewing user:",C),Ys(C),xe(!0)},Js=C=>{console.log("✏️ Editing user:",C),Ys(C);const Q={username:C.username,email:C.email,balance:C.balance,trading_mode:C.trading_mode,role:C.role,status:C.status,wallet_address:C.wallet_address||""};console.log("📝 Setting edit form data:",Q),jt(Q),We(!0)},rs=async()=>{try{if((await fetch(`/api/admin/users/${ee.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Je)})).ok)Ze({title:"Success",description:"User updated successfully"}),We(!1),setTimeout(()=>{G()},100);else throw new Error("Failed to update user")}catch(C){console.error("❌ Error updating user:",C),Ze({title:"Error",description:"Failed to update user",variant:"destructive"})}},Fs=async C=>{if(confirm(`Are you sure you want to delete user "${C.username}"? This action cannot be undone.`))try{if((await fetch(`/api/admin/users/${C.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)Ze({title:"Success",description:`User "${C.username}" deleted successfully`}),setTimeout(()=>{G()},100);else throw new Error("Failed to delete user")}catch(Q){console.error("❌ Error deleting user:",Q),Ze({title:"Error",description:"Failed to delete user",variant:"destructive"})}},Ya=async()=>{if(!(!de||!ie))try{const C=await fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:de.id,amount:Number(ie),note:`Admin deposit for ${de.username}`})});if(C.ok){const Q=await C.json();Ze({title:"Success",description:Q.message}),_e(""),O(!1),setTimeout(()=>{G()},100)}else throw new Error("Failed to process deposit")}catch{Ze({title:"Error",description:"Failed to process deposit",variant:"destructive"})}},Or=async()=>{if(!(!de||!me))try{const C=await fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:de.id,amount:Number(me),note:`Admin withdrawal for ${de.username}`})});if(C.ok){const Q=await C.json();Ze({title:"Success",description:Q.message}),Oe(""),$(!1),setTimeout(()=>{G()},100)}else{const Q=await C.json();throw new Error(Q.error||"Failed to process withdrawal")}}catch(C){Ze({title:"Error",description:C.message||"Failed to process withdrawal",variant:"destructive"})}},Zi=async()=>{if(!(!de||!be))try{const C=await fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:de.id,newPassword:be})});if(C.ok){const Q=await C.json();Ze({title:"Success",description:Q.message}),ce(""),X(!1),setTimeout(()=>{G()},100)}else{const Q=await C.json();throw new Error(Q.error||"Failed to change password")}}catch(C){Ze({title:"Error",description:C.message||"Failed to change password",variant:"destructive"})}},L=async()=>{if(de)try{const C=await fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:de.id,walletAddress:pe})});if(C.ok){const Q=await C.json();Ze({title:"Success",description:Q.message}),Se({...de,wallet_address:pe}),s(ve=>ve.map(Y=>Y.id===de.id?{...Y,wallet_address:pe}:Y)),ze(""),te(de.id),setTimeout(()=>{G()},100)}else throw new Error("Failed to update wallet address")}catch{Ze({title:"Error",description:"Failed to update wallet address",variant:"destructive"})}},te=async C=>{try{const Q=await fetch(`/api/superadmin/wallet-history/${C}`);if(Q.ok){const ve=await Q.json();he(ve.history||[])}}catch(Q){console.error("Failed to load wallet history:",Q),he([])}},Fe=async(C,Q,ve)=>{try{console.log("🏦 Deposit action:",C,Q,ve);const Y=await fetch(`/api/admin/deposits/${C}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:Q,reason:ve})});if(Y.ok){const ye=await Y.json();Ze({title:`Deposit ${Q==="approve"?"Approved":"Rejected"}`,description:ye.message||`Deposit ${Q}d successfully`,duration:3e3}),G()}else{const ye=await Y.text();throw new Error(ye||"Failed to process deposit")}}catch(Y){console.error("Failed to process deposit:",Y),Ze({title:"Error",description:Y instanceof Error?Y.message:"Failed to process deposit",variant:"destructive",duration:5e3})}},it=async(C,Q,ve)=>{try{console.log("💰 Withdrawal action:",C,Q,ve);const Y=await fetch(`/api/admin/withdrawals/${C}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:Q,reason:ve})});if(Y.ok){const ye=await Y.json();Ze({title:`Withdrawal ${Q==="approve"?"Approved":"Rejected"}`,description:ye.message||`Withdrawal ${Q}d successfully`,duration:3e3}),G()}else{const ye=await Y.text();throw new Error(ye||"Failed to process withdrawal")}}catch(Y){console.error("Failed to process withdrawal:",Y),Ze({title:"Error",description:Y instanceof Error?Y.message:"Failed to process withdrawal",variant:"destructive",duration:5e3})}},Lt=async(C,Q,ve)=>{try{console.log("📄 Document action:",C,Q,ve);const Y=await fetch(`/api/admin/verify-document/${C}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({status:Q==="approve"?"approved":"rejected",adminNotes:ve||`Document ${Q}d by admin`})});if(Y.ok){const ye=await Y.json();Ze({title:`Document ${Q==="approve"?"Approved":"Rejected"}`,description:ye.message||`Document ${Q}d successfully`,duration:3e3}),G()}else{const ye=await Y.text();throw new Error(ye||"Failed to process document")}}catch(Y){console.error("Failed to process document:",Y),Ze({title:"Error",description:Y instanceof Error?Y.message:"Failed to process document",variant:"destructive",duration:5e3})}},_t=async C=>{try{console.log("🗑️ Deleting transaction:",C),console.log("🗑️ Current transactions count before deletion:",a.length);const Q=[...a];o(Y=>Y.map(ye=>ye.id===C?{...ye,deleting:!0}:ye));const ve=await fetch(`/api/admin/transactions/${C}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(ve.ok){const Y=await ve.json();console.log("🗑️ Delete response:",Y),console.log("🔄 Immediately refreshing transactions after successful deletion..."),await B()?Ze({title:"Transaction Deleted",description:Y.message||"Transaction deleted successfully",duration:3e3}):(o(ot=>ot.filter(Mt=>Mt.id!==C)),Ze({title:"Transaction Deleted",description:"Transaction deleted (manual update)",duration:3e3}))}else{console.log("🗑️ Delete failed, restoring original state..."),o(Q);const Y=await ve.text();throw new Error(Y||"Failed to delete transaction")}}catch(Q){console.error("Failed to delete transaction:",Q),console.log("🗑️ Error occurred, restoring original state..."),o(ve=>ve.filter(Y=>!Y.deleting)),Ze({title:"Error",description:Q instanceof Error?Q.message:"Failed to delete transaction",variant:"destructive",duration:5e3})}},Us=C=>{const Q=`/api/admin/receipt/${C}/view`;window.open(Q,"receiptViewer","width=800,height=600,scrollbars=yes,resizable=yes")},N=async(C,Q)=>{try{if(console.log("🎁 Redeem code action:",C,Q),Q==="edit"){const Y=b.find(ye=>ye.id===C||ye.code===C);Y?(k(Y),_(!0)):Ze({title:"Error",description:"Code not found",variant:"destructive"});return}const ve=await fetch(`/api/admin/redeem-codes/${C}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:Q})});if(ve.ok){const Y=await ve.json();Ze({title:`Code ${Q==="disable"?"Disabled":"Deleted"}`,description:Y.message||`Code ${Q}d successfully`,duration:3e3}),setTimeout(()=>{G()},100)}else{const Y=await ve.text();throw new Error(Y||`Failed to ${Q} code`)}}catch(ve){console.error(`Failed to ${Q} redeem code:`,ve),Ze({title:"Error",description:ve instanceof Error?ve.message:`Failed to ${Q} code`,variant:"destructive",duration:5e3})}},U=async()=>{try{if(!I||!I.bonus_amount){Ze({title:"Missing Information",description:"Please fill in bonus amount",variant:"destructive"});return}const C=await fetch(`/api/admin/redeem-codes/${I.id}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:"edit",newAmount:parseFloat(I.bonus_amount),newDescription:I.description,newMaxUses:I.max_uses?parseInt(I.max_uses):null})});if(C.ok){const Q=await C.json();Ze({title:"Code Updated",description:`Redeem code ${I.code} updated successfully`,duration:3e3}),_(!1),k(null),G()}else{const Q=await C.text();throw new Error(Q||"Failed to update code")}}catch(C){console.error("Failed to update redeem code:",C),Ze({title:"Error",description:C instanceof Error?C.message:"Failed to update code",variant:"destructive",duration:5e3})}},fe=async()=>{try{if(!P.code||!P.bonusAmount){Ze({title:"Missing Information",description:"Please fill in code and bonus amount",variant:"destructive"});return}const C=await fetch("/api/admin/redeem-codes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({code:P.code.toUpperCase(),bonusAmount:parseFloat(P.bonusAmount),maxUses:P.maxUses?parseInt(P.maxUses):null,description:P.description||`Bonus code for ${P.bonusAmount} USDT`})});if(C.ok){const Q=await C.json();Ze({title:"Code Created",description:`Redeem code ${P.code} created successfully`,duration:3e3}),T(!1),F({code:"",bonusAmount:"",maxUses:"",description:""}),G()}else{const Q=await C.text();throw new Error(Q||"Failed to create code")}}catch(C){console.error("Failed to create redeem code:",C),Ze({title:"Error",description:C instanceof Error?C.message:"Failed to create code",variant:"destructive",duration:5e3})}},J=(C,Q)=>{switch(console.log("🔧 Opening super admin modal:",Q,"for user:",C.username),Se(C),ze(C.wallet_address||""),Q){case"deposit":O(!0);break;case"withdrawal":$(!0);break;case"password":X(!0);break;case"wallet":ne(!0),te(C.id);break}};f.useEffect(()=>{G();const C=setInterval(G,5e3);return()=>clearInterval(C)},[]);const le=C=>{const Q=Date.now(),ve=new Date(C).getTime(),Y=Math.max(0,ve-Q);return Math.floor(Y/1e3)};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        .admin-table-container {
          scrollbar-width: thin;
          scrollbar-color: #6b7280 #374151;
        }
        .admin-table-container::-webkit-scrollbar {
          height: 8px;
        }
        .admin-table-container::-webkit-scrollbar-track {
          background: #374151;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb {
          background: #6b7280;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
      `}),r.jsxs("div",{className:"min-h-screen bg-gray-900",children:[r.jsx("div",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Ns,{className:"w-8 h-8 text-purple-500"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"METACHROME Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Complete Trading Platform Control"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(z,{onClick:G,variant:"outline",size:"sm",disabled:h,children:[r.jsx(Cr,{className:`w-4 h-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]}),r.jsxs(z,{onClick:A,variant:"outline",size:"sm",className:"bg-red-600 hover:bg-red-700 border-red-600",children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Force Refresh Transactions"]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 rounded-lg px-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:t!=null&&t.username?t.username.substring(0,2).toUpperCase():"SA"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"text-white font-medium",children:(t==null?void 0:t.username)||"superadmin"}),r.jsx("div",{className:"text-gray-400 text-xs",children:(t==null?void 0:t.role)==="super_admin"?"Super Admin":"Admin"})]})]})]})]})})}),r.jsx("div",{className:"max-w-full mx-auto p-6",children:r.jsxs(RE,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(_h,{className:"flex w-full overflow-x-auto bg-gray-800 border-gray-700 scrollbar-hide gap-2 p-2",children:[r.jsxs(cs,{value:"overview",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Overview"]}),r.jsxs(cs,{value:"users",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Users"]}),r.jsxs(cs,{value:"trades",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Trades"]}),r.jsxs(cs,{value:"transactions",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(ku,{className:"w-4 h-4 mr-2"}),"Transactions"]}),r.jsxs(cs,{value:"pending",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Pending Requests"]}),r.jsxs(cs,{value:"verification",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(tD,{className:"w-4 h-4 mr-2"}),"Verification"]}),r.jsxs(cs,{value:"redeem-codes",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(nD,{className:"w-4 h-4 mr-2"}),"Redeem Codes"]}),r.jsxs(cs,{value:"controls",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),"Controls"]}),r.jsxs(cs,{value:"support",className:"flex-shrink-0 px-4 py-2",children:[r.jsx(lb,{className:"w-4 h-4 mr-2"}),"Support"]})]}),r.jsxs(Ms,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(we,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Total Users"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:(d==null?void 0:d.totalUsers)||e.length})]}),r.jsx(Vd,{className:"w-8 h-8 text-blue-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(n)?n.filter(C=>C.result==="pending").length:0})]}),r.jsx(wf,{className:"w-8 h-8 text-green-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",n.reduce((C,Q)=>C+parseFloat(Q.amount||0),0).toLocaleString()]})]}),r.jsx(ku,{className:"w-8 h-8 text-purple-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-orange-100 text-sm",children:"Total Balance"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[Jw(e).toLocaleString()," USDT"]})]}),r.jsx(cr,{className:"w-8 h-8 text-orange-200"})]})})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Quick Actions"}),r.jsx(Et,{className:"text-gray-400",children:"Common administrative tasks"})]}),r.jsx(je,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(z,{className:"h-20 bg-blue-600 hover:bg-blue-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vd,{className:"w-6 h-6 mx-auto mb-2"}),r.jsx("div",{className:"text-sm",children:"Manage Users"})]})}),r.jsx(z,{className:"h-20 bg-green-600 hover:bg-green-700",children:r.jsxs("div",{className:"text-center",children:[r.jsx(wf,{className:"w-6 h-6 mx-auto mb-2"}),r.jsx("div",{className:"text-sm",children:"Monitor Trades"})]})}),r.jsx(z,{className:"h-20 bg-purple-600 hover:bg-purple-700",onClick:()=>window.location.href="/admin/test",children:r.jsxs("div",{className:"text-center",children:[r.jsx(tl,{className:"w-6 h-6 mx-auto mb-2"}),r.jsx("div",{className:"text-sm",children:"Test Features"})]})})]})})]})]}),r.jsxs(Ms,{value:"users",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),r.jsx(Vd,{className:"w-8 h-8 text-blue-500"})]})})}),r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Active Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(e)?e.filter(C=>C.status==="active").length:0})]}),r.jsx(bn,{className:"w-8 h-8 text-green-500"})]})})}),r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Platform Balance"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[Jw(e).toLocaleString()," USDT"]}),r.jsx("p",{className:"text-sm text-gray-400",children:"All crypto auto-converted to USDT"})]}),r.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded",children:"💱 Unified USDT balance system"})]}),r.jsx(ub,{className:"w-8 h-8 text-purple-500"})]})})}),r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Controlled Users"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(e)?e.filter(C=>C.trading_mode!=="normal").length:0})]}),r.jsx(db,{className:"w-8 h-8 text-orange-500"})]})})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsxs(nt,{className:"text-white flex items-center space-x-2",children:[r.jsx(cc,{className:"w-5 h-5"}),r.jsx("span",{children:"Create New User"})]}),r.jsx(Et,{className:"text-gray-400",children:"Add new users to the trading platform"})]}),r.jsx(je,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsx(Re,{placeholder:"Username",value:M.username,onChange:C=>H({...M,username:C.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsx(Re,{placeholder:"Email",type:"email",value:M.email,onChange:C=>H({...M,email:C.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsx(Re,{placeholder:"Password",type:"password",value:M.password,onChange:C=>H({...M,password:C.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsx(Re,{placeholder:"Balance",type:"number",value:M.balance,onChange:C=>H({...M,balance:Number(C.target.value)}),className:"bg-gray-700 border-gray-600 text-white"}),r.jsxs(In,{value:M.role,onValueChange:C=>H({...M,role:C}),children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(Ln,{})}),r.jsxs(pn,{children:[r.jsx(bt,{value:"user",children:"User"}),r.jsx(bt,{value:"admin",children:"Admin"}),r.jsx(bt,{value:"super_admin",children:"Super Admin"})]})]}),r.jsx(z,{onClick:ge,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Create User"})]})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"User Management"}),r.jsx(Et,{className:"text-gray-400",children:"Manage all platform users and their trading settings"})]}),r.jsx(je,{children:r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto admin-table-container",style:{maxWidth:"100%"},children:r.jsxs(ia,{className:"w-full",style:{minWidth:"1200px"},children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300 min-w-[200px]",children:"User"}),r.jsx(et,{className:"text-gray-300 min-w-[250px]",children:"Email"}),r.jsx(et,{className:"text-gray-300 min-w-[120px]",children:"Balance"}),r.jsx(et,{className:"text-gray-300 min-w-[100px]",children:"Role"}),r.jsx(et,{className:"text-gray-300 min-w-[100px]",children:"Status"}),r.jsx(et,{className:"text-gray-300 min-w-[120px]",children:"Trading Mode"}),r.jsx(et,{className:"text-gray-300 min-w-[400px]",children:"Actions"})]})}),r.jsx(oa,{children:Array.isArray(e)?e.map(C=>r.jsxs(fs,{className:"border-gray-700 hover:bg-gray-700/50",children:[r.jsx(Ke,{children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold",children:C.username.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"text-white font-medium truncate",title:C.username,children:C.username.length>20?`${C.username.slice(0,20)}...`:C.username}),r.jsxs("div",{className:"text-gray-400 text-sm",children:["ID: ",C.id?C.id.slice(0,8):"N/A","..."]})]})]})}),r.jsx(Ke,{className:"text-white",children:r.jsx("div",{className:"truncate",title:C.email,children:C.email.length>30?`${C.email.slice(0,30)}...`:C.email})}),r.jsx(Ke,{className:"text-white",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"font-medium text-green-400",children:[du(C.balance)," USDT"]}),r.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded border border-blue-700",children:"💱 Auto-converts all crypto deposits to USDT"})]})}),r.jsx(Ke,{children:r.jsx(Tt,{variant:C.role==="super_admin"?"default":C.role==="admin"?"secondary":"outline",children:C.role})}),r.jsx(Ke,{children:r.jsx(Tt,{variant:C.status==="active"?"default":"destructive",children:C.status})}),r.jsx(Ke,{children:r.jsxs(In,{value:C.trading_mode,onValueChange:Q=>se(C.id,Q),children:[r.jsx(fn,{className:"w-24 bg-gray-700 border-gray-600",children:r.jsx(Ln,{})}),r.jsxs(pn,{children:[r.jsx(bt,{value:"win",children:r.jsx("span",{className:"text-green-600 font-bold",children:"WIN"})}),r.jsx(bt,{value:"normal",children:r.jsx("span",{className:"text-blue-600 font-bold",children:"NORMAL"})}),r.jsx(bt,{value:"lose",children:r.jsx("span",{className:"text-red-600 font-bold",children:"LOSE"})})]})]})}),r.jsx(Ke,{className:"min-w-[300px]",children:r.jsxs("div",{className:"flex items-center space-x-1 flex-wrap",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{console.log("🔍 View button clicked for user:",C.username),ti(C)},className:"text-gray-400 hover:text-white",title:"View User Details",children:r.jsx(Xn,{className:"w-4 h-4"})}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{console.log("✏️ Edit button clicked for user:",C.username),Js(C)},className:"text-gray-400 hover:text-white",title:"Edit User",children:r.jsx(cb,{className:"w-4 h-4"})}),ft&&r.jsxs(r.Fragment,{children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{console.log("💰 Deposit button clicked for user:",C.username),J(C,"deposit")},className:"text-green-400 hover:text-green-300",title:"Deposit Money",children:r.jsx(cc,{className:"w-4 h-4"})}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{console.log("💸 Withdrawal button clicked for user:",C.username),J(C,"withdrawal")},className:"text-red-400 hover:text-red-300",title:"Withdraw Money",children:r.jsx(lD,{className:"w-4 h-4"})}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>J(C,"password"),className:"text-blue-400 hover:text-blue-300",title:"Change Password",children:r.jsx(iD,{className:"w-4 h-4"})}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>J(C,"wallet"),className:"text-purple-400 hover:text-purple-300",title:"Update Wallet Address",children:r.jsx(ub,{className:"w-4 h-4"})}),C.role==="user"&&C.id!==ct.id?r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Fs(C),className:"text-red-500 hover:text-red-400 border border-red-500",title:"Delete User",children:r.jsx(zd,{className:"w-4 h-4"})}):null]})]})})]},C.id)):[]})]})})})]})]}),r.jsxs(Ms,{value:"trades",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(we,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(n)?n.filter(C=>C.result==="pending").length:0})]}),r.jsx(cD,{className:"w-8 h-8 text-green-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm",children:"Win Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:[(d==null?void 0:d.winRate)||0,"%"]})]}),r.jsx(db,{className:"w-8 h-8 text-blue-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",n.reduce((C,Q)=>C+parseFloat(Q.amount||0),0).toLocaleString()]})]}),r.jsx(Ii,{className:"w-8 h-8 text-purple-200"})]})})}),r.jsx(we,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-orange-100 text-sm",children:"Total P&L"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",(()=>{const C=(d==null?void 0:d.totalProfit)||0,Q=(d==null?void 0:d.totalLoss)||0;return(C-Q).toLocaleString()})()]})]}),r.jsx(cr,{className:"w-8 h-8 text-orange-200"})]})})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(nt,{className:"text-white flex items-center space-x-2",children:[r.jsx(wf,{className:"w-5 h-5"}),r.jsx("span",{children:"Live Trading Monitor"})]}),r.jsx(Et,{className:"text-gray-400",children:"Real-time trading activity with manual controls"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-sm text-gray-400",children:"Live"})]})]})}),r.jsx(je,{children:r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:r.jsxs(ia,{children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300",children:"Trade ID"}),r.jsx(et,{className:"text-gray-300",children:"User"}),r.jsx(et,{className:"text-gray-300",children:"Symbol"}),r.jsx(et,{className:"text-gray-300",children:"Direction"}),r.jsx(et,{className:"text-gray-300",children:"Amount"}),r.jsx(et,{className:"text-gray-300",children:"Duration"}),r.jsx(et,{className:"text-gray-300",children:"Entry Price"}),r.jsx(et,{className:"text-gray-300",children:"Status"}),r.jsx(et,{className:"text-gray-300",children:"Time Left"}),r.jsx(et,{className:"text-gray-300",children:"Control"})]})}),r.jsx(oa,{children:Array.isArray(n)?n.slice(0,10).map(C=>{const Q=le(C.expires_at);return r.jsxs(fs,{className:"border-gray-700 hover:bg-gray-700/50",children:[r.jsx(Ke,{children:r.jsxs("div",{className:"text-white font-mono text-sm",children:[C.id?C.id.slice(0,8):"N/A","..."]})}),r.jsx(Ke,{className:"text-white",children:C.username||"Unknown"}),r.jsx(Ke,{className:"text-white font-medium",children:C.symbol}),r.jsx(Ke,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[C.direction==="up"?r.jsx(xg,{className:"w-4 h-4 text-green-500"}):r.jsx(gg,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"text-white",children:(C.direction||"up").toUpperCase()})]})}),r.jsxs(Ke,{className:"text-white",children:["$",C.amount.toLocaleString()]}),r.jsxs(Ke,{className:"text-white",children:[C.duration,"s"]}),r.jsxs(Ke,{className:"text-white font-mono",children:["$",C.entry_price]}),r.jsx(Ke,{children:r.jsx(Tt,{variant:C.result==="win"?"default":C.result==="lose"?"destructive":"secondary",children:C.result||"pending"})}),r.jsx(Ke,{children:C.result==="pending"?r.jsxs("span",{className:`text-sm font-medium ${Q<=10?"text-red-400":"text-yellow-400"}`,children:[Q,"s"]}):r.jsx("span",{className:"text-gray-400 text-sm",children:"Completed"})}),r.jsx(Ke,{children:r.jsxs("div",{className:"flex items-center space-x-1",children:[C.result==="pending"?r.jsxs(r.Fragment,{children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>re(C.id,"win"),className:"text-green-400 hover:text-green-300",title:"Force Win",children:r.jsx(bn,{className:"w-4 h-4"})}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>re(C.id,"lose"),className:"text-red-400 hover:text-red-300",title:"Force Lose",children:r.jsx(Ic,{className:"w-4 h-4"})})]}):null,r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Ce(C.id),className:"text-gray-400 hover:text-red-400",title:"Delete Trade",children:r.jsx(zd,{className:"w-4 h-4"})})]})})]},C.id)}):[]})]})})})]})]}),r.jsx(Ms,{value:"transactions",className:"space-y-6",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Financial Transactions"}),r.jsx(Et,{className:"text-gray-400",children:"Monitor all financial transactions"})]}),r.jsxs(je,{children:[r.jsxs("div",{className:"bg-gray-800 border border-yellow-500 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:"🐛 Debug Info"}),r.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[r.jsxs("div",{children:["React State Count: ",r.jsx("span",{className:"text-white font-mono",children:a.length})]}),r.jsxs("div",{children:["First 3 IDs: ",r.jsx("span",{className:"text-white font-mono text-xs",children:a.slice(0,3).map(C=>C.id.slice(0,8)).join(", ")})]}),r.jsxs("div",{children:["Last Updated: ",r.jsx("span",{className:"text-white font-mono",children:new Date().toLocaleTimeString()})]})]})]}),r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:r.jsxs(ia,{children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300",children:"Transaction ID"}),r.jsx(et,{className:"text-gray-300",children:"User"}),r.jsx(et,{className:"text-gray-300",children:"Type"}),r.jsx(et,{className:"text-gray-300",children:"Amount"}),r.jsx(et,{className:"text-gray-300",children:"Status"}),r.jsx(et,{className:"text-gray-300",children:"Date"}),r.jsx(et,{className:"text-gray-300",children:"Actions"})]})}),r.jsx(oa,{children:Array.isArray(a)?a.map(C=>{var Q;return r.jsxs(fs,{className:"border-gray-700 hover:bg-gray-700/50",children:[r.jsx(Ke,{children:r.jsxs("div",{className:"text-white font-mono text-sm",children:[C.id?C.id.slice(0,8):"N/A","..."]})}),r.jsx(Ke,{className:"text-white",children:((Q=C.users)==null?void 0:Q.username)||"Unknown"}),r.jsx(Ke,{children:r.jsx(Tt,{variant:C.type==="deposit"?"default":"secondary",children:C.type})}),r.jsx(Ke,{className:"text-white font-medium",children:A$(C)}),r.jsx(Ke,{children:r.jsx(Tt,{variant:C.status==="completed"?"default":"secondary",children:C.status})}),r.jsx(Ke,{className:"text-white",children:new Date(C.created_at).toLocaleDateString()}),r.jsx(Ke,{children:r.jsx(z,{size:"sm",variant:"destructive",onClick:()=>_t(C.id),disabled:C.deleting,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50",children:C.deleting?r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(zd,{className:"w-4 h-4"})})})]},C.id)}):[]})]})})]})]})}),r.jsx(Ms,{value:"controls",className:"space-y-6",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"System Controls"}),r.jsx(Et,{className:"text-gray-400",children:"Platform-wide controls and settings"})]}),r.jsx(je,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Trading Controls"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(z,{className:"w-full bg-green-600 hover:bg-green-700",children:"Enable All Trading"}),r.jsx(z,{className:"w-full bg-yellow-600 hover:bg-yellow-700",children:"Pause Trading"}),r.jsx(z,{className:"w-full bg-red-600 hover:bg-red-700",children:"Emergency Stop"})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"Market Status"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Price Feed:"}),r.jsx(Tt,{className:"bg-green-600",children:"Live"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Auto Mode:"}),r.jsx(Tt,{className:"bg-blue-600",children:"Enabled"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Manual Override:"}),r.jsx(Tt,{variant:"outline",children:"Ready"})]})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[r.jsx("h3",{className:"text-white font-medium mb-3",children:"System Health"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Server:"}),r.jsx(Tt,{className:"bg-green-600",children:"Online"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Database:"}),r.jsx(Tt,{className:"bg-green-600",children:"Connected"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"WebSocket:"}),r.jsx(Tt,{className:"bg-green-600",children:"Active"})]})]})]})]})})]})}),r.jsx(Ms,{value:"pending",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsxs(nt,{className:"text-white flex items-center space-x-2",children:[r.jsx(ku,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{children:"Pending Deposits"}),r.jsx(Tt,{variant:"secondary",className:"ml-2",children:((ke=l==null?void 0:l.deposits)==null?void 0:ke.length)||0})]}),r.jsx(Et,{className:"text-gray-400",children:"Review and approve user deposit requests"})]}),r.jsx(je,{children:r.jsx("div",{className:"space-y-4",children:((Ie=l==null?void 0:l.deposits)==null?void 0:Ie.length)===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Ns,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No pending deposits"})]}):(mt=l==null?void 0:l.deposits)==null?void 0:mt.map(C=>{var Q,ve;return r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:C.username}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Balance: ",C.user_balance," USDT"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-green-400",children:[C.amount," ",C.currency]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[C.currency," Network"]})]})]}),C.tx_hash&&r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-gray-400",children:"Transaction Hash:"}),r.jsx("p",{className:"text-blue-400 font-mono break-all",children:C.tx_hash})]}),C.receipt&&r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:"Receipt:"}),r.jsx("div",{className:"bg-gray-600 rounded-lg p-3",children:(Q=C.receipt.mimetype)!=null&&Q.startsWith("image/")?r.jsxs("div",{className:"space-y-2",children:[r.jsx("img",{src:C.receipt.url,alt:"Transaction Receipt",className:"max-w-full h-32 object-contain rounded border border-gray-500",onError:Y=>{Y.currentTarget.style.display="none";const ye=Y.currentTarget.nextElementSibling;ye&&(ye.style.display="block")}}),r.jsx("div",{style:{display:"none"},className:"text-red-400 text-xs",children:"Failed to load image"}),r.jsx("a",{href:C.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"View Full Size"})]}):r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-white text-xs",children:C.receipt.originalName}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[C.receipt.mimetype," • ",Math.round(C.receipt.size/1024),"KB"]}),r.jsx("a",{href:C.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"Download File"})]})})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[r.jsxs("p",{children:["Requested: ",new Date(C.created_at).toLocaleString()]}),r.jsxs("p",{children:["Status: ",r.jsx("span",{className:"text-yellow-400",children:C.status})]})]}),C.receiptUploaded&&C.receiptViewUrl&&r.jsxs("div",{className:"bg-gray-600 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"📄 Receipt Uploaded:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(z,{onClick:()=>{var Y;return Us(((Y=C.receiptFile)==null?void 0:Y.filename)||"")},variant:"outline",size:"sm",className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:"View Receipt"}),((ve=C.receiptFile)==null?void 0:ve.originalname)&&r.jsx("span",{className:"text-xs text-gray-400",children:C.receiptFile.originalname})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:()=>Fe(C.id,"approve"),className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Approve"]}),r.jsx(z,{onClick:()=>Fe(C.id,"reject","Invalid transaction proof"),variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},C.id)})})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsxs(nt,{className:"text-white flex items-center space-x-2",children:[r.jsx(cr,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{children:"Pending Withdrawals"}),r.jsx(Tt,{variant:"secondary",className:"ml-2",children:((kt=l==null?void 0:l.withdrawals)==null?void 0:kt.length)||0})]}),r.jsx(Et,{className:"text-gray-400",children:"Review and approve user withdrawal requests"})]}),r.jsx(je,{children:r.jsx("div",{className:"space-y-4",children:((Ct=l==null?void 0:l.withdrawals)==null?void 0:Ct.length)===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(Ns,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No pending withdrawals"})]}):(Ft=l==null?void 0:l.withdrawals)==null?void 0:Ft.map(C=>r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-medium",children:C.username}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsxs("p",{className:"text-green-400 font-medium",children:["Balance: ",C.user_balance," USDT"]}),r.jsx("p",{className:"text-blue-400 text-xs",children:"💱 Unified USDT balance (auto-converted)"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-lg font-bold text-red-400",children:[C.amount," ",C.currency]}),r.jsxs("p",{className:"text-sm text-gray-400",children:[C.currency," Network"]})]})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-gray-400",children:"Wallet Address:"}),r.jsx("p",{className:"text-blue-400 font-mono break-all",children:C.wallet_address})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:[r.jsxs("p",{children:["Requested: ",new Date(C.created_at).toLocaleString()]}),r.jsxs("p",{children:["Status: ",r.jsx("span",{className:"text-yellow-400",children:C.status})]})]}),r.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-3 my-3",children:[r.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center mb-1",children:[r.jsx("span",{className:"mr-2",children:"✅"}),"Withdrawal Processing"]}),r.jsxs("div",{className:"text-green-300 text-xs",children:["Approving this withdrawal will deduct ",r.jsxs("span",{className:"font-bold text-red-400",children:[C.amount," USDT"]})," from the user's unified USDT balance. Simple and instant processing with auto-conversion system."]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{onClick:()=>it(C.id,"approve"),className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Approve"]}),r.jsx(z,{onClick:()=>it(C.id,"reject","Insufficient verification"),variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},C.id))})})]})]})}),r.jsx(Ms,{value:"verification",className:"space-y-6",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Document Verification"}),r.jsx(Et,{className:"text-gray-400",children:"Review and approve user verification documents"})]}),r.jsx(je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:(g==null?void 0:g.pending)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Pending Review"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:(g==null?void 0:g.approved)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Approved"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-400",children:(g==null?void 0:g.rejected)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Rejected"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:(g==null?void 0:g.total)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Total Documents"})]})]}),r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:r.jsxs(ia,{children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300",children:"User"}),r.jsx(et,{className:"text-gray-300",children:"Document Type"}),r.jsx(et,{className:"text-gray-300",children:"Submitted"}),r.jsx(et,{className:"text-gray-300",children:"Status"}),r.jsx(et,{className:"text-gray-300",children:"Actions"})]})}),r.jsx(oa,{children:x.length===0?r.jsx(fs,{className:"border-gray-700",children:r.jsx(Ke,{colSpan:5,className:"text-center py-8 text-gray-400",children:"No pending verification documents"})}):x.filter(C=>C.verification_status==="pending").map(C=>{var Q,ve,Y,ye,ot;return r.jsxs(fs,{className:"border-gray-700",children:[r.jsx(Ke,{className:"text-white",children:((Q=C.users)==null?void 0:Q.email)||((ve=C.users)==null?void 0:ve.username)||"Unknown User"}),r.jsx(Ke,{className:"text-gray-300",children:((Y=C.document_type)==null?void 0:Y.replace("_"," ").replace(/\b\w/g,Mt=>Mt.toUpperCase()))||"Unknown Type"}),r.jsx(Ke,{className:"text-gray-300",children:C.created_at?new Date(C.created_at).toLocaleString():"Unknown"}),r.jsx(Ke,{children:r.jsx(Tt,{className:C.verification_status==="pending"?"bg-yellow-600":C.verification_status==="approved"?"bg-green-600":C.verification_status==="rejected"?"bg-red-600":"bg-gray-600",children:((ye=C.verification_status)==null?void 0:ye.charAt(0).toUpperCase())+((ot=C.verification_status)==null?void 0:ot.slice(1))||"Unknown"})}),r.jsx(Ke,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>window.open(C.document_url,"docViewer","width=800,height=600"),children:[r.jsx(Xn,{className:"w-4 h-4 mr-1"}),"View"]}),r.jsxs(z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>Lt(C.id,"approve"),children:[r.jsx(bn,{className:"w-4 h-4 mr-1"}),"Approve"]}),r.jsxs(z,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>Lt(C.id,"reject","Document review required"),children:[r.jsx(Ic,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},C.id)})})]})})]})})]})}),r.jsx(Ms,{value:"redeem-codes",className:"space-y-6",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(nt,{className:"text-white",children:"Redeem Code Management"}),r.jsx(Et,{className:"text-gray-400",children:"Create and manage promotional redeem codes"})]}),r.jsxs(z,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>T(!0),children:[r.jsx(cc,{className:"w-4 h-4 mr-2"}),"Create Code"]})]})}),r.jsx(je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-400",children:(w==null?void 0:w.activeCodes)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Active Codes"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:(w==null?void 0:w.totalRedeemed)||0}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Total Redeemed"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[(w==null?void 0:w.bonusDistributed)||0," USDT"]}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Bonus Distributed"})]}),r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[(w==null?void 0:w.usageRate)||0,"%"]}),r.jsx("div",{className:"text-gray-400 text-sm",children:"Usage Rate"})]})]}),r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:r.jsxs(ia,{children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300",children:"Code"}),r.jsx(et,{className:"text-gray-300",children:"Bonus Amount"}),r.jsx(et,{className:"text-gray-300",children:"Usage"}),r.jsx(et,{className:"text-gray-300",children:"Status"}),r.jsx(et,{className:"text-gray-300",children:"Created"}),r.jsx(et,{className:"text-gray-300",children:"Actions"})]})}),r.jsx(oa,{children:b.length===0?r.jsx(fs,{className:"border-gray-700",children:r.jsx(Ke,{colSpan:6,className:"text-center py-8 text-gray-400",children:"No redeem codes found"})}):b.map(C=>{var Q,ve;return r.jsxs(fs,{className:"border-gray-700",children:[r.jsx(Ke,{className:"text-white font-mono",children:C.code}),r.jsxs(Ke,{className:"text-green-400",children:[C.bonus_amount," USDT"]}),r.jsxs(Ke,{className:"text-gray-300",children:[C.used_count||0," / ",C.max_uses||"∞"]}),r.jsx(Ke,{children:r.jsx(Tt,{className:C.status==="active"?"bg-green-600":C.status==="disabled"?"bg-red-600":"bg-gray-600",children:((Q=C.status)==null?void 0:Q.charAt(0).toUpperCase())+((ve=C.status)==null?void 0:ve.slice(1))||"Unknown"})}),r.jsx(Ke,{className:"text-gray-300",children:C.created_at?new Date(C.created_at).toLocaleDateString():"Unknown"}),r.jsx(Ke,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(z,{size:"sm",variant:"outline",className:"border-gray-600",onClick:()=>N(C.code||C.id,"edit"),children:[r.jsx(cb,{className:"w-4 h-4 mr-1"}),"Edit"]}),r.jsx(z,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>N(C.code||C.id,"disable"),disabled:C.status==="disabled"||!C.is_active,children:"Disable"}),r.jsx(z,{size:"sm",className:"bg-gray-600 hover:bg-gray-700",onClick:()=>N(C.code||C.id,"delete"),children:r.jsx(zd,{className:"w-4 h-4"})})]})})]},C.id)})})]})}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"User Redemption History"}),r.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:r.jsxs(ia,{children:[r.jsx(aa,{children:r.jsxs(fs,{className:"bg-gray-700",children:[r.jsx(et,{className:"text-gray-300",children:"Code"}),r.jsx(et,{className:"text-gray-300",children:"User"}),r.jsx(et,{className:"text-gray-300",children:"Amount"}),r.jsx(et,{className:"text-gray-300",children:"Redeemed Date"}),r.jsx(et,{className:"text-gray-300",children:"Status"}),r.jsx(et,{className:"text-gray-300",children:"Trades Progress"})]})}),r.jsx(oa,{children:b.length===0?r.jsx(fs,{className:"border-gray-700",children:r.jsx(Ke,{colSpan:6,className:"text-center py-8 text-gray-400",children:"No redemptions yet"})}):b.map(C=>{const Q=C.redemptions||[];return Q.length===0?r.jsxs(fs,{className:"border-gray-700",children:[r.jsx(Ke,{className:"text-white font-mono",children:C.code}),r.jsx(Ke,{colSpan:5,className:"text-center text-gray-400",children:"No users have redeemed this code yet"})]},`${C.id}-empty`):Q.map((ve,Y)=>r.jsxs(fs,{className:"border-gray-700",children:[r.jsx(Ke,{className:"text-white font-mono",children:C.code}),r.jsx(Ke,{className:"text-blue-400",children:ve.user}),r.jsxs(Ke,{className:"text-green-400",children:[ve.amount," USDT"]}),r.jsxs(Ke,{className:"text-gray-300",children:[new Date(ve.date).toLocaleDateString()," ",new Date(ve.date).toLocaleTimeString()]}),r.jsx(Ke,{children:r.jsx(Tt,{className:ve.status==="completed"?"bg-green-600":ve.status==="pending_trades"?"bg-yellow-600":"bg-gray-600",children:ve.status==="completed"?"Completed":"Pending Trades"})}),r.jsxs(Ke,{className:"text-gray-300",children:[ve.tradesCompleted,"/",ve.tradesRequired]})]},`${C.id}-${Y}`))})})]})})]})]})})]})}),r.jsx(Ms,{value:"support",className:"space-y-6",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Support Center"}),r.jsx(Et,{className:"text-gray-400",children:"User support and communication management"})]}),r.jsx(je,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(lb,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Support System"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Advanced support features coming soon"}),r.jsx(z,{variant:"outline",children:"Configure Support"})]})})]})})]})}),W&&ee&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"👤 User Details"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>xe(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Username:"}),r.jsx("span",{className:"text-white font-medium",children:ee.username})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Email:"}),r.jsx("span",{className:"text-white",children:ee.email})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex justify-between",children:r.jsx("span",{className:"text-gray-400",children:"Balance Details:"})}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-green-400 font-medium",children:"USDT Balance"}),r.jsxs("span",{className:"text-white font-bold",children:[du(ee.balance)," USDT"]})]}),r.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded p-3",children:[r.jsxs("div",{className:"text-blue-400 text-xs font-medium flex items-center mb-2",children:[r.jsx("span",{className:"mr-2",children:"💱"}),"Auto-Conversion System"]}),r.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[r.jsx("div",{children:"• All cryptocurrency deposits (BTC, ETH, SOL, etc.) are automatically converted to USDT"}),r.jsx("div",{children:"• Real-time conversion rates with minimal fees (0.1-0.2%)"}),r.jsx("div",{children:"• Unified balance system - only USDT is stored"}),r.jsx("div",{children:"• Withdrawals are processed directly from USDT balance"})]})]}),r.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-2",children:[r.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center",children:[r.jsx("span",{className:"mr-2",children:"✅"}),"Benefits"]}),r.jsx("div",{className:"text-green-300 text-xs mt-1",children:"• Simplified balance management • No conversion delays • Instant withdrawals"})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Role:"}),r.jsx("span",{className:"text-white",children:ee.role})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:"text-white",children:ee.status})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Trading Mode:"}),r.jsx("span",{className:"text-white font-medium",children:(ee.trading_mode||"normal").toUpperCase()})]}),r.jsx("div",{className:"border-t border-gray-700 pt-3",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("span",{className:"text-gray-400",children:"Wallet Address:"}),r.jsx("div",{className:"flex-1 ml-3",children:ee.wallet_address?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-white font-mono text-xs bg-gray-700 px-2 py-1 rounded break-all flex-1",children:ee.wallet_address}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(ee.wallet_address||""),className:"text-gray-400 hover:text-white p-1 flex-shrink-0",title:"Copy address",children:"📋"})]}),ft&&r.jsx(z,{variant:"outline",size:"sm",onClick:()=>{xe(!1),J(ee,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:"🏦 Manage"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("span",{className:"text-gray-500 italic text-sm",children:"Not set"}),ft&&r.jsx(z,{variant:"outline",size:"sm",onClick:()=>{xe(!1),J(ee,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:"🏦 Set Address"})]})})]})}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Created:"}),r.jsx("span",{className:"text-white",children:new Date(ee.created_at).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Last Login:"}),r.jsx("span",{className:"text-white",children:ee.last_login?new Date(ee.last_login).toLocaleDateString():"Never"})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx(z,{onClick:()=>xe(!1),className:"bg-purple-600 hover:bg-purple-700",children:"Close"})})]})}),qe&&ee&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"⚙️ Edit User"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>We(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Username"}),r.jsx(Re,{value:Je.username||"",onChange:C=>{console.log("🔄 Username changed:",C.target.value),jt({...Je,username:C.target.value})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",autoComplete:"off",disabled:!1,readOnly:!1})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Email"}),r.jsx(Re,{type:"email",value:Je.email||"",onChange:C=>{console.log("📧 Email changed:",C.target.value),jt({...Je,email:C.target.value})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter email",autoComplete:"off",disabled:!1,readOnly:!1})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Balance"}),r.jsx(Re,{type:"number",value:Je.balance||0,onChange:C=>{console.log("💰 Balance changed:",C.target.value),jt({...Je,balance:Number(C.target.value)})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter balance",step:"0.01",min:"0",disabled:!1,readOnly:!1})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Wallet Address"}),r.jsx(Re,{value:Je.wallet_address||"",onChange:C=>{console.log("🔄 Wallet address changed:",C.target.value),jt({...Je,wallet_address:C.target.value})},placeholder:"Enter wallet address (0x...)",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Trading Mode"}),r.jsxs(In,{value:Je.trading_mode,onValueChange:C=>jt({...Je,trading_mode:C}),children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white w-full",children:r.jsx(Ln,{placeholder:"Select trading mode"})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"win",className:"text-white hover:bg-gray-600",children:r.jsx("span",{className:"text-green-400 font-bold",children:"WIN"})}),r.jsx(bt,{value:"normal",className:"text-white hover:bg-gray-600",children:r.jsx("span",{className:"text-blue-400 font-bold",children:"NORMAL"})}),r.jsx(bt,{value:"lose",className:"text-white hover:bg-gray-600",children:r.jsx("span",{className:"text-red-400 font-bold",children:"LOSE"})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Role"}),r.jsxs(In,{value:Je.role,onValueChange:C=>jt({...Je,role:C}),children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white w-full",children:r.jsx(Ln,{placeholder:"Select role"})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"user",className:"text-white hover:bg-gray-600",children:"User"}),r.jsx(bt,{value:"admin",className:"text-white hover:bg-gray-600",children:"Admin"}),r.jsx(bt,{value:"superadmin",className:"text-white hover:bg-gray-600",children:"Super Admin"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Status"}),r.jsxs(In,{value:Je.status,onValueChange:C=>jt({...Je,status:C}),children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white w-full",children:r.jsx(Ln,{placeholder:"Select status"})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"active",className:"text-white hover:bg-gray-600",children:"Active"}),r.jsx(bt,{value:"inactive",className:"text-white hover:bg-gray-600",children:"Inactive"}),r.jsx(bt,{value:"suspended",className:"text-white hover:bg-gray-600",children:"Suspended"}),r.jsx(bt,{value:"banned",className:"text-white hover:bg-gray-600",children:"Banned"})]})]})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>We(!1),children:"Cancel"}),r.jsx(z,{onClick:rs,className:"bg-purple-600 hover:bg-purple-700",children:"Save Changes"})]})]})}),ft&&r.jsxs(r.Fragment,{children:[Z&&de&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"💰 Deposit to"}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:de.username})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),r.jsx(Re,{type:"number",value:ie,onChange:C=>_e(C.target.value),placeholder:"Enter deposit amount",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",du(de.balance)," USDT"]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),r.jsx(z,{onClick:Ya,className:"bg-green-600 hover:bg-green-700",children:"Process Deposit"})]})]})}),V&&de&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"💸 Withdraw from"}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:de.username})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),r.jsx(Re,{type:"number",value:me,onChange:C=>Oe(C.target.value),placeholder:"Enter withdrawal amount",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",du(de.balance)," USDT"]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),r.jsx(z,{onClick:Or,className:"bg-red-600 hover:bg-red-700",children:"Process Withdrawal"})]})]})}),R&&de&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"🔑 Change Password for"}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:de.username})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"New Password"}),r.jsx(Re,{type:"password",value:be,onChange:C=>ce(C.target.value),placeholder:"Enter new password",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsx("div",{className:"text-sm text-yellow-400",children:"⚠️ This will immediately change the user's login password"})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>X(!1),children:"Cancel"}),r.jsx(z,{onClick:Zi,className:"bg-blue-600 hover:bg-blue-700",children:"Change Password"})]})]})}),q&&de&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-lg w-full mx-4 border border-gray-700 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"🏦 Manage Wallet for"}),r.jsx("div",{className:"bg-gray-700 rounded-lg p-2",children:r.jsx("span",{className:"text-sm text-gray-300 font-mono break-all",children:de.username})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Current Wallet Address"}),r.jsx("div",{className:"text-sm",children:de.wallet_address?r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"font-mono text-green-400 bg-gray-800 px-2 py-1 rounded break-all flex-1 text-xs",children:de.wallet_address}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(de.wallet_address||""),className:"text-gray-400 hover:text-white p-1 flex-shrink-0",title:"Copy address",children:"📋"})]}):r.jsx("span",{className:"text-gray-400 italic",children:"No wallet address set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"New Wallet Address"}),r.jsx(Re,{value:pe,onChange:C=>ze(C.target.value),placeholder:"Enter new wallet address",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium mb-3",children:"Previous Wallet Addresses"}),K.length>0?r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.isArray(K)?K.map((C,Q)=>r.jsxs("div",{className:"bg-gray-700 p-3 rounded flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-mono text-sm text-gray-300",children:C.address?`${C.address.slice(0,10)}...${C.address.slice(-8)}`:"N/A"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Changed: ",new Date(C.changed_at).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>ze(C.address),className:"text-blue-400 hover:text-blue-300 text-xs",title:"Use this address",children:"Use"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(C.address),className:"text-gray-400 hover:text-white p-1",title:"Copy address",children:"📋"})]})]},Q)):[]}):r.jsx("div",{className:"bg-gray-700 p-3 rounded text-center",children:r.jsx("div",{className:"text-gray-400 text-sm",children:"No previous wallet addresses found"})})]}),r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 p-3 rounded",children:r.jsx("div",{className:"text-yellow-400 text-sm",children:"⚠️ Changing the wallet address will move the current address to history"})})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"}),r.jsx(z,{onClick:L,className:"bg-purple-600 hover:bg-purple-700",disabled:!pe||pe===de.wallet_address,children:"Update Wallet"})]})]})})]}),r.jsx(Ao,{open:!!Ye,onOpenChange:()=>Ge(null),children:r.jsxs(Ta,{className:"max-w-4xl max-h-[90vh] bg-gray-800 border-gray-700",children:[r.jsx(Ea,{children:r.jsxs(ka,{className:"text-white",children:["Receipt: ",Ye==null?void 0:Ye.filename]})}),r.jsx("div",{className:"flex justify-center items-center p-4",children:Ye&&r.jsx("img",{src:Ye.url,alt:"Receipt",className:"max-w-full max-h-[70vh] object-contain rounded-lg",onError:C=>{console.error("Failed to load receipt image"),C.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzMzMzMzMyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmaWxsPSIjNjY2NjY2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UmVjZWlwdCBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+"}})})]})}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"🎁 Create Redeem Code"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>T(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Code *"}),r.jsx(Re,{value:P.code,onChange:C=>F({...P,code:C.target.value.toUpperCase()}),placeholder:"e.g., BONUS100",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Bonus Amount (USDT) *"}),r.jsx(Re,{type:"number",value:P.bonusAmount,onChange:C=>F({...P,bonusAmount:C.target.value}),placeholder:"100",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Max Uses (optional)"}),r.jsx(Re,{type:"number",value:P.maxUses,onChange:C=>F({...P,maxUses:C.target.value}),placeholder:"Leave empty for unlimited",className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Description (optional)"}),r.jsx(Re,{value:P.description,onChange:C=>F({...P,description:C.target.value}),placeholder:"Bonus code description",className:"bg-gray-700 border-gray-600 text-white"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),r.jsx(z,{onClick:fe,className:"bg-purple-600 hover:bg-purple-700",children:"Create Code"})]})]})}),E&&I&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"✏️ Edit Redeem Code"}),r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{_(!1),k(null)},className:"text-gray-400 hover:text-white",children:"✕"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Code"}),r.jsx("input",{type:"text",value:I.code,disabled:!0,className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md text-white opacity-50 cursor-not-allowed"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Code cannot be changed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bonus Amount (USDT)"}),r.jsx("input",{type:"number",step:"0.01",value:I.bonus_amount,onChange:C=>k({...I,bonus_amount:C.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Uses (optional)"}),r.jsx("input",{type:"number",value:I.max_uses||"",onChange:C=>k({...I,max_uses:C.target.value}),placeholder:"Unlimited",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:I.description||"",onChange:C=>k({...I,description:C.target.value}),placeholder:"Code description",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[r.jsx(z,{variant:"outline",onClick:()=>{_(!1),k(null)},children:"Cancel"}),r.jsx(z,{onClick:U,className:"bg-blue-600 hover:bg-blue-700",children:"Update Code"})]})]})})]})]})}var yd=t=>t.type==="checkbox",ha=t=>t instanceof Date,Vs=t=>t==null;const IE=t=>typeof t=="object";var es=t=>!Vs(t)&&!Array.isArray(t)&&IE(t)&&!ha(t),LE=t=>es(t)&&t.target?yd(t.target)?t.target.checked:t.target.value:t,R$=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,FE=(t,e)=>t.has(R$(e)),O$=t=>{const e=t.constructor&&t.constructor.prototype;return es(e)&&e.hasOwnProperty("isPrototypeOf")},cy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ns(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(cy&&(t instanceof Blob||n))&&(s||es(t)))if(e=s?[]:Object.create(Object.getPrototypeOf(t)),!s&&!O$(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ns(t[i]));else return t;return e}var $m=t=>/^\w*$/.test(t),Gt=t=>t===void 0,dy=t=>Array.isArray(t)?t.filter(Boolean):[],uy=t=>dy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(t,e,s)=>{if(!e||!es(t))return s;const n=($m(e)?[e]:uy(e)).reduce((i,a)=>Vs(i)?i:i[a],t);return Gt(n)||n===t?Gt(t[e])?s:t[e]:n},ir=t=>typeof t=="boolean",Nt=(t,e,s)=>{let n=-1;const i=$m(e)?[e]:uy(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=s;if(n!==o){const d=t[l];c=es(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Mh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hy=Ne.createContext(null);hy.displayName="HookFormContext";const Bm=()=>Ne.useContext(hy),I$=t=>{const{children:e,...s}=t;return Ne.createElement(hy.Provider,{value:s},e)};var UE=(t,e,s,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Hr.all&&(e._proxyFormState[o]=!n||Hr.all),s&&(s[o]=!0),t[o]}});return i};const my=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function L$(t){const e=Bm(),{control:s=e.control,disabled:n,name:i,exact:a}=t||{},[o,l]=Ne.useState(s._formState),c=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return my(()=>s._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!n&&l({...s._formState,...d})}}),[i,n,a]),Ne.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),Ne.useMemo(()=>UE(o,s,c.current,!1),[o,s])}var or=t=>typeof t=="string",$E=(t,e,s,n,i)=>or(t)?(n&&e.watch.add(t),Te(s,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Te(s,a))):(n&&(e.watchAll=!0),s),Wg=t=>Vs(t)||!IE(t);function Fn(t,e,s=new WeakSet){if(Wg(t)||Wg(e))return t===e;if(ha(t)&&ha(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(s.has(t)||s.has(e))return!0;s.add(t),s.add(e);for(const a of n){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(ha(o)&&ha(l)||es(o)&&es(l)||Array.isArray(o)&&Array.isArray(l)?!Fn(o,l,s):o!==l)return!1}}return!0}function F$(t){const e=Bm(),{control:s=e.control,name:n,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=Ne.useRef(i),d=Ne.useRef(l),u=Ne.useRef(void 0);d.current=l;const h=Ne.useMemo(()=>s._getWatch(n,c.current),[s,n]),[m,x]=Ne.useState(d.current?d.current(h):h);return my(()=>s._subscribe({name:n,formState:{values:!0},exact:o,callback:y=>{if(!a){const g=$E(n,s._names,y.values||s._formValues,!1,c.current);if(d.current){const v=d.current(g);Fn(v,u.current)||(x(v),u.current=v)}else x(g)}}}),[s,a,n,o]),Ne.useEffect(()=>s._removeUnmounted()),m}function U$(t){const e=Bm(),{name:s,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,l=FE(i._names.array,s),c=Ne.useMemo(()=>Te(i._formValues,s,Te(i._defaultValues,s,o)),[i,s,o]),d=F$({control:i,name:s,defaultValue:c,exact:!0}),u=L$({control:i,name:s,exact:!0}),h=Ne.useRef(t),m=Ne.useRef(void 0),x=Ne.useRef(i.register(s,{...t.rules,value:d,...ir(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const y=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(u.errors,s)},isDirty:{enumerable:!0,get:()=>!!Te(u.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Te(u.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Te(u.validatingFields,s)},error:{enumerable:!0,get:()=>Te(u.errors,s)}}),[u,s]),g=Ne.useCallback(w=>x.current.onChange({target:{value:LE(w),name:s},type:Mh.CHANGE}),[s]),v=Ne.useCallback(()=>x.current.onBlur({target:{value:Te(i._formValues,s),name:s},type:Mh.BLUR}),[s,i._formValues]),b=Ne.useCallback(w=>{const j=Te(i._fields,s);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[i._fields,s]),p=Ne.useMemo(()=>({name:s,value:d,...ir(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:g,onBlur:v,ref:b}),[s,n,u.disabled,g,v,b,d]);return Ne.useEffect(()=>{const w=i._options.shouldUnregister||a,j=m.current;j&&j!==s&&!l&&i.unregister(j),i.register(s,{...h.current.rules,...ir(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(T,E)=>{const _=Te(i._fields,T);_&&_._f&&(_._f.mount=E)};if(S(s,!0),w){const T=ns(Te(i._options.defaultValues,s,h.current.defaultValue));Nt(i._defaultValues,s,T),Gt(Te(i._formValues,s))&&Nt(i._formValues,s,T)}return!l&&i.register(s),m.current=s,()=>{(l?w&&!i._state.action:w)?i.unregister(s):S(s,!1)}},[s,i,l,a]),Ne.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),Ne.useMemo(()=>({field:p,formState:u,fieldState:y}),[p,u,y])}const $$=t=>t.render(U$(t));var BE=(t,e,s,n,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:i||!0}}:{},pc=t=>Array.isArray(t)?t:[t],ej=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function zE(t,e){const s={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&es(i)&&a){const o=zE(i,a);es(o)&&(s[n]=o)}else t[n]&&(s[n]=a)}return s}var zs=t=>es(t)&&!Object.keys(t).length,fy=t=>t.type==="file",Kr=t=>typeof t=="function",Dh=t=>{if(!cy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},VE=t=>t.type==="select-multiple",py=t=>t.type==="radio",B$=t=>py(t)||yd(t),np=t=>Dh(t)&&t.isConnected;function z$(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=Gt(t)?n++:t[e[n++]];return t}function V$(t){for(const e in t)if(t.hasOwnProperty(e)&&!Gt(t[e]))return!1;return!0}function Xt(t,e){const s=Array.isArray(e)?e:$m(e)?[e]:uy(e),n=s.length===1?t:z$(t,s),i=s.length-1,a=s[i];return n&&delete n[a],i!==0&&(es(n)&&zs(n)||Array.isArray(n)&&V$(n))&&Xt(t,s.slice(0,-1)),t}var W$=t=>{for(const e in t)if(Kr(t[e]))return!0;return!1};function WE(t){return Array.isArray(t)||es(t)&&!W$(t)}function Hg(t,e={}){for(const s in t)WE(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Hg(t[s],e[s])):Gt(t[s])||(e[s]=!0);return e}function ao(t,e,s){s||(s=Hg(e));for(const n in t)WE(t[n])?Gt(e)||Wg(s[n])?s[n]=Hg(t[n],Array.isArray(t[n])?[]:{}):ao(t[n],Vs(e)?{}:e[n],s[n]):s[n]=!Fn(t[n],e[n]);return s}const tj={value:!1,isValid:!1},sj={value:!0,isValid:!0};var HE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gt(t[0].attributes.value)?Gt(t[0].value)||t[0].value===""?sj:{value:t[0].value,isValid:!0}:sj:tj}return tj},KE=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>Gt(t)?t:e?t===""?NaN:t&&+t:s&&or(t)?new Date(t):n?n(t):t;const rj={isValid:!1,value:null};var GE=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,rj):rj;function nj(t){const e=t.ref;return fy(e)?e.files:py(e)?GE(t.refs).value:VE(e)?[...e.selectedOptions].map(({value:s})=>s):yd(e)?HE(t.refs).value:KE(Gt(e.value)?t.ref.value:e.value,t)}var H$=(t,e,s,n)=>{const i={};for(const a of t){const o=Te(e,a);o&&Nt(i,a,o._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:n}},Ah=t=>t instanceof RegExp,Wl=t=>Gt(t)?t:Ah(t)?t.source:es(t)?Ah(t.value)?t.value.source:t.value:t,ij=t=>({isOnSubmit:!t||t===Hr.onSubmit,isOnBlur:t===Hr.onBlur,isOnChange:t===Hr.onChange,isOnAll:t===Hr.all,isOnTouch:t===Hr.onTouched});const aj="AsyncFunction";var K$=t=>!!t&&!!t.validate&&!!(Kr(t.validate)&&t.validate.constructor.name===aj||es(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aj)),G$=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),oj=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const gc=(t,e,s,n)=>{for(const i of s||Object.keys(t)){const a=Te(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(gc(l,e))break}else if(es(l)&&gc(l,e))break}}};function lj(t,e,s){const n=Te(t,s);if(n||$m(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Te(e,a),l=Te(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:s}}var q$=(t,e,s,n)=>{s(t);const{name:i,...a}=t;return zs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Hr.all))},Q$=(t,e,s)=>!t||!e||t===e||pc(t).some(n=>n&&(s?n===e:n.startsWith(e)||e.startsWith(n))),X$=(t,e,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?n.isOnBlur:i.isOnBlur)?!t:(s?n.isOnChange:i.isOnChange)?t:!0,Y$=(t,e)=>!dy(Te(t,e)).length&&Xt(t,e),J$=(t,e,s)=>{const n=pc(Te(t,s));return Nt(n,"root",e[s]),Nt(t,s,n),t};function cj(t,e,s="validate"){if(or(t)||Array.isArray(t)&&t.every(or)||ir(t)&&!t)return{type:s,message:or(t)?t:"",ref:e}}var io=t=>es(t)&&!Ah(t)?t:{value:t,message:""},dj=async(t,e,s,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:x,validate:y,name:g,valueAsNumber:v,mount:b}=t._f,p=Te(s,g);if(!b||e.has(g))return{};const w=l?l[0]:o,j=F=>{i&&w.reportValidity&&(w.setCustomValidity(ir(F)?"":F||""),w.reportValidity())},S={},T=py(o),E=yd(o),_=T||E,I=(v||fy(o))&&Gt(o.value)&&Gt(p)||Dh(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,k=BE.bind(null,g,n,S),P=(F,M,H,Z=kn.maxLength,O=kn.minLength)=>{const V=F?M:H;S[g]={type:F?Z:O,message:V,ref:o,...k(F?Z:O,V)}};if(a?!Array.isArray(p)||!p.length:c&&(!_&&(I||Vs(p))||ir(p)&&!p||E&&!HE(l).isValid||T&&!GE(l).isValid)){const{value:F,message:M}=or(c)?{value:!!c,message:c}:io(c);if(F&&(S[g]={type:kn.required,message:M,ref:w,...k(kn.required,M)},!n))return j(M),S}if(!I&&(!Vs(h)||!Vs(m))){let F,M;const H=io(m),Z=io(h);if(!Vs(p)&&!isNaN(p)){const O=o.valueAsNumber||p&&+p;Vs(H.value)||(F=O>H.value),Vs(Z.value)||(M=O<Z.value)}else{const O=o.valueAsDate||new Date(p),V=X=>new Date(new Date().toDateString()+" "+X),$=o.type=="time",R=o.type=="week";or(H.value)&&p&&(F=$?V(p)>V(H.value):R?p>H.value:O>new Date(H.value)),or(Z.value)&&p&&(M=$?V(p)<V(Z.value):R?p<Z.value:O<new Date(Z.value))}if((F||M)&&(P(!!F,H.message,Z.message,kn.max,kn.min),!n))return j(S[g].message),S}if((d||u)&&!I&&(or(p)||a&&Array.isArray(p))){const F=io(d),M=io(u),H=!Vs(F.value)&&p.length>+F.value,Z=!Vs(M.value)&&p.length<+M.value;if((H||Z)&&(P(H,F.message,M.message),!n))return j(S[g].message),S}if(x&&!I&&or(p)){const{value:F,message:M}=io(x);if(Ah(F)&&!p.match(F)&&(S[g]={type:kn.pattern,message:M,ref:o,...k(kn.pattern,M)},!n))return j(M),S}if(y){if(Kr(y)){const F=await y(p,s),M=cj(F,w);if(M&&(S[g]={...M,...k(kn.validate,M.message)},!n))return j(M.message),S}else if(es(y)){let F={};for(const M in y){if(!zs(F)&&!n)break;const H=cj(await y[M](p,s),w,M);H&&(F={...H,...k(M,H.message)},j(H.message),n&&(S[g]=F))}if(!zs(F)&&(S[g]={ref:w,...F},!n))return S}}return j(!0),S};const Z$={mode:Hr.onSubmit,reValidateMode:Hr.onChange,shouldFocusError:!0};function e8(t={}){let e={...Z$,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=es(e.defaultValues)||es(e.values)?ns(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ns(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:ej(),state:ej()},x=e.criteriaMode===Hr.all,y=A=>B=>{clearTimeout(d),d=setTimeout(A,B)},g=async A=>{if(!e.disabled&&(u.isValid||h.isValid||A)){const B=e.resolver?zs((await E()).errors):await I(n,!0);B!==s.isValid&&m.state.next({isValid:B})}},v=(A,B)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((A||Array.from(l.mount)).forEach(G=>{G&&(B?Nt(s.validatingFields,G,B):Xt(s.validatingFields,G))}),m.state.next({validatingFields:s.validatingFields,isValidating:!zs(s.validatingFields)}))},b=(A,B=[],G,ge,se=!0,re=!0)=>{if(ge&&G&&!e.disabled){if(o.action=!0,re&&Array.isArray(Te(n,A))){const Ce=G(Te(n,A),ge.argA,ge.argB);se&&Nt(n,A,Ce)}if(re&&Array.isArray(Te(s.errors,A))){const Ce=G(Te(s.errors,A),ge.argA,ge.argB);se&&Nt(s.errors,A,Ce),Y$(s.errors,A)}if((u.touchedFields||h.touchedFields)&&re&&Array.isArray(Te(s.touchedFields,A))){const Ce=G(Te(s.touchedFields,A),ge.argA,ge.argB);se&&Nt(s.touchedFields,A,Ce)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=ao(i,a)),m.state.next({name:A,isDirty:P(A,B),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Nt(a,A,B)},p=(A,B)=>{Nt(s.errors,A,B),m.state.next({errors:s.errors})},w=A=>{s.errors=A,m.state.next({errors:s.errors,isValid:!1})},j=(A,B,G,ge)=>{const se=Te(n,A);if(se){const re=Te(a,A,Gt(G)?Te(i,A):G);Gt(re)||ge&&ge.defaultChecked||B?Nt(a,A,B?re:nj(se._f)):H(A,re),o.mount&&g()}},S=(A,B,G,ge,se)=>{let re=!1,Ce=!1;const W={name:A};if(!e.disabled){if(!G||ge){(u.isDirty||h.isDirty)&&(Ce=s.isDirty,s.isDirty=W.isDirty=P(),re=Ce!==W.isDirty);const xe=Fn(Te(i,A),B);Ce=!!Te(s.dirtyFields,A),xe?Xt(s.dirtyFields,A):Nt(s.dirtyFields,A,!0),W.dirtyFields=s.dirtyFields,re=re||(u.dirtyFields||h.dirtyFields)&&Ce!==!xe}if(G){const xe=Te(s.touchedFields,A);xe||(Nt(s.touchedFields,A,G),W.touchedFields=s.touchedFields,re=re||(u.touchedFields||h.touchedFields)&&xe!==G)}re&&se&&m.state.next(W)}return re?W:{}},T=(A,B,G,ge)=>{const se=Te(s.errors,A),re=(u.isValid||h.isValid)&&ir(B)&&s.isValid!==B;if(e.delayError&&G?(c=y(()=>p(A,G)),c(e.delayError)):(clearTimeout(d),c=null,G?Nt(s.errors,A,G):Xt(s.errors,A)),(G?!Fn(se,G):se)||!zs(ge)||re){const Ce={...ge,...re&&ir(B)?{isValid:B}:{},errors:s.errors,name:A};s={...s,...Ce},m.state.next(Ce)}},E=async A=>{v(A,!0);const B=await e.resolver(a,e.context,H$(A||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(A),B},_=async A=>{const{errors:B}=await E(A);if(A)for(const G of A){const ge=Te(B,G);ge?Nt(s.errors,G,ge):Xt(s.errors,G)}else s.errors=B;return B},I=async(A,B,G={valid:!0})=>{for(const ge in A){const se=A[ge];if(se){const{_f:re,...Ce}=se;if(re){const W=l.array.has(re.name),xe=se._f&&K$(se._f);xe&&u.validatingFields&&v([re.name],!0);const qe=await dj(se,l.disabled,a,x,e.shouldUseNativeValidation&&!B,W);if(xe&&u.validatingFields&&v([re.name]),qe[re.name]&&(G.valid=!1,B))break;!B&&(Te(qe,re.name)?W?J$(s.errors,qe,re.name):Nt(s.errors,re.name,qe[re.name]):Xt(s.errors,re.name))}!zs(Ce)&&await I(Ce,B,G)}}return G.valid},k=()=>{for(const A of l.unMount){const B=Te(n,A);B&&(B._f.refs?B._f.refs.every(G=>!np(G)):!np(B._f.ref))&&me(A)}l.unMount=new Set},P=(A,B)=>!e.disabled&&(A&&B&&Nt(a,A,B),!Fn(X(),i)),F=(A,B,G)=>$E(A,l,{...o.mount?a:Gt(B)?i:or(A)?{[A]:B}:B},G,B),M=A=>dy(Te(o.mount?a:i,A,e.shouldUnregister?Te(i,A,[]):[])),H=(A,B,G={})=>{const ge=Te(n,A);let se=B;if(ge){const re=ge._f;re&&(!re.disabled&&Nt(a,A,KE(B,re)),se=Dh(re.ref)&&Vs(B)?"":B,VE(re.ref)?[...re.ref.options].forEach(Ce=>Ce.selected=se.includes(Ce.value)):re.refs?yd(re.ref)?re.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(se)?Ce.checked=!!se.find(W=>W===Ce.value):Ce.checked=se===Ce.value||!!se)}):re.refs.forEach(Ce=>Ce.checked=Ce.value===se):fy(re.ref)?re.ref.value="":(re.ref.value=se,re.ref.type||m.state.next({name:A,values:ns(a)})))}(G.shouldDirty||G.shouldTouch)&&S(A,se,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&R(A)},Z=(A,B,G)=>{for(const ge in B){if(!B.hasOwnProperty(ge))return;const se=B[ge],re=A+"."+ge,Ce=Te(n,re);(l.array.has(A)||es(se)||Ce&&!Ce._f)&&!ha(se)?Z(re,se,G):H(re,se,G)}},O=(A,B,G={})=>{const ge=Te(n,A),se=l.array.has(A),re=ns(B);Nt(a,A,re),se?(m.array.next({name:A,values:ns(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&G.shouldDirty&&m.state.next({name:A,dirtyFields:ao(i,a),isDirty:P(A,re)})):ge&&!ge._f&&!Vs(re)?Z(A,re,G):H(A,re,G),oj(A,l)&&m.state.next({...s,name:A}),m.state.next({name:o.mount?A:void 0,values:ns(a)})},V=async A=>{o.mount=!0;const B=A.target;let G=B.name,ge=!0;const se=Te(n,G),re=xe=>{ge=Number.isNaN(xe)||ha(xe)&&isNaN(xe.getTime())||Fn(xe,Te(a,G,xe))},Ce=ij(e.mode),W=ij(e.reValidateMode);if(se){let xe,qe;const We=B.type?nj(se._f):LE(A),ee=A.type===Mh.BLUR||A.type===Mh.FOCUS_OUT,Ys=!G$(se._f)&&!e.resolver&&!Te(s.errors,G)&&!se._f.deps||X$(ee,Te(s.touchedFields,G),s.isSubmitted,W,Ce),Je=oj(G,l,ee);Nt(a,G,We),ee?(!B||!B.readOnly)&&(se._f.onBlur&&se._f.onBlur(A),c&&c(0)):se._f.onChange&&se._f.onChange(A);const jt=S(G,We,ee),ti=!zs(jt)||Je;if(!ee&&m.state.next({name:G,type:A.type,values:ns(a)}),Ys)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?ee&&g():ee||g()),ti&&m.state.next({name:G,...Je?{}:jt});if(!ee&&Je&&m.state.next({...s}),e.resolver){const{errors:Js}=await E([G]);if(re(We),ge){const rs=lj(s.errors,n,G),Fs=lj(Js,n,rs.name||G);xe=Fs.error,G=Fs.name,qe=zs(Js)}}else v([G],!0),xe=(await dj(se,l.disabled,a,x,e.shouldUseNativeValidation))[G],v([G]),re(We),ge&&(xe?qe=!1:(u.isValid||h.isValid)&&(qe=await I(n,!0)));ge&&(se._f.deps&&(!Array.isArray(se._f.deps)||se._f.deps.length>0)&&R(se._f.deps),T(G,qe,xe,jt))}},$=(A,B)=>{if(Te(s.errors,B)&&A.focus)return A.focus(),1},R=async(A,B={})=>{let G,ge;const se=pc(A);if(e.resolver){const re=await _(Gt(A)?A:se);G=zs(re),ge=A?!se.some(Ce=>Te(re,Ce)):G}else A?(ge=(await Promise.all(se.map(async re=>{const Ce=Te(n,re);return await I(Ce&&Ce._f?{[re]:Ce}:Ce)}))).every(Boolean),!(!ge&&!s.isValid)&&g()):ge=G=await I(n);return m.state.next({...!or(A)||(u.isValid||h.isValid)&&G!==s.isValid?{}:{name:A},...e.resolver||!A?{isValid:G}:{},errors:s.errors}),B.shouldFocus&&!ge&&gc(n,$,A?se:l.mount),ge},X=(A,B)=>{let G={...o.mount?a:i};return B&&(G=zE(B.dirtyFields?s.dirtyFields:s.touchedFields,G)),Gt(A)?G:or(A)?Te(G,A):A.map(ge=>Te(G,ge))},q=(A,B)=>({invalid:!!Te((B||s).errors,A),isDirty:!!Te((B||s).dirtyFields,A),error:Te((B||s).errors,A),isValidating:!!Te(s.validatingFields,A),isTouched:!!Te((B||s).touchedFields,A)}),ne=A=>{A&&pc(A).forEach(B=>Xt(s.errors,B)),m.state.next({errors:A?s.errors:{}})},de=(A,B,G)=>{const ge=(Te(n,A,{_f:{}})._f||{}).ref,se=Te(s.errors,A)||{},{ref:re,message:Ce,type:W,...xe}=se;Nt(s.errors,A,{...xe,...B,ref:ge}),m.state.next({name:A,errors:s.errors,isValid:!1}),G&&G.shouldFocus&&ge&&ge.focus&&ge.focus()},Se=(A,B)=>Kr(A)?m.state.subscribe({next:G=>"values"in G&&A(F(void 0,B),G)}):F(A,B,!0),ie=A=>m.state.subscribe({next:B=>{Q$(A.name,B.name,A.exact)&&q$(B,A.formState||u,ct,A.reRenderRoot)&&A.callback({values:{...a},...s,...B,defaultValues:i})}}).unsubscribe,_e=A=>(o.mount=!0,h={...h,...A.formState},ie({...A,formState:h})),me=(A,B={})=>{for(const G of A?pc(A):l.mount)l.mount.delete(G),l.array.delete(G),B.keepValue||(Xt(n,G),Xt(a,G)),!B.keepError&&Xt(s.errors,G),!B.keepDirty&&Xt(s.dirtyFields,G),!B.keepTouched&&Xt(s.touchedFields,G),!B.keepIsValidating&&Xt(s.validatingFields,G),!e.shouldUnregister&&!B.keepDefaultValue&&Xt(i,G);m.state.next({values:ns(a)}),m.state.next({...s,...B.keepDirty?{isDirty:P()}:{}}),!B.keepIsValid&&g()},Oe=({disabled:A,name:B})=>{(ir(A)&&o.mount||A||l.disabled.has(B))&&(A?l.disabled.add(B):l.disabled.delete(B))},be=(A,B={})=>{let G=Te(n,A);const ge=ir(B.disabled)||ir(e.disabled);return Nt(n,A,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:A}},name:A,mount:!0,...B}}),l.mount.add(A),G?Oe({disabled:ir(B.disabled)?B.disabled:e.disabled,name:A}):j(A,!0,B.value),{...ge?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:Wl(B.min),max:Wl(B.max),minLength:Wl(B.minLength),maxLength:Wl(B.maxLength),pattern:Wl(B.pattern)}:{},name:A,onChange:V,onBlur:V,ref:se=>{if(se){be(A,B),G=Te(n,A);const re=Gt(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,Ce=B$(re),W=G._f.refs||[];if(Ce?W.find(xe=>xe===re):re===G._f.ref)return;Nt(n,A,{_f:{...G._f,...Ce?{refs:[...W.filter(np),re,...Array.isArray(Te(i,A))?[{}]:[]],ref:{type:re.type,name:A}}:{ref:re}}}),j(A,!1,void 0,re)}else G=Te(n,A,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(FE(l.array,A)&&o.action)&&l.unMount.add(A)}}},ce=()=>e.shouldFocusError&&gc(n,$,l.mount),pe=A=>{ir(A)&&(m.state.next({disabled:A}),gc(n,(B,G)=>{const ge=Te(n,G);ge&&(B.disabled=ge._f.disabled||A,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(se=>{se.disabled=ge._f.disabled||A}))},0,!1))},ze=(A,B)=>async G=>{let ge;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let se=ns(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:Ce}=await E();s.errors=re,se=ns(Ce)}else await I(n);if(l.disabled.size)for(const re of l.disabled)Xt(se,re);if(Xt(s.errors,"root"),zs(s.errors)){m.state.next({errors:{}});try{await A(se,G)}catch(re){ge=re}}else B&&await B({...s.errors},G),ce(),setTimeout(ce);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zs(s.errors)&&!ge,submitCount:s.submitCount+1,errors:s.errors}),ge)throw ge},K=(A,B={})=>{Te(n,A)&&(Gt(B.defaultValue)?O(A,ns(Te(i,A))):(O(A,B.defaultValue),Nt(i,A,ns(B.defaultValue))),B.keepTouched||Xt(s.touchedFields,A),B.keepDirty||(Xt(s.dirtyFields,A),s.isDirty=B.defaultValue?P(A,ns(Te(i,A))):P()),B.keepError||(Xt(s.errors,A),u.isValid&&g()),m.state.next({...s}))},he=(A,B={})=>{const G=A?ns(A):i,ge=ns(G),se=zs(A),re=se?i:ge;if(B.keepDefaultValues||(i=G),!B.keepValues){if(B.keepDirtyValues){const Ce=new Set([...l.mount,...Object.keys(ao(i,a))]);for(const W of Array.from(Ce))Te(s.dirtyFields,W)?Nt(re,W,Te(a,W)):O(W,Te(re,W))}else{if(cy&&Gt(A))for(const Ce of l.mount){const W=Te(n,Ce);if(W&&W._f){const xe=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(Dh(xe)){const qe=xe.closest("form");if(qe){qe.reset();break}}}}if(B.keepFieldsRef)for(const Ce of l.mount)O(Ce,Te(re,Ce));else n={}}a=e.shouldUnregister?B.keepDefaultValues?ns(i):{}:ns(re),m.array.next({values:{...re}}),m.state.next({values:{...re}})}l={mount:B.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:B.keepSubmitCount?s.submitCount:0,isDirty:se?!1:B.keepDirty?s.isDirty:!!(B.keepDefaultValues&&!Fn(A,i)),isSubmitted:B.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:se?{}:B.keepDirtyValues?B.keepDefaultValues&&a?ao(i,a):s.dirtyFields:B.keepDefaultValues&&A?ao(i,A):B.keepDirty?s.dirtyFields:{},touchedFields:B.keepTouched?s.touchedFields:{},errors:B.keepErrors?s.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ye=(A,B)=>he(Kr(A)?A(a):A,B),Ge=(A,B={})=>{const G=Te(n,A),ge=G&&G._f;if(ge){const se=ge.refs?ge.refs[0]:ge.ref;se.focus&&(se.focus(),B.shouldSelect&&Kr(se.select)&&se.select())}},ct=A=>{s={...s,...A}},ft={control:{register:be,unregister:me,getFieldState:q,handleSubmit:ze,setError:de,_subscribe:ie,_runSchema:E,_focusError:ce,_getWatch:F,_getDirty:P,_setValid:g,_setFieldArray:b,_setDisabledField:Oe,_setErrors:w,_getFieldArray:M,_reset:he,_resetDefaultValues:()=>Kr(e.defaultValues)&&e.defaultValues().then(A=>{Ye(A,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:pe,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(A){o=A},get _defaultValues(){return i},get _names(){return l},set _names(A){l=A},get _formState(){return s},get _options(){return e},set _options(A){e={...e,...A}}},subscribe:_e,trigger:R,register:be,handleSubmit:ze,watch:Se,setValue:O,getValues:X,reset:Ye,resetField:K,clearErrors:ne,unregister:me,setError:de,setFocus:Ge,getFieldState:q};return{...ft,formControl:ft}}function gy(t={}){const e=Ne.useRef(void 0),s=Ne.useRef(void 0),[n,i]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Kr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Kr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Kr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=e8(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,my(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Ne.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ne.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Ne.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Ne.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Ne.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Ne.useEffect(()=>{t.values&&!Fn(t.values,s.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),Ne.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=UE(n,a),e.current}const uj=(t,e,s)=>{if(t&&"reportValidity"in t){const n=Te(s,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},qE=(t,e)=>{for(const s in e.fields){const n=e.fields[s];n&&n.ref&&"reportValidity"in n.ref?uj(n.ref,s,t):n.refs&&n.refs.forEach(i=>uj(i,s,t))}},t8=(t,e)=>{e.shouldUseNativeValidation&&qE(t,e);const s={};for(const n in t){const i=Te(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(s8(e.names||Object.keys(t),n)){const o=Object.assign({},Te(s,n));Nt(o,"root",a),Nt(s,n,o)}else Nt(s,n,a)}return s},s8=(t,e)=>t.some(s=>s.startsWith(e+"."));var r8=function(t,e){for(var s={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[n.code];s[o]=BE(o,e,s,i,d?[].concat(d,n.message):n.message)}t.shift()}return s},xy=function(t,e,s){return s===void 0&&(s={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&qE({},a),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:t8(r8(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},yt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function s(i){throw new Error}t.assertNever=s,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(yt||(yt={}));var hj;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(hj||(hj={}));const Ae=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ui=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},ue=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Zn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),n}static assert(e){if(!(e instanceof Zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}Zn.create=t=>new Zn(t);const Kg=(t,e)=>{let s;switch(t.code){case ue.invalid_type:t.received===Ae.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,yt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:s=`Unrecognized key(s) in object: ${yt.joinValues(t.keys,", ")}`;break;case ue.invalid_union:s="Invalid input";break;case ue.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${yt.joinValues(t.options)}`;break;case ue.invalid_enum_value:s=`Invalid enum value. Expected ${yt.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:s="Invalid function arguments";break;case ue.invalid_return_type:s="Invalid function return type";break;case ue.invalid_date:s="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:yt.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case ue.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case ue.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case ue.custom:s="Invalid input";break;case ue.invalid_intersection_types:s="Intersection results could not be merged";break;case ue.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:s="Number must be finite";break;default:s=e.defaultError,yt.assertNever(t)}return{message:s}};let n8=Kg;function i8(){return n8}const a8=t=>{const{data:e,path:s,errorMaps:n,issueData:i}=t,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Me(t,e){const s=i8(),n=a8({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Kg?void 0:Kg].filter(i=>!!i)});t.common.issues.push(n)}class mr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const i of s){if(i.status==="aborted")return Qe;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const i of s){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return mr.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Qe;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Qe=Object.freeze({status:"aborted"}),Jl=t=>({status:"dirty",value:t}),Rr=t=>({status:"valid",value:t}),mj=t=>t.status==="aborted",fj=t=>t.status==="dirty",ul=t=>t.status==="valid",Rh=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));class Hi{constructor(e,s,n,i){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pj=(t,e)=>{if(ul(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Zn(t.common.issues);return this._error=s,this._error}}};function at(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:i}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:i}}class xt{get description(){return this._def.description}_getType(e){return ui(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mr,ctx:{common:e.parent.common,data:e.data,parsedType:ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Rh(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){const n={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)},i=this._parseSync({data:e,path:n.path,parent:n});return pj(n,i)}"~validate"(e){var n,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return ul(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>ul(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Rh(i)?i:Promise.resolve(i));return pj(n,a)}refine(e,s){const n=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:ue.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof s=="function"?s(n,i):s),!1))}_refinement(e){return new ml({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Li.create(this,this._def)}nullable(){return fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jn.create(this)}promise(){return Fh.create(this,this._def)}or(e){return Ih.create([this,e],this._def)}and(e){return Lh.create(this,e,this._def)}transform(e){return new ml({...at(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Qg({...at(this._def),innerType:this,defaultValue:s,typeName:Xe.ZodDefault})}brand(){return new P8({typeName:Xe.ZodBranded,type:this,...at(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Xg({...at(this._def),innerType:this,catchValue:s,typeName:Xe.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return yy.create(this,e)}readonly(){return Yg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const o8=/^c[^\s-]{8,}$/i,l8=/^[0-9a-z]+$/,c8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,d8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u8=/^[a-z0-9_-]{21}$/i,h8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,m8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,f8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,p8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ip;const g8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,x8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,y8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,v8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,w8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,QE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",j8=new RegExp(`^${QE}$`);function XE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function N8(t){return new RegExp(`^${XE(t)}$`)}function S8(t){let e=`${QE}T${XE(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function C8(t,e){return!!((e==="v4"||!e)&&g8.test(t)||(e==="v6"||!e)&&y8.test(t))}function T8(t,e){if(!h8.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function E8(t,e){return!!((e==="v4"||!e)&&x8.test(t)||(e==="v6"||!e)&&v8.test(t))}class Ti extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const a=this._getOrReturnCtx(e);return Me(a,{code:ue.invalid_type,expected:Ae.string,received:a.parsedType}),Qe}const n=new mr;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Me(i,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Me(i,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")f8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"email",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")ip||(ip=new RegExp(p8,"u")),ip.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"emoji",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")d8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"uuid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")u8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"nanoid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")o8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")l8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid2",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")c8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ulid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Me(i,{validation:"url",code:ue.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"regex",code:ue.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?S8(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?j8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?N8(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?m8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"duration",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?C8(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ip",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?T8(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"jwt",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?E8(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cidr",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?b8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?w8.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64url",code:ue.invalid_string,message:a.message}),n.dirty()):yt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(i=>e.test(i),{validation:s,code:ue.invalid_string,...Le.errToObj(n)})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...Le.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Le.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Le.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Le.errToObj(s)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Ti({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ti({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ti({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ti.create=t=>new Ti({checks:[],typeName:Xe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});function k8(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=s>n?s:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class qc extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const a=this._getOrReturnCtx(e);return Me(a,{code:ue.invalid_type,expected:Ae.number,received:a.parsedType}),Qe}let n;const i=new mr;for(const a of this._def.checks)a.kind==="int"?yt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?k8(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.not_finite,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Le.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Le.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Le.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Le.toString(s))}setLimit(e,s,n,i){return new qc({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:Le.toString(i)}]})}_addCheck(e){return new qc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yt.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}qc.create=t=>new qc({checks:[],typeName:Xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Qc extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ae.bigint)return this._getInvalidInput(e);let n;const i=new mr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Me(n,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):yt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return Me(s,{code:ue.invalid_type,expected:Ae.bigint,received:s.parsedType}),Qe}gte(e,s){return this.setLimit("min",e,!0,Le.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Le.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Le.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Le.toString(s))}setLimit(e,s,n,i){return new Qc({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:Le.toString(i)}]})}_addCheck(e){return new Qc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Qc.create=t=>new Qc({checks:[],typeName:Xe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...at(t)});class Gg extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.boolean,received:n.parsedType}),Qe}return Rr(e.data)}}Gg.create=t=>new Gg({typeName:Xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...at(t)});class Oh extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const a=this._getOrReturnCtx(e);return Me(a,{code:ue.invalid_type,expected:Ae.date,received:a.parsedType}),Qe}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Me(a,{code:ue.invalid_date}),Qe}const n=new mr;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:ue.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):yt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oh({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Oh.create=t=>new Oh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Xe.ZodDate,...at(t)});class gj extends xt{_parse(e){if(this._getType(e)!==Ae.symbol){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.symbol,received:n.parsedType}),Qe}return Rr(e.data)}}gj.create=t=>new gj({typeName:Xe.ZodSymbol,...at(t)});class xj extends xt{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.undefined,received:n.parsedType}),Qe}return Rr(e.data)}}xj.create=t=>new xj({typeName:Xe.ZodUndefined,...at(t)});class yj extends xt{_parse(e){if(this._getType(e)!==Ae.null){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.null,received:n.parsedType}),Qe}return Rr(e.data)}}yj.create=t=>new yj({typeName:Xe.ZodNull,...at(t)});class vj extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return Rr(e.data)}}vj.create=t=>new vj({typeName:Xe.ZodAny,...at(t)});class bj extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rr(e.data)}}bj.create=t=>new bj({typeName:Xe.ZodUnknown,...at(t)});class Ki extends xt{_parse(e){const s=this._getOrReturnCtx(e);return Me(s,{code:ue.invalid_type,expected:Ae.never,received:s.parsedType}),Qe}}Ki.create=t=>new Ki({typeName:Xe.ZodNever,...at(t)});class wj extends xt{_parse(e){if(this._getType(e)!==Ae.undefined){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.void,received:n.parsedType}),Qe}return Rr(e.data)}}wj.create=t=>new wj({typeName:Xe.ZodVoid,...at(t)});class jn extends xt{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),i=this._def;if(s.parsedType!==Ae.array)return Me(s,{code:ue.invalid_type,expected:Ae.array,received:s.parsedType}),Qe;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(Me(s,{code:o?ue.too_big:ue.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Me(s,{code:ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Me(s,{code:ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new Hi(s,o,s.path,l)))).then(o=>mr.mergeArray(n,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new Hi(s,o,s.path,l)));return mr.mergeArray(n,a)}get element(){return this._def.type}min(e,s){return new jn({...this._def,minLength:{value:e,message:Le.toString(s)}})}max(e,s){return new jn({...this._def,maxLength:{value:e,message:Le.toString(s)}})}length(e,s){return new jn({...this._def,exactLength:{value:e,message:Le.toString(s)}})}nonempty(e){return this.min(1,e)}}jn.create=(t,e)=>new jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...at(e)});function oo(t){if(t instanceof Yt){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=Li.create(oo(n))}return new Yt({...t._def,shape:()=>e})}else return t instanceof jn?new jn({...t._def,type:oo(t.element)}):t instanceof Li?Li.create(oo(t.unwrap())):t instanceof fl?fl.create(oo(t.unwrap())):t instanceof Ha?Ha.create(t.items.map(e=>oo(e))):t}class Yt extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=yt.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==Ae.object){const d=this._getOrReturnCtx(e);return Me(d,{code:ue.invalid_type,expected:Ae.object,received:d.parsedType}),Qe}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ki&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Hi(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ki){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Me(i,{code:ue.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Hi(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>mr.mergeObjectSync(n,d)):mr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,n).message)??n.defaultError;return s.code==="unrecognized_keys"?{message:Le.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const s={};for(const n of yt.objectKeys(e))e[n]&&this.shape[n]&&(s[n]=this.shape[n]);return new Yt({...this._def,shape:()=>s})}omit(e){const s={};for(const n of yt.objectKeys(this.shape))e[n]||(s[n]=this.shape[n]);return new Yt({...this._def,shape:()=>s})}deepPartial(){return oo(this)}partial(e){const s={};for(const n of yt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?s[n]=i:s[n]=i.optional()}return new Yt({...this._def,shape:()=>s})}required(e){const s={};for(const n of yt.objectKeys(this.shape))if(e&&!e[n])s[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Li;)a=a._def.innerType;s[n]=a}return new Yt({...this._def,shape:()=>s})}keyof(){return YE(yt.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:Ki.create(),typeName:Xe.ZodObject,...at(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:Ki.create(),typeName:Xe.ZodObject,...at(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:Ki.create(),typeName:Xe.ZodObject,...at(e)});class Ih extends xt{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Zn(l.ctx.common.issues));return Me(s,{code:ue.invalid_union,unionErrors:o}),Qe}if(s.common.async)return Promise.all(n.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Zn(c));return Me(s,{code:ue.invalid_union,unionErrors:l}),Qe}}get options(){return this._def.options}}Ih.create=(t,e)=>new Ih({options:t,typeName:Xe.ZodUnion,...at(e)});function qg(t,e){const s=ui(t),n=ui(e);if(t===e)return{valid:!0,data:t};if(s===Ae.object&&n===Ae.object){const i=yt.objectKeys(e),a=yt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=qg(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Ae.array&&n===Ae.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=qg(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===Ae.date&&n===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lh extends xt{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(mj(a)||mj(o))return Qe;const l=qg(a.value,o.value);return l.valid?((fj(a)||fj(o))&&s.dirty(),{status:s.value,value:l.data}):(Me(n,{code:ue.invalid_intersection_types}),Qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lh.create=(t,e,s)=>new Lh({left:t,right:e,typeName:Xe.ZodIntersection,...at(s)});class Ha extends xt{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.array)return Me(n,{code:ue.invalid_type,expected:Ae.array,received:n.parsedType}),Qe;if(n.data.length<this._def.items.length)return Me(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&n.data.length>this._def.items.length&&(Me(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Hi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>mr.mergeArray(s,o)):mr.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new Ha({...this._def,rest:e})}}Ha.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ha({items:t,typeName:Xe.ZodTuple,rest:null,...at(e)})};class jj extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.map)return Me(n,{code:ue.invalid_type,expected:Ae.map,received:n.parsedType}),Qe;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:i._parse(new Hi(n,l,n.path,[d,"key"])),value:a._parse(new Hi(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Qe;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Qe;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}jj.create=(t,e,s)=>new jj({valueType:e,keyType:t,typeName:Xe.ZodMap,...at(s)});class Xc extends xt{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.set)return Me(n,{code:ue.invalid_type,expected:Ae.set,received:n.parsedType}),Qe;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Me(n,{code:ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Me(n,{code:ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Qe;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new Hi(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Xc({...this._def,minSize:{value:e,message:Le.toString(s)}})}max(e,s){return new Xc({...this._def,maxSize:{value:e,message:Le.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Xc.create=(t,e)=>new Xc({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...at(e)});class Nj extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Nj.create=(t,e)=>new Nj({getter:t,typeName:Xe.ZodLazy,...at(e)});class Sj extends xt{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return Me(s,{received:s.data,code:ue.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sj.create=(t,e)=>new Sj({value:t,typeName:Xe.ZodLiteral,...at(e)});function YE(t,e){return new hl({values:t,typeName:Xe.ZodEnum,...at(e)})}class hl extends xt{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return Me(s,{expected:yt.joinValues(n),received:s.parsedType,code:ue.invalid_type}),Qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return Me(s,{received:s.data,code:ue.invalid_enum_value,options:n}),Qe}return Rr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return hl.create(e,{...this._def,...s})}exclude(e,s=this._def){return hl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}hl.create=YE;class Cj extends xt{_parse(e){const s=yt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ae.string&&n.parsedType!==Ae.number){const i=yt.objectValues(s);return Me(n,{expected:yt.joinValues(i),received:n.parsedType,code:ue.invalid_type}),Qe}if(this._cache||(this._cache=new Set(yt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=yt.objectValues(s);return Me(n,{received:n.data,code:ue.invalid_enum_value,options:i}),Qe}return Rr(e.data)}get enum(){return this._def.values}}Cj.create=(t,e)=>new Cj({values:t,typeName:Xe.ZodNativeEnum,...at(e)});class Fh extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Ae.promise&&s.common.async===!1)return Me(s,{code:ue.invalid_type,expected:Ae.promise,received:s.parsedType}),Qe;const n=s.parsedType===Ae.promise?s.data:Promise.resolve(s.data);return Rr(n.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Fh.create=(t,e)=>new Fh({type:t,typeName:Xe.ZodPromise,...at(e)});class ml extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Me(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Qe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qe:c.status==="dirty"||s.value==="dirty"?Jl(c.value):c});{if(s.value==="aborted")return Qe;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Qe:l.status==="dirty"||s.value==="dirty"?Jl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Qe:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ul(o))return Qe;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ul(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):Qe);yt.assertNever(i)}}ml.create=(t,e,s)=>new ml({schema:t,typeName:Xe.ZodEffects,effect:e,...at(s)});ml.createWithPreprocess=(t,e,s)=>new ml({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...at(s)});class Li extends xt{_parse(e){return this._getType(e)===Ae.undefined?Rr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Li.create=(t,e)=>new Li({innerType:t,typeName:Xe.ZodOptional,...at(e)});class fl extends xt{_parse(e){return this._getType(e)===Ae.null?Rr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fl.create=(t,e)=>new fl({innerType:t,typeName:Xe.ZodNullable,...at(e)});class Qg extends xt{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===Ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Qg.create=(t,e)=>new Qg({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class Xg extends xt{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Rh(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Zn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Xg.create=(t,e)=>new Xg({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class Tj extends xt{_parse(e){if(this._getType(e)!==Ae.nan){const n=this._getOrReturnCtx(e);return Me(n,{code:ue.invalid_type,expected:Ae.nan,received:n.parsedType}),Qe}return{status:"valid",value:e.data}}}Tj.create=t=>new Tj({typeName:Xe.ZodNaN,...at(t)});class P8 extends xt{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class yy extends xt{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qe:a.status==="dirty"?(s.dirty(),Jl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Qe:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,s){return new yy({in:e,out:s,typeName:Xe.ZodPipeline})}}class Yg extends xt{_parse(e){const s=this._def.innerType._parse(e),n=i=>(ul(i)&&(i.value=Object.freeze(i.value)),i);return Rh(s)?s.then(i=>n(i)):n(s)}unwrap(){return this._def.innerType}}Yg.create=(t,e)=>new Yg({innerType:t,typeName:Xe.ZodReadonly,...at(e)});var Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const un=Ti.create,JE=Gg.create;Ki.create;jn.create;const vy=Yt.create;Ih.create;Lh.create;Ha.create;const _8=hl.create;Fh.create;Li.create;fl.create;const by=I$,ZE=f.createContext({}),br=({...t})=>r.jsx(ZE.Provider,{value:{name:t.name},children:r.jsx($$,{...t})}),zm=()=>{const t=f.useContext(ZE),e=f.useContext(ek),{getFieldState:s,formState:n}=Bm(),i=s(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},ek=f.createContext({}),tr=f.forwardRef(({className:t,...e},s)=>{const n=f.useId();return r.jsx(ek.Provider,{value:{id:n},children:r.jsx("div",{ref:s,className:$e("space-y-2",t),...e})})});tr.displayName="FormItem";const sr=f.forwardRef(({className:t,...e},s)=>{const{error:n,formItemId:i}=zm();return r.jsx(Rt,{ref:s,className:$e(n&&"text-destructive",t),htmlFor:i,...e})});sr.displayName="FormLabel";const rr=f.forwardRef(({...t},e)=>{const{error:s,formItemId:n,formDescriptionId:i,formMessageId:a}=zm();return r.jsx(CS,{ref:e,id:n,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...t})});rr.displayName="FormControl";const M8=f.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:n}=zm();return r.jsx("p",{ref:s,id:n,className:$e("text-sm text-muted-foreground",t),...e})});M8.displayName="FormDescription";const nr=f.forwardRef(({className:t,children:e,...s},n)=>{const{error:i,formMessageId:a}=zm(),o=i?String((i==null?void 0:i.message)??""):e;return o?r.jsx("p",{ref:n,id:a,className:$e("text-sm font-medium text-destructive",t),...s,children:o}):null});nr.displayName="FormMessage";const D8=vy({username:un().min(1,"Username is required"),password:un().min(1,"Password is required")});function A8(){const[,t]=_r(),{toast:e}=gr(),{user:s,adminLogin:n,isAdminLoginPending:i}=ms();f.useEffect(()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user");l&&(l.startsWith("demo-token-")||c&&JSON.parse(c).role==="user")&&(console.log("🔧 Clearing non-admin session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"))},[]),f.useEffect(()=>{s&&(s.role==="admin"||s.role==="super_admin"||s.role==="superadmin"?(console.log("🔧 User already authenticated as admin, redirecting..."),t("/admin")):(console.log("🔧 Non-admin user detected, clearing session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"),window.location.reload()))},[s,t]);const a=gy({resolver:xy(D8),defaultValues:{username:"",password:""}}),o=async l=>{try{const c=await n(l);console.log("🔧 Login result:",c),e({title:"Login Successful",description:`Welcome back, ${l.username}!`}),c&&c.user&&(localStorage.setItem("authToken",c.token),localStorage.setItem("user",JSON.stringify(c.user)),console.log("🔧 Stored user data:",c.user),console.log("🔧 Forcing page reload to update auth state..."),setTimeout(()=>{window.location.href="/admin/dashboard"},1e3))}catch(c){e({title:"Login Failed",description:c.message||"Invalid admin credentials",variant:"destructive"})}};return r.jsx("div",{className:"bg-gray-900 flex items-center justify-center px-4 py-8 w-full",style:{minHeight:"100vh"},children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:r.jsx(Ns,{className:"text-white w-6 h-6"})})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Login"}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Access the METACHROME admin dashboard"})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Sign In"}),r.jsx(Et,{className:"text-gray-400",children:"Enter your admin credentials to continue"})]}),r.jsx(je,{className:"pb-6",children:r.jsx(by,{...a,children:r.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[r.jsx(br,{control:a.control,name:"username",render:({field:l})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-white",children:"Username"}),r.jsx(rr,{children:r.jsx(Re,{...l,placeholder:"Enter your username",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),r.jsx(nr,{})]})}),r.jsx(br,{control:a.control,name:"password",render:({field:l})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-white",children:"Password"}),r.jsx(rr,{children:r.jsx(Re,{...l,type:"password",placeholder:"Enter your password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),r.jsx(nr,{})]})}),r.jsx(z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx(ob,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ob,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})})})]})]})})}function R8(){const[,t]=_r();return f.useEffect(()=>{const e=localStorage.getItem("authToken"),s=localStorage.getItem("user");if(console.log("🔧 AdminRedirect - Token:",!!e),console.log("🔧 AdminRedirect - User:",s),e&&s)try{const n=JSON.parse(s);console.log("🔧 AdminRedirect - Parsed user:",n),n.role==="admin"||n.role==="super_admin"||n.role==="superadmin"?(console.log("🔧 AdminRedirect - Valid admin, redirecting to dashboard"),t("/admin/dashboard")):(console.log("🔧 AdminRedirect - Not admin, redirecting to login"),t("/admin/login"))}catch(n){console.error("🔧 AdminRedirect - Error parsing user:",n),t("/admin/login")}else console.log("🔧 AdminRedirect - No token/user, redirecting to login"),t("/admin/login")},[t]),r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(e2,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Redirecting to dashboard..."})]})})}var tk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ej=Ne.createContext&&Ne.createContext(tk),Fi=function(){return Fi=Object.assign||function(t){for(var e,s=1,n=arguments.length;s<n;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fi.apply(this,arguments)},O8=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};function sk(t){return t&&t.map(function(e,s){return Ne.createElement(e.tag,Fi({key:s},e.attr),sk(e.child))})}function rk(t){return function(e){return Ne.createElement(I8,Fi({attr:Fi({},t.attr)},e),sk(t.child))}}function I8(t){var e=function(s){var n=t.attr,i=t.size,a=t.title,o=O8(t,["attr","size","title"]),l=i||s.size||"1em",c;return s.className&&(c=s.className),t.className&&(c=(c?c+" ":"")+t.className),Ne.createElement("svg",Fi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,o,{className:c,style:Fi(Fi({color:t.color||s.color},s.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Ne.createElement("title",null,a),t.children)};return Ej!==void 0?Ne.createElement(Ej.Consumer,null,function(s){return e(s)}):e(tk)}function nk(t){return rk({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(t)}function ik(t){return rk({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"}}]})(t)}const L8=vy({email:un().min(1,"Username, email, or wallet address is required"),password:un().min(1,"Password is required"),rememberMe:JE().optional()});function F8(){const[,t]=_r(),{toast:e}=gr(),{userLogin:s,isUserLoginPending:n,metamaskLogin:i}=ms(),[a,o]=f.useState(!1),[l,c]=f.useState(!1),d=Mr(),u=gy({resolver:xy(L8),defaultValues:{email:"",password:"",rememberMe:!1}}),h=async y=>{try{console.log("🔄 Starting login process...",{email:y.email});let g=y.email;y.email.includes("@")&&(g=y.email.split("@")[0]),console.log("🔄 Calling userLogin with:",{username:g,password:"***"}),console.log("🧪 Testing direct fetch...");try{const v=await fetch("/api/auth/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g,password:y.password}),credentials:"include"});console.log("🧪 Direct fetch response:",{status:v.status,statusText:v.statusText,ok:v.ok,headers:Object.fromEntries(v.headers.entries())});const b=await v.text();if(console.log("🧪 Response text:",b),v.ok){const p=JSON.parse(b);console.log("🧪 Parsed response:",p),p.token&&(localStorage.setItem("authToken",p.token),console.log("🔐 Token stored:",p.token)),p.user&&(localStorage.setItem("user",JSON.stringify(p.user)),console.log("👤 User data stored:",p.user)),d.setQueryData(["/api/auth"],p.user),d.invalidateQueries({queryKey:["/api/auth"]}),console.log("🔄 Query cache updated"),e({title:"Login Successful",description:"Welcome back!"}),setTimeout(()=>{console.log("🔄 Redirecting to dashboard..."),t("/dashboard")},100);return}else throw new Error(`Direct fetch failed: ${v.status} ${b}`)}catch(v){console.error("🧪 Direct fetch failed:",v),console.log("🔄 Falling back to userLogin hook..."),await s({username:g,password:y.password}),console.log("✅ Login successful"),e({title:"Login Successful",description:"Welcome back!"}),t("/dashboard")}}catch(g){console.error("❌ Login error:",g),console.error("Error details:",{message:g.message,stack:g.stack,name:g.name}),e({title:"Login Failed",description:g.message||"Invalid credentials",variant:"destructive"})}},m=async()=>{var y;if(console.log("🔄 Starting MetaMask connection..."),console.log("Window ethereum:",window.ethereum),console.log("Is MetaMask:",(y=window.ethereum)==null?void 0:y.isMetaMask),!window.ethereum){console.error("❌ No ethereum provider found"),e({title:"MetaMask Not Found",description:"Please install MetaMask extension to continue.",variant:"destructive"});return}if(!window.ethereum.isMetaMask){console.error("❌ Ethereum provider is not MetaMask"),e({title:"MetaMask Not Detected",description:"Please make sure MetaMask extension is enabled.",variant:"destructive"});return}c(!0);try{console.log("🔄 Requesting account access...");const g=await window.ethereum.request({method:"eth_requestAccounts"});if(console.log("📝 Accounts received:",g),g.length===0)throw new Error("No accounts found. Please unlock MetaMask.");const v=g[0];console.log("🔄 Authenticating wallet:",v),console.log("🔄 Authenticating wallet:",v);const b=await i({walletAddress:v});console.log("✅ Auth successful:",b),b.user&&b.token&&(localStorage.setItem("authToken",b.token),localStorage.setItem("user",JSON.stringify(b.user))),e({title:"MetaMask Connected",description:`Wallet ${v.slice(0,6)}...${v.slice(-4)} authenticated successfully!`}),console.log("🔄 Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},500)}catch(g){console.error("❌ MetaMask connection error:",g),e({title:"Connection Failed",description:g.message||"Failed to connect MetaMask",variant:"destructive"})}finally{c(!1)}},x=async()=>{try{e({title:"Google Login",description:"Redirecting to Google authentication..."}),setTimeout(()=>{e({title:"Google OAuth Issue",description:"If you see 'refused to connect', please contact support.",variant:"destructive"})},5e3),window.location.href="/api/auth/google"}catch{e({title:"Google Login Failed",description:"Please try again or use email login",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-900",children:r.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[r.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative overflow-hidden min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B"},children:r.jsxs("div",{className:"text-center z-10 max-w-md relative py-[30px]",children:[r.jsx("p",{className:"text-white/90 text-sm lg:text-lg mb-2 lg:mb-4",children:"Get Started with METACHROME"}),r.jsx("h1",{className:"text-2xl lg:text-4xl font-bold text-white mb-6 lg:mb-12 leading-tight",children:"The Future is for Everyone"}),r.jsx("div",{className:"relative w-48 h-48 lg:w-80 lg:h-80 mx-auto",children:r.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-full",children:[r.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),r.jsx("source",{src:"/orb.webm",type:"video/webm"})]})})]})}),r.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:r.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Log In"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Don't have an account? "}),r.jsx(ht,{href:"/signup",children:r.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign up"})})]})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Securely connect to your account"}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs(z,{variant:"outline",className:"bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center space-x-2",onClick:x,type:"button",children:[r.jsx(nk,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),r.jsx(z,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:m,disabled:l,type:"button",children:l?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-white",children:"Connecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ik,{className:"w-5 h-5 text-orange-500 mr-2"}),r.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),r.jsx(by,{...u,children:r.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[r.jsx(br,{control:u.control,name:"email",render:({field:y})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Username/Wallet address/Email"}),r.jsx(rr,{children:r.jsx(Re,{...y,placeholder:"Enter your Username/Wallet address/Email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500","data-testid":"input-email"})}),r.jsx(nr,{})]})}),r.jsx(br,{control:u.control,name:"password",render:({field:y})=>r.jsxs(tr,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Password"}),r.jsx("span",{className:"text-purple-400 text-sm cursor-pointer hover:text-purple-300",children:"Forgot Password?"})]}),r.jsx(rr,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Re,{...y,type:a?"text":"password",placeholder:"Enter your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10","data-testid":"input-password"}),r.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a?r.jsx(el,{className:"w-4 h-4"}):r.jsx(Xn,{className:"w-4 h-4"})})]})}),r.jsx(nr,{})]})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"rememberMe",...u.register("rememberMe"),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2"}),r.jsx("label",{htmlFor:"rememberMe",className:"text-gray-400 text-sm font-normal",children:"Remember Me"})]}),r.jsx(z,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:n,children:n?"Logging In...":"Log In"})]})})]})})})]})})}const U8=vy({firstName:un().min(1,"First name is required"),lastName:un().min(1,"Last name is required"),email:un().email("Valid email is required"),password:un().min(6,"Password must be at least 6 characters"),confirmPassword:un().min(1,"Password confirmation is required"),referralCode:un().optional(),documentType:_8(["id_card","driver_license","passport"],{required_error:"Document type is required",invalid_type_error:"Please select a valid document type"}),agreeToTerms:JE().refine(t=>t===!0,"You must agree to the terms")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function $8(){const[,t]=_r(),{toast:e}=gr(),{register:s,metamaskLogin:n}=ms(),[i,a]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,x]=f.useState(null),[y,g]=f.useState(0),v=gy({resolver:xy(U8),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",referralCode:"",documentType:"id_card",agreeToTerms:!1}}),b=async S=>{h(!0);try{if(!m){e({title:"ID Verification Required",description:"Please upload your ID document to complete registration. This is mandatory for account security.",variant:"destructive"}),h(!1);return}console.log("🔄 Starting signup process...",{firstName:S.firstName,lastName:S.lastName,email:S.email,referralCode:S.referralCode,documentType:S.documentType,hasDocument:!!m});const T=await s({username:S.email.split("@")[0],email:S.email,password:S.password,firstName:S.firstName,lastName:S.lastName,referralCode:S.referralCode});if(console.log("✅ Registration successful:",T),T.token&&(localStorage.setItem("authToken",T.token),console.log("🔑 Stored auth token for immediate use")),T.user&&(localStorage.setItem("user",JSON.stringify(T.user)),console.log("👤 Stored user data for immediate use")),m&&S.documentType)try{g(25);const E=new FormData;E.append("document",m),E.append("documentType",S.documentType);const _=T.token;if(console.log("🔑 Using registration token for document upload:",_?_.substring(0,30)+"...":"No token"),!_)throw new Error("No authentication token received from registration");console.log("⏳ Waiting for user to be saved in database..."),await new Promise(k=>setTimeout(k,1e3)),g(50);const I=await fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:`Bearer ${_}`},body:E});if(g(75),I.ok){const k=await I.json();g(100),console.log("✅ Verification document uploaded successfully:",k),e({title:"Account Created & Document Uploaded!",description:"Your account is pending verification. You'll be notified once approved.",duration:5e3})}else{const k=await I.text();throw console.error("❌ Upload response error:",I.status,k),new Error(`Upload failed: ${I.status} - ${k}`)}}catch(E){console.error("❌ Document upload error:",E),e({title:"Account Created",description:`Account created but document upload failed: ${E.message}. You can upload it later in your profile.`,variant:"destructive",duration:5e3})}else e({title:"Account Created Successfully!",description:"Welcome to METACHROME! Please upload your verification document in your profile.",duration:5e3});console.log("🔄 Redirecting to dashboard..."),t("/dashboard")}catch(T){console.error("❌ Registration error:",T),e({title:"Signup Failed",description:T.message||"Failed to create account",variant:"destructive"})}finally{h(!1),g(0)}},p=S=>{var E;const T=(E=S.target.files)==null?void 0:E[0];if(T){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(T.type)){e({title:"Invalid File Type",description:"Please upload a JPG, PNG, or PDF file.",variant:"destructive"});return}if(T.size>5*1024*1024){e({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}x(T),console.log("📄 File selected:",T.name,T.type,T.size)}},w=async()=>{if(!window.ethereum){e({title:"MetaMask Not Found",description:"Please install MetaMask to continue.",variant:"destructive"});return}d(!0);try{console.log("🔄 Requesting MetaMask account access...");const S=await window.ethereum.request({method:"eth_requestAccounts"});if(console.log("📝 Accounts received:",S),S.length===0)throw new Error("No accounts found. Please unlock MetaMask.");const T=S[0];console.log("🔄 Authenticating wallet:",T);const E=await n({walletAddress:T});console.log("✅ MetaMask authentication successful:",E),E.user&&E.token&&(localStorage.setItem("authToken",E.token),localStorage.setItem("user",JSON.stringify(E.user))),e({title:"MetaMask Connected Successfully!",description:`Welcome! Connected with wallet: ${T.slice(0,6)}...${T.slice(-4)}`}),console.log("🔄 Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},500)}catch(S){console.error("❌ MetaMask connection error:",S),e({title:"Connection Failed",description:S.message||"Failed to connect MetaMask",variant:"destructive"})}finally{d(!1)}},j=async()=>{try{e({title:"Google Signup",description:"Redirecting to Google authentication..."}),window.location.href="/api/auth/google"}catch{e({title:"Google Signup Failed",description:"Please try again or use email signup",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen bg-gray-900",children:r.jsxs("div",{className:"flex min-h-screen flex-col lg:flex-row",children:[r.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative overflow-hidden min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B"},children:r.jsxs("div",{className:"text-center z-10 max-w-md relative py-[30px]",children:[r.jsx("p",{className:"text-white/90 text-sm lg:text-lg mb-2 lg:mb-4",children:"Get Started with METACHROME"}),r.jsx("h1",{className:"text-2xl lg:text-4xl font-bold text-white mb-6 lg:mb-12 leading-tight",children:"The Future is for Everyone"}),r.jsx("div",{className:"relative w-48 h-48 lg:w-80 lg:h-80 mx-auto",children:r.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-full",children:[r.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),r.jsx("source",{src:"/orb.webm",type:"video/webm"})]})})]})}),r.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:r.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Sign Up"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Already have an account? "}),r.jsx(ht,{href:"/login",children:r.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign In"})})]})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the community and unleash endless possibilities"}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs(z,{variant:"outline",className:"bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center space-x-2",onClick:j,type:"button",children:[r.jsx(nk,{className:"w-5 h-5 text-white"}),r.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),r.jsx(z,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:w,disabled:c,type:"button",children:c?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-white",children:"Connecting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ik,{className:"w-5 h-5 text-orange-500 mr-2"}),r.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-600"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),r.jsx(by,{...v,children:r.jsxs("form",{onSubmit:v.handleSubmit(b),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r.jsx(br,{control:v.control,name:"firstName",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"First Name *"}),r.jsx(rr,{children:r.jsx(Re,{...S,placeholder:"Your First Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),r.jsx(nr,{})]})}),r.jsx(br,{control:v.control,name:"lastName",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Last Name *"}),r.jsx(rr,{children:r.jsx(Re,{...S,placeholder:"Your Last Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),r.jsx(nr,{})]})})]}),r.jsx(br,{control:v.control,name:"email",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"E-Mail Address *"}),r.jsx(rr,{children:r.jsx(Re,{...S,type:"email",placeholder:"Your email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),r.jsx(nr,{})]})}),r.jsx(br,{control:v.control,name:"referralCode",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Referral Code (Optional)"}),r.jsx(rr,{children:r.jsx(Re,{...S,type:"text",placeholder:"Enter referral code if you have one",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),r.jsx(nr,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(br,{control:v.control,name:"password",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Password *"}),r.jsx(rr,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Re,{...S,type:i?"text":"password",placeholder:"Your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:i?r.jsx(el,{className:"w-4 h-4"}):r.jsx(Xn,{className:"w-4 h-4"})})]})}),r.jsx(nr,{})]})}),r.jsx(br,{control:v.control,name:"confirmPassword",render:({field:S})=>r.jsxs(tr,{children:[r.jsx(sr,{className:"text-gray-400 text-sm",children:"Confirm Password *"}),r.jsx(rr,{children:r.jsxs("div",{className:"relative",children:[r.jsx(Re,{...S,type:o?"text":"password",placeholder:"Password Confirmation",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:o?r.jsx(el,{className:"w-4 h-4"}):r.jsx(Xn,{className:"w-4 h-4"})})]})}),r.jsx(nr,{})]})})]}),r.jsxs("div",{className:"space-y-4 p-4 bg-red-900/20 rounded-lg border border-red-700/50",children:[r.jsxs("h3",{className:"text-white text-sm font-medium flex items-center",children:[r.jsx("span",{className:"text-red-400 mr-2",children:"*"}),"Identity Verification (Required)"]}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[r.jsx("span",{className:"text-red-400 font-medium",children:"Mandatory:"})," Upload your ID card, driver's license, or passport to complete registration. This is required for account security and compliance."]}),r.jsx(br,{control:v.control,name:"documentType",render:({field:S})=>r.jsxs(tr,{children:[r.jsxs(sr,{className:"text-gray-400 text-sm",children:["Document Type ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx(rr,{children:r.jsxs("select",{...S,className:"w-full bg-gray-900 border-gray-600 text-white h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 px-3",children:[r.jsx("option",{value:"id_card",children:"ID Card"}),r.jsx("option",{value:"driver_license",children:"Driver's License"}),r.jsx("option",{value:"passport",children:"Passport"})]})}),r.jsx(nr,{})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"text-gray-400 text-sm",children:["Upload Document ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:p,className:"hidden",id:"document-upload",required:!0}),r.jsx("label",{htmlFor:"document-upload",className:`flex-1 bg-gray-900 border-2 border-dashed h-12 rounded-md flex items-center justify-center cursor-pointer transition-colors ${m?"border-green-500 text-green-400":"border-red-500 text-gray-400 hover:border-purple-500"}`,children:m?`✓ ${m.name}`:"⚠️ Click to upload document (Required)"}),m&&r.jsx("button",{type:"button",onClick:()=>x(null),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),y>0&&r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})}),r.jsxs("p",{className:"text-gray-500 text-xs",children:[r.jsx("span",{className:"text-red-400 font-medium",children:"Required:"})," Accepted formats: JPG, PNG, PDF (max 5MB)"]}),!m&&r.jsx("p",{className:"text-red-400 text-xs font-medium",children:"⚠️ ID verification document is mandatory for registration"})]})]}),r.jsx(br,{control:v.control,name:"agreeToTerms",render:({field:S})=>r.jsxs(tr,{className:"flex flex-row items-start space-x-3 space-y-0",children:[r.jsx(rr,{children:r.jsx("input",{type:"checkbox",checked:S.value,onChange:S.onChange,className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2 mt-1"})}),r.jsxs("div",{className:"space-y-1 leading-none",children:[r.jsxs(sr,{className:"text-gray-400 text-sm font-normal",children:["I agree with"," ",r.jsx(ht,{href:"/privacy-policy",className:"text-purple-400 hover:text-purple-300",children:"Privacy Policy"}),","," ",r.jsx(ht,{href:"/terms-of-service",className:"text-purple-400 hover:text-purple-300",children:"Terms of Service"}),","," ",r.jsx(ht,{href:"/trade-policy",className:"text-purple-400 hover:text-purple-300",children:"Trade Policy"})]}),r.jsx(nr,{})]})]})}),r.jsx(z,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:u,children:u?"Creating Account...":"Register"})]})})]})})})]})})}function B8(){var V,$,R,X,q,ne,de,Se;const{user:t,userLogin:e,isUserLoginPending:s}=ms(),{toast:n}=gr(),i=Mr(),a=f.useRef(null),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(""),[m,x]=f.useState(""),[y,g]=f.useState(""),[v,b]=f.useState("BTC"),[p,w]=f.useState(null),j=async ie=>{ie.preventDefault();try{await e({username:u,password:m}),d(!1),h(""),x(""),n({title:"Login Successful! ✅",description:"Welcome to your dashboard"})}catch(_e){n({title:"Login Failed ❌",description:_e.message||"Invalid credentials",variant:"destructive"})}},{data:S,isLoading:T}=Zt({queryKey:["/api/balances"],enabled:!!(t!=null&&t.id)}),E=Array.isArray(S)?S.find(ie=>ie.symbol==="USDT"):S==null?void 0:S.USDT,_=E!=null&&E.available?parseFloat(E.available):(t==null?void 0:t.balance)||0,I=0,k="0",P={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:10,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:10,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:10,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},F=ys({mutationFn:async ie=>{const _e=localStorage.getItem("authToken");if(!_e||!t)throw new Error("Please login first to make a deposit");const me=await fetch("/api/transactions/deposit-request",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify({amount:ie.amount,currency:ie.currency})});if(!me.ok){const be=await me.text();throw new Error(be||"Failed to create deposit request")}const Oe=await me.json();if(ie.receipt){const be=new FormData;be.append("depositId",Oe.depositId),be.append("txHash",`user_upload_${Date.now()}`),be.append("walletAddress","user_wallet_address"),be.append("receipt",ie.receipt);const ce=await fetch("/api/transactions/submit-proof",{method:"POST",headers:{Authorization:`Bearer ${_e}`},body:be});if(!ce.ok){const ze=await ce.text();throw new Error(ze||"Failed to submit proof")}return{success:!0,message:(await ce.json()).message,depositId:Oe.depositId,amount:ie.amount,currency:ie.currency,status:"verifying",receiptUploaded:!0}}return Oe},onSuccess:ie=>{n({title:"Deposit Submitted Successfully! ✅",description:`Your ${ie.amount} ${ie.currency} deposit request has been submitted for processing. Deposit ID: ${ie.depositId}`}),i.invalidateQueries({queryKey:["/api/balances"]}),g(""),w(null)},onError:ie=>{n({title:"Deposit Failed",description:ie.message||"Failed to submit deposit request.",variant:"destructive"})}}),M=ie=>{var me;const _e=(me=ie.target.files)==null?void 0:me[0];if(_e){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(_e.type)){n({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(_e.size>5*1024*1024){n({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}w(_e)}},H=ie=>{navigator.clipboard.writeText(ie),n({title:"Copied!",description:"Address copied to clipboard"})},Z=()=>{if(!y||parseFloat(y)<=0){n({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!p){n({title:"Receipt Required",description:"Please upload a transaction receipt before proceeding.",variant:"destructive"});return}const ie=P[v];if(parseFloat(y)<ie.minAmount){n({title:"Amount Too Small",description:`Minimum deposit amount is ${ie.minAmount} ${v}.`,variant:"destructive"});return}F.mutate({amount:y,currency:v,receipt:p})},O=()=>{const ie=P[v],_e=ie.address;return console.log("QR Code value:",_e),`METACHROME DEPOSIT ADDRESS
${ie.network}
${_e}

COPY THIS ADDRESS TO YOUR WALLET`};return t?r.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mb-2 break-words",children:(()=>{if(t!=null&&t.firstName&&(t!=null&&t.lastName))return`Welcome back, ${t.firstName} ${t.lastName}!`;if(t!=null&&t.firstName)return`Welcome back, ${t.firstName}!`;if(t!=null&&t.username){if(t.username.startsWith("0x")&&t.username.length>20){const ie=t.username.slice(0,21),_e=t.username.slice(21);return r.jsxs("div",{className:"block max-w-full overflow-hidden",children:[r.jsx("div",{className:"leading-tight",children:"Welcome back,"}),r.jsxs("div",{className:"leading-tight font-mono text-purple-400 break-all text-xs sm:text-sm md:text-base",children:[ie,r.jsx("br",{}),_e,"!"]})]})}return`Welcome back, ${t.username}!`}return"Welcome back, User!"})()}),r.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Here's your trading overview and account summary."})]}),!1,(!(t!=null&&t.verificationStatus)||(t==null?void 0:t.verificationStatus)==="unverified")&&r.jsx("div",{className:"mb-8",children:r.jsx(we,{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border-yellow-600/50",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center",children:r.jsx(ch,{className:"w-5 h-5 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-100 mb-2",children:"🔒 Verification Required for Trading"}),r.jsx("p",{className:"text-yellow-200 mb-4",children:"To start trading and access all platform features, please upload your verification documents. This is required for security and regulatory compliance."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(ht,{href:"/profile",children:r.jsxs(z,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[r.jsx(ch,{className:"w-4 h-4 mr-2"}),"Upload Documents Now"]})}),r.jsx("div",{className:"text-sm text-yellow-300",children:"📄 Accepted: ID Card, Driver's License, or Passport"})]})]})]})})})}),(t==null?void 0:t.verificationStatus)==="pending"&&r.jsx("div",{className:"mb-8",children:r.jsx(we,{className:"bg-gradient-to-r from-blue-900/50 to-indigo-900/50 border-blue-600/50",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx(bn,{className:"w-5 h-5 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-2",children:"⏳ Verification Under Review"}),r.jsx("p",{className:"text-blue-200 mb-2",children:"Your verification documents have been submitted and are currently being reviewed by our team. Trading will be enabled once verification is approved."}),r.jsx("div",{className:"text-sm text-blue-300",children:"⏱️ Review typically takes 24-48 hours"})]})]})})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs(we,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-green-500/50 transition-colors",children:[r.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(nt,{className:"text-sm font-medium text-gray-400",children:"Total Portfolio Value"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(z,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:o?r.jsx(Xn,{className:"h-3 w-3"}):r.jsx(el,{className:"h-3 w-3"})}),r.jsx(ku,{className:"h-4 w-4 text-green-500"})]})]}),r.jsxs(je,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:o?`$${_.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"••••••"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Available balance"})]})]}),r.jsxs(we,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500/50 transition-colors",children:[r.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(nt,{className:"text-sm font-medium text-gray-400",children:"Total Trades"}),r.jsx(Ii,{className:"h-4 w-4 text-blue-500"})]}),r.jsxs(je,{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:I}),r.jsx("p",{className:"text-xs text-gray-400",children:"All time"})]})]}),r.jsxs(we,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-green-500/50 transition-colors",children:[r.jsxs(rt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(nt,{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),r.jsx(cr,{className:"h-4 w-4 text-green-500"})]}),r.jsxs(je,{children:[r.jsxs("div",{className:"text-2xl font-bold text-white",children:[k,"%"]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Success rate"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(parseFloat(k),100)}%`}})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Quick Actions"}),r.jsx(Et,{className:"text-gray-400",children:"Start trading or manage your account"})]}),r.jsxs(je,{className:"space-y-4",children:[r.jsx(ht,{href:"/trade/options",children:r.jsxs(z,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Options Trading"]})}),r.jsx(ht,{href:"/trade/spot",children:r.jsxs(z,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Spot Trading"]})})]})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Account Management"}),r.jsx(Et,{className:"text-gray-400",children:"Manage your account settings"})]}),r.jsxs(je,{className:"space-y-4",children:[r.jsx(ht,{href:"/profile",children:r.jsx(z,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"View Profile"})}),r.jsx(ht,{href:"/transactions",children:r.jsx(z,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Transaction History"})})]})]}),r.jsxs(we,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Add Funds"}),r.jsx(Et,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),r.jsx(je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),r.jsxs("select",{value:v,onChange:ie=>b(ie.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"BTC",children:"BTC"}),r.jsx("option",{value:"ETH",children:"ETH"}),r.jsx("option",{value:"SOL",children:"SOL"}),r.jsx("option",{value:"USDT-ERC20",children:"USDT ERC20"}),r.jsx("option",{value:"USDT-TRC20",children:"USDT TRC20"}),r.jsx("option",{value:"USDT-BEP20",children:"USDT BEP20"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",placeholder:"Please enter the recharge amount",value:y,onChange:ie=>g(ie.target.value),className:`w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ${y?"border-gray-600":"border-red-500"}`,min:((V=P[v])==null?void 0:V.minAmount)||0,step:"0.01"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",($=P[v])==null?void 0:$.minAmount," ",v]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),r.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[r.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:["⚠️ Send ",v," to this address to deposit funds to your METACHROME account"]}),r.jsxs("p",{className:"text-yellow-300 text-xs",children:[r.jsx("strong",{children:"Important:"})," Only send on ",(R=P[v])==null?void 0:R.network,". Sending on wrong network will result in loss of funds!"]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[r.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(X=P[v])==null?void 0:X.address}),r.jsx(z,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:()=>{var ie;return H((ie=P[v])==null?void 0:ie.address)},children:r.jsx(oh,{className:"w-4 h-4"})})]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(q=P[v])==null?void 0:q.network]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(ne=P[v])==null?void 0:ne.description})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:r.jsx(aE,{value:O(),size:200,className:"mx-auto"})}),r.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),r.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",r.jsx("strong",{children:(de=P[v])==null?void 0:de.network})]}),r.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(Se=P[v])==null?void 0:Se.address]})]}),r.jsx("div",{className:"mt-4",children:r.jsxs(z,{onClick:()=>{var ie;return H((ie=P[v])==null?void 0:ie.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[r.jsx(oh,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),r.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"💡 How to use:"}),r.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),r.jsxs("li",{children:["• ",r.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${p?"border-gray-600":"border-red-500"}`,onClick:()=>{var ie;return(ie=a.current)==null?void 0:ie.click()},children:p?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(bn,{className:"w-6 h-6 text-green-500"}),r.jsx("span",{className:"text-green-400 text-sm",children:p.name})]}):r.jsxs(r.Fragment,{children:[r.jsx(cc,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),r.jsx("input",{ref:a,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:M,className:"hidden"})]}),(!y||!p)&&r.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[r.jsx("p",{className:"text-yellow-300 text-sm",children:"⚠️ Please complete all required fields:"}),r.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!y&&r.jsx("li",{children:"• Enter deposit amount"}),!p&&r.jsx("li",{children:"• Upload transaction receipt"})]})]}),r.jsx(z,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:Z,disabled:F.isPending||!y||!p,children:F.isPending?"Processing...":"Confirm recharge"})]})})]})]}),r.jsx("div",{className:"mt-8",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Start Trading"}),r.jsx(Et,{className:"text-gray-400",children:"Begin your trading journey"})]}),r.jsxs(je,{className:"text-center py-8",children:[r.jsx(cr,{className:"h-16 w-16 text-purple-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ready to Trade?"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Start trading with our advanced platform"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(ht,{href:"/trade/options",children:r.jsxs(z,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),"Options Trading"]})}),r.jsx(ht,{href:"/trade/spot",children:r.jsxs(z,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(Ii,{className:"w-4 w-4 mr-2"}),"Spot Trading"]})})]})]})]})})]})}):r.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12 flex items-center justify-center",children:r.jsx("div",{className:"max-w-md w-full mx-auto px-4",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white text-center",children:"Login to Your Account"}),r.jsx(Et,{className:"text-gray-400 text-center",children:"Enter your credentials to access your dashboard"})]}),r.jsxs(je,{children:[r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),r.jsx("input",{type:"text",value:u,onChange:ie=>h(ie.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your username",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:m,onChange:ie=>x(ie.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your password",required:!0})]}),r.jsx(z,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium",disabled:s,children:s?"Logging in...":"Login"})]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("p",{className:"text-gray-400 text-sm",children:["Demo credentials: username: ",r.jsx("span",{className:"text-purple-400",children:"admin"}),", password: ",r.jsx("span",{className:"text-purple-400",children:"any"})]})})]})]})})})}var z8="Separator",kj="horizontal",V8=["horizontal","vertical"],ak=f.forwardRef((t,e)=>{const{decorative:s,orientation:n=kj,...i}=t,a=W8(n)?n:kj,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(Ve.div,{"data-orientation":a,...l,...i,ref:e})});ak.displayName=z8;function W8(t){return V8.includes(t)}var ok=ak;const Ru=f.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...n},i)=>r.jsx(ok,{ref:i,decorative:s,orientation:e,className:$e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ru.displayName=ok.displayName;function H8(){var pe,ze;const{user:t}=ms(),{toast:e}=gr(),s=Mr(),n=Cn();if(!t)return r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),r.jsx("p",{children:"Loading profile..."})]})});const[i,a]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,x]=f.useState(null),[y,g]=f.useState(null),[v,b]=f.useState(!1),[p,w]=f.useState(""),[j,S]=f.useState([]),[T,E]=f.useState(null),[_,I]=f.useState("id_card"),[k,P]=f.useState(!1),F=f.useRef(null),[M,H]=f.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",currentPassword:"",newPassword:"",confirmPassword:""});f.useEffect(()=>{t&&H(K=>({...K,username:t.username||"",email:t.email||"",firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",address:t.address||""}))},[t]);const Z=ys({mutationFn:async K=>await xs("PUT","/api/user/profile",K),onSuccess:()=>{e({title:"Profile Updated",description:"Your profile has been updated successfully"}),a(!1),s.invalidateQueries({queryKey:["/api/auth"]}),s.refetchQueries({queryKey:["/api/auth"]}),localStorage.removeItem("user")},onError:K=>{e({title:"Update Failed",description:K.message||"Failed to update profile",variant:"destructive"})}}),O=ys({mutationFn:async K=>{console.log("🔐 Password change attempt with data:",K);try{return console.log("🚨 Trying hotfix endpoint first..."),await xs("PUT","/api/user/password-hotfix",K)}catch(he){return console.log("🔄 Hotfix endpoint failed, trying regular endpoint...",he),await xs("PUT","/api/user/password",K)}},onSuccess:K=>{e({title:"Password Set Successfully",description:K!=null&&K.isFirstTimePassword?"Your login password has been set! You can now log in with username and password.":"Your password has been changed successfully"}),H(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),console.log("🔄 Password changed successfully, forcing complete user data refresh..."),localStorage.removeItem("user"),s.removeQueries({queryKey:["/api/auth/user"]}),s.removeQueries({queryKey:["/api/auth"]}),s.invalidateQueries({queryKey:["/api/auth/user"]}),s.invalidateQueries({queryKey:["/api/auth"]}),s.refetchQueries({queryKey:["/api/auth"]}),setTimeout(()=>{console.log("🔄 Reloading page to ensure fresh user data..."),window.location.reload()},1e3),setTimeout(()=>{s.clear(),window.location.reload()},1e3)},onError:K=>{e({title:"Password Change Failed",description:K.message||"Failed to change password",variant:"destructive"})}}),V=ys({mutationFn:async K=>await xs("POST","/api/user/redeem-code",{code:K}),onSuccess:K=>{e({title:"Code Redeemed Successfully!",description:K.message||`Bonus of ${K.bonusAmount} USDT added to your account!`}),d(""),s.invalidateQueries({queryKey:["/api/auth/user"]}),de()},onError:K=>{e({title:"Redeem Failed",description:K.message||"Invalid or expired redeem code",variant:"destructive"})}}),$=ys({mutationFn:async K=>{const he=new FormData;he.append("document",K.file),he.append("documentType",K.documentType);const Ye=localStorage.getItem("authToken"),Ge=await fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:`Bearer ${Ye}`},body:he});if(!Ge.ok){const ct=await Ge.text();throw new Error(ct||"Failed to upload document")}return await Ge.json()},onSuccess:K=>{e({title:"Document Uploaded Successfully!",description:"Your verification document has been submitted for review."}),E(null),P(!1),s.invalidateQueries({queryKey:["/api/auth/user"]}),R()},onError:K=>{e({title:"Upload Failed",description:K.message||"Failed to upload verification document",variant:"destructive"}),P(!1)}}),R=async()=>{try{const K=await xs("GET","/api/user/verification-status");x(K)}catch(K){console.error("Failed to fetch verification status:",K)}},X=async()=>{b(!0);try{console.log("🔄 Force refreshing verification status...");const K=await xs("POST","/api/user/force-refresh-verification");console.log("🔄 Force refresh response:",K),localStorage.removeItem("user"),s.removeQueries({queryKey:["/api/auth"]}),s.invalidateQueries({queryKey:["/api/auth"]}),await s.refetchQueries({queryKey:["/api/auth"]}),await R(),e({title:"Verification Status Refreshed",description:K.message||"Your account verification status has been updated."}),w(`✅ Verification refresh successful! Status: ${(t==null?void 0:t.verificationStatus)||"Unknown"}`)}catch(K){console.error("Failed to refresh verification status:",K),e({title:"Refresh Failed",description:K.message||"Failed to refresh verification status. Please try again.",variant:"destructive"}),w(`❌ Verification refresh failed: ${K.message||K}`)}finally{b(!1)}},q=async()=>{var K;b(!0);try{console.log("🚨 Running emergency verification fix...");const he=await xs("POST","/api/user/emergency-verification-fix");if(console.log("🚨 Emergency fix response:",he),he.fixed){console.log("🚨🚨🚨 SUPER NUCLEAR FIX APPLIED - COMPLETE SYSTEM RESET 🚨🚨🚨"),localStorage.clear(),sessionStorage.clear(),s.clear(),document.cookie.split(";").forEach(Ge=>{const ct=Ge.indexOf("="),dt=ct>-1?Ge.substr(0,ct):Ge;document.cookie=dt+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"});const Ye=he.superNuclear;e({title:Ye?"🚨🚨🚨 SUPER NUCLEAR FIX APPLIED!":he.nuclear?"🚨 NUCLEAR FIX APPLIED!":"✅ Verification Status Fixed!",description:he.message||"Your verification status has been corrected.",duration:Ye?1e4:5e3}),Ye?(console.log("🚨🚨🚨 SUPER NUCLEAR: Forcing complete browser refresh in 3 seconds"),setTimeout(()=>{window.location.href=window.location.protocol+"//"+window.location.host+window.location.pathname+"?t="+Date.now()},3e3)):he.nuclear?(console.log("🚨 NUCLEAR: Forcing immediate page reload"),window.location.href=window.location.href):setTimeout(()=>{window.location.reload()},1e3)}else e({title:"Status Check Complete",description:he.message||"Your verification status is already correct."});w(`✅ Emergency fix completed! Fixed: ${he.fixed}, Status: ${(K=he.user)==null?void 0:K.verification_status}`)}catch(he){console.error("❌ Emergency fix error:",he),e({title:"Emergency Fix Failed",description:he.message||"Failed to fix verification status",variant:"destructive"}),w(`❌ Emergency fix failed: ${he.message||he}`)}finally{b(!1)}},ne=f.useCallback(async()=>{var K;try{console.log("🔗 Fetching referral stats for user:",t==null?void 0:t.username);const he=await xs("GET","/api/user/referral-stats");console.log("🔗 Referral stats response:",he),g(he)}catch(he){console.error("❌ Failed to fetch referral stats:",he),g({referralCode:`REF${((K=t==null?void 0:t.username)==null?void 0:K.toUpperCase().substring(0,4))||"USER"}${Date.now().toString().slice(-4)}`,totalReferrals:0,referrals:[]})}},[t==null?void 0:t.username]);f.useEffect(()=>{t!=null&&t.id&&ne()},[t==null?void 0:t.id,ne]);const de=f.useCallback(async()=>{try{console.log("🎁 Fetching available redeem codes");const K=await xs("GET","/api/user/available-codes");console.log("🎁 Available codes response:",K),S(K||[])}catch(K){console.error("❌ Failed to fetch available codes:",K),S([{code:"FIRSTBONUS",amount:"100 USDT",description:"First time user bonus"},{code:"LETSGO1000",amount:"1000 USDT",description:"High value bonus code"},{code:"WELCOME50",amount:"50 USDT",description:"Welcome bonus for new users"},{code:"BONUS500",amount:"500 USDT",description:"Limited time bonus"}])}},[]);f.useEffect(()=>{t!=null&&t.id&&de()},[t==null?void 0:t.id,de]);const Se=(K,he)=>{H(Ye=>({...Ye,[K]:he}))},ie=()=>{const{currentPassword:K,newPassword:he,confirmPassword:Ye,...Ge}=M;Z.mutate(Ge)},_e=()=>{if(M.newPassword!==M.confirmPassword){e({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if(M.newPassword.length<6){e({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}O.mutate({currentPassword:M.currentPassword,newPassword:M.newPassword})},me=()=>{if(!c.trim()){e({title:"Invalid Code",description:"Please enter a redeem code",variant:"destructive"});return}h(!0),V.mutate(c.trim().toUpperCase()),h(!1)},Oe=K=>{var Ye;const he=(Ye=K.target.files)==null?void 0:Ye[0];if(he){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(he.type)){e({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(he.size>5*1024*1024){e({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}E(he)}},be=()=>{if(!T){e({title:"No File Selected",description:"Please select a document to upload",variant:"destructive"});return}P(!0),$.mutate({file:T,documentType:_})},ce=K=>new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return r.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-24 md:pb-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:`mb-6 ${n?"mb-4":"mb-8"}`,children:[r.jsx("h1",{className:`font-bold text-white mb-2 ${n?"text-2xl":"text-3xl"}`,children:"Profile Settings"}),r.jsx("p",{className:`text-gray-400 ${n?"text-sm":""}`,children:"Manage your account information and preferences"})]}),r.jsxs(RE,{defaultValue:"profile",className:"space-y-6",children:[r.jsxs(_h,{className:`grid w-full bg-gray-800 border-gray-700 ${n?"grid-cols-2 gap-1 p-1":"grid-cols-5"}`,children:[r.jsx(cs,{value:"profile",className:`data-[state=active]:bg-gray-700 ${n?"text-xs px-2 py-2":""}`,children:n?"Profile":"Profile Information"}),r.jsx(cs,{value:"verification",className:`data-[state=active]:bg-gray-700 ${n?"text-xs px-2 py-2":""}`,children:n?"Verify":"Verification"}),!n&&r.jsxs(r.Fragment,{children:[r.jsx(cs,{value:"redeem",className:"data-[state=active]:bg-gray-700",children:"Redeem Codes"}),r.jsx(cs,{value:"security",className:"data-[state=active]:bg-gray-700",children:"Security"}),r.jsx(cs,{value:"account",className:"data-[state=active]:bg-gray-700",children:"Account Details"})]})]}),n&&r.jsxs(_h,{className:"grid w-full grid-cols-3 gap-1 p-1 bg-gray-800 border-gray-700 -mt-4",children:[r.jsx(cs,{value:"redeem",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Redeem"}),r.jsx(cs,{value:"security",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Security"}),r.jsx(cs,{value:"account",className:"data-[state=active]:bg-gray-700 text-xs px-2 py-2",children:"Account"})]}),r.jsx(Ms,{value:"profile",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{className:n?"p-4":"",children:r.jsxs("div",{className:`flex items-center justify-between ${n?"flex-col space-y-3":""}`,children:[r.jsxs("div",{className:n?"text-center":"",children:[r.jsx(nt,{className:`text-white ${n?"text-lg":""}`,children:"Profile Information"}),r.jsx(Et,{className:`text-gray-400 ${n?"text-sm":""}`,children:"Update your personal information and contact details"})]}),r.jsxs(z,{variant:i?"outline":"default",onClick:()=>a(!i),className:`${i?"border-gray-600":""} ${n?"w-full":""}`,size:n?"sm":"default",children:[r.jsx(tl,{className:"w-4 h-4 mr-2"}),i?"Cancel":"Edit Profile"]})]})}),r.jsxs(je,{className:`space-y-6 ${n?"p-4":""}`,children:[r.jsxs("div",{className:`flex items-center ${n?"flex-col text-center space-y-3":"space-x-4"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center ${n?"w-16 h-16":"w-20 h-20"}`,children:r.jsx(Oc,{className:`text-white ${n?"w-6 h-6":"w-8 h-8"}`})}),i&&r.jsx(z,{size:"sm",className:`absolute -bottom-2 -right-2 rounded-full p-0 ${n?"h-6 w-6":"h-8 w-8"}`,disabled:!0,children:r.jsx(YM,{className:`${n?"w-3 h-3":"w-4 h-4"}`})})]}),r.jsxs("div",{className:"min-w-0 max-w-full",children:[r.jsx("h3",{className:`font-semibold text-white ${n?"text-base":"text-lg"} break-words`,children:t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName} ${t.lastName}`:t!=null&&t.username&&t.username.startsWith("0x")&&t.username.length>20?`${t.username.slice(0,6)}...${t.username.slice(-4)}`:(t==null?void 0:t.username)||"User"}),r.jsxs("p",{className:`text-gray-400 ${n?"text-xs":"text-sm"} break-all max-w-full overflow-hidden`,children:["@",t!=null&&t.username&&t.username.startsWith("0x")&&t.username.length>20?`${t.username.slice(0,6)}...${t.username.slice(-4)}`:t==null?void 0:t.username]}),r.jsx(Tt,{variant:"secondary",className:`mt-1 ${n?"text-xs":""}`,children:(t==null?void 0:t.role)==="admin"?"Administrator":"User"})]})]}),r.jsx(Ru,{className:"bg-gray-700"}),r.jsxs("div",{className:`grid gap-6 ${n?"grid-cols-1":"grid-cols-1 md:grid-cols-2"}`,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"username",className:"text-gray-300",children:"Username"}),r.jsx(Re,{id:"username",value:M.username,onChange:K=>Se("username",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"email",className:"text-gray-300",children:"Email"}),r.jsx(Re,{id:"email",type:"email",value:M.email,onChange:K=>Se("email",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),r.jsx(Re,{id:"firstName",value:M.firstName,onChange:K=>Se("firstName",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),r.jsx(Re,{id:"lastName",value:M.lastName,onChange:K=>Se("lastName",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),r.jsx(Re,{id:"phone",value:M.phone,onChange:K=>Se("phone",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter phone number"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"address",className:"text-gray-300",children:"Address"}),r.jsx(Re,{id:"address",value:M.address,onChange:K=>Se("address",K.target.value),disabled:!i,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter address"})]})]}),i&&r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(z,{variant:"outline",onClick:()=>a(!1),className:"border-gray-600",children:"Cancel"}),r.jsxs(z,{onClick:ie,disabled:Z.isPending,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(dD,{className:"w-4 h-4 mr-2"}),Z.isPending?"Saving...":"Save Changes"]})]})]})]})}),r.jsx(Ms,{value:"verification",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Account Verification"}),r.jsx(Et,{className:"text-gray-400",children:"Upload your identity documents for account verification and set login password"})]}),r.jsxs(je,{className:"space-y-6",children:[!1,r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gray-600/20 rounded-lg",children:r.jsx(Ns,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{children:[r.jsx(nt,{className:"text-white text-lg",children:"Password Status"}),r.jsx(Et,{className:"text-gray-400",children:"Current login methods and password status for your account"})]})]})}),r.jsx(je,{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t==null?void 0:t.walletAddress)&&r.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("h3",{className:"text-green-400 font-medium",children:"MetaMask Connected"})]}),r.jsxs("p",{className:"text-green-300 text-sm",children:["Wallet: ",t.walletAddress.slice(0,6),"...",t.walletAddress.slice(-4)]})]}),((pe=t==null?void 0:t.email)==null?void 0:pe.includes("@gmail.com"))&&r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),r.jsx("h3",{className:"text-blue-400 font-medium",children:"Google Connected"})]}),r.jsxs("p",{className:"text-blue-300 text-sm",children:["Email: ",t.email]})]}),r.jsxs("div",{className:`p-4 border rounded-lg ${t!=null&&t.hasPassword?"bg-green-900/20 border-green-600/50":"bg-yellow-900/20 border-yellow-600/50"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${t!=null&&t.hasPassword?"bg-green-400":"bg-yellow-400"}`}),r.jsx("h3",{className:`font-medium ${t!=null&&t.hasPassword?"text-green-400":"text-yellow-400"}`,children:t!=null&&t.hasPassword?"Password Set":"No Password"})]}),r.jsx("p",{className:`text-sm ${t!=null&&t.hasPassword?"text-green-300":"text-yellow-300"}`,children:t!=null&&t.hasPassword?"You can log in with username/password":"Username/password login not available"})]})]})})]}),!(t!=null&&t.hasPassword)&&(t==null?void 0:t.verificationStatus)==="verified"&&r.jsxs(we,{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 border-purple-600/50",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:r.jsx(Ns,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx(nt,{className:"text-white text-lg",children:"Set Login Password"}),r.jsx(Et,{className:"text-purple-200",children:"Add password login to your verified account for additional security"})]})]})}),r.jsxs(je,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[r.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"ℹ️ Why Set a Password?"}),r.jsxs("ul",{className:"text-blue-300 text-sm space-y-1",children:[r.jsxs("li",{children:["• Access your account without ",t!=null&&t.walletAddress?"MetaMask":"Google"]}),r.jsx("li",{children:"• Faster login on any device"}),r.jsx("li",{children:"• Backup access method for security"}),r.jsx("li",{children:"• No current password needed - this is your first password"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-3 bg-gray-700/50 border border-gray-600 rounded-lg",children:[r.jsx("h4",{className:"text-gray-300 font-medium mb-2",children:"Password Requirements:"}),r.jsxs("ul",{className:"text-gray-400 text-sm space-y-1",children:[r.jsxs("li",{className:`flex items-center gap-2 ${M.newPassword.length>=6?"text-green-400":""}`,children:[M.newPassword.length>=6?"✓":"•"," At least 6 characters"]}),r.jsxs("li",{className:`flex items-center gap-2 ${M.newPassword&&M.confirmPassword&&M.newPassword===M.confirmPassword?"text-green-400":""}`,children:[M.newPassword&&M.confirmPassword&&M.newPassword===M.confirmPassword?"✓":"•"," Passwords match"]}),r.jsx("li",{className:"flex items-center gap-2 text-blue-400",children:"ℹ️ No current password required (this is your first password)"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"newPasswordVerification",className:"text-gray-300",children:"Create Your Password"}),r.jsx(Re,{id:"newPasswordVerification",type:"password",value:M.newPassword,onChange:K=>Se("newPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter your new password (minimum 6 characters)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"confirmPasswordVerification",className:"text-gray-300",children:"Confirm Your Password"}),r.jsx(Re,{id:"confirmPasswordVerification",type:"password",value:M.confirmPassword,onChange:K=>Se("confirmPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),M.newPassword&&r.jsxs("div",{className:"space-y-2",children:[M.newPassword.length<6&&r.jsx("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:"⚠️ Password must be at least 6 characters"}),M.newPassword.length>=6&&r.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:"✓ Password length is good"}),M.confirmPassword&&M.newPassword!==M.confirmPassword&&r.jsx("p",{className:"text-red-400 text-sm flex items-center gap-2",children:"✗ Passwords don't match"}),M.confirmPassword&&M.newPassword===M.confirmPassword&&M.newPassword.length>=6&&r.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:"✓ Passwords match - ready to set!"})]}),r.jsxs(z,{onClick:()=>{var K,he;if(console.log("🔐 Setting password for verified user:",{hasPassword:t==null?void 0:t.hasPassword,verificationStatus:t==null?void 0:t.verificationStatus,newPasswordLength:(K=M.newPassword)==null?void 0:K.length,confirmPasswordLength:(he=M.confirmPassword)==null?void 0:he.length}),M.newPassword!==M.confirmPassword){e({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if(M.newPassword.length<6){e({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}O.mutate({newPassword:M.newPassword,isFirstTimePassword:!0})},disabled:O.isPending||!M.newPassword||!M.confirmPassword||M.newPassword!==M.confirmPassword||M.newPassword.length<6,className:"w-full bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-50",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),O.isPending?"Setting Password...":"Set My First Login Password"]}),M.newPassword&&M.confirmPassword&&M.newPassword===M.confirmPassword&&M.newPassword.length>=6&&r.jsxs("div",{className:"p-3 bg-green-900/20 border border-green-600/50 rounded-lg",children:[r.jsx("p",{className:"text-green-300 text-sm",children:"🎉 Once set, you'll be able to log in with:"}),r.jsxs("ul",{className:"text-green-400 text-sm mt-2 space-y-1",children:[r.jsxs("li",{children:["• Username: ",(t==null?void 0:t.username)||"Your username"]}),r.jsx("li",{children:"• Password: (the password you're creating)"}),r.jsxs("li",{children:["• Plus your existing ",t!=null&&t.walletAddress?"MetaMask":"Google"," login"]})]})]})]})]})]}),n&&(t==null?void 0:t.verificationStatus)!=="verified"&&r.jsx("div",{className:"p-4 bg-blue-900/30 border border-blue-600/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-blue-100 font-medium mb-1",children:"📱 Mobile Verification Status"}),r.jsx("p",{className:"text-blue-200 text-sm",children:"If you were verified on desktop, tap refresh to sync your status"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(z,{onClick:X,disabled:v,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:v?r.jsx(Cr,{className:"w-4 h-4 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Cr,{className:"w-4 h-4 mr-1"}),"Refresh"]})}),r.jsx(z,{onClick:q,disabled:v,size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:"🚨 Fix"})]})]})}),!n&&(t==null?void 0:t.verificationStatus)!=="verified"&&r.jsx("div",{className:"p-4 bg-red-900/30 border border-red-600/50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-red-100 font-medium mb-1",children:"🚨 Verification Status Issue"}),r.jsx("p",{className:"text-red-200 text-sm",children:"If you should be verified but showing as unverified, click the emergency fix button"})]}),r.jsx(z,{onClick:q,disabled:v,className:"bg-red-600 hover:bg-red-700 text-white",children:v?r.jsxs(r.Fragment,{children:[r.jsx(Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Fixing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(AlertTriangle,{className:"w-4 h-4 mr-2"}),"🚨 Emergency Fix"]})})]})}),!(t!=null&&t.hasPassword)&&(t==null?void 0:t.verificationStatus)!=="verified"&&r.jsxs(we,{className:"bg-gradient-to-r from-orange-900/30 to-red-900/30 border-orange-600/50",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-orange-600/20 rounded-lg",children:r.jsx(Ns,{className:"w-6 h-6 text-orange-400"})}),r.jsxs("div",{children:[r.jsx(nt,{className:"text-white text-lg",children:"Set Login Password"}),r.jsx(Et,{className:"text-orange-200",children:"Set a password for your account (verification not required)"})]})]})}),r.jsxs(je,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-orange-900/20 border border-orange-600/50 rounded-lg",children:[r.jsx("h3",{className:"text-orange-400 font-medium mb-2",children:"🔐 Password Login Setup"}),r.jsx("p",{className:"text-orange-200 text-sm mb-4",children:"Add a password to enable username/password login for your account."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"newPasswordAlt",className:"text-gray-300",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Re,{id:"newPasswordAlt",type:o?"text":"password",value:M.newPassword,onChange:K=>Se("newPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white pr-10",placeholder:"Enter your new password"}),r.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(el,{className:"h-4 w-4 text-gray-400"}):r.jsx(Xn,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"confirmPasswordAlt",className:"text-gray-300",children:"Confirm Password"}),r.jsx(Re,{id:"confirmPasswordAlt",type:o?"text":"password",value:M.confirmPassword,onChange:K=>Se("confirmPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),r.jsxs(z,{onClick:()=>{var K,he;if(console.log("🔐 Setting password for non-verified user:",{hasPassword:t==null?void 0:t.hasPassword,verificationStatus:t==null?void 0:t.verificationStatus,newPasswordLength:(K=M.newPassword)==null?void 0:K.length,confirmPasswordLength:(he=M.confirmPassword)==null?void 0:he.length}),M.newPassword!==M.confirmPassword){e({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if(M.newPassword.length<6){e({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}O.mutate({newPassword:M.newPassword,isFirstTimePassword:!0})},disabled:O.isPending||!M.newPassword||!M.confirmPassword,className:"w-full bg-orange-600 hover:bg-orange-700",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),O.isPending?"Setting Password...":"Set Password"]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"text-white font-medium",children:"Verification Status"}),r.jsx(z,{size:"sm",variant:"ghost",onClick:X,disabled:v,className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:r.jsx(Cr,{className:`w-3 h-3 ${v?"animate-spin":""}`})})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:(t==null?void 0:t.verificationStatus)==="verified"?"Your account is verified":(t==null?void 0:t.verificationStatus)==="pending"?"Verification pending review":(t==null?void 0:t.verificationStatus)==="rejected"?"Verification rejected":"Account not verified"})]}),r.jsx(Tt,{variant:(t==null?void 0:t.verificationStatus)==="verified"?"default":(t==null?void 0:t.verificationStatus)==="pending"?"secondary":(t==null?void 0:t.verificationStatus)==="rejected"?"destructive":"outline",className:(t==null?void 0:t.verificationStatus)==="verified"?"bg-green-600":(t==null?void 0:t.verificationStatus)==="pending"?"bg-yellow-600":(t==null?void 0:t.verificationStatus)==="rejected"?"bg-red-600":"bg-gray-600",children:(t==null?void 0:t.verificationStatus)==="verified"?"✓ Verified":(t==null?void 0:t.verificationStatus)==="pending"?"⏳ Pending":(t==null?void 0:t.verificationStatus)==="rejected"?"✗ Rejected":"⚠ Unverified"})]}),(t==null?void 0:t.verificationStatus)!=="verified"&&r.jsxs("div",{className:"space-y-4 p-4 bg-gray-700 rounded-lg",children:[r.jsx("h3",{className:"text-white font-medium",children:"Upload Verification Document"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Please upload a clear photo of your ID card, driver's license, or passport. This is required for trading and withdrawals."}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{className:"text-gray-300",children:"Document Type"}),r.jsxs("select",{value:_,onChange:K=>I(K.target.value),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2",children:[r.jsx("option",{value:"id_card",children:"ID Card"}),r.jsx("option",{value:"driver_license",children:"Driver's License"}),r.jsx("option",{value:"passport",children:"Passport"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{className:"text-gray-300",children:"Document File"}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${T?"border-green-500 bg-green-500/10":"border-gray-600"}`,onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},children:T?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(bn,{className:"w-6 h-6 text-green-500"}),r.jsx("span",{className:"text-green-400 text-sm",children:T.name})]}):r.jsxs(r.Fragment,{children:[r.jsx(sD,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload document"}),r.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),r.jsx("input",{ref:F,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:Oe,className:"hidden"})]}),r.jsxs(z,{onClick:be,disabled:!T||k||$.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:[r.jsx(ch,{className:"w-4 h-4 mr-2"}),k||$.isPending?"Uploading...":"Upload Document"]})]}),(t==null?void 0:t.verificationStatus)!=="verified"&&r.jsxs("div",{className:"p-4 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:[r.jsx("h3",{className:"text-yellow-400 font-medium mb-2",children:"⚠ Account Restrictions"}),r.jsxs("ul",{className:"text-yellow-300 text-sm space-y-1",children:[r.jsx("li",{children:"• Trading is disabled until verification is complete"}),r.jsx("li",{children:"• Withdrawals are not available"}),r.jsx("li",{children:"• Some features may be limited"})]})]})]})]})}),r.jsx(Ms,{value:"redeem",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Redeem Bonus Codes"}),r.jsx(Et,{className:"text-gray-400",children:"Enter promotional codes to receive bonus credits"})]}),r.jsxs(je,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(Re,{value:c,onChange:K=>d(K.target.value.toUpperCase()),placeholder:"Enter redeem code (e.g., FIRSTBONUS)",className:"bg-gray-900 border-gray-600 text-white flex-1",onKeyPress:K=>{K.key==="Enter"&&c.trim()&&!u&&me()}}),r.jsx(z,{onClick:me,disabled:u||!c.trim(),className:"bg-purple-600 hover:bg-purple-700",children:u?"Redeeming...":"Redeem"})]}),r.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[r.jsx("h3",{className:"text-white font-medium mb-2",children:"💡 Available Codes"}),j.length===0?r.jsx("p",{className:"text-gray-400 text-sm",children:"Loading available codes..."}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:j.map(K=>r.jsx("div",{className:"bg-gray-800 p-3 rounded border border-gray-600 hover:border-purple-500 cursor-pointer transition-colors",onClick:()=>{d(K.code)},children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-mono text-purple-400 font-bold",children:K.code}),r.jsx("div",{className:"text-green-400 font-semibold",children:K.amount}),r.jsx("div",{className:"text-gray-400 text-xs",children:K.description})]}),r.jsx(z,{size:"sm",variant:"outline",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white",onClick:he=>{he.stopPropagation(),d(K.code),setTimeout(()=>me(),100)},disabled:u,children:"Use"})]})},K.code))})]})]}),r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600 rounded-lg",children:[r.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"ℹ Bonus Terms"}),r.jsxs("ul",{className:"text-blue-300 text-sm space-y-1",children:[r.jsx("li",{children:"• Complete 10 trades to unlock withdrawals after claiming bonus"}),r.jsx("li",{children:"• Each code can only be used once per account"}),r.jsx("li",{children:"• Bonus credits are added immediately to your balance"})]})]}),r.jsx(Ru,{className:"bg-gray-600"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-medium",children:"🔗 Your Referral Code"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{value:(y==null?void 0:y.referralCode)||(y===null?"Loading...":"Error loading code"),readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),r.jsx(z,{onClick:()=>{const K=(y==null?void 0:y.referralCode)||"";K&&K!=="Loading..."&&K!=="Error loading code"?(navigator.clipboard.writeText(K),e({title:"Copied!",description:"Referral code copied to clipboard"})):e({title:"Error",description:"No referral code to copy",variant:"destructive"})},variant:"outline",className:"border-gray-600",disabled:!(y!=null&&y.referralCode)||y.referralCode==="Loading..."||y.referralCode==="Error loading code",children:"Copy"})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"}),y&&r.jsxs("p",{className:"text-green-400 text-sm",children:["Total Referrals: ",y.totalReferrals||0]})]})]})]})}),r.jsx(Ms,{value:"security",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Security Settings"}),r.jsx(Et,{className:"text-gray-400",children:"Manage your password and security preferences"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(z,{onClick:()=>{console.log("🔄 Manual refresh of user data"),s.removeQueries({queryKey:["/api/auth"]}),s.invalidateQueries({queryKey:["/api/auth"]}),s.refetchQueries({queryKey:["/api/auth"]}),e({title:"Refreshing User Data",description:"Updating password status..."})},variant:"outline",size:"sm",className:"text-blue-400 border-blue-600 hover:bg-blue-900/20",children:[r.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Refresh Status"]}),r.jsx(z,{onClick:async()=>{var K,he;try{const Ge=await(await fetch("/api/debug/password-status",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();console.log("🔍 Password Debug Data:",Ge),e({title:"Debug Info",description:`Password saved: ${Ge.debug?((K=Ge.supabaseData)==null?void 0:K.hasPasswordHash)||((he=Ge.fileData)==null?void 0:he.hasPasswordHash):"Unknown"}`})}catch(Ye){console.error("Debug error:",Ye),e({title:"Debug Failed",description:"Could not fetch debug info",variant:"destructive"})}},variant:"outline",size:"sm",className:"text-yellow-400 border-yellow-600 hover:bg-yellow-900/20",children:"🔍 Debug"})]})]}),r.jsxs(je,{className:"space-y-6",children:[console.log("🔍 Security Tab Debug - User Data:",{hasPassword:t==null?void 0:t.hasPassword,passwordStatus:t!=null&&t.hasPassword?"Password Set":"No Password",verificationStatus:t==null?void 0:t.verificationStatus,walletAddress:t==null?void 0:t.walletAddress,email:t==null?void 0:t.email,userId:t==null?void 0:t.id,username:t==null?void 0:t.username}),t!=null&&t.hasPassword?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[r.jsx("h3",{className:"text-green-400 font-medium mb-2",children:"🔐 Password Protection Enabled"}),r.jsx("p",{className:"text-green-300 text-sm mb-3",children:"Your account is secured with a password. You can change it below if needed."}),r.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:"You can log in with username and password"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-700/50 border border-gray-600 rounded-lg",children:[r.jsx("h4",{className:"text-gray-300 font-medium mb-3",children:"Available Login Methods:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:"✓ Username & Password"}),(t==null?void 0:t.walletAddress)&&r.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:["✓ MetaMask Wallet (",t.walletAddress.slice(0,6),"...",t.walletAddress.slice(-4),")"]}),((ze=t==null?void 0:t.email)==null?void 0:ze.includes("@gmail.com"))&&r.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:["✓ Google Account (",t.email,")"]})]})]}),r.jsxs("div",{className:"p-4 bg-gray-800/50 border border-gray-600 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-4",children:"Change Your Password"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Re,{id:"currentPassword",type:o?"text":"password",value:M.currentPassword,onChange:K=>Se("currentPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white pr-10",placeholder:"Enter your current password"}),r.jsx(z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!o),children:o?r.jsx(el,{className:"h-4 w-4 text-gray-400"}):r.jsx(Xn,{className:"h-4 w-4 text-gray-400"})})]}),r.jsx("p",{className:"text-gray-400 text-xs",children:"This is the password you currently use to log in"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"newPasswordSecurity",className:"text-gray-300",children:"New Password"}),r.jsx(Re,{id:"newPasswordSecurity",type:"password",value:M.newPassword,onChange:K=>Se("newPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter your new password (minimum 6 characters)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Rt,{htmlFor:"confirmPasswordSecurity",className:"text-gray-300",children:"Confirm New Password"}),r.jsx(Re,{id:"confirmPasswordSecurity",type:"password",value:M.confirmPassword,onChange:K=>Se("confirmPassword",K.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm your new password"})]}),M.newPassword&&r.jsxs("div",{className:"space-y-1",children:[M.newPassword.length<6&&r.jsx("p",{className:"text-yellow-400 text-sm flex items-center gap-2",children:"⚠️ New password must be at least 6 characters"}),M.confirmPassword&&M.newPassword!==M.confirmPassword&&r.jsx("p",{className:"text-red-400 text-sm flex items-center gap-2",children:"✗ New passwords don't match"}),M.confirmPassword&&M.newPassword===M.confirmPassword&&M.newPassword.length>=6&&r.jsx("p",{className:"text-green-400 text-sm flex items-center gap-2",children:"✓ New passwords match and meet requirements"})]})]})]}),r.jsxs(z,{onClick:_e,disabled:O.isPending||!M.currentPassword||!M.newPassword||!M.confirmPassword,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),O.isPending?"Changing...":"Change Password"]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600/50 rounded-lg",children:[r.jsx("h3",{className:"text-blue-400 font-medium mb-3",children:"🔐 No Password Set"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-300 text-sm font-medium",children:"Current Login Method:"}),r.jsx("p",{className:"text-blue-200 text-sm",children:t!=null&&t.walletAddress?`MetaMask Wallet (${t.walletAddress.slice(0,6)}...${t.walletAddress.slice(-4)})`:"Google Account"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-300 text-sm font-medium",children:"Password Status:"}),r.jsxs("p",{className:"text-yellow-200 text-sm",children:[r.jsx("strong",{children:"You don't have a current password"})," because you've never set one."]})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-gray-700/50 border border-gray-600 rounded-lg",children:[r.jsx("h4",{className:"text-gray-300 font-medium mb-3",children:"What This Means:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:"✗ Cannot log in with username & password"}),r.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:["✓ Can log in with ",t!=null&&t.walletAddress?"MetaMask":"Google"]}),r.jsx("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:'ℹ️ No "current password" to remember or enter'})]})]}),r.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-600/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Ns,{className:"w-5 h-5 text-purple-400"}),r.jsx("h4",{className:"text-purple-300 font-medium",children:"Want to Add Password Login?"})]}),r.jsx("p",{className:"text-purple-200 text-sm mb-3",children:"Set your first login password to access your account with username & password."}),r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-900/40 border border-purple-500/50 rounded-lg",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),r.jsxs("p",{className:"text-purple-300 text-sm",children:["Go to the ",r.jsx("strong",{children:"Verification"})," tab above to set your first password."]})]})]})]})]})]})}),r.jsx(Ms,{value:"account",children:r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsxs(rt,{children:[r.jsx(nt,{className:"text-white",children:"Account Details"}),r.jsx(Et,{className:"text-gray-400",children:"View your account information and status"})]}),r.jsxs(je,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(aD,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("p",{className:"text-white break-words break-all text-sm leading-relaxed",children:t==null?void 0:t.email})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Oc,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"User ID"}),r.jsx("p",{className:"text-white font-mono text-sm break-all leading-relaxed",children:t==null?void 0:t.id})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(XM,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Member Since"}),r.jsx("p",{className:"text-white",children:t!=null&&t.createdAt?ce(t.createdAt):"N/A"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ns,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Account Status"}),r.jsx(Tt,{variant:"secondary",className:"bg-green-600/20 text-green-400",children:"Active"})]})]})]}),r.jsx(Ru,{className:"bg-gray-600"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-white font-medium",children:"Referral Code"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Re,{value:(y==null?void 0:y.referralCode)||(t==null?void 0:t.referral_code)||(y===null?"Loading...":"Error loading code"),readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),r.jsx(z,{onClick:()=>{const K=(y==null?void 0:y.referralCode)||(t==null?void 0:t.referral_code)||"";K&&K!=="Loading..."&&K!=="Error loading code"?(navigator.clipboard.writeText(K),e({title:"Copied!",description:"Referral code copied to clipboard"})):e({title:"Error",description:"No referral code to copy",variant:"destructive"})},variant:"outline",className:"border-gray-600",disabled:!(y!=null&&y.referralCode)&&!(t!=null&&t.referral_code),children:"Copy"})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"}),y&&r.jsxs("p",{className:"text-green-400 text-sm",children:["Total Referrals: ",y.totalReferrals||0]})]})]})]})})]})]})})}function Pj(){const{user:t}=ms(),[e,s]=f.useState(""),[n,i]=f.useState("all"),[a,o]=f.useState("all"),[l,c]=f.useState("all"),d=async()=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");try{const p=await fetch(`/api/users/${t.id}/transactions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!p.ok)throw new Error(`Server responded with ${p.status}: ${p.statusText}`);const w=await p.json();return console.log("📊 Fetched user transactions:",w),w}catch(p){return console.error("❌ API call failed, using fallback data:",p),[{id:"fallback-tx-1",user_id:t.id,username:t.username||"Current User",type:"deposit",amount:"1000",symbol:"USDT",status:"completed",description:"Demo deposit transaction",created_at:new Date(Date.now()-2*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}},{id:"fallback-tx-2",user_id:t.id,username:t.username||"Current User",type:"trade",amount:"150",symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}},{id:"fallback-tx-3",user_id:t.id,username:t.username||"Current User",type:"trade",amount:"-75",symbol:"USDT",status:"completed",description:"Demo trading loss - ETH/USDT",created_at:new Date(Date.now()-6*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}}]}},{data:u,isLoading:h,error:m}=Zt({queryKey:[`/api/users/${t==null?void 0:t.id}/transactions`],enabled:!!(t!=null&&t.id),queryFn:d,retry:1,retryDelay:1e3,staleTime:3e4,cacheTime:3e5}),{data:x}=Zt({queryKey:[`/api/users/${t==null?void 0:t.id}/trades`],enabled:!!(t!=null&&t.id),queryFn:async()=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");try{const p=await fetch(`/api/users/${t.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!p.ok)throw new Error(`Server responded with ${p.status}: ${p.statusText}`);const w=await p.json();return console.log("📈 Fetched user trades:",w),w}catch(p){return console.error("❌ Trades API call failed, using fallback data:",p),[{id:"fallback-trade-1",user_id:t.id,username:t.username||"Current User",type:"trade_win",amount:150,symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}}]}},retry:1,retryDelay:1e3}),y=(u==null?void 0:u.filter(p=>{var T,E,_,I,k;const w=((T=p.symbol)==null?void 0:T.toLowerCase().includes(e.toLowerCase()))||((E=p.type)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||((_=p.description)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))||((k=(I=p.users)==null?void 0:I.username)==null?void 0:k.toLowerCase().includes(e.toLowerCase())),j=n==="all"||p.type===n,S=a==="all"||p.status===a;return w&&j&&S}))||[];m&&console.error("❌ Failed to fetch transactions:",m);const g=p=>{switch(p){case"deposit":return r.jsx(nb,{className:"h-4 w-4"});case"withdraw":case"withdrawal":return r.jsx(ch,{className:"h-4 w-4"});case"trade":case"trade_win":case"trade_loss":return r.jsx(QM,{className:"h-4 w-4"});case"transfer":return r.jsx(Cr,{className:"h-4 w-4"});default:return r.jsx(Cr,{className:"h-4 w-4"})}},v=p=>{switch(p){case"completed":return"bg-green-600";case"pending":return"bg-yellow-600";case"failed":return"bg-red-600";default:return"bg-gray-600"}},b=p=>{switch(p){case"deposit":return"text-green-400";case"withdraw":case"withdrawal":return"text-red-400";case"trade":case"trade_win":return"text-green-400";case"trade_loss":return"text-red-400";case"transfer":return"text-blue-400";default:return"text-gray-400"}};return r.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[r.jsx(ab,{className:"h-8 w-8"}),"Transaction History"]}),r.jsx("p",{className:"text-gray-400",children:"View and manage all your transactions, deposits, and withdrawals"})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700 mb-8",children:[r.jsx(rt,{children:r.jsxs(nt,{className:"text-white flex items-center gap-2",children:[r.jsx(rD,{className:"h-5 w-5"}),"Filters"]})}),r.jsx(je,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Search"}),r.jsxs("div",{className:"relative",children:[r.jsx(ix,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(Re,{placeholder:"Search transactions...",value:e,onChange:p=>s(p.target.value),className:"pl-10 bg-gray-700 border-gray-600 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Type"}),r.jsxs(In,{value:n,onValueChange:i,children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(Ln,{})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"all",children:"All Types"}),r.jsx(bt,{value:"deposit",children:"Deposits"}),r.jsx(bt,{value:"withdraw",children:"Withdrawals"}),r.jsx(bt,{value:"trade",children:"Trades"}),r.jsx(bt,{value:"transfer",children:"Transfers"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),r.jsxs(In,{value:a,onValueChange:o,children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(Ln,{})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"all",children:"All Status"}),r.jsx(bt,{value:"completed",children:"Completed"}),r.jsx(bt,{value:"pending",children:"Pending"}),r.jsx(bt,{value:"failed",children:"Failed"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Date Range"}),r.jsxs(In,{value:l,onValueChange:c,children:[r.jsx(fn,{className:"bg-gray-700 border-gray-600 text-white",children:r.jsx(Ln,{})}),r.jsxs(pn,{className:"bg-gray-700 border-gray-600",children:[r.jsx(bt,{value:"all",children:"All Time"}),r.jsx(bt,{value:"today",children:"Today"}),r.jsx(bt,{value:"week",children:"This Week"}),r.jsx(bt,{value:"month",children:"This Month"})]})]})]})]})})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(nt,{className:"text-white",children:"Transactions"}),r.jsxs(Et,{className:"text-gray-400",children:[y.length," transactions found"]})]}),r.jsxs(z,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(nb,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),r.jsx(je,{children:h?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(Cr,{className:"h-8 w-8 animate-spin text-gray-400"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading transactions..."})]}):m?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ic,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Failed to load transactions"}),r.jsx("p",{className:"text-gray-400 mb-6",children:m instanceof Error?m.message:"Unable to fetch transaction data. Please try again."}),r.jsxs(z,{onClick:()=>window.location.reload(),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):y.length>0?r.jsx("div",{className:"space-y-4",children:y.map(p=>{var w;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg hover:bg-gray-700/70 transition-colors max-w-full overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${p.type==="deposit"?"bg-green-600/20 text-green-400":p.type==="withdraw"||p.type==="withdrawal"?"bg-red-600/20 text-red-400":p.type==="trade"||p.type==="trade_win"?"bg-green-600/20 text-green-400":p.type==="trade_loss"?"bg-red-600/20 text-red-400":"bg-blue-600/20 text-blue-400"}`,children:g(p.type)}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-white capitalize",children:p.type}),r.jsx(Tt,{className:v(p.status),children:p.status})]}),r.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[r.jsx(ZS,{className:"h-3 w-3"}),new Date(p.created_at).toLocaleString()]}),p.description&&!p.description.includes("ADMIN")&&r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-full",children:p.description}),((w=p.users)==null?void 0:w.username)&&r.jsxs("div",{className:"text-xs text-gray-500 truncate max-w-full",children:["User: ",p.users.username.startsWith("0x")&&p.users.username.length>20?`${p.users.username.slice(0,6)}...${p.users.username.slice(-4)}`:p.users.username]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`font-medium text-lg ${b(p.type)}`,children:(()=>{const j=parseFloat(p.amount||"0");return`${j>0?"+":""}$${Math.abs(j).toFixed(2)}`})()}),r.jsx("div",{className:"text-sm text-gray-400",children:p.symbol||"USDT"}),(p.type==="trade"||p.type==="trade_win"||p.type==="trade_loss")&&r.jsx("div",{className:`text-sm font-medium ${parseFloat(p.amount||"0")>0?"text-green-400":"text-red-400"}`,children:(()=>{const j=parseFloat(p.amount||"0");return`P&L: ${j>0?"+":""}$${Math.abs(j).toFixed(2)}`})()}),p.old_balance!==void 0&&p.new_balance!==void 0&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: $",p.old_balance," → $",p.new_balance]})]})]},p.id)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ab,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No transactions found"}),r.jsx("p",{className:"text-gray-400 mb-6",children:e||n!=="all"||a!=="all"?"Try adjusting your filters to see more results":"Your transaction history will appear here once you start trading"}),r.jsx(z,{onClick:()=>{s(""),i("all"),o("all"),c("all")},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Clear Filters"})]})})]})]})})}const lk=f.forwardRef(({className:t,...e},s)=>r.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));lk.displayName="Textarea";function K8(){const[t,e]=f.useState(null),[s,n]=f.useState(""),{toast:i}=gr(),a=Mr(),{data:o,isLoading:l}=Zt({queryKey:["/api/admin/transactions/pending"],refetchInterval:3e4}),c=ys({mutationFn:async({id:m,action:x,reason:y})=>{const g=await fetch(`/api/admin/transactions/${m}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:x,reason:y})});if(!g.ok){const v=await g.json();throw new Error(v.message||"Action failed")}return g.json()},onSuccess:(m,x)=>{i({title:x.action==="approve"?"Transaction Approved":"Transaction Rejected",description:`Transaction has been ${x.action}d successfully`}),a.invalidateQueries({queryKey:["/api/admin/transactions/pending"]}),e(null),n("")},onError:m=>{i({title:"Action Failed",description:m.message,variant:"destructive"})}}),d=m=>{switch(m){case"pending":return r.jsxs(Tt,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[r.jsx(ZS,{className:"w-3 h-3 mr-1"}),"Pending"]});case"completed":return r.jsxs(Tt,{variant:"outline",className:"text-green-600 border-green-600",children:[r.jsx(bn,{className:"w-3 h-3 mr-1"}),"Completed"]});case"failed":return r.jsxs(Tt,{variant:"outline",className:"text-red-600 border-red-600",children:[r.jsx(Ic,{className:"w-3 h-3 mr-1"}),"Failed"]});default:return r.jsx(Tt,{variant:"outline",children:m})}},u=m=>new Date(m).toLocaleString(),h=m=>{try{return m?JSON.parse(m):{}}catch{return{}}};return l?r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Transaction Management"}),r.jsx("div",{className:"text-center",children:"Loading..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Transaction Management"}),r.jsxs(Tt,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[(o==null?void 0:o.length)||0," Pending"]})]}),!o||o.length===0?r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsxs(je,{className:"p-8 text-center",children:[r.jsx(bn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Pending Transactions"}),r.jsx("p",{className:"text-gray-400",children:"All transactions have been processed."})]})}):r.jsx("div",{className:"space-y-4",children:o.map(m=>r.jsx(we,{className:"bg-gray-800 border-gray-700",children:r.jsx(je,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:[m.type.toUpperCase()," - ",m.amount," ",m.symbol]}),d(m.status),r.jsx(Tt,{variant:"secondary",children:m.method})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-400 mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"User ID:"}),r.jsx("br",{}),m.userId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("br",{}),u(m.createdAt)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Method:"}),r.jsx("br",{}),m.method]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"TX Hash:"}),r.jsx("br",{}),m.txHash?r.jsxs("span",{className:"font-mono text-xs break-all",children:[m.txHash.substring(0,20),"..."]}):"N/A"]})]}),h(m.metadata).transferReference&&r.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[r.jsx("span",{className:"font-medium text-sm",children:"Bank Transfer Reference:"}),r.jsx("br",{}),r.jsx("span",{className:"font-mono",children:h(m.metadata).transferReference})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsxs(Ao,{children:[r.jsx($w,{asChild:!0,children:r.jsxs(z,{variant:"outline",size:"sm",onClick:()=>e(m),children:[r.jsx(Xn,{className:"w-4 h-4 mr-1"}),"Details"]})}),r.jsxs(Ta,{className:"bg-gray-800 border-gray-700 max-w-2xl",children:[r.jsx(Ea,{children:r.jsx(ka,{className:"text-white",children:"Transaction Details"})}),r.jsx("div",{className:"space-y-4",children:r.jsx("pre",{className:"bg-gray-900 p-4 rounded text-sm overflow-auto",children:JSON.stringify(m,null,2)})})]})]}),r.jsxs(z,{onClick:()=>c.mutate({id:m.id,action:"approve"}),disabled:c.isPending,className:"bg-green-600 hover:bg-green-700",size:"sm",children:[r.jsx(bn,{className:"w-4 h-4 mr-1"}),"Approve"]}),r.jsxs(Ao,{children:[r.jsx($w,{asChild:!0,children:r.jsxs(z,{variant:"destructive",size:"sm",children:[r.jsx(Ic,{className:"w-4 h-4 mr-1"}),"Reject"]})}),r.jsxs(Ta,{className:"bg-gray-800 border-gray-700",children:[r.jsx(Ea,{children:r.jsx(ka,{className:"text-white",children:"Reject Transaction"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Rejection Reason"}),r.jsx(lk,{value:s,onChange:x=>n(x.target.value),placeholder:"Enter reason for rejection...",className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),r.jsx(z,{onClick:()=>c.mutate({id:m.id,action:"reject",reason:s}),disabled:c.isPending||!s,variant:"destructive",className:"w-full",children:c.isPending?"Processing...":"Confirm Rejection"})]})]})]})]})]})})},m.id))})]})})}function G8(){const{toast:t}=gr(),[e,s]=f.useState([]),[n,i]=f.useState(""),[a,o]=f.useState({}),[l,c]=f.useState(!1),[d,u]=f.useState("100"),[h,m]=f.useState("50"),[x,y]=f.useState("testpassword123"),[g,v]=f.useState("0x1234567890abcdef1234567890abcdef12345678");f.useEffect(()=>{b()},[]);const b=async()=>{try{const P=await fetch("/api/admin/users");if(P.ok){const F=await P.json();s(F),F.length>0&&!n&&i(F[0].id)}}catch(P){console.error("Error fetching users:",P)}},p=(P,F,M)=>{const O=`${new Date().toLocaleTimeString()} ${M?"✅":"❌"} ${F}`;o(V=>({...V,[P]:O})),t({title:M?"Test Passed":"Test Failed",description:`${P}: ${F}`,variant:M?"default":"destructive"})},w=async P=>{if(n)try{c(!0);const F=await fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,controlType:P})});if(F.ok){const M=await F.json();p(`Trading Mode ${P.toUpperCase()}`,M.message,!0),await b()}else{const M=await F.text();p(`Trading Mode ${P.toUpperCase()}`,`Failed: ${M}`,!1)}}catch(F){p(`Trading Mode ${P.toUpperCase()}`,`Error: ${F}`,!1)}finally{c(!1)}},j=async()=>{if(!(!n||!d))try{c(!0);const P=await fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,amount:Number(d),note:"Test deposit from SuperAdmin test page"})});if(P.ok){const F=await P.json();p("Deposit",F.message,!0),await b()}else{const F=await P.text();p("Deposit",`Failed: ${F}`,!1)}}catch(P){p("Deposit",`Error: ${P}`,!1)}finally{c(!1)}},S=async()=>{if(!(!n||!h))try{c(!0);const P=await fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,amount:Number(h),note:"Test withdrawal from SuperAdmin test page"})});if(P.ok){const F=await P.json();p("Withdrawal",F.message,!0),await b()}else{const F=await P.text();p("Withdrawal",`Failed: ${F}`,!1)}}catch(P){p("Withdrawal",`Error: ${P}`,!1)}finally{c(!1)}},T=async()=>{if(!(!n||!x))try{c(!0);const P=await fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,newPassword:x})});if(P.ok){const F=await P.json();p("Password Change",F.message,!0)}else{const F=await P.text();p("Password Change",`Failed: ${F}`,!1)}}catch(P){p("Password Change",`Error: ${P}`,!1)}finally{c(!1)}},E=async()=>{if(!(!n||!g))try{c(!0);const P=await fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,walletAddress:g})});if(P.ok){const F=await P.json();p("Wallet Update",F.message,!0),await b()}else{const F=await P.text();p("Wallet Update",`Failed: ${F}`,!1)}}catch(P){p("Wallet Update",`Error: ${P}`,!1)}finally{c(!1)}},_=async()=>{if(!n)return;const P=e.find(F=>F.id===n);if(P)try{c(!0);const F=await fetch(`/api/admin/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:P.username,email:P.email,balance:P.balance,role:P.role,status:"active",trading_mode:P.trading_mode})});if(F.ok)p("User Edit","User updated successfully",!0),await b();else{const M=await F.text();p("User Edit",`Failed: ${M}`,!1)}}catch(F){p("User Edit",`Error: ${F}`,!1)}finally{c(!1)}},I=async()=>{if(!n){t({title:"Error",description:"Please select a user first",variant:"destructive"});return}o({}),await w("win"),await new Promise(P=>setTimeout(P,1e3)),await w("lose"),await new Promise(P=>setTimeout(P,1e3)),await w("normal"),await new Promise(P=>setTimeout(P,1e3)),await j(),await new Promise(P=>setTimeout(P,1e3)),await S(),await new Promise(P=>setTimeout(P,1e3)),await T(),await new Promise(P=>setTimeout(P,1e3)),await E(),await new Promise(P=>setTimeout(P,1e3)),await _()},k=e.find(P=>P.id===n);return r.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"🧪 SuperAdmin Feature Test Page"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"👤 Select Test User"})}),r.jsxs(je,{children:[r.jsxs("select",{value:n,onChange:P=>i(P.target.value),className:"w-full p-2 bg-gray-700 text-white rounded border border-gray-600",children:[r.jsx("option",{value:"",children:"Select a user..."}),e.map(P=>r.jsxs("option",{value:P.id,children:[P.username," - $",P.balance," - ",P.trading_mode]},P.id))]}),k&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded",children:[r.jsxs("p",{className:"text-white",children:[r.jsx("strong",{children:"Username:"})," ",k.username]}),r.jsxs("p",{className:"text-white",children:[r.jsx("strong",{children:"Balance:"})," $",k.balance]}),r.jsxs("p",{className:"text-white",children:[r.jsx("strong",{children:"Trading Mode:"})," ",k.trading_mode]}),r.jsxs("p",{className:"text-white",children:[r.jsx("strong",{children:"Status:"})," ",k.status]}),r.jsxs("p",{className:"text-white",children:[r.jsx("strong",{children:"Wallet:"})," ",k.wallet_address||"Not set"]})]})]})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"🎛️ Test Parameters"})}),r.jsxs(je,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"Deposit Amount"}),r.jsx(Re,{value:d,onChange:P=>u(P.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"Withdrawal Amount"}),r.jsx(Re,{value:h,onChange:P=>m(P.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"New Password"}),r.jsx(Re,{value:x,onChange:P=>y(P.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"New Wallet Address"}),r.jsx(Re,{value:g,onChange:P=>v(P.target.value),className:"bg-gray-700 border-gray-600 text-white"})]})]})]})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700 mt-6",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"🧪 Individual Tests"})}),r.jsxs(je,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(z,{onClick:()=>w("win"),disabled:l,className:"bg-green-600 hover:bg-green-700",children:"🎯 Test WIN Mode"}),r.jsx(z,{onClick:()=>w("lose"),disabled:l,className:"bg-red-600 hover:bg-red-700",children:"🎯 Test LOSE Mode"}),r.jsx(z,{onClick:()=>w("normal"),disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:"🎯 Test NORMAL Mode"}),r.jsx(z,{onClick:j,disabled:l,className:"bg-green-600 hover:bg-green-700",children:"💰 Test Deposit"}),r.jsx(z,{onClick:S,disabled:l,className:"bg-red-600 hover:bg-red-700",children:"💸 Test Withdrawal"}),r.jsx(z,{onClick:T,disabled:l,className:"bg-purple-600 hover:bg-purple-700",children:"🔑 Test Password"}),r.jsx(z,{onClick:E,disabled:l,className:"bg-orange-600 hover:bg-orange-700",children:"👛 Test Wallet"}),r.jsx(z,{onClick:_,disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:"✏️ Test User Edit"})]}),r.jsx("div",{className:"mt-6",children:r.jsx(z,{onClick:I,disabled:l,className:"bg-purple-600 hover:bg-purple-700 w-full",children:"🚀 Run All Tests"})})]})]}),r.jsxs(we,{className:"bg-gray-800 border-gray-700 mt-6",children:[r.jsx(rt,{children:r.jsx(nt,{className:"text-white",children:"📊 Test Results"})}),r.jsx(je,{children:r.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Object.entries(a).map(([P,F])=>r.jsxs("div",{className:"p-2 bg-gray-700 rounded",children:[r.jsxs("strong",{className:"text-white",children:[P,":"]}),r.jsx("span",{className:"text-gray-300 ml-2",children:F})]},P)),Object.keys(a).length===0&&r.jsx("p",{className:"text-gray-400",children:'No tests run yet. Click individual test buttons or "Run All Tests".'})]})})]})]})})}function q8(){const{priceData:t,isLoading:e,error:s}=Sl(),{changeText:n,changeColor:i,isPositive:a}=Qx(),{high:o,low:l,volume:c}=Xx();return e?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white text-xl",children:"Loading price data..."})}):s?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-red-400 text-xl",children:["Error: ",s]})}):r.jsxs("div",{className:"min-h-screen bg-gray-900 p-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Price Synchronization Test"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price (from usePrice)"}),r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsx("div",{className:"text-sm mt-2",style:{color:i},children:n})]}),r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h High"}),r.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Low"}),r.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Volume"}),r.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," BTC"]})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-4 rounded-lg border border-gray-700 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Lightweight Chart (Binance Data)"}),r.jsx(qL,{symbol:"BTCUSDT",interval:"1m",height:500,containerId:"test_chart"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Order Book (Left Panel)"}),r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price:"}),r.jsxs("div",{className:"text-xl font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-red-400",children:["$",(t.price+100).toFixed(2)]}),r.jsx("span",{className:"text-gray-400",children:"0.5 BTC"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-red-400",children:["$",(t.price+50).toFixed(2)]}),r.jsx("span",{className:"text-gray-400",children:"1.2 BTC"})]}),r.jsxs("div",{className:"flex justify-between text-sm font-bold border-t border-b border-gray-700 py-2",children:[r.jsxs("span",{className:"text-white",children:["$",t==null?void 0:t.price.toFixed(2)]}),r.jsx("span",{className:"text-gray-400",children:"CURRENT"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-green-400",children:["$",(t.price-50).toFixed(2)]}),r.jsx("span",{className:"text-gray-400",children:"0.8 BTC"})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-green-400",children:["$",(t.price-100).toFixed(2)]}),r.jsx("span",{className:"text-gray-400",children:"1.5 BTC"})]})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Trading Panel (Right Panel)"}),r.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Entry Price:"}),r.jsxs("div",{className:"text-xl font-bold text-white mb-4",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"Amount (USDT)"}),r.jsx("input",{type:"number",className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",placeholder:"100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-400 text-sm",children:"Duration"}),r.jsxs("select",{className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",children:[r.jsx("option",{children:"30 seconds"}),r.jsx("option",{children:"60 seconds"})]})]}),r.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded font-bold",children:"BUY (UP)"}),r.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded font-bold",children:"SELL (DOWN)"})]})]}),r.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Stats Panel (Bottom Panel)"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"Current Price"}),r.jsxs("div",{className:"text-lg font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"24h Change"}),r.jsx("div",{className:"text-lg font-bold",style:{color:i},children:n})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"24h High"}),r.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-400 text-sm",children:"24h Low"}),r.jsxs("div",{className:"text-lg font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),r.jsxs("div",{className:"mt-8 bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info (Raw Data)"}),r.jsx("pre",{className:"text-gray-400 text-xs overflow-auto",children:JSON.stringify(t,null,2)})]}),r.jsxs("div",{className:"mt-8 bg-blue-900/20 border border-blue-700 p-6 rounded-lg",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:"✅ Test Instructions"}),r.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[r.jsx("li",{children:"1. Check that ALL price displays show the SAME number"}),r.jsx("li",{children:"2. Wait 2 seconds and verify all prices update TOGETHER"}),r.jsx("li",{children:"3. Compare chart overlay price with panel prices - should be IDENTICAL"}),r.jsx("li",{children:"4. Check browser console for price update logs"}),r.jsx("li",{children:"5. If all prices match, synchronization is working! ✅"})]})]})]})}function Q8(){return r.jsx(qx,{symbol:"BTCUSDT",updateInterval:2e3,children:r.jsx(q8,{})})}function X8(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(we,{className:"w-full max-w-md mx-4",children:r.jsxs(je,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(GM,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function uu({children:t}){const{user:e,isLoading:s}=ms(),[,n]=_r();return console.log("🔐 ProtectedAdminRoute - User:",e),console.log("🔐 ProtectedAdminRoute - isLoading:",s),f.useEffect(()=>{console.log("🔐 ProtectedAdminRoute useEffect - User:",e,"isLoading:",s),!s&&(!e||e.role!=="admin"&&e.role!=="super_admin"&&e.role!=="superadmin")&&(console.log("🔐 Redirecting to admin login - no valid admin user"),n("/admin/login"))},[e,s,n]),s?(console.log("🔐 ProtectedAdminRoute - Still loading..."),r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(e2,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Checking authentication..."})]})})):!e||e.role!=="admin"&&e.role!=="super_admin"&&e.role!=="superadmin"?(console.log("🔐 ProtectedAdminRoute - No valid admin user, returning null"),null):(console.log("🔐 ProtectedAdminRoute - Valid admin user, rendering children"),r.jsx(r.Fragment,{children:t}))}function sa({children:t}){const{user:e,isLoading:s}=ms(),[,n]=_r();return f.useEffect(()=>{!s&&!e&&n("/login")},[e,s,n]),s?r.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-white",children:"Loading..."})}):e?r.jsx(r.Fragment,{children:t}):null}function Y8(){return ms(),r.jsx(t6,{children:r.jsxs(h3,{children:[r.jsx($t,{path:"/",component:m6}),r.jsx($t,{path:"/dashboard",children:r.jsx(sa,{children:r.jsx(B8,{})})}),r.jsx($t,{path:"/profile",children:r.jsx(sa,{children:r.jsx(H8,{})})}),r.jsx($t,{path:"/market",component:f6}),r.jsx($t,{path:"/trading",children:r.jsx(sa,{children:r.jsx(UF,{})})}),r.jsx($t,{path:"/trade/spot",component:eF}),r.jsx($t,{path:"/trade/options",component:Iw}),r.jsx($t,{path:"/options",component:Iw}),r.jsx($t,{path:"/trade/:type?",children:r.jsx(sa,{children:r.jsx(g6,{})})}),r.jsx($t,{path:"/wallet/:tab?",children:r.jsx(sa,{children:r.jsx(N$,{})})}),r.jsx($t,{path:"/wallet/history",children:r.jsx(sa,{children:r.jsx(Pj,{})})}),r.jsx($t,{path:"/transactions",children:r.jsx(sa,{children:r.jsx(Pj,{})})}),r.jsx($t,{path:"/support",component:T$}),r.jsx($t,{path:"/test-price-sync",component:Q8}),r.jsx($t,{path:"/login",component:F8}),r.jsx($t,{path:"/signup",component:$8}),r.jsx($t,{path:"/admin/login",component:A8}),r.jsx($t,{path:"/admin/redirect",component:R8}),r.jsx($t,{path:"/admin",children:r.jsx(uu,{children:r.jsx(Zw,{})})}),r.jsx($t,{path:"/admin/dashboard",children:r.jsx(uu,{children:r.jsx(Zw,{})})}),r.jsx($t,{path:"/admin/transactions",children:r.jsx(uu,{children:r.jsx(K8,{})})}),r.jsx($t,{path:"/admin/test",children:r.jsx(uu,{children:r.jsx(G8,{})})}),r.jsx($t,{component:X8})]})})}function J8(){return r.jsx(I3,{client:X3,children:r.jsxs(AR,{children:[r.jsx(qD,{}),r.jsx(Y8,{})]})})}document.title="METACHROME - Advanced Crypto Trading Platform";Z1(document.getElementById("root")).render(r.jsx(J8,{}));
