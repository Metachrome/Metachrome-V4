var ov=t=>{throw TypeError(t)};var Cf=(t,e,s)=>e.has(t)||ov("Cannot "+s);var A=(t,e,s)=>(Cf(t,e,"read from private field"),s?s.call(t):e.get(t)),Me=(t,e,s)=>e.has(t)?ov("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),pe=(t,e,s,r)=>(Cf(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),Ve=(t,e,s)=>(Cf(t,e,"access private method"),s);var Jc=(t,e,s,r)=>({set _(i){pe(t,e,i,s)},get _(){return A(t,e,r)}});function Vk(t,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function M0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ij={exports:{}},jh={},aj={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),Wk=Symbol.for("react.portal"),Hk=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),qk=Symbol.for("react.profiler"),Gk=Symbol.for("react.provider"),Qk=Symbol.for("react.context"),Zk=Symbol.for("react.forward_ref"),Xk=Symbol.for("react.suspense"),Yk=Symbol.for("react.memo"),Jk=Symbol.for("react.lazy"),lv=Symbol.iterator;function eE(t){return t===null||typeof t!="object"?null:(t=lv&&t[lv]||t["@@iterator"],typeof t=="function"?t:null)}var oj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lj=Object.assign,cj={};function $o(t,e,s){this.props=t,this.context=e,this.refs=cj,this.updater=s||oj}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dj(){}dj.prototype=$o.prototype;function R0(t,e,s){this.props=t,this.context=e,this.refs=cj,this.updater=s||oj}var A0=R0.prototype=new dj;A0.constructor=R0;lj(A0,$o.prototype);A0.isPureReactComponent=!0;var cv=Array.isArray,uj=Object.prototype.hasOwnProperty,D0={current:null},hj={key:!0,ref:!0,__self:!0,__source:!0};function fj(t,e,s){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)uj.call(e,r)&&!hj.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Oc,type:t,key:a,ref:o,props:i,_owner:D0.current}}function tE(t,e){return{$$typeof:Oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function O0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oc}function sE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return e[s]})}var dv=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sE(""+t.key):e.toString(36)}function Hd(t,e,s,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Oc:case Wk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Tf(o,0):r,cv(i)?(s="",t!=null&&(s=t.replace(dv,"$&/")+"/"),Hd(i,e,s,"",function(d){return d})):i!=null&&(O0(i)&&(i=tE(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cv(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Tf(a,l);o+=Hd(a,e,s,c,i)}else if(c=eE(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Tf(a,l++),o+=Hd(a,e,s,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(t,e,s){if(t==null)return t;var r=[],i=0;return Hd(t,r,"","",function(a){return e.call(s,a,i++)}),r}function rE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vs={current:null},Kd={transition:null},nE={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:Kd,ReactCurrentOwner:D0};function mj(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:ed,forEach:function(t,e,s){ed(t,function(){e.apply(this,arguments)},s)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!O0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=$o;Ge.Fragment=Hk;Ge.Profiler=qk;Ge.PureComponent=R0;Ge.StrictMode=Kk;Ge.Suspense=Xk;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;Ge.act=mj;Ge.cloneElement=function(t,e,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lj({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=D0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)uj.call(e,c)&&!hj.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Oc,type:t.type,key:i,ref:a,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:Qk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gk,_context:t},t.Consumer=t};Ge.createElement=fj;Ge.createFactory=function(t){var e=fj.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:Zk,render:t}};Ge.isValidElement=O0;Ge.lazy=function(t){return{$$typeof:Jk,_payload:{_status:-1,_result:t},_init:rE}};Ge.memo=function(t,e){return{$$typeof:Yk,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Kd.transition;Kd.transition={};try{t()}finally{Kd.transition=e}};Ge.unstable_act=mj;Ge.useCallback=function(t,e){return vs.current.useCallback(t,e)};Ge.useContext=function(t){return vs.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return vs.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return vs.current.useEffect(t,e)};Ge.useId=function(){return vs.current.useId()};Ge.useImperativeHandle=function(t,e,s){return vs.current.useImperativeHandle(t,e,s)};Ge.useInsertionEffect=function(t,e){return vs.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return vs.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return vs.current.useMemo(t,e)};Ge.useReducer=function(t,e,s){return vs.current.useReducer(t,e,s)};Ge.useRef=function(t){return vs.current.useRef(t)};Ge.useState=function(t){return vs.current.useState(t)};Ge.useSyncExternalStore=function(t,e,s){return vs.current.useSyncExternalStore(t,e,s)};Ge.useTransition=function(){return vs.current.useTransition()};Ge.version="18.3.1";aj.exports=Ge;var p=aj.exports;const ue=M0(p),I0=Vk({__proto__:null,default:ue},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=p,aE=Symbol.for("react.element"),oE=Symbol.for("react.fragment"),lE=Object.prototype.hasOwnProperty,cE=iE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dE={key:!0,ref:!0,__self:!0,__source:!0};function pj(t,e,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lE.call(e,r)&&!dE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aE,type:t,key:a,ref:o,props:i,_owner:cE.current}}jh.Fragment=oE;jh.jsx=pj;jh.jsxs=pj;ij.exports=jh;var n=ij.exports,gj={exports:{}},Ks={},xj={exports:{}},vj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,B){var G=z.length;z.push(B);e:for(;0<G;){var J=G-1>>>1,Te=z[J];if(0<i(Te,B))z[J]=B,z[G]=Te,G=J;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],G=z.pop();if(G!==B){z[0]=G;e:for(var J=0,Te=z.length,me=Te>>>1;J<me;){var Oe=2*(J+1)-1,ae=z[Oe],_e=Oe+1,U=z[_e];if(0>i(ae,G))_e<Te&&0>i(U,ae)?(z[J]=U,z[_e]=G,J=_e):(z[J]=ae,z[Oe]=G,J=Oe);else if(_e<Te&&0>i(U,G))z[J]=U,z[_e]=G,J=_e;else break e}}return B}function i(z,B){var G=z.sortIndex-B.sortIndex;return G!==0?G:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,x=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var B=s(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=z)r(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=s(d)}}function j(z){if(m=!1,w(z),!y)if(s(c)!==null)y=!0,D(C);else{var B=s(d);B!==null&&X(j,B.startTime-z)}}function C(z,B){y=!1,m&&(m=!1,g(k),k=-1),x=!0;var G=f;try{for(w(B),h=s(c);h!==null&&(!(h.expirationTime>B)||z&&!_());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var Te=J(h.expirationTime<=B);B=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===s(c)&&r(c),w(B)}else r(c);h=s(c)}if(h!==null)var me=!0;else{var Oe=s(d);Oe!==null&&X(j,Oe.startTime-B),me=!1}return me}finally{h=null,f=G,x=!1}}var P=!1,E=null,k=-1,I=5,$=-1;function _(){return!(t.unstable_now()-$<I)}function R(){if(E!==null){var z=t.unstable_now();$=z;var B=!0;try{B=E(!0,z)}finally{B?W():(P=!1,E=null)}}else P=!1}var W;if(typeof v=="function")W=function(){v(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=R,W=function(){K.postMessage(null)}}else W=function(){b(R,0)};function D(z){E=z,P||(P=!0,W())}function X(z,B){k=b(function(){z(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,D(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var G=f;f=B;try{return z()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=f;f=z;try{return B()}finally{f=G}},t.unstable_scheduleCallback=function(z,B,G){var J=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=G+Te,z={id:u++,callback:B,priorityLevel:z,startTime:G,expirationTime:Te,sortIndex:-1},G>J?(z.sortIndex=G,e(d,z),s(c)===null&&z===s(d)&&(m?(g(k),k=-1):m=!0,X(j,G-J))):(z.sortIndex=Te,e(c,z),y||x||(y=!0,D(C))),z},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(z){var B=f;return function(){var G=f;f=B;try{return z.apply(this,arguments)}finally{f=G}}}})(vj);xj.exports=vj;var uE=xj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE=p,Hs=uE;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yj=new Set,$l={};function ma(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for($l[t]=e,t=0;t<e.length;t++)yj.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,fE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uv={},hv={};function mE(t){return Bm.call(hv,t)?!0:Bm.call(uv,t)?!1:fE.test(t)?hv[t]=!0:(uv[t]=!0,!1)}function pE(t,e,s,r){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gE(t,e,s,r){if(e===null||typeof e>"u"||pE(t,e,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ys(t,e,s,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new ys(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new ys(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new ys(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new ys(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new ys(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new ys(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new ys(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new ys(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new ys(t,5,!1,t.toLowerCase(),null,!1,!1)});var L0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(L0,F0);Xt[e]=new ys(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(L0,F0);Xt[e]=new ys(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(L0,F0);Xt[e]=new ys(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new ys(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new ys(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,s,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gE(e,s,i,r)&&(s=null),r||i===null?mE(e)&&(s===null?t.removeAttribute(e):t.setAttribute(e,""+s)):i.mustUseProperty?t[i.propertyName]=s===null?i.type===3?!1:"":s:(e=i.attributeName,r=i.attributeNamespace,s===null?t.removeAttribute(e):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?t.setAttributeNS(r,e,s):t.setAttribute(e,s))))}var _n=hE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),Ma=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),bj=Symbol.for("react.provider"),wj=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),B0=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),jj=Symbol.for("react.offscreen"),fv=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,kf;function hl(t){if(kf===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);kf=e&&e[1]||""}return`
`+kf+t}var Ef=!1;function _f(t,e){if(!t||Ef)return"";Ef=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ef=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?hl(t):""}function xE(t){switch(t.tag){case 5:return hl(t.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return t=_f(t.type,!1),t;case 11:return t=_f(t.type.render,!1),t;case 1:return t=_f(t.type,!0),t;default:return""}}function Km(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Ma:return"Portal";case Vm:return"Profiler";case U0:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wj:return(t.displayName||"Context")+".Consumer";case bj:return(t._context.displayName||"Context")+".Provider";case z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B0:return e=t.displayName||null,e!==null?e:Km(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return Km(t(e))}catch{}}return null}function vE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(e);case 8:return e===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yE(t){var e=Nj(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=yE(t))}function Sj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),r="";return t&&(r=Nj(t)?t.checked?"true":"false":t.value),t=r,t!==s?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qm(t,e){var s=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function mv(t,e){var s=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;s=ci(e.value!=null?e.value:s),t._wrapperState={initialChecked:r,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cj(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function Gm(t,e){Cj(t,e);var s=ci(e.value),r=e.type;if(s!=null)r==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,s):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pv(t,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,s||e===t.value||(t.value=e),t.defaultValue=e}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Qm(t,e,s){(e!=="number"||pu(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var fl=Array.isArray;function Ka(t,e,s,r){if(t=t.options,e){e={};for(var i=0;i<s.length;i++)e["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=e.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&r&&(t[s].defaultSelected=!0)}else{for(s=""+ci(s),e=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gv(t,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(ie(92));if(fl(s)){if(1<s.length)throw Error(ie(93));s=s[0]}e=s}e==null&&(e=""),s=e}t._wrapperState={initialValue:ci(s)}}function Tj(t,e){var s=ci(e.value),r=ci(e.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),e.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),r!=null&&(t.defaultValue=""+r)}function xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,Ej=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,s,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bE=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){bE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function _j(t,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function Pj(t,e){t=t.style;for(var s in e)if(e.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=_j(s,e[s],r);s==="float"&&(s="cssFloat"),r?t.setProperty(s,i):t[s]=i}}var wE=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ym(t,e){if(e){if(wE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function V0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,qa=null,Ga=null;function vv(t){if(t=Fc(t)){if(typeof tp!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=kh(e),tp(t.stateNode,t.type,e))}}function Mj(t){qa?Ga?Ga.push(t):Ga=[t]:qa=t}function Rj(){if(qa){var t=qa,e=Ga;if(Ga=qa=null,vv(t),e)for(t=0;t<e.length;t++)vv(e[t])}}function Aj(t,e){return t(e)}function Dj(){}var Pf=!1;function Oj(t,e,s){if(Pf)return t(e,s);Pf=!0;try{return Aj(t,e,s)}finally{Pf=!1,(qa!==null||Ga!==null)&&(Dj(),Rj())}}function zl(t,e){var s=t.stateNode;if(s===null)return null;var r=kh(s);if(r===null)return null;s=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(ie(231,e,typeof s));return s}var sp=!1;if(jn)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{sp=!1}function jE(t,e,s,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(s,d)}catch(u){this.onError(u)}}var jl=!1,gu=null,xu=!1,rp=null,NE={onError:function(t){jl=!0,gu=t}};function SE(t,e,s,r,i,a,o,l,c){jl=!1,gu=null,jE.apply(NE,arguments)}function CE(t,e,s,r,i,a,o,l,c){if(SE.apply(this,arguments),jl){if(jl){var d=gu;jl=!1,gu=null}else throw Error(ie(198));xu||(xu=!0,rp=d)}}function pa(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function Ij(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yv(t){if(pa(t)!==t)throw Error(ie(188))}function TE(t){var e=t.alternate;if(!e){if(e=pa(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var s=t,r=e;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return yv(i),t;if(a===r)return yv(i),e;a=a.sibling}throw Error(ie(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(s.alternate!==r)throw Error(ie(190))}if(s.tag!==3)throw Error(ie(188));return s.stateNode.current===s?t:e}function Lj(t){return t=TE(t),t!==null?Fj(t):null}function Fj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fj(t);if(e!==null)return e;t=t.sibling}return null}var $j=Hs.unstable_scheduleCallback,bv=Hs.unstable_cancelCallback,kE=Hs.unstable_shouldYield,EE=Hs.unstable_requestPaint,Tt=Hs.unstable_now,_E=Hs.unstable_getCurrentPriorityLevel,W0=Hs.unstable_ImmediatePriority,Uj=Hs.unstable_UserBlockingPriority,vu=Hs.unstable_NormalPriority,PE=Hs.unstable_LowPriority,zj=Hs.unstable_IdlePriority,Nh=null,Gr=null;function ME(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:DE,RE=Math.log,AE=Math.LN2;function DE(t){return t>>>=0,t===0?32:31-(RE(t)/AE|0)|0}var nd=64,id=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yu(t,e){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?r=ml(l):(a&=o,a!==0&&(r=ml(a)))}else o=s&~i,o!==0?r=ml(o):a!==0&&(r=ml(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=s&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)s=31-wr(e),i=1<<s,r|=t[s],e&=~i;return r}function OE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IE(t,e){for(var s=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-wr(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&r)&&(i[o]=OE(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function np(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bj(){var t=nd;return nd<<=1,!(nd&4194240)&&(nd=64),t}function Mf(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Ic(t,e,s){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=s}function LE(t,e){var s=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-wr(s),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,s&=~a}}function H0(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var r=31-wr(s),i=1<<r;i&e|t[r]&e&&(t[r]|=e),s&=~i}}var it=0;function Vj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wj,K0,Hj,Kj,qj,ip=!1,ad=[],Jn=null,ei=null,ti=null,Bl=new Map,Vl=new Map,Fn=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Jo(t,e,s,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Fc(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $E(t,e,s,r,i){switch(e){case"focusin":return Jn=Jo(Jn,t,e,s,r,i),!0;case"dragenter":return ei=Jo(ei,t,e,s,r,i),!0;case"mouseover":return ti=Jo(ti,t,e,s,r,i),!0;case"pointerover":var a=i.pointerId;return Bl.set(a,Jo(Bl.get(a)||null,t,e,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Vl.set(a,Jo(Vl.get(a)||null,t,e,s,r,i)),!0}return!1}function Gj(t){var e=Mi(t.target);if(e!==null){var s=pa(e);if(s!==null){if(e=s.tag,e===13){if(e=Ij(s),e!==null){t.blockedOn=e,qj(t.priority,function(){Hj(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);ep=r,s.target.dispatchEvent(r),ep=null}else return e=Fc(s),e!==null&&K0(e),t.blockedOn=s,!1;e.shift()}return!0}function jv(t,e,s){qd(t)&&s.delete(e)}function UE(){ip=!1,Jn!==null&&qd(Jn)&&(Jn=null),ei!==null&&qd(ei)&&(ei=null),ti!==null&&qd(ti)&&(ti=null),Bl.forEach(jv),Vl.forEach(jv)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,Hs.unstable_scheduleCallback(Hs.unstable_NormalPriority,UE)))}function Wl(t){function e(i){return el(i,t)}if(0<ad.length){el(ad[0],t);for(var s=1;s<ad.length;s++){var r=ad[s];r.blockedOn===t&&(r.blockedOn=null)}}for(Jn!==null&&el(Jn,t),ei!==null&&el(ei,t),ti!==null&&el(ti,t),Bl.forEach(e),Vl.forEach(e),s=0;s<Fn.length;s++)r=Fn[s],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fn.length&&(s=Fn[0],s.blockedOn===null);)Gj(s),s.blockedOn===null&&Fn.shift()}var Qa=_n.ReactCurrentBatchConfig,bu=!0;function zE(t,e,s,r){var i=it,a=Qa.transition;Qa.transition=null;try{it=1,q0(t,e,s,r)}finally{it=i,Qa.transition=a}}function BE(t,e,s,r){var i=it,a=Qa.transition;Qa.transition=null;try{it=4,q0(t,e,s,r)}finally{it=i,Qa.transition=a}}function q0(t,e,s,r){if(bu){var i=ap(t,e,s,r);if(i===null)zf(t,e,r,wu,s),wv(t,r);else if($E(i,t,e,s,r))r.stopPropagation();else if(wv(t,r),e&4&&-1<FE.indexOf(t)){for(;i!==null;){var a=Fc(i);if(a!==null&&Wj(a),a=ap(t,e,s,r),a===null&&zf(t,e,r,wu,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else zf(t,e,r,null,s)}}var wu=null;function ap(t,e,s,r){if(wu=null,t=V0(r),t=Mi(t),t!==null)if(e=pa(t),e===null)t=null;else if(s=e.tag,s===13){if(t=Ij(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wu=t,null}function Qj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_E()){case W0:return 1;case Uj:return 4;case vu:case PE:return 16;case zj:return 536870912;default:return 16}default:return 16}}var Zn=null,G0=null,Gd=null;function Zj(){if(Gd)return Gd;var t,e=G0,s=e.length,r,i="value"in Zn?Zn.value:Zn.textContent,a=i.length;for(t=0;t<s&&e[t]===i[t];t++);var o=s-t;for(r=1;r<=o&&e[s-r]===i[a-r];r++);return Gd=i.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function od(){return!0}function Nv(){return!1}function qs(t){function e(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(s=t[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?od:Nv,this.isPropagationStopped=Nv,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q0=qs(Uo),Lc=wt({},Uo,{view:0,detail:0}),VE=qs(Lc),Rf,Af,tl,Sh=wt({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(Rf=t.screenX-tl.screenX,Af=t.screenY-tl.screenY):Af=Rf=0,tl=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),Sv=qs(Sh),WE=wt({},Sh,{dataTransfer:0}),HE=qs(WE),KE=wt({},Lc,{relatedTarget:0}),Df=qs(KE),qE=wt({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),GE=qs(qE),QE=wt({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZE=qs(QE),XE=wt({},Uo,{data:0}),Cv=qs(XE),YE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e_[t])?!!e[t]:!1}function Z0(){return t_}var s_=wt({},Lc,{key:function(t){if(t.key){var e=YE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r_=qs(s_),n_=wt({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=qs(n_),i_=wt({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),a_=qs(i_),o_=wt({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=qs(o_),c_=wt({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d_=qs(c_),u_=[9,13,27,32],X0=jn&&"CompositionEvent"in window,Nl=null;jn&&"documentMode"in document&&(Nl=document.documentMode);var h_=jn&&"TextEvent"in window&&!Nl,Xj=jn&&(!X0||Nl&&8<Nl&&11>=Nl),kv=" ",Ev=!1;function Yj(t,e){switch(t){case"keyup":return u_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function f_(t,e){switch(t){case"compositionend":return Jj(e);case"keypress":return e.which!==32?null:(Ev=!0,kv);case"textInput":return t=e.data,t===kv&&Ev?null:t;default:return null}}function m_(t,e){if(Aa)return t==="compositionend"||!X0&&Yj(t,e)?(t=Zj(),Gd=G0=Zn=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xj&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p_[t.type]:e==="textarea"}function e1(t,e,s,r){Mj(r),e=ju(e,"onChange"),0<e.length&&(s=new Q0("onChange","change",null,s,r),t.push({event:s,listeners:e}))}var Sl=null,Hl=null;function g_(t){u1(t,0)}function Ch(t){var e=Ia(t);if(Sj(e))return t}function x_(t,e){if(t==="change")return e}var t1=!1;if(jn){var Of;if(jn){var If="oninput"in document;if(!If){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),If=typeof Pv.oninput=="function"}Of=If}else Of=!1;t1=Of&&(!document.documentMode||9<document.documentMode)}function Mv(){Sl&&(Sl.detachEvent("onpropertychange",s1),Hl=Sl=null)}function s1(t){if(t.propertyName==="value"&&Ch(Hl)){var e=[];e1(e,Hl,t,V0(t)),Oj(g_,e)}}function v_(t,e,s){t==="focusin"?(Mv(),Sl=e,Hl=s,Sl.attachEvent("onpropertychange",s1)):t==="focusout"&&Mv()}function y_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ch(Hl)}function b_(t,e){if(t==="click")return Ch(e)}function w_(t,e){if(t==="input"||t==="change")return Ch(e)}function j_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cr=typeof Object.is=="function"?Object.is:j_;function Kl(t,e){if(Cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!Bm.call(e,i)||!Cr(t[i],e[i]))return!1}return!0}function Rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Av(t,e){var s=Rv(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=e&&r>=e)return{node:s,offset:e-t};t=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rv(s)}}function r1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function n1(){for(var t=window,e=pu();e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=pu(t.document)}return e}function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N_(t){var e=n1(),s=t.focusedElem,r=t.selectionRange;if(e!==s&&s&&s.ownerDocument&&r1(s.ownerDocument.documentElement,s)){if(r!==null&&Y0(s)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(t,s.value.length);else if(t=(e=s.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Av(s,a);var o=Av(s,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=s;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)t=e[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S_=jn&&"documentMode"in document&&11>=document.documentMode,Da=null,op=null,Cl=null,lp=!1;function Dv(t,e,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lp||Da==null||Da!==pu(r)||(r=Da,"selectionStart"in r&&Y0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Kl(Cl,r)||(Cl=r,r=ju(op,"onSelect"),0<r.length&&(e=new Q0("onSelect","select",null,e,s),t.push({event:e,listeners:r}),e.target=Da)))}function ld(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var Oa={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},Lf={},i1={};jn&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Th(t){if(Lf[t])return Lf[t];if(!Oa[t])return t;var e=Oa[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in i1)return Lf[t]=e[s];return t}var a1=Th("animationend"),o1=Th("animationiteration"),l1=Th("animationstart"),c1=Th("transitionend"),d1=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){d1.set(t,e),ma(e,[t])}for(var Ff=0;Ff<Ov.length;Ff++){var $f=Ov[Ff],C_=$f.toLowerCase(),T_=$f[0].toUpperCase()+$f.slice(1);wi(C_,"on"+T_)}wi(a1,"onAnimationEnd");wi(o1,"onAnimationIteration");wi(l1,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(c1,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Iv(t,e,s){var r=t.type||"unknown-event";t.currentTarget=s,CE(r,e,void 0,t),t.currentTarget=null}function u1(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Iv(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Iv(i,l,d),a=c}}}if(xu)throw t=rp,xu=!1,rp=null,t}function ct(t,e){var s=e[fp];s===void 0&&(s=e[fp]=new Set);var r=t+"__bubble";s.has(r)||(h1(e,t,2,!1),s.add(r))}function Uf(t,e,s){var r=0;e&&(r|=4),h1(s,t,r,e)}var cd="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[cd]){t[cd]=!0,yj.forEach(function(s){s!=="selectionchange"&&(k_.has(s)||Uf(s,!1,t),Uf(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cd]||(e[cd]=!0,Uf("selectionchange",!1,e))}}function h1(t,e,s,r){switch(Qj(e)){case 1:var i=zE;break;case 4:i=BE;break;default:i=q0}s=i.bind(null,e,s,t),i=void 0,!sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,s,{capture:!0,passive:i}):t.addEventListener(e,s,!0):i!==void 0?t.addEventListener(e,s,{passive:i}):t.addEventListener(e,s,!1)}function zf(t,e,s,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Mi(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Oj(function(){var d=a,u=V0(s),h=[];e:{var f=d1.get(t);if(f!==void 0){var x=Q0,y=t;switch(t){case"keypress":if(Qd(s)===0)break e;case"keydown":case"keyup":x=r_;break;case"focusin":y="focus",x=Df;break;case"focusout":y="blur",x=Df;break;case"beforeblur":case"afterblur":x=Df;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=HE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=a_;break;case a1:case o1:case l1:x=GE;break;case c1:x=l_;break;case"scroll":x=VE;break;case"wheel":x=d_;break;case"copy":case"cut":case"paste":x=ZE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Tv}var m=(e&4)!==0,b=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=zl(v,g),j!=null&&m.push(Gl(v,j,w)))),b)break;v=v.return}0<m.length&&(f=new x(f,y,null,s,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&s!==ep&&(y=s.relatedTarget||s.fromElement)&&(Mi(y)||y[Nn]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(y=s.relatedTarget||s.toElement,x=d,y=y?Mi(y):null,y!==null&&(b=pa(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=d),x!==y)){if(m=Sv,j="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Tv,j="onPointerLeave",g="onPointerEnter",v="pointer"),b=x==null?f:Ia(x),w=y==null?f:Ia(y),f=new m(j,v+"leave",x,s,u),f.target=b,f.relatedTarget=w,j=null,Mi(u)===d&&(m=new m(g,v+"enter",y,s,u),m.target=w,m.relatedTarget=b,j=m),b=j,x&&y)t:{for(m=x,g=y,v=0,w=m;w;w=wa(w))v++;for(w=0,j=g;j;j=wa(j))w++;for(;0<v-w;)m=wa(m),v--;for(;0<w-v;)g=wa(g),w--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=wa(m),g=wa(g)}m=null}else m=null;x!==null&&Lv(h,f,x,m,!1),y!==null&&b!==null&&Lv(h,b,y,m,!0)}}e:{if(f=d?Ia(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var C=x_;else if(_v(f))if(t1)C=w_;else{C=y_;var P=v_}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=b_);if(C&&(C=C(t,d))){e1(h,C,s,u);break e}P&&P(t,f,d),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(P=d?Ia(d):window,t){case"focusin":(_v(P)||P.contentEditable==="true")&&(Da=P,op=d,Cl=null);break;case"focusout":Cl=op=Da=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,Dv(h,s,u);break;case"selectionchange":if(S_)break;case"keydown":case"keyup":Dv(h,s,u)}var E;if(X0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Aa?Yj(t,s)&&(k="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(Xj&&s.locale!=="ko"&&(Aa||k!=="onCompositionStart"?k==="onCompositionEnd"&&Aa&&(E=Zj()):(Zn=u,G0="value"in Zn?Zn.value:Zn.textContent,Aa=!0)),P=ju(d,k),0<P.length&&(k=new Cv(k,t,null,s,u),h.push({event:k,listeners:P}),E?k.data=E:(E=Jj(s),E!==null&&(k.data=E)))),(E=h_?f_(t,s):m_(t,s))&&(d=ju(d,"onBeforeInput"),0<d.length&&(u=new Cv("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=E))}u1(h,e)})}function Gl(t,e,s){return{instance:t,listener:e,currentTarget:s}}function ju(t,e){for(var s=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zl(t,s),a!=null&&r.unshift(Gl(t,a,i)),a=zl(t,e),a!=null&&r.push(Gl(t,a,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lv(t,e,s,r,i){for(var a=e._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=zl(s,a),c!=null&&o.unshift(Gl(s,c,l))):i||(c=zl(s,a),c!=null&&o.push(Gl(s,c,l)))),s=s.return}o.length!==0&&t.push({event:e,listeners:o})}var E_=/\r\n?/g,__=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(E_,`
`).replace(__,"")}function dd(t,e,s){if(e=Fv(e),Fv(t)!==e&&s)throw Error(ie(425))}function Nu(){}var cp=null,dp=null;function up(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,P_=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(t){return $v.resolve(null).then(t).catch(R_)}:hp;function R_(t){setTimeout(function(){throw t})}function Bf(t,e){var s=e,r=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){t.removeChild(i),Wl(e);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);Wl(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Br="__reactFiber$"+zo,Ql="__reactProps$"+zo,Nn="__reactContainer$"+zo,fp="__reactEvents$"+zo,A_="__reactListeners$"+zo,D_="__reactHandles$"+zo;function Mi(t){var e=t[Br];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Nn]||s[Br]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=Uv(t);t!==null;){if(s=t[Br])return s;t=Uv(t)}return e}t=s,s=t.parentNode}return null}function Fc(t){return t=t[Br]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function kh(t){return t[Ql]||null}var mp=[],La=-1;function ji(t){return{current:t}}function ht(t){0>La||(t.current=mp[La],mp[La]=null,La--)}function ot(t,e){La++,mp[La]=t.current,t.current=e}var di={},ns=ji(di),Cs=ji(!1),Qi=di;function bo(t,e){var s=t.type.contextTypes;if(!s)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ts(t){return t=t.childContextTypes,t!=null}function Su(){ht(Cs),ht(ns)}function zv(t,e,s){if(ns.current!==di)throw Error(ie(168));ot(ns,e),ot(Cs,s)}function f1(t,e,s){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,vE(t)||"Unknown",i));return wt({},s,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,Qi=ns.current,ot(ns,t),ot(Cs,Cs.current),!0}function Bv(t,e,s){var r=t.stateNode;if(!r)throw Error(ie(169));s?(t=f1(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,ht(Cs),ht(ns),ot(ns,t)):ht(Cs),ot(Cs,s)}var dn=null,Eh=!1,Vf=!1;function m1(t){dn===null?dn=[t]:dn.push(t)}function O_(t){Eh=!0,m1(t)}function Ni(){if(!Vf&&dn!==null){Vf=!0;var t=0,e=it;try{var s=dn;for(it=1;t<s.length;t++){var r=s[t];do r=r(!0);while(r!==null)}dn=null,Eh=!1}catch(i){throw dn!==null&&(dn=dn.slice(t+1)),$j(W0,Ni),i}finally{it=e,Vf=!1}}return null}var Fa=[],$a=0,Tu=null,ku=0,er=[],tr=0,Zi=null,pn=1,gn="";function _i(t,e){Fa[$a++]=ku,Fa[$a++]=Tu,Tu=t,ku=e}function p1(t,e,s){er[tr++]=pn,er[tr++]=gn,er[tr++]=Zi,Zi=t;var r=pn;t=gn;var i=32-wr(r)-1;r&=~(1<<i),s+=1;var a=32-wr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pn=1<<32-wr(e)+i|s<<i|r,gn=a+t}else pn=1<<a|s<<i|r,gn=t}function J0(t){t.return!==null&&(_i(t,1),p1(t,1,0))}function eg(t){for(;t===Tu;)Tu=Fa[--$a],Fa[$a]=null,ku=Fa[--$a],Fa[$a]=null;for(;t===Zi;)Zi=er[--tr],er[tr]=null,gn=er[--tr],er[tr]=null,pn=er[--tr],er[tr]=null}var Bs=null,Us=null,ft=!1,gr=null;function g1(t,e){var s=sr(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=t,e=t.deletions,e===null?(t.deletions=[s],t.flags|=16):e.push(s)}function Vv(t,e){switch(t.tag){case 5:var s=t.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bs=t,Us=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bs=t,Us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=Zi!==null?{id:pn,overflow:gn}:null,t.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=sr(18,null,null,0),s.stateNode=e,s.return=t,t.child=s,Bs=t,Us=null,!0):!1;default:return!1}}function pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(ft){var e=Us;if(e){var s=e;if(!Vv(t,e)){if(pp(t))throw Error(ie(418));e=si(s.nextSibling);var r=Bs;e&&Vv(t,e)?g1(r,s):(t.flags=t.flags&-4097|2,ft=!1,Bs=t)}}else{if(pp(t))throw Error(ie(418));t.flags=t.flags&-4097|2,ft=!1,Bs=t}}}function Wv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bs=t}function ud(t){if(t!==Bs)return!1;if(!ft)return Wv(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!up(t.type,t.memoizedProps)),e&&(e=Us)){if(pp(t))throw x1(),Error(ie(418));for(;e;)g1(t,e),e=si(e.nextSibling)}if(Wv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(e===0){Us=si(t.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}t=t.nextSibling}Us=null}}else Us=Bs?si(t.stateNode.nextSibling):null;return!0}function x1(){for(var t=Us;t;)t=si(t.nextSibling)}function wo(){Us=Bs=null,ft=!1}function tg(t){gr===null?gr=[t]:gr.push(t)}var I_=_n.ReactCurrentBatchConfig;function sl(t,e,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ie(309));var r=s.stateNode}if(!r)throw Error(ie(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ie(284));if(!s._owner)throw Error(ie(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hv(t){var e=t._init;return e(t._payload)}function v1(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function s(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=ai(g,v),g.index=0,g.sibling=null,g}function a(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,v,w,j){return v===null||v.tag!==6?(v=Zf(w,g.mode,j),v.return=g,v):(v=i(v,w),v.return=g,v)}function c(g,v,w,j){var C=w.type;return C===Ra?u(g,v,w.props.children,j,w.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===In&&Hv(C)===v.type)?(j=i(v,w.props),j.ref=sl(g,v,w),j.return=g,j):(j=su(w.type,w.key,w.props,null,g.mode,j),j.ref=sl(g,v,w),j.return=g,j)}function d(g,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Xf(w,g.mode,j),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function u(g,v,w,j,C){return v===null||v.tag!==7?(v=Vi(w,g.mode,j,C),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zf(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case td:return w=su(v.type,v.key,v.props,null,g.mode,w),w.ref=sl(g,null,v),w.return=g,w;case Ma:return v=Xf(v,g.mode,w),v.return=g,v;case In:var j=v._init;return h(g,j(v._payload),w)}if(fl(v)||Xo(v))return v=Vi(v,g.mode,w,null),v.return=g,v;hd(g,v)}return null}function f(g,v,w,j){var C=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(g,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case td:return w.key===C?c(g,v,w,j):null;case Ma:return w.key===C?d(g,v,w,j):null;case In:return C=w._init,f(g,v,C(w._payload),j)}if(fl(w)||Xo(w))return C!==null?null:u(g,v,w,j,null);hd(g,w)}return null}function x(g,v,w,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,l(v,g,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case td:return g=g.get(j.key===null?w:j.key)||null,c(v,g,j,C);case Ma:return g=g.get(j.key===null?w:j.key)||null,d(v,g,j,C);case In:var P=j._init;return x(g,v,w,P(j._payload),C)}if(fl(j)||Xo(j))return g=g.get(w)||null,u(v,g,j,C,null);hd(v,j)}return null}function y(g,v,w,j){for(var C=null,P=null,E=v,k=v=0,I=null;E!==null&&k<w.length;k++){E.index>k?(I=E,E=null):I=E.sibling;var $=f(g,E,w[k],j);if($===null){E===null&&(E=I);break}t&&E&&$.alternate===null&&e(g,E),v=a($,v,k),P===null?C=$:P.sibling=$,P=$,E=I}if(k===w.length)return s(g,E),ft&&_i(g,k),C;if(E===null){for(;k<w.length;k++)E=h(g,w[k],j),E!==null&&(v=a(E,v,k),P===null?C=E:P.sibling=E,P=E);return ft&&_i(g,k),C}for(E=r(g,E);k<w.length;k++)I=x(E,g,k,w[k],j),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?k:I.key),v=a(I,v,k),P===null?C=I:P.sibling=I,P=I);return t&&E.forEach(function(_){return e(g,_)}),ft&&_i(g,k),C}function m(g,v,w,j){var C=Xo(w);if(typeof C!="function")throw Error(ie(150));if(w=C.call(w),w==null)throw Error(ie(151));for(var P=C=null,E=v,k=v=0,I=null,$=w.next();E!==null&&!$.done;k++,$=w.next()){E.index>k?(I=E,E=null):I=E.sibling;var _=f(g,E,$.value,j);if(_===null){E===null&&(E=I);break}t&&E&&_.alternate===null&&e(g,E),v=a(_,v,k),P===null?C=_:P.sibling=_,P=_,E=I}if($.done)return s(g,E),ft&&_i(g,k),C;if(E===null){for(;!$.done;k++,$=w.next())$=h(g,$.value,j),$!==null&&(v=a($,v,k),P===null?C=$:P.sibling=$,P=$);return ft&&_i(g,k),C}for(E=r(g,E);!$.done;k++,$=w.next())$=x(E,g,k,$.value,j),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?k:$.key),v=a($,v,k),P===null?C=$:P.sibling=$,P=$);return t&&E.forEach(function(R){return e(g,R)}),ft&&_i(g,k),C}function b(g,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case td:e:{for(var C=w.key,P=v;P!==null;){if(P.key===C){if(C=w.type,C===Ra){if(P.tag===7){s(g,P.sibling),v=i(P,w.props.children),v.return=g,g=v;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===In&&Hv(C)===P.type){s(g,P.sibling),v=i(P,w.props),v.ref=sl(g,P,w),v.return=g,g=v;break e}s(g,P);break}else e(g,P);P=P.sibling}w.type===Ra?(v=Vi(w.props.children,g.mode,j,w.key),v.return=g,g=v):(j=su(w.type,w.key,w.props,null,g.mode,j),j.ref=sl(g,v,w),j.return=g,g=j)}return o(g);case Ma:e:{for(P=w.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){s(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{s(g,v);break}else e(g,v);v=v.sibling}v=Xf(w,g.mode,j),v.return=g,g=v}return o(g);case In:return P=w._init,b(g,v,P(w._payload),j)}if(fl(w))return y(g,v,w,j);if(Xo(w))return m(g,v,w,j);hd(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(s(g,v.sibling),v=i(v,w),v.return=g,g=v):(s(g,v),v=Zf(w,g.mode,j),v.return=g,g=v),o(g)):s(g,v)}return b}var jo=v1(!0),y1=v1(!1),Eu=ji(null),_u=null,Ua=null,sg=null;function rg(){sg=Ua=_u=null}function ng(t){var e=Eu.current;ht(Eu),t._currentValue=e}function xp(t,e,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===s)break;t=t.return}}function Za(t,e){_u=t,sg=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ss=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(sg!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if(_u===null)throw Error(ie(308));Ua=t,_u.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var Ri=null;function ig(t){Ri===null?Ri=[t]:Ri.push(t)}function b1(t,e,s,r){var i=e.interleaved;return i===null?(s.next=s,ig(e)):(s.next=i.next,i.next=s),e.interleaved=s,Sn(t,r)}function Sn(t,e){t.lanes|=e;var s=t.alternate;for(s!==null&&(s.lanes|=e),s=t,t=t.return;t!==null;)t.childLanes|=e,s=t.alternate,s!==null&&(s.childLanes|=e),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ln=!1;function ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sn(t,s)}return i=r.interleaved,i===null?(e.next=e,ig(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sn(t,s)}function Zd(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,H0(t,s)}}function Kv(t,e){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=e:a=a.next=e}else i=a=e;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}function Pu(t,e,s,r){var i=t.updateQueue;Ln=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,x=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,m=l;switch(f=e,x=s,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=wt({},h,f);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Yi|=o,t.lanes=o,t.memoizedState=h}}function qv(t,e,s){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var $c={},Qr=ji($c),Zl=ji($c),Xl=ji($c);function Ai(t){if(t===$c)throw Error(ie(174));return t}function og(t,e){switch(ot(Xl,e),ot(Zl,t),ot(Qr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}ht(Qr),ot(Qr,e)}function No(){ht(Qr),ht(Zl),ht(Xl)}function j1(t){Ai(Xl.current);var e=Ai(Qr.current),s=Xm(e,t.type);e!==s&&(ot(Zl,t),ot(Qr,s))}function lg(t){Zl.current===t&&(ht(Qr),ht(Zl))}var yt=ji(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function cg(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var Xd=_n.ReactCurrentDispatcher,Hf=_n.ReactCurrentBatchConfig,Xi=0,bt=null,Ft=null,Bt=null,Ru=!1,Tl=!1,Yl=0,L_=0;function Jt(){throw Error(ie(321))}function dg(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!Cr(t[s],e[s]))return!1;return!0}function ug(t,e,s,r,i,a){if(Xi=a,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xd.current=t===null||t.memoizedState===null?z_:B_,t=s(r,i),Tl){a=0;do{if(Tl=!1,Yl=0,25<=a)throw Error(ie(301));a+=1,Bt=Ft=null,e.updateQueue=null,Xd.current=V_,t=s(r,i)}while(Tl)}if(Xd.current=Au,e=Ft!==null&&Ft.next!==null,Xi=0,Bt=Ft=bt=null,Ru=!1,e)throw Error(ie(300));return t}function hg(){var t=Yl!==0;return Yl=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?bt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function ar(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Bt===null?bt.memoizedState:Bt.next;if(e!==null)Bt=e,Ft=t;else{if(t===null)throw Error(ie(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Bt===null?bt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Jl(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=ar(),s=e.queue;if(s===null)throw Error(ie(311));s.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Xi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,bt.lanes|=u,Yi|=u}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Cr(r,e.memoizedState)||(Ss=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,s.lastRenderedState=r}if(t=s.interleaved,t!==null){i=t;do a=i.lane,bt.lanes|=a,Yi|=a,i=i.next;while(i!==t)}else i===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function qf(t){var e=ar(),s=e.queue;if(s===null)throw Error(ie(311));s.lastRenderedReducer=t;var r=s.dispatch,i=s.pending,a=e.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cr(a,e.memoizedState)||(Ss=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),s.lastRenderedState=a}return[a,r]}function N1(){}function S1(t,e){var s=bt,r=ar(),i=e(),a=!Cr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ss=!0),r=r.queue,fg(k1.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(s.flags|=2048,ec(9,T1.bind(null,s,r,i,e),void 0,null),Vt===null)throw Error(ie(349));Xi&30||C1(s,e,i)}return i}function C1(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function T1(t,e,s,r){e.value=s,e.getSnapshot=r,E1(e)&&_1(t)}function k1(t,e,s){return s(function(){E1(e)&&_1(t)})}function E1(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!Cr(t,s)}catch{return!0}}function _1(t){var e=Sn(t,1);e!==null&&jr(e,t,1,-1)}function Gv(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:t},e.queue=t,t=t.dispatch=U_.bind(null,bt,t),[e.memoizedState,t]}function ec(t,e,s,r){return t={tag:t,create:e,destroy:s,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(s=e.lastEffect,s===null?e.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,e.lastEffect=t)),t}function P1(){return ar().memoizedState}function Yd(t,e,s,r){var i=Ir();bt.flags|=t,i.memoizedState=ec(1|e,s,void 0,r===void 0?null:r)}function _h(t,e,s,r){var i=ar();r=r===void 0?null:r;var a=void 0;if(Ft!==null){var o=Ft.memoizedState;if(a=o.destroy,r!==null&&dg(r,o.deps)){i.memoizedState=ec(e,s,a,r);return}}bt.flags|=t,i.memoizedState=ec(1|e,s,a,r)}function Qv(t,e){return Yd(8390656,8,t,e)}function fg(t,e){return _h(2048,8,t,e)}function M1(t,e){return _h(4,2,t,e)}function R1(t,e){return _h(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D1(t,e,s){return s=s!=null?s.concat([t]):null,_h(4,4,A1.bind(null,e,t),s)}function mg(){}function O1(t,e){var s=ar();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(s.memoizedState=[t,e],t)}function I1(t,e){var s=ar();e=e===void 0?null:e;var r=s.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),s.memoizedState=[t,e],t)}function L1(t,e,s){return Xi&21?(Cr(s,e)||(s=Bj(),bt.lanes|=s,Yi|=s,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ss=!0),t.memoizedState=s)}function F_(t,e){var s=it;it=s!==0&&4>s?s:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{it=s,Hf.transition=r}}function F1(){return ar().memoizedState}function $_(t,e,s){var r=ii(t);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},$1(t))U1(e,s);else if(s=b1(t,e,s,r),s!==null){var i=ps();jr(s,t,r,i),z1(s,e,r)}}function U_(t,e,s){var r=ii(t),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if($1(t))U1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Cr(l,o)){var c=e.interleaved;c===null?(i.next=i,ig(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}s=b1(t,e,i,r),s!==null&&(i=ps(),jr(s,t,r,i),z1(s,e,r))}}function $1(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function U1(t,e){Tl=Ru=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function z1(t,e,s){if(s&4194240){var r=e.lanes;r&=t.pendingLanes,s|=r,e.lanes=s,H0(t,s)}}var Au={readContext:ir,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},z_={readContext:ir,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:Qv,useImperativeHandle:function(t,e,s){return s=s!=null?s.concat([t]):null,Yd(4194308,4,A1.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var s=Ir();return e=e===void 0?null:e,t=t(),s.memoizedState=[t,e],t},useReducer:function(t,e,s){var r=Ir();return e=s!==void 0?s(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$_.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:Gv,useDebugValue:mg,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=Gv(!1),e=t[0];return t=F_.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,s){var r=bt,i=Ir();if(ft){if(s===void 0)throw Error(ie(407));s=s()}else{if(s=e(),Vt===null)throw Error(ie(349));Xi&30||C1(r,e,s)}i.memoizedState=s;var a={value:s,getSnapshot:e};return i.queue=a,Qv(k1.bind(null,r,a,t),[t]),r.flags|=2048,ec(9,T1.bind(null,r,a,s,e),void 0,null),s},useId:function(){var t=Ir(),e=Vt.identifierPrefix;if(ft){var s=gn,r=pn;s=(r&~(1<<32-wr(r)-1)).toString(32)+s,e=":"+e+"R"+s,s=Yl++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=L_++,e=":"+e+"r"+s.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B_={readContext:ir,useCallback:O1,useContext:ir,useEffect:fg,useImperativeHandle:D1,useInsertionEffect:M1,useLayoutEffect:R1,useMemo:I1,useReducer:Kf,useRef:P1,useState:function(){return Kf(Jl)},useDebugValue:mg,useDeferredValue:function(t){var e=ar();return L1(e,Ft.memoizedState,t)},useTransition:function(){var t=Kf(Jl)[0],e=ar().memoizedState;return[t,e]},useMutableSource:N1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1},V_={readContext:ir,useCallback:O1,useContext:ir,useEffect:fg,useImperativeHandle:D1,useInsertionEffect:M1,useLayoutEffect:R1,useMemo:I1,useReducer:qf,useRef:P1,useState:function(){return qf(Jl)},useDebugValue:mg,useDeferredValue:function(t){var e=ar();return Ft===null?e.memoizedState=t:L1(e,Ft.memoizedState,t)},useTransition:function(){var t=qf(Jl)[0],e=ar().memoizedState;return[t,e]},useMutableSource:N1,useSyncExternalStore:S1,useId:F1,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var s in t)e[s]===void 0&&(e[s]=t[s]);return e}return e}function vp(t,e,s,r){e=t.memoizedState,s=s(r,e),s=s==null?e:wt({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ph={isMounted:function(t){return(t=t._reactInternals)?pa(t)===t:!1},enqueueSetState:function(t,e,s){t=t._reactInternals;var r=ps(),i=ii(t),a=bn(r,i);a.payload=e,s!=null&&(a.callback=s),e=ri(t,a,i),e!==null&&(jr(e,t,i,r),Zd(e,t,i))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var r=ps(),i=ii(t),a=bn(r,i);a.tag=1,a.payload=e,s!=null&&(a.callback=s),e=ri(t,a,i),e!==null&&(jr(e,t,i,r),Zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=ps(),r=ii(t),i=bn(s,r);i.tag=2,e!=null&&(i.callback=e),e=ri(t,i,r),e!==null&&(jr(e,t,r,s),Zd(e,t,r))}};function Zv(t,e,s,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(s,r)||!Kl(i,a):!0}function B1(t,e,s){var r=!1,i=di,a=e.contextType;return typeof a=="object"&&a!==null?a=ir(a):(i=Ts(e)?Qi:ns.current,r=e.contextTypes,a=(r=r!=null)?bo(t,i):di),e=new e(s,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Xv(t,e,s,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function yp(t,e,s,r){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},ag(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ir(a):(a=Ts(e)?Qi:ns.current,i.context=bo(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(vp(t,e,a,s),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Pu(t,s,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var s="",r=e;do s+=xE(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Gf(t,e,s){return{value:t,source:null,stack:s??null,digest:e??null}}function bp(t,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var W_=typeof WeakMap=="function"?WeakMap:Map;function V1(t,e,s){s=bn(-1,s),s.tag=3,s.payload={element:null};var r=e.value;return s.callback=function(){Ou||(Ou=!0,Pp=r),bp(t,e)},s}function W1(t,e,s){s=bn(-1,s),s.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;s.payload=function(){return r(i)},s.callback=function(){bp(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){bp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),s}function Yv(t,e,s){var r=t.pingCache;if(r===null){r=t.pingCache=new W_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(s)||(i.add(s),t=nP.bind(null,t,e,s),e.then(t,t))}function Jv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ey(t,e,s,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=bn(-1,1),e.tag=2,ri(s,e,1))),s.lanes|=1),t)}var H_=_n.ReactCurrentOwner,Ss=!1;function us(t,e,s,r){e.child=t===null?y1(e,null,s,r):jo(e,t.child,s,r)}function ty(t,e,s,r,i){s=s.render;var a=e.ref;return Za(e,i),r=ug(t,e,s,r,a,i),s=hg(),t!==null&&!Ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cn(t,e,i)):(ft&&s&&J0(e),e.flags|=1,us(t,e,r,i),e.child)}function sy(t,e,s,r,i){if(t===null){var a=s.type;return typeof a=="function"&&!jg(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=a,H1(t,e,a,r,i)):(t=su(s.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:Kl,s(o,r)&&t.ref===e.ref)return Cn(t,e,i)}return e.flags|=1,t=ai(a,r),t.ref=e.ref,t.return=e,e.child=t}function H1(t,e,s,r,i){if(t!==null){var a=t.memoizedProps;if(Kl(a,r)&&t.ref===e.ref)if(Ss=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Ss=!0);else return e.lanes=t.lanes,Cn(t,e,i)}return wp(t,e,s,r,i)}function K1(t,e,s){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ba,As),As|=s;else{if(!(s&1073741824))return t=a!==null?a.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Ba,As),As|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,ot(Ba,As),As|=r}else a!==null?(r=a.baseLanes|s,e.memoizedState=null):r=s,ot(Ba,As),As|=r;return us(t,e,i,s),e.child}function q1(t,e){var s=e.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function wp(t,e,s,r,i){var a=Ts(s)?Qi:ns.current;return a=bo(e,a),Za(e,i),s=ug(t,e,s,r,a,i),r=hg(),t!==null&&!Ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cn(t,e,i)):(ft&&r&&J0(e),e.flags|=1,us(t,e,s,i),e.child)}function ry(t,e,s,r,i){if(Ts(s)){var a=!0;Cu(e)}else a=!1;if(Za(e,i),e.stateNode===null)Jd(t,e),B1(e,s,r),yp(e,s,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=ir(d):(d=Ts(s)?Qi:ns.current,d=bo(e,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Xv(e,o,r,d),Ln=!1;var f=e.memoizedState;o.state=f,Pu(e,r,o,i),c=e.memoizedState,l!==r||f!==c||Cs.current||Ln?(typeof u=="function"&&(vp(e,s,u,r),c=e.memoizedState),(l=Ln||Zv(e,s,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,w1(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:hr(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=Ts(s)?Qi:ns.current,c=bo(e,c));var x=s.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Xv(e,o,r,c),Ln=!1,f=e.memoizedState,o.state=f,Pu(e,r,o,i);var y=e.memoizedState;l!==h||f!==y||Cs.current||Ln?(typeof x=="function"&&(vp(e,s,x,r),y=e.memoizedState),(d=Ln||Zv(e,s,d,r,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jp(t,e,s,r,a,i)}function jp(t,e,s,r,i,a){q1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bv(e,s,!1),Cn(t,e,a);r=e.stateNode,H_.current=e;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jo(e,t.child,null,a),e.child=jo(e,null,l,a)):us(t,e,l,a),e.memoizedState=r.state,i&&Bv(e,s,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),og(t,e.containerInfo)}function ny(t,e,s,r,i){return wo(),tg(i),e.flags|=256,us(t,e,s,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q1(t,e,s){var r=e.pendingProps,i=yt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ot(yt,i&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ah(o,r,0,null),t=Vi(t,r,s,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Sp(s),e.memoizedState=Np,t):pg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return K_(t,e,o,r,l,i,s);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ai(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ai(l,a):(a=Vi(a,o,s,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Sp(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~s,e.memoizedState=Np,r}return a=t.child,t=a.sibling,r=ai(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=s),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r}function pg(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,s,r){return r!==null&&tg(r),jo(e,t.child,null,s),t=pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K_(t,e,s,r,i,a,o){if(s)return e.flags&256?(e.flags&=-257,r=Gf(Error(ie(422))),fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ah({mode:"visible",children:r.children},i,0,null),a=Vi(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&jo(e,t.child,null,o),e.child.memoizedState=Sp(o),e.memoizedState=Np,a);if(!(e.mode&1))return fd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ie(419)),r=Gf(a,r,void 0),fd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ss||l){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Sn(t,i),jr(r,t,i,-1))}return wg(),r=Gf(Error(ie(421))),fd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iP.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Us=si(i.nextSibling),Bs=e,ft=!0,gr=null,t!==null&&(er[tr++]=pn,er[tr++]=gn,er[tr++]=Zi,pn=t.id,gn=t.overflow,Zi=e),e=pg(e,r.children),e.flags|=4096,e)}function iy(t,e,s){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xp(t.return,e,s)}function Qf(t,e,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function Z1(t,e,s){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(us(t,e,r.children,s),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iy(t,s,e);else if(t.tag===19)iy(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(s=e.child,i=null;s!==null;)t=s.alternate,t!==null&&Mu(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=e.child,e.child=null):(i=s.sibling,s.sibling=null),Qf(e,!1,i,s,a);break;case"backwards":for(s=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mu(t)===null){e.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}Qf(e,!0,s,null,a);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cn(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Yi|=e.lanes,!(s&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,s=ai(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=ai(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function q_(t,e,s){switch(e.tag){case 3:G1(e),wo();break;case 5:j1(e);break;case 1:Ts(e.type)&&Cu(e);break;case 4:og(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ot(Eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(yt,yt.current&1),e.flags|=128,null):s&e.child.childLanes?Q1(t,e,s):(ot(yt,yt.current&1),t=Cn(t,e,s),t!==null?t.sibling:null);ot(yt,yt.current&1);break;case 19:if(r=(s&e.childLanes)!==0,t.flags&128){if(r)return Z1(t,e,s);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,K1(t,e,s)}return Cn(t,e,s)}var X1,Cp,Y1,J1;X1=function(t,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Cp=function(){};Y1=function(t,e,s,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ai(Qr.current);var a=null;switch(s){case"input":i=qm(t,i),r=qm(t,r),a=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),a=[];break;case"textarea":i=Zm(t,i),r=Zm(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nu)}Ym(s,r);var o;s=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($l.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ct("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};J1=function(t,e,s,r){s!==r&&(e.flags|=4)};function rl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function es(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(e)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=s,e}function G_(t,e,s){var r=e.pendingProps;switch(eg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(e),null;case 1:return Ts(e.type)&&Su(),es(e),null;case 3:return r=e.stateNode,No(),ht(Cs),ht(ns),cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(Ap(gr),gr=null))),Cp(t,e),es(e),null;case 5:lg(e);var i=Ai(Xl.current);if(s=e.type,t!==null&&e.stateNode!=null)Y1(t,e,s,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return es(e),null}if(t=Ai(Qr.current),ud(e)){r=e.stateNode,s=e.type;var a=e.memoizedProps;switch(r[Br]=e,r[Ql]=a,t=(e.mode&1)!==0,s){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<pl.length;i++)ct(pl[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":mv(r,a),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ct("invalid",r);break;case"textarea":gv(r,a),ct("invalid",r)}Ym(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&dd(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&dd(r.textContent,l,t),i=["children",""+l]):$l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ct("scroll",r)}switch(s){case"input":sd(r),pv(r,a,!0);break;case"textarea":sd(r),xv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Nu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kj(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(s,{is:r.is}):(t=o.createElement(s),s==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,s),t[Br]=e,t[Ql]=r,X1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jm(s,r),s){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)ct(pl[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":mv(t,r),i=qm(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":gv(t,r),i=Zm(t,r),ct("invalid",t);break;default:i=r}Ym(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Pj(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ej(t,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Ul(t,c):typeof c=="number"&&Ul(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($l.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ct("scroll",t):c!=null&&$0(t,a,c,o))}switch(s){case"input":sd(t),pv(t,r,!1);break;case"textarea":sd(t),xv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ci(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ka(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nu)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return es(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(s=Ai(Xl.current),Ai(Qr.current),ud(e)){if(r=e.stateNode,s=e.memoizedProps,r[Br]=e,(a=r.nodeValue!==s)&&(t=Bs,t!==null))switch(t.tag){case 3:dd(r.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dd(r.nodeValue,s,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Br]=e,e.stateNode=r}return es(e),null;case 13:if(ht(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Us!==null&&e.mode&1&&!(e.flags&128))x1(),wo(),e.flags|=98560,a=!1;else if(a=ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ie(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ie(317));a[Br]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;es(e),a=!1}else gr!==null&&(Ap(gr),gr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ut===0&&(Ut=3):wg())),e.updateQueue!==null&&(e.flags|=4),es(e),null);case 4:return No(),Cp(t,e),t===null&&ql(e.stateNode.containerInfo),es(e),null;case 10:return ng(e.type._context),es(e),null;case 17:return Ts(e.type)&&Su(),es(e),null;case 19:if(ht(yt),a=e.memoizedState,a===null)return es(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)rl(a,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mu(t),o!==null){for(e.flags|=128,rl(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=s,s=e.child;s!==null;)a=s,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return ot(yt,yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Tt()>Co&&(e.flags|=128,r=!0,rl(a,!1),e.lanes=4194304)}else{if(!r)if(t=Mu(o),t!==null){if(e.flags|=128,r=!0,s=t.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),rl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ft)return es(e),null}else 2*Tt()-a.renderingStartTime>Co&&s!==1073741824&&(e.flags|=128,r=!0,rl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(s=a.last,s!==null?s.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tt(),e.sibling=null,s=yt.current,ot(yt,r?s&1|2:s&1),e):(es(e),null);case 22:case 23:return bg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?As&1073741824&&(es(e),e.subtreeFlags&6&&(e.flags|=8192)):es(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function Q_(t,e){switch(eg(e),e.tag){case 1:return Ts(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),ht(Cs),ht(ns),cg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lg(e),null;case 13:if(ht(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(yt),null;case 4:return No(),null;case 10:return ng(e.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var md=!1,rs=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,ye=null;function za(t,e){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){St(t,e,r)}else s.current=null}function Tp(t,e,s){try{s()}catch(r){St(t,e,r)}}var ay=!1;function X_(t,e){if(cp=bu,t=n1(),Y0(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var x;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===t)break t;if(f===s&&++d===i&&(l=o),f===a&&++u===r&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(dp={focusedElem:t,selectionRange:s},bu=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:hr(e.type,m),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(j){St(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return y=ay,ay=!1,y}function kl(t,e,s){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Tp(e,s,a)}i=i.next}while(i!==r)}}function Mh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&t)===t){var r=s.create;s.destroy=r()}s=s.next}while(s!==e)}}function kp(t){var e=t.ref;if(e!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof e=="function"?e(t):e.current=t}}function eN(t){var e=t.alternate;e!==null&&(t.alternate=null,eN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Br],delete e[Ql],delete e[fp],delete e[A_],delete e[D_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tN(t){return t.tag===5||t.tag===3||t.tag===4}function oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ep(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(t,e):s.insertBefore(t,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(t,s)):(e=s,e.appendChild(t)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Nu));else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,s),t=t.sibling;t!==null;)Ep(t,e,s),t=t.sibling}function _p(t,e,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,s),t=t.sibling;t!==null;)_p(t,e,s),t=t.sibling}var qt=null,mr=!1;function Pn(t,e,s){for(s=s.child;s!==null;)sN(t,e,s),s=s.sibling}function sN(t,e,s){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Nh,s)}catch{}switch(s.tag){case 5:rs||za(s,e);case 6:var r=qt,i=mr;qt=null,Pn(t,e,s),qt=r,mr=i,qt!==null&&(mr?(t=qt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):qt.removeChild(s.stateNode));break;case 18:qt!==null&&(mr?(t=qt,s=s.stateNode,t.nodeType===8?Bf(t.parentNode,s):t.nodeType===1&&Bf(t,s),Wl(t)):Bf(qt,s.stateNode));break;case 4:r=qt,i=mr,qt=s.stateNode.containerInfo,mr=!0,Pn(t,e,s),qt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Tp(s,e,o),i=i.next}while(i!==r)}Pn(t,e,s);break;case 1:if(!rs&&(za(s,e),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){St(s,e,l)}Pn(t,e,s);break;case 21:Pn(t,e,s);break;case 22:s.mode&1?(rs=(r=rs)||s.memoizedState!==null,Pn(t,e,s),rs=r):Pn(t,e,s);break;default:Pn(t,e,s)}}function ly(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Z_),e.forEach(function(r){var i=aP.bind(null,t,r);s.has(r)||(s.add(r),r.then(i,i))})}}function dr(t,e){var s=e.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,mr=!1;break e;case 3:qt=l.stateNode.containerInfo,mr=!0;break e;case 4:qt=l.stateNode.containerInfo,mr=!0;break e}l=l.return}if(qt===null)throw Error(ie(160));sN(a,o,i),qt=null,mr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){St(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rN(e,t),e=e.sibling}function rN(t,e){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dr(e,t),Dr(t),r&4){try{kl(3,t,t.return),Mh(3,t)}catch(m){St(t,t.return,m)}try{kl(5,t,t.return)}catch(m){St(t,t.return,m)}}break;case 1:dr(e,t),Dr(t),r&512&&s!==null&&za(s,s.return);break;case 5:if(dr(e,t),Dr(t),r&512&&s!==null&&za(s,s.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(m){St(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=s!==null?s.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Cj(i,a),Jm(l,o);var d=Jm(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Pj(i,h):u==="dangerouslySetInnerHTML"?Ej(i,h):u==="children"?Ul(i,h):$0(i,u,h,d)}switch(l){case"input":Gm(i,a);break;case"textarea":Tj(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Ka(i,!!a.multiple,x,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ka(i,!!a.multiple,a.defaultValue,!0):Ka(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ql]=a}catch(m){St(t,t.return,m)}}break;case 6:if(dr(e,t),Dr(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){St(t,t.return,m)}}break;case 3:if(dr(e,t),Dr(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(m){St(t,t.return,m)}break;case 4:dr(e,t),Dr(t);break;case 13:dr(e,t),Dr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(vg=Tt())),r&4&&ly(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(rs=(d=rs)||u,dr(e,t),rs=d):dr(e,t),Dr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(h=ye=u;ye!==null;){switch(f=ye,x=f.child,f.tag){case 0:case 11:case 14:case 15:kl(4,f,f.return);break;case 1:za(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,s=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){St(r,s,m)}}break;case 5:za(f,f.return);break;case 22:if(f.memoizedState!==null){dy(h);continue}}x!==null?(x.return=f,ye=x):dy(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=_j("display",o))}catch(m){St(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){St(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dr(e,t),Dr(t),r&4&&ly(t);break;case 21:break;default:dr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var s=t.return;s!==null;){if(tN(s)){var r=s;break e}s=s.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var a=oy(t);_p(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=oy(t);Ep(t,l,o);break;default:throw Error(ie(161))}}catch(c){St(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y_(t,e,s){ye=t,nN(t)}function nN(t,e,s){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||md;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||rs;l=md;var d=rs;if(md=o,(rs=c)&&!d)for(ye=i;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?uy(i):c!==null?(c.return=o,ye=c):uy(i);for(;a!==null;)ye=a,nN(a),a=a.sibling;ye=i,md=l,rs=d}cy(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ye=a):cy(t)}}function cy(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rs||Mh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rs)if(s===null)r.componentDidMount();else{var i=e.elementType===e.type?s.memoizedProps:hr(e.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&qv(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}qv(e,o,s)}break;case 5:var l=e.stateNode;if(s===null&&e.flags&4){s=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}rs||e.flags&512&&kp(e)}catch(f){St(e,e.return,f)}}if(e===t){ye=null;break}if(s=e.sibling,s!==null){s.return=e.return,ye=s;break}ye=e.return}}function dy(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ye=s;break}ye=e.return}}function uy(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Mh(4,e)}catch(c){St(e,s,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){St(e,i,c)}}var a=e.return;try{kp(e)}catch(c){St(e,a,c)}break;case 5:var o=e.return;try{kp(e)}catch(c){St(e,o,c)}}}catch(c){St(e,e.return,c)}if(e===t){ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ye=l;break}ye=e.return}}var J_=Math.ceil,Du=_n.ReactCurrentDispatcher,gg=_n.ReactCurrentOwner,rr=_n.ReactCurrentBatchConfig,et=0,Vt=null,Mt=null,Zt=0,As=0,Ba=ji(0),Ut=0,tc=null,Yi=0,Rh=0,xg=0,El=null,Ns=null,vg=0,Co=1/0,cn=null,Ou=!1,Pp=null,ni=null,pd=!1,Xn=null,Iu=0,_l=0,Mp=null,eu=-1,tu=0;function ps(){return et&6?Tt():eu!==-1?eu:eu=Tt()}function ii(t){return t.mode&1?et&2&&Zt!==0?Zt&-Zt:I_.transition!==null?(tu===0&&(tu=Bj()),tu):(t=it,t!==0||(t=window.event,t=t===void 0?16:Qj(t.type)),t):1}function jr(t,e,s,r){if(50<_l)throw _l=0,Mp=null,Error(ie(185));Ic(t,s,r),(!(et&2)||t!==Vt)&&(t===Vt&&(!(et&2)&&(Rh|=s),Ut===4&&$n(t,Zt)),ks(t,r),s===1&&et===0&&!(e.mode&1)&&(Co=Tt()+500,Eh&&Ni()))}function ks(t,e){var s=t.callbackNode;IE(t,e);var r=yu(t,t===Vt?Zt:0);if(r===0)s!==null&&bv(s),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(s!=null&&bv(s),e===1)t.tag===0?O_(hy.bind(null,t)):m1(hy.bind(null,t)),M_(function(){!(et&6)&&Ni()}),s=null;else{switch(Vj(r)){case 1:s=W0;break;case 4:s=Uj;break;case 16:s=vu;break;case 536870912:s=zj;break;default:s=vu}s=hN(s,iN.bind(null,t))}t.callbackPriority=e,t.callbackNode=s}}function iN(t,e){if(eu=-1,tu=0,et&6)throw Error(ie(327));var s=t.callbackNode;if(Xa()&&t.callbackNode!==s)return null;var r=yu(t,t===Vt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lu(t,r);else{e=r;var i=et;et|=2;var a=oN();(Vt!==t||Zt!==e)&&(cn=null,Co=Tt()+500,Bi(t,e));do try{sP();break}catch(l){aN(t,l)}while(!0);rg(),Du.current=a,et=i,Mt!==null?e=0:(Vt=null,Zt=0,e=Ut)}if(e!==0){if(e===2&&(i=np(t),i!==0&&(r=i,e=Rp(t,i))),e===1)throw s=tc,Bi(t,0),$n(t,r),ks(t,Tt()),s;if(e===6)$n(t,r);else{if(i=t.current.alternate,!(r&30)&&!eP(i)&&(e=Lu(t,r),e===2&&(a=np(t),a!==0&&(r=a,e=Rp(t,a))),e===1))throw s=tc,Bi(t,0),$n(t,r),ks(t,Tt()),s;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Pi(t,Ns,cn);break;case 3:if($n(t,r),(r&130023424)===r&&(e=vg+500-Tt(),10<e)){if(yu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ps(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hp(Pi.bind(null,t,Ns,cn),e);break}Pi(t,Ns,cn);break;case 4:if($n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J_(r/1960))-r,10<r){t.timeoutHandle=hp(Pi.bind(null,t,Ns,cn),r);break}Pi(t,Ns,cn);break;case 5:Pi(t,Ns,cn);break;default:throw Error(ie(329))}}}return ks(t,Tt()),t.callbackNode===s?iN.bind(null,t):null}function Rp(t,e){var s=El;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Lu(t,e),t!==2&&(e=Ns,Ns=s,e!==null&&Ap(e)),t}function Ap(t){Ns===null?Ns=t:Ns.push.apply(Ns,t)}function eP(t){for(var e=t;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Cr(a(),i))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $n(t,e){for(e&=~xg,e&=~Rh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var s=31-wr(e),r=1<<s;t[s]=-1,e&=~r}}function hy(t){if(et&6)throw Error(ie(327));Xa();var e=yu(t,0);if(!(e&1))return ks(t,Tt()),null;var s=Lu(t,e);if(t.tag!==0&&s===2){var r=np(t);r!==0&&(e=r,s=Rp(t,r))}if(s===1)throw s=tc,Bi(t,0),$n(t,e),ks(t,Tt()),s;if(s===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pi(t,Ns,cn),ks(t,Tt()),null}function yg(t,e){var s=et;et|=1;try{return t(e)}finally{et=s,et===0&&(Co=Tt()+500,Eh&&Ni())}}function Ji(t){Xn!==null&&Xn.tag===0&&!(et&6)&&Xa();var e=et;et|=1;var s=rr.transition,r=it;try{if(rr.transition=null,it=1,t)return t()}finally{it=r,rr.transition=s,et=e,!(et&6)&&Ni()}}function bg(){As=Ba.current,ht(Ba)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,P_(s)),Mt!==null)for(s=Mt.return;s!==null;){var r=s;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:No(),ht(Cs),ht(ns),cg();break;case 5:lg(r);break;case 4:No();break;case 13:ht(yt);break;case 19:ht(yt);break;case 10:ng(r.type._context);break;case 22:case 23:bg()}s=s.return}if(Vt=t,Mt=t=ai(t.current,null),Zt=As=e,Ut=0,tc=null,xg=Rh=Yi=0,Ns=El=null,Ri!==null){for(e=0;e<Ri.length;e++)if(s=Ri[e],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}Ri=null}return t}function aN(t,e){do{var s=Mt;try{if(rg(),Xd.current=Au,Ru){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ru=!1}if(Xi=0,Bt=Ft=bt=null,Tl=!1,Yl=0,gg.current=null,s===null||s.return===null){Ut=1,tc=e,Mt=null;break}e:{var a=t,o=s.return,l=s,c=e;if(e=Zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Jv(o);if(x!==null){x.flags&=-257,ey(x,o,l,a,e),x.mode&1&&Yv(a,d,e),e=x,c=d;var y=e.updateQueue;if(y===null){var m=new Set;m.add(c),e.updateQueue=m}else y.add(c);break e}else{if(!(e&1)){Yv(a,d,e),wg();break e}c=Error(ie(426))}}else if(ft&&l.mode&1){var b=Jv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ey(b,o,l,a,e),tg(So(c,l));break e}}a=c=So(c,l),Ut!==4&&(Ut=2),El===null?El=[a]:El.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=V1(a,c,e);Kv(a,g);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ni===null||!ni.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=W1(a,l,e);Kv(a,j);break e}}a=a.return}while(a!==null)}cN(s)}catch(C){e=C,Mt===s&&s!==null&&(Mt=s=s.return);continue}break}while(!0)}function oN(){var t=Du.current;return Du.current=Au,t===null?Au:t}function wg(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Vt===null||!(Yi&268435455)&&!(Rh&268435455)||$n(Vt,Zt)}function Lu(t,e){var s=et;et|=2;var r=oN();(Vt!==t||Zt!==e)&&(cn=null,Bi(t,e));do try{tP();break}catch(i){aN(t,i)}while(!0);if(rg(),et=s,Du.current=r,Mt!==null)throw Error(ie(261));return Vt=null,Zt=0,Ut}function tP(){for(;Mt!==null;)lN(Mt)}function sP(){for(;Mt!==null&&!kE();)lN(Mt)}function lN(t){var e=uN(t.alternate,t,As);t.memoizedProps=t.pendingProps,e===null?cN(t):Mt=e,gg.current=null}function cN(t){var e=t;do{var s=e.alternate;if(t=e.return,e.flags&32768){if(s=Q_(s,e),s!==null){s.flags&=32767,Mt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Mt=null;return}}else if(s=G_(s,e,As),s!==null){Mt=s;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Pi(t,e,s){var r=it,i=rr.transition;try{rr.transition=null,it=1,rP(t,e,s,r)}finally{rr.transition=i,it=r}return null}function rP(t,e,s,r){do Xa();while(Xn!==null);if(et&6)throw Error(ie(327));s=t.finishedWork;var i=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var a=s.lanes|s.childLanes;if(LE(t,a),t===Vt&&(Mt=Vt=null,Zt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||pd||(pd=!0,hN(vu,function(){return Xa(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=rr.transition,rr.transition=null;var o=it;it=1;var l=et;et|=4,gg.current=null,X_(t,s),rN(s,t),N_(dp),bu=!!cp,dp=cp=null,t.current=s,Y_(s),EE(),et=l,it=o,rr.transition=a}else t.current=s;if(pd&&(pd=!1,Xn=t,Iu=i),a=t.pendingLanes,a===0&&(ni=null),ME(s.stateNode),ks(t,Tt()),e!==null)for(r=t.onRecoverableError,s=0;s<e.length;s++)i=e[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ou)throw Ou=!1,t=Pp,Pp=null,t;return Iu&1&&t.tag!==0&&Xa(),a=t.pendingLanes,a&1?t===Mp?_l++:(_l=0,Mp=t):_l=0,Ni(),null}function Xa(){if(Xn!==null){var t=Vj(Iu),e=rr.transition,s=it;try{if(rr.transition=null,it=16>t?16:t,Xn===null)var r=!1;else{if(t=Xn,Xn=null,Iu=0,et&6)throw Error(ie(331));var i=et;for(et|=4,ye=t.current;ye!==null;){var a=ye,o=a.child;if(ye.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ye=d;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:kl(8,u,a)}var h=u.child;if(h!==null)h.return=u,ye=h;else for(;ye!==null;){u=ye;var f=u.sibling,x=u.return;if(eN(u),u===d){ye=null;break}if(f!==null){f.return=x,ye=f;break}ye=x}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ye=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ye=o;else e:for(;ye!==null;){if(a=ye,a.flags&2048)switch(a.tag){case 0:case 11:case 15:kl(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ye=g;break e}ye=a.return}}var v=t.current;for(ye=v;ye!==null;){o=ye;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ye=w;else e:for(o=v;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mh(9,l)}}catch(C){St(l,l.return,C)}if(l===o){ye=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ye=j;break e}ye=l.return}}if(et=i,Ni(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{it=s,rr.transition=e}}return!1}function fy(t,e,s){e=So(s,e),e=V1(t,e,1),t=ri(t,e,1),e=ps(),t!==null&&(Ic(t,1,e),ks(t,e))}function St(t,e,s){if(t.tag===3)fy(t,t,s);else for(;e!==null;){if(e.tag===3){fy(e,t,s);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=So(s,t),t=W1(e,t,1),e=ri(e,t,1),t=ps(),e!==null&&(Ic(e,1,t),ks(e,t));break}}e=e.return}}function nP(t,e,s){var r=t.pingCache;r!==null&&r.delete(e),e=ps(),t.pingedLanes|=t.suspendedLanes&s,Vt===t&&(Zt&s)===s&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>Tt()-vg?Bi(t,0):xg|=s),ks(t,e)}function dN(t,e){e===0&&(t.mode&1?(e=id,id<<=1,!(id&130023424)&&(id=4194304)):e=1);var s=ps();t=Sn(t,e),t!==null&&(Ic(t,e,s),ks(t,s))}function iP(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),dN(t,s)}function aP(t,e){var s=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),dN(t,s)}var uN;uN=function(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cs.current)Ss=!0;else{if(!(t.lanes&s)&&!(e.flags&128))return Ss=!1,q_(t,e,s);Ss=!!(t.flags&131072)}else Ss=!1,ft&&e.flags&1048576&&p1(e,ku,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jd(t,e),t=e.pendingProps;var i=bo(e,ns.current);Za(e,s),i=ug(null,e,r,t,i,s);var a=hg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ts(r)?(a=!0,Cu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ag(e),i.updater=Ph,e.stateNode=i,i._reactInternals=e,yp(e,r,t,s),e=jp(null,e,r,!0,a,s)):(e.tag=0,ft&&a&&J0(e),us(null,e,i,s),e=e.child),e;case 16:r=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lP(r),t=hr(r,t),i){case 0:e=wp(null,e,r,t,s);break e;case 1:e=ry(null,e,r,t,s);break e;case 11:e=ty(null,e,r,t,s);break e;case 14:e=sy(null,e,r,hr(r.type,t),s);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),wp(t,e,r,i,s);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),ry(t,e,r,i,s);case 3:e:{if(G1(e),t===null)throw Error(ie(387));r=e.pendingProps,a=e.memoizedState,i=a.element,w1(t,e),Pu(e,r,null,s);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=So(Error(ie(423)),e),e=ny(t,e,r,s,i);break e}else if(r!==i){i=So(Error(ie(424)),e),e=ny(t,e,r,s,i);break e}else for(Us=si(e.stateNode.containerInfo.firstChild),Bs=e,ft=!0,gr=null,s=y1(e,null,r,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wo(),r===i){e=Cn(t,e,s);break e}us(t,e,r,s)}e=e.child}return e;case 5:return j1(e),t===null&&gp(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,up(r,i)?o=null:a!==null&&up(r,a)&&(e.flags|=32),q1(t,e),us(t,e,o,s),e.child;case 6:return t===null&&gp(e),null;case 13:return Q1(t,e,s);case 4:return og(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jo(e,null,r,s):us(t,e,r,s),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),ty(t,e,r,i,s);case 7:return us(t,e,e.pendingProps,s),e.child;case 8:return us(t,e,e.pendingProps.children,s),e.child;case 12:return us(t,e,e.pendingProps.children,s),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,ot(Eu,r._currentValue),r._currentValue=o,a!==null)if(Cr(a.value,o)){if(a.children===i.children&&!Cs.current){e=Cn(t,e,s);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=bn(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),xp(a.return,s,e),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ie(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),xp(o,s,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}us(t,e,i.children,s),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Za(e,s),i=ir(i),r=r(i),e.flags|=1,us(t,e,r,s),e.child;case 14:return r=e.type,i=hr(r,e.pendingProps),i=hr(r.type,i),sy(t,e,r,i,s);case 15:return H1(t,e,e.type,e.pendingProps,s);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Jd(t,e),e.tag=1,Ts(r)?(t=!0,Cu(e)):t=!1,Za(e,s),B1(e,r,i),yp(e,r,i,s),jp(null,e,r,!0,t,s);case 19:return Z1(t,e,s);case 22:return K1(t,e,s)}throw Error(ie(156,e.tag))};function hN(t,e){return $j(t,e)}function oP(t,e,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,s,r){return new oP(t,e,s,r)}function jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lP(t){if(typeof t=="function")return jg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z0)return 11;if(t===B0)return 14}return 2}function ai(t,e){var s=t.alternate;return s===null?(s=sr(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function su(t,e,s,r,i,a){var o=2;if(r=t,typeof t=="function")jg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Vi(s.children,i,a,e);case U0:o=8,i|=8;break;case Vm:return t=sr(12,s,e,i|2),t.elementType=Vm,t.lanes=a,t;case Wm:return t=sr(13,s,e,i),t.elementType=Wm,t.lanes=a,t;case Hm:return t=sr(19,s,e,i),t.elementType=Hm,t.lanes=a,t;case jj:return Ah(s,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bj:o=10;break e;case wj:o=9;break e;case z0:o=11;break e;case B0:o=14;break e;case In:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=sr(o,s,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Vi(t,e,s,r){return t=sr(7,t,r,e),t.lanes=s,t}function Ah(t,e,s,r){return t=sr(22,t,r,e),t.elementType=jj,t.lanes=s,t.stateNode={isHidden:!1},t}function Zf(t,e,s){return t=sr(6,t,null,e),t.lanes=s,t}function Xf(t,e,s){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cP(t,e,s,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mf(0),this.expirationTimes=Mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ng(t,e,s,r,i,a,o,l,c){return t=new cP(t,e,s,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=sr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ag(a),t}function dP(t,e,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ma,key:r==null?null:""+r,children:t,containerInfo:e,implementation:s}}function fN(t){if(!t)return di;t=t._reactInternals;e:{if(pa(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var s=t.type;if(Ts(s))return f1(t,s,e)}return e}function mN(t,e,s,r,i,a,o,l,c){return t=Ng(s,r,!0,t,i,a,o,l,c),t.context=fN(null),s=t.current,r=ps(),i=ii(s),a=bn(r,i),a.callback=e??null,ri(s,a,i),t.current.lanes=i,Ic(t,i,r),ks(t,r),t}function Dh(t,e,s,r){var i=e.current,a=ps(),o=ii(i);return s=fN(s),e.context===null?e.context=s:e.pendingContext=s,e=bn(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(i,e,o),t!==null&&(jr(t,i,o,a),Zd(t,i,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function my(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function Sg(t,e){my(t,e),(t=t.alternate)&&my(t,e)}function uP(){return null}var pN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cg(t){this._internalRoot=t}Oh.prototype.render=Cg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Dh(t,e,null,null)};Oh.prototype.unmount=Cg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){Dh(null,t,null,null)}),e[Nn]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kj();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Fn.length&&e!==0&&e<Fn[s].priority;s++);Fn.splice(s,0,t),s===0&&Gj(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function py(){}function hP(t,e,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Fu(o);a.call(d)}}var o=mN(e,r,t,0,null,!1,!1,"",py);return t._reactRootContainer=o,t[Nn]=o.current,ql(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Fu(c);l.call(d)}}var c=Ng(t,0,!1,null,null,!1,!1,"",py);return t._reactRootContainer=c,t[Nn]=c.current,ql(t.nodeType===8?t.parentNode:t),Ji(function(){Dh(e,c,s,r)}),c}function Lh(t,e,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Fu(o);l.call(c)}}Dh(e,o,t,i)}else o=hP(s,e,t,i,r);return Fu(o)}Wj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var s=ml(e.pendingLanes);s!==0&&(H0(e,s|1),ks(e,Tt()),!(et&6)&&(Co=Tt()+500,Ni()))}break;case 13:Ji(function(){var r=Sn(t,1);if(r!==null){var i=ps();jr(r,t,1,i)}}),Sg(t,1)}};K0=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var s=ps();jr(e,t,134217728,s)}Sg(t,134217728)}};Hj=function(t){if(t.tag===13){var e=ii(t),s=Sn(t,e);if(s!==null){var r=ps();jr(s,t,e,r)}Sg(t,e)}};Kj=function(){return it};qj=function(t,e){var s=it;try{return it=t,e()}finally{it=s}};tp=function(t,e,s){switch(e){case"input":if(Gm(t,s),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var r=s[e];if(r!==t&&r.form===t.form){var i=kh(r);if(!i)throw Error(ie(90));Sj(r),Gm(r,i)}}}break;case"textarea":Tj(t,s);break;case"select":e=s.value,e!=null&&Ka(t,!!s.multiple,e,!1)}};Aj=yg;Dj=Ji;var fP={usingClientEntryPoint:!1,Events:[Fc,Ia,kh,Mj,Rj,yg]},nl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mP={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lj(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||uP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{Nh=gd.inject(mP),Gr=gd}catch{}}Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP;Ks.createPortal=function(t,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(ie(200));return dP(t,e,null,s)};Ks.createRoot=function(t,e){if(!Tg(t))throw Error(ie(299));var s=!1,r="",i=pN;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ng(t,1,!1,null,null,s,!1,r,i),t[Nn]=e.current,ql(t.nodeType===8?t.parentNode:t),new Cg(e)};Ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=Lj(e),t=t===null?null:t.stateNode,t};Ks.flushSync=function(t){return Ji(t)};Ks.hydrate=function(t,e,s){if(!Ih(e))throw Error(ie(200));return Lh(null,t,e,!0,s)};Ks.hydrateRoot=function(t,e,s){if(!Tg(t))throw Error(ie(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=pN;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),e=mN(e,null,t,1,s??null,i,!1,a,o),t[Nn]=e.current,ql(t),r)for(t=0;t<r.length;t++)s=r[t],i=s._getVersion,i=i(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,i]:e.mutableSourceEagerHydrationData.push(s,i);return new Oh(e)};Ks.render=function(t,e,s){if(!Ih(e))throw Error(ie(200));return Lh(null,t,e,!1,s)};Ks.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(ie(40));return t._reactRootContainer?(Ji(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Ks.unstable_batchedUpdates=yg;Ks.unstable_renderSubtreeIntoContainer=function(t,e,s,r){if(!Ih(s))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Lh(t,e,s,!1,r)};Ks.version="18.3.1-next-f1338f8080-20240426";function gN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gN)}catch(t){console.error(t)}}gN(),gj.exports=Ks;var ga=gj.exports;const pP=M0(ga);var xN,gy=ga;xN=gy.createRoot,gy.hydrateRoot;function gP(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var vN={exports:{}},yN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=p;function xP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vP=typeof Object.is=="function"?Object.is:xP,yP=To.useState,bP=To.useEffect,wP=To.useLayoutEffect,jP=To.useDebugValue;function NP(t,e){var s=e(),r=yP({inst:{value:s,getSnapshot:e}}),i=r[0].inst,a=r[1];return wP(function(){i.value=s,i.getSnapshot=e,Yf(i)&&a({inst:i})},[t,s,e]),bP(function(){return Yf(i)&&a({inst:i}),t(function(){Yf(i)&&a({inst:i})})},[t]),jP(s),s}function Yf(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!vP(t,s)}catch{return!0}}function SP(t,e){return e()}var CP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SP:NP;yN.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:CP;vN.exports=yN;var TP=vN.exports;const kP=I0.useInsertionEffect,EP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_P=EP?p.useLayoutEffect:p.useEffect,PP=kP||_P,bN=t=>{const e=p.useRef([t,(...s)=>e[0](...s)]).current;return PP(()=>{e[0]=t}),e[1]},MP="popstate",kg="pushState",Eg="replaceState",RP="hashchange",xy=[MP,kg,Eg,RP],AP=t=>{for(const e of xy)addEventListener(e,t);return()=>{for(const e of xy)removeEventListener(e,t)}},wN=(t,e)=>TP.useSyncExternalStore(AP,t,e),DP=()=>location.search,OP=({ssrSearch:t=""}={})=>wN(DP,()=>t),vy=()=>location.pathname,IP=({ssrPath:t}={})=>wN(vy,t?()=>t:vy),LP=(t,{replace:e=!1,state:s=null}={})=>history[e?Eg:kg](s,"",t),FP=(t={})=>[IP(t),LP],yy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yy]>"u"){for(const t of[kg,Eg]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,yy,{value:!0})}const $P=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",jN=(t="")=>t==="/"?"":t,UP=(t,e)=>t[0]==="~"?t.slice(1):jN(e)+t,zP=(t="",e)=>$P(by(jN(t)),by(e)),by=t=>{try{return decodeURI(t)}catch{return t}},NN={hook:FP,searchHook:OP,parser:gP,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},SN=p.createContext(NN),Uc=()=>p.useContext(SN),CN={},TN=p.createContext(CN),BP=()=>p.useContext(TN),Fh=t=>{const[e,s]=t.hook(t);return[zP(t.base,e),bN((r,i)=>s(UP(r,t.base),i))]},or=()=>Fh(Uc()),kN=(t,e,s,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},VP=({children:t,...e})=>{var u,h;const s=Uc(),r=e.hook?NN:s;let i=r;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let f in r){const x=f==="base"?r[f]+(e[f]||""):e[f]||r[f];c===d&&x!==d[f]&&(l.current=d={...d}),d[f]=x,x!==r[f]&&(i=d)}return p.createElement(SN.Provider,{value:i,children:t})},wy=({children:t,component:e},s)=>e?p.createElement(e,{params:s}):typeof t=="function"?t(s):t,WP=t=>{let e=p.useRef(CN),s=e.current;for(const r in t)t[r]!==s[r]&&(s=t);return Object.keys(t).length===0&&(s=t),e.current=s},pt=({path:t,nest:e,match:s,...r})=>{const i=Uc(),[a]=Fh(i),[o,l,c]=s??kN(i.parser,t,a,e),d=WP({...BP(),...l});if(!o)return null;const u=c?p.createElement(VP,{base:c},wy(r,d)):wy(r,d);return p.createElement(TN.Provider,{value:d,children:u})},Xe=p.forwardRef((t,e)=>{const s=Uc(),[r,i]=Fh(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...x}=t,y=bN(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),i(o,t)))}),m=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:y,href:m}):p.createElement("a",{...x,onClick:y,href:m,className:u!=null&&u.call?u(r===o):u,children:d,ref:e})}),EN=t=>Array.isArray(t)?t.flatMap(e=>EN(e&&e.type===p.Fragment?e.props.children:e)):[t],HP=({children:t,location:e})=>{const s=Uc(),[r]=Fh(s);for(const i of EN(t)){let a=0;if(p.isValidElement(i)&&(a=kN(s.parser,i.props.path,e||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var Bo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ea=typeof window>"u"||"Deno"in globalThis;function Ys(){}function KP(t,e){return typeof t=="function"?t(e):t}function Dp(t){return typeof t=="number"&&t>=0&&t!==1/0}function _N(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ya(t,e){return typeof t=="function"?t(e):t}function xr(t,e){return typeof t=="function"?t(e):t}function jy(t,e){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==_g(o,e.options))return!1}else if(!sc(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function Ny(t,e){const{exact:s,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(ta(e.options.mutationKey)!==ta(a))return!1}else if(!sc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _g(t,e){return((e==null?void 0:e.queryKeyHashFn)||ta)(t)}function ta(t){return JSON.stringify(t,(e,s)=>Op(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function sc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!sc(t[s],e[s])):!1}function PN(t,e){if(t===e)return t;const s=Sy(t)&&Sy(e);if(s||Op(t)&&Op(e)){const r=s?t:Object.keys(t),i=r.length,a=s?e:Object.keys(e),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const u=s?d:a[d];(!s&&r.includes(u)||s)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=PN(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function $u(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Op(t){if(!Cy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Cy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cy(t){return Object.prototype.toString.call(t)==="[object Object]"}function qP(t){return new Promise(e=>{setTimeout(e,t)})}function Ip(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?PN(t,e):e}function GP(t,e,s=0){const r=[...t,e];return s&&r.length>s?r.slice(1):r}function QP(t,e,s=0){const r=[e,...t];return s&&r.length>s?r.slice(0,-1):r}var Pg=Symbol();function MN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oi,zn,io,Qw,ZP=(Qw=class extends Bo{constructor(){super();Me(this,Oi);Me(this,zn);Me(this,io);pe(this,io,e=>{if(!ea&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){A(this,zn)||this.setEventListener(A(this,io))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,zn))==null||e.call(this),pe(this,zn,void 0))}setEventListener(e){var s;pe(this,io,e),(s=A(this,zn))==null||s.call(this),pe(this,zn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){A(this,Oi)!==e&&(pe(this,Oi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof A(this,Oi)=="boolean"?A(this,Oi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oi=new WeakMap,zn=new WeakMap,io=new WeakMap,Qw),Mg=new ZP,ao,Bn,oo,Zw,XP=(Zw=class extends Bo{constructor(){super();Me(this,ao,!0);Me(this,Bn);Me(this,oo);pe(this,oo,e=>{if(!ea&&window.addEventListener){const s=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,Bn)||this.setEventListener(A(this,oo))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,Bn))==null||e.call(this),pe(this,Bn,void 0))}setEventListener(e){var s;pe(this,oo,e),(s=A(this,Bn))==null||s.call(this),pe(this,Bn,e(this.setOnline.bind(this)))}setOnline(e){A(this,ao)!==e&&(pe(this,ao,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return A(this,ao)}},ao=new WeakMap,Bn=new WeakMap,oo=new WeakMap,Zw),Uu=new XP;function Lp(){let t,e;const s=new Promise((i,a)=>{t=i,e=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},s.reject=i=>{r({status:"rejected",reason:i}),e(i)},s}function YP(t){return Math.min(1e3*2**t,3e4)}function RN(t){return(t??"online")==="online"?Uu.isOnline():!0}var AN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jf(t){return t instanceof AN}function DN(t){let e=!1,s=0,r=!1,i;const a=Lp(),o=m=>{var b;r||(f(new AN(m)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Mg.isFocused()&&(t.networkMode==="always"||Uu.isOnline())&&t.canRun(),u=()=>RN(t.networkMode)&&t.canRun(),h=m=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,m),i==null||i(),a.resolve(m))},f=m=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,m),i==null||i(),a.reject(m))},x=()=>new Promise(m=>{var b;i=g=>{(r||d())&&m(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var m;i=void 0,r||(m=t.onContinue)==null||m.call(t)}),y=()=>{if(r)return;let m;const b=s===0?t.initialPromise:void 0;try{m=b??t.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var P;if(r)return;const v=t.retry??(ea?0:3),w=t.retryDelay??YP,j=typeof w=="function"?w(s,g):w,C=v===!0||typeof v=="number"&&s<v||typeof v=="function"&&v(s,g);if(e||!C){f(g);return}s++,(P=t.onFail)==null||P.call(t,s,g),qP(j).then(()=>d()?void 0:x()).then(()=>{e?f(g):y()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():x().then(y),a)}}function JP(){let t=[],e=0,s=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var $t=JP(),Ii,Xw,ON=(Xw=class{constructor(){Me(this,Ii)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Dp(this.gcTime)&&pe(this,Ii,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ea?1/0:5*60*1e3))}clearGcTimeout(){A(this,Ii)&&(clearTimeout(A(this,Ii)),pe(this,Ii,void 0))}},Ii=new WeakMap,Xw),lo,co,Xs,ts,Mc,Li,fr,on,Yw,e3=(Yw=class extends ON{constructor(e){super();Me(this,fr);Me(this,lo);Me(this,co);Me(this,Xs);Me(this,ts);Me(this,Mc);Me(this,Li);pe(this,Li,!1),pe(this,Mc,e.defaultOptions),this.setOptions(e.options),this.observers=[],pe(this,Xs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pe(this,lo,t3(this.options)),this.state=e.state??A(this,lo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,ts))==null?void 0:e.promise}setOptions(e){this.options={...A(this,Mc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,Xs).remove(this)}setData(e,s){const r=Ip(this.state.data,e,this.options);return Ve(this,fr,on).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(e,s){Ve(this,fr,on).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var r,i;const s=(r=A(this,ts))==null?void 0:r.promise;return(i=A(this,ts))==null||i.cancel(e),s?s.then(Ys).catch(Ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,lo))}isActive(){return this.observers.some(e=>xr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!_N(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=A(this,ts))==null||s.continue()}onOnline(){var s;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=A(this,ts))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,Xs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(A(this,ts)&&(A(this,Li)?A(this,ts).cancel({revert:!0}):A(this,ts).cancelRetry()),this.scheduleGc()),A(this,Xs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,fr,on).call(this,{type:"invalidate"})}fetch(e,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(A(this,ts))return A(this,ts).continueRetry(),A(this,ts).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(pe(this,Li,!0),r.signal)})},a=()=>{const h=MN(this.options,s),f={queryKey:this.queryKey,meta:this.meta};return i(f),pe(this,Li,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),pe(this,co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ve(this,fr,on).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,x,y,m;Jf(h)&&h.silent||Ve(this,fr,on).call(this,{type:"error",error:h}),Jf(h)||((x=(f=A(this,Xs).config).onError)==null||x.call(f,h,this),(m=(y=A(this,Xs).config).onSettled)==null||m.call(y,this.state.data,h,this)),this.scheduleGc()};return pe(this,ts,DN({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,x,y,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(x=(f=A(this,Xs).config).onSuccess)==null||x.call(f,h,this),(m=(y=A(this,Xs).config).onSettled)==null||m.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Ve(this,fr,on).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Ve(this,fr,on).call(this,{type:"pause"})},onContinue:()=>{Ve(this,fr,on).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,ts).start()}},lo=new WeakMap,co=new WeakMap,Xs=new WeakMap,ts=new WeakMap,Mc=new WeakMap,Li=new WeakMap,fr=new WeakSet,on=function(e){const s=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...IN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Jf(i)&&i.revert&&A(this,co)?{...A(this,co),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=s(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,Xs).notify({query:this,type:"updated",action:e})})},Yw);function IN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function t3(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,r=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Lr,Jw,s3=(Jw=class extends Bo{constructor(e={}){super();Me(this,Lr);this.config=e,pe(this,Lr,new Map)}build(e,s,r){const i=s.queryKey,a=s.queryHash??_g(i,s);let o=this.get(a);return o||(o=new e3({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){A(this,Lr).has(e.queryHash)||(A(this,Lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=A(this,Lr).get(e.queryHash);s&&(e.destroy(),s===e&&A(this,Lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,Lr).get(e)}getAll(){return[...A(this,Lr).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>jy(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>jy(e,r)):s}notify(e){$t.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lr=new WeakMap,Jw),Fr,ls,Fi,$r,Dn,ej,r3=(ej=class extends ON{constructor(e){super();Me(this,$r);Me(this,Fr);Me(this,ls);Me(this,Fi);this.mutationId=e.mutationId,pe(this,ls,e.mutationCache),pe(this,Fr,[]),this.state=e.state||LN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,Fr).includes(e)||(A(this,Fr).push(e),this.clearGcTimeout(),A(this,ls).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pe(this,Fr,A(this,Fr).filter(s=>s!==e)),this.scheduleGc(),A(this,ls).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():A(this,ls).remove(this))}continue(){var e;return((e=A(this,Fi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,u,h,f,x,y,m,b,g,v,w,j,C,P,E;pe(this,Fi,DN({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,I)=>{Ve(this,$r,Dn).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{Ve(this,$r,Dn).call(this,{type:"pause"})},onContinue:()=>{Ve(this,$r,Dn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,ls).canRun(this)}));const s=this.state.status==="pending",r=!A(this,Fi).canStart();try{if(!s){Ve(this,$r,Dn).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=A(this,ls).config).onMutate)==null?void 0:a.call(i,e,this));const I=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));I!==this.state.context&&Ve(this,$r,Dn).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const k=await A(this,Fi).start();return await((d=(c=A(this,ls).config).onSuccess)==null?void 0:d.call(c,k,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,k,e,this.state.context)),await((x=(f=A(this,ls).config).onSettled)==null?void 0:x.call(f,k,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,k,null,e,this.state.context)),Ve(this,$r,Dn).call(this,{type:"success",data:k}),k}catch(k){try{throw await((g=(b=A(this,ls).config).onError)==null?void 0:g.call(b,k,e,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,k,e,this.state.context)),await((C=(j=A(this,ls).config).onSettled)==null?void 0:C.call(j,void 0,k,this.state.variables,this.state.context,this)),await((E=(P=this.options).onSettled)==null?void 0:E.call(P,void 0,k,e,this.state.context)),k}finally{Ve(this,$r,Dn).call(this,{type:"error",error:k})}}finally{A(this,ls).runNext(this)}}},Fr=new WeakMap,ls=new WeakMap,Fi=new WeakMap,$r=new WeakSet,Dn=function(e){const s=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),$t.batch(()=>{A(this,Fr).forEach(r=>{r.onMutationUpdate(e)}),A(this,ls).notify({mutation:this,type:"updated",action:e})})},ej);function LN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rs,Rc,tj,n3=(tj=class extends Bo{constructor(e={}){super();Me(this,Rs);Me(this,Rc);this.config=e,pe(this,Rs,new Map),pe(this,Rc,Date.now())}build(e,s,r){const i=new r3({mutationCache:this,mutationId:++Jc(this,Rc)._,options:e.defaultMutationOptions(s),state:r});return this.add(i),i}add(e){const s=xd(e),r=A(this,Rs).get(s)??[];r.push(e),A(this,Rs).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=xd(e);if(A(this,Rs).has(s)){const i=(r=A(this,Rs).get(s))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?A(this,Rs).delete(s):A(this,Rs).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=A(this,Rs).get(xd(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=A(this,Rs).get(xd(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){$t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...A(this,Rs).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>Ny(s,r))}findAll(e={}){return this.getAll().filter(s=>Ny(e,s))}notify(e){$t.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return $t.batch(()=>Promise.all(e.map(s=>s.continue().catch(Ys))))}},Rs=new WeakMap,Rc=new WeakMap,tj);function xd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Ty(t){return{onFetch:(e,s)=>{var u,h,f,x,y;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((x=e.state.data)==null?void 0:x.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=MN(e.options,e.fetchOptions),v=async(w,j,C)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:e.queryKey,pageParam:j,direction:C?"backward":"forward",meta:e.options.meta};b(P);const E=await g(P),{maxPages:k}=e.options,I=C?QP:GP;return{pages:I(w.pages,E,k),pageParams:I(w.pageParams,j,k)}};if(i&&a.length){const w=i==="backward",j=w?i3:ky,C={pages:a,pageParams:o},P=j(r,C);l=await v(C,P,w)}else{const w=t??a.length;do{const j=c===0?o[0]??r.initialPageParam:ky(r,l);if(c>0&&j==null)break;l=await v(l,j),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var m,b;return(b=(m=e.options).persister)==null?void 0:b.call(m,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function ky(t,{pages:e,pageParams:s}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,s[r],s):void 0}function i3(t,{pages:e,pageParams:s}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,s[0],s):void 0}var Nt,Vn,Wn,uo,ho,Hn,fo,mo,sj,a3=(sj=class{constructor(t={}){Me(this,Nt);Me(this,Vn);Me(this,Wn);Me(this,uo);Me(this,ho);Me(this,Hn);Me(this,fo);Me(this,mo);pe(this,Nt,t.queryCache||new s3),pe(this,Vn,t.mutationCache||new n3),pe(this,Wn,t.defaultOptions||{}),pe(this,uo,new Map),pe(this,ho,new Map),pe(this,Hn,0)}mount(){Jc(this,Hn)._++,A(this,Hn)===1&&(pe(this,fo,Mg.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Nt).onFocus())})),pe(this,mo,Uu.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,Nt).onOnline())})))}unmount(){var t,e;Jc(this,Hn)._--,A(this,Hn)===0&&((t=A(this,fo))==null||t.call(this),pe(this,fo,void 0),(e=A(this,mo))==null||e.call(this),pe(this,mo,void 0))}isFetching(t){return A(this,Nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,Vn).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=A(this,Nt).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=A(this,Nt).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(Ya(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return A(this,Nt).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),i=A(this,Nt).get(r.queryHash),a=i==null?void 0:i.state.data,o=KP(e,a);if(o!==void 0)return A(this,Nt).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return $t.batch(()=>A(this,Nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=A(this,Nt).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=A(this,Nt);$t.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=A(this,Nt),r={type:"active",...t};return $t.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=$t.batch(()=>A(this,Nt).findAll(t).map(i=>i.cancel(s)));return Promise.all(r).then(Ys).catch(Ys)}invalidateQueries(t={},e={}){return $t.batch(()=>{if(A(this,Nt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=$t.batch(()=>A(this,Nt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Ys)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Ys)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=A(this,Nt).build(this,e);return s.isStaleByTime(Ya(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ys).catch(Ys)}fetchInfiniteQuery(t){return t.behavior=Ty(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ys).catch(Ys)}ensureInfiniteQueryData(t){return t.behavior=Ty(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uu.isOnline()?A(this,Vn).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Nt)}getMutationCache(){return A(this,Vn)}getDefaultOptions(){return A(this,Wn)}setDefaultOptions(t){pe(this,Wn,t)}setQueryDefaults(t,e){A(this,uo).set(ta(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,uo).values()];let s={};return e.forEach(r=>{sc(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){A(this,ho).set(ta(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,ho).values()];let s={};return e.forEach(r=>{sc(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,Wn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_g(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Pg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,Wn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,Nt).clear(),A(this,Vn).clear()}},Nt=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,uo=new WeakMap,ho=new WeakMap,Hn=new WeakMap,fo=new WeakMap,mo=new WeakMap,sj),ws,Ze,Ac,cs,$i,po,Kn,Ur,Dc,go,xo,Ui,zi,qn,vo,nt,gl,Fp,$p,Up,zp,Bp,Vp,Wp,FN,rj,o3=(rj=class extends Bo{constructor(e,s){super();Me(this,nt);Me(this,ws);Me(this,Ze);Me(this,Ac);Me(this,cs);Me(this,$i);Me(this,po);Me(this,Kn);Me(this,Ur);Me(this,Dc);Me(this,go);Me(this,xo);Me(this,Ui);Me(this,zi);Me(this,qn);Me(this,vo,new Set);this.options=s,pe(this,ws,e),pe(this,Ur,null),pe(this,Kn,Lp()),this.options.experimental_prefetchInRender||A(this,Kn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,Ze).addObserver(this),Ey(A(this,Ze),this.options)?Ve(this,nt,gl).call(this):this.updateResult(),Ve(this,nt,zp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hp(A(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hp(A(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,nt,Bp).call(this),Ve(this,nt,Vp).call(this),A(this,Ze).removeObserver(this)}setOptions(e,s){const r=this.options,i=A(this,Ze);if(this.options=A(this,ws).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xr(this.options.enabled,A(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,nt,Wp).call(this),A(this,Ze).setOptions(this.options),r._defaulted&&!$u(this.options,r)&&A(this,ws).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,Ze),observer:this});const a=this.hasListeners();a&&_y(A(this,Ze),i,this.options,r)&&Ve(this,nt,gl).call(this),this.updateResult(s),a&&(A(this,Ze)!==i||xr(this.options.enabled,A(this,Ze))!==xr(r.enabled,A(this,Ze))||Ya(this.options.staleTime,A(this,Ze))!==Ya(r.staleTime,A(this,Ze)))&&Ve(this,nt,Fp).call(this);const o=Ve(this,nt,$p).call(this);a&&(A(this,Ze)!==i||xr(this.options.enabled,A(this,Ze))!==xr(r.enabled,A(this,Ze))||o!==A(this,qn))&&Ve(this,nt,Up).call(this,o)}getOptimisticResult(e){const s=A(this,ws).getQueryCache().build(A(this,ws),e),r=this.createResult(s,e);return c3(this,r)&&(pe(this,cs,r),pe(this,po,this.options),pe(this,$i,A(this,Ze).state)),r}getCurrentResult(){return A(this,cs)}trackResult(e,s){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),r}trackProp(e){A(this,vo).add(e)}getCurrentQuery(){return A(this,Ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=A(this,ws).defaultQueryOptions(e),r=A(this,ws).getQueryCache().build(A(this,ws),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return Ve(this,nt,gl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,cs)))}createResult(e,s){var k;const r=A(this,Ze),i=this.options,a=A(this,cs),o=A(this,$i),l=A(this,po),d=e!==r?e.state:A(this,Ac),{state:u}=e;let h={...u},f=!1,x;if(s._optimisticResults){const I=this.hasListeners(),$=!I&&Ey(e,s),_=I&&_y(e,r,s,i);($||_)&&(h={...h,...IN(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:b}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&s.select===A(this,Dc))x=A(this,go);else try{pe(this,Dc,s.select),x=s.select(h.data),x=Ip(a==null?void 0:a.data,x,s),pe(this,go,x),pe(this,Ur,null)}catch(I){pe(this,Ur,I)}else x=h.data;if(s.placeholderData!==void 0&&x===void 0&&b==="pending"){let I;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))I=a.data;else if(I=typeof s.placeholderData=="function"?s.placeholderData((k=A(this,xo))==null?void 0:k.state.data,A(this,xo)):s.placeholderData,s.select&&I!==void 0)try{I=s.select(I),pe(this,Ur,null)}catch($){pe(this,Ur,$)}I!==void 0&&(b="success",x=Ip(a==null?void 0:a.data,I,s),f=!0)}A(this,Ur)&&(y=A(this,Ur),x=A(this,go),m=Date.now(),b="error");const g=h.fetchStatus==="fetching",v=b==="pending",w=b==="error",j=v&&g,C=x!==void 0,E={status:b,fetchStatus:h.fetchStatus,isPending:v,isSuccess:b==="success",isError:w,isInitialLoading:j,isLoading:j,data:x,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:w&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&C,isStale:Rg(e,s),refetch:this.refetch,promise:A(this,Kn)};if(this.options.experimental_prefetchInRender){const I=R=>{E.status==="error"?R.reject(E.error):E.data!==void 0&&R.resolve(E.data)},$=()=>{const R=pe(this,Kn,E.promise=Lp());I(R)},_=A(this,Kn);switch(_.status){case"pending":e.queryHash===r.queryHash&&I(_);break;case"fulfilled":(E.status==="error"||E.data!==_.value)&&$();break;case"rejected":(E.status!=="error"||E.error!==_.reason)&&$();break}}return E}updateResult(e){const s=A(this,cs),r=this.createResult(A(this,Ze),this.options);if(pe(this,$i,A(this,Ze).state),pe(this,po,this.options),A(this,$i).data!==void 0&&pe(this,xo,A(this,Ze)),$u(r,s))return;pe(this,cs,r);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!A(this,vo).size)return!0;const c=new Set(l??A(this,vo));return this.options.throwOnError&&c.add("error"),Object.keys(A(this,cs)).some(d=>{const u=d;return A(this,cs)[u]!==s[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Ve(this,nt,FN).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,nt,zp).call(this)}},ws=new WeakMap,Ze=new WeakMap,Ac=new WeakMap,cs=new WeakMap,$i=new WeakMap,po=new WeakMap,Kn=new WeakMap,Ur=new WeakMap,Dc=new WeakMap,go=new WeakMap,xo=new WeakMap,Ui=new WeakMap,zi=new WeakMap,qn=new WeakMap,vo=new WeakMap,nt=new WeakSet,gl=function(e){Ve(this,nt,Wp).call(this);let s=A(this,Ze).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Ys)),s},Fp=function(){Ve(this,nt,Bp).call(this);const e=Ya(this.options.staleTime,A(this,Ze));if(ea||A(this,cs).isStale||!Dp(e))return;const r=_N(A(this,cs).dataUpdatedAt,e)+1;pe(this,Ui,setTimeout(()=>{A(this,cs).isStale||this.updateResult()},r))},$p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,Ze)):this.options.refetchInterval)??!1},Up=function(e){Ve(this,nt,Vp).call(this),pe(this,qn,e),!(ea||xr(this.options.enabled,A(this,Ze))===!1||!Dp(A(this,qn))||A(this,qn)===0)&&pe(this,zi,setInterval(()=>{(this.options.refetchIntervalInBackground||Mg.isFocused())&&Ve(this,nt,gl).call(this)},A(this,qn)))},zp=function(){Ve(this,nt,Fp).call(this),Ve(this,nt,Up).call(this,Ve(this,nt,$p).call(this))},Bp=function(){A(this,Ui)&&(clearTimeout(A(this,Ui)),pe(this,Ui,void 0))},Vp=function(){A(this,zi)&&(clearInterval(A(this,zi)),pe(this,zi,void 0))},Wp=function(){const e=A(this,ws).getQueryCache().build(A(this,ws),this.options);if(e===A(this,Ze))return;const s=A(this,Ze);pe(this,Ze,e),pe(this,Ac,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},FN=function(e){$t.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(A(this,cs))}),A(this,ws).getQueryCache().notify({query:A(this,Ze),type:"observerResultsUpdated"})})},rj);function l3(t,e){return xr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ey(t,e){return l3(t,e)||t.state.data!==void 0&&Hp(t,e,e.refetchOnMount)}function Hp(t,e,s){if(xr(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Rg(t,e)}return!1}function _y(t,e,s,r){return(t!==e||xr(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Rg(t,s)}function Rg(t,e){return xr(e.enabled,t)!==!1&&t.isStaleByTime(Ya(e.staleTime,t))}function c3(t,e){return!$u(t.getCurrentResult(),e)}var Gn,Qn,js,hn,wn,ru,Kp,nj,d3=(nj=class extends Bo{constructor(s,r){super();Me(this,wn);Me(this,Gn);Me(this,Qn);Me(this,js);Me(this,hn);pe(this,Gn,s),this.setOptions(r),this.bindMethods(),Ve(this,wn,ru).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const r=this.options;this.options=A(this,Gn).defaultMutationOptions(s),$u(this.options,r)||A(this,Gn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,js),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ta(r.mutationKey)!==ta(this.options.mutationKey)?this.reset():((i=A(this,js))==null?void 0:i.state.status)==="pending"&&A(this,js).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=A(this,js))==null||s.removeObserver(this)}onMutationUpdate(s){Ve(this,wn,ru).call(this),Ve(this,wn,Kp).call(this,s)}getCurrentResult(){return A(this,Qn)}reset(){var s;(s=A(this,js))==null||s.removeObserver(this),pe(this,js,void 0),Ve(this,wn,ru).call(this),Ve(this,wn,Kp).call(this)}mutate(s,r){var i;return pe(this,hn,r),(i=A(this,js))==null||i.removeObserver(this),pe(this,js,A(this,Gn).getMutationCache().build(A(this,Gn),this.options)),A(this,js).addObserver(this),A(this,js).execute(s)}},Gn=new WeakMap,Qn=new WeakMap,js=new WeakMap,hn=new WeakMap,wn=new WeakSet,ru=function(){var r;const s=((r=A(this,js))==null?void 0:r.state)??LN();pe(this,Qn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Kp=function(s){$t.batch(()=>{var r,i,a,o,l,c,d,u;if(A(this,hn)&&this.hasListeners()){const h=A(this,Qn).variables,f=A(this,Qn).context;(s==null?void 0:s.type)==="success"?((i=(r=A(this,hn)).onSuccess)==null||i.call(r,s.data,h,f),(o=(a=A(this,hn)).onSettled)==null||o.call(a,s.data,null,h,f)):(s==null?void 0:s.type)==="error"&&((c=(l=A(this,hn)).onError)==null||c.call(l,s.error,h,f),(u=(d=A(this,hn)).onSettled)==null||u.call(d,void 0,s.error,h,f))}this.listeners.forEach(h=>{h(A(this,Qn))})})},nj),$N=p.createContext(void 0),lr=t=>{const e=p.useContext($N);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u3=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),n.jsx($N.Provider,{value:t,children:e})),UN=p.createContext(!1),h3=()=>p.useContext(UN);UN.Provider;function f3(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var m3=p.createContext(f3()),p3=()=>p.useContext(m3);function zN(t,e){return typeof t=="function"?t(...e):!!t}function qp(){}var g3=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},x3=t=>{p.useEffect(()=>{t.clearReset()},[t])},v3=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&zN(s,[t.error,r]),y3=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},b3=(t,e)=>t.isLoading&&t.isFetching&&!e,w3=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Py=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function j3(t,e,s){var u,h,f,x,y;const r=lr(),i=h3(),a=p3(),o=r.defaultQueryOptions(t);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",y3(o),g3(o,a),x3(a);const l=!r.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(m=>{const b=i?qp:c.subscribe($t.batchCalls(m));return c.updateResult(),b},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),w3(o,d))throw Py(o,c,a);if(v3({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((x=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,o,d),o.experimental_prefetchInRender&&!ea&&b3(d,i)){const m=l?Py(o,c,a):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;m==null||m.catch(qp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function kt(t,e){return j3(t,o3)}function Qt(t,e){const s=lr(),[r]=p.useState(()=>new d3(s,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe($t.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(qp)},[r]);if(i.error&&zN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const N3=()=>{const t=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",e=window.location.hostname.includes("vercel.app");return console.log("🔧 API Base URL Detection:",{hostname:window.location.hostname,isLocal:t,isVercel:e,isProd:!0}),e||!t?(console.log("🌐 Using Vercel API endpoints (relative URLs)"),""):t?(console.log("🏠 Using local server endpoints"),`http://${window.location.hostname}:3005`):(console.log("🔄 Using Vite proxy"),"")},BN=N3();async function VN(t){if(!t.ok){let e=t.statusText;try{const s=await t.json();e=s.message||s.error||JSON.stringify(s)}catch{try{e=await t.text()||t.statusText}catch{e=t.statusText}}throw new Error(`${t.status}: ${e}`)}}async function pr(t,e,s){const r=`${BN}${e}`,i=localStorage.getItem("authToken"),a={};s&&(a["Content-Type"]="application/json"),i&&!e.includes("/auth/admin/login")&&!e.includes("/auth/user/login")&&!e.includes("/admin-auth")&&!e.includes("/admin-login")&&(a.Authorization=`Bearer ${i}`);const o=await fetch(r,{method:t,headers:a,body:s?JSON.stringify(s):void 0,credentials:e.includes("/admin-login")?"omit":"include"});return await VN(o),o}const S3=({on401:t})=>async({queryKey:e})=>{const s=`${BN}${e.join("/")}`,r=localStorage.getItem("authToken"),i={};r&&(i.Authorization=`Bearer ${r}`);const a=await fetch(s,{headers:i,credentials:"include"});return t==="returnNull"&&a.status===401?null:(await VN(a),await a.json())},C3=new a3({defaultOptions:{queries:{queryFn:S3({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:0,cacheTime:0,retry:!1},mutations:{retry:!1}}}),T3=1,k3=1e6;let em=0;function E3(){return em=(em+1)%Number.MAX_SAFE_INTEGER,em.toString()}const tm=new Map,My=t=>{if(tm.has(t))return;const e=setTimeout(()=>{tm.delete(t),Pl({type:"REMOVE_TOAST",toastId:t})},k3);tm.set(t,e)},_3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,T3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?My(s):t.toasts.forEach(r=>{My(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},nu=[];let iu={toasts:[]};function Pl(t){iu=_3(iu,t),nu.forEach(e=>{e(iu)})}function Fe({...t}){const e=E3(),s=i=>Pl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Pl({type:"DISMISS_TOAST",toastId:e});return Pl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:s}}function Gs(){const[t,e]=p.useState(iu);return p.useEffect(()=>(nu.push(e),()=>{const s=nu.indexOf(e);s>-1&&nu.splice(s,1)}),[t]),{...t,toast:Fe,dismiss:s=>Pl({type:"DISMISS_TOAST",toastId:s})}}function fe(t,e,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ry(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vo(...t){return e=>{let s=!1;const r=t.map(i=>{const a=Ry(i,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Ry(t[i],null)}}}}function tt(...t){return p.useCallback(Vo(...t),t)}function P3(t,e){const s=p.createContext(e),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=p.useContext(s);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function cr(t,e=[]){let s=[];function r(a,o){const l=p.createContext(o),c=s.length;s=[...s,o];const d=h=>{var g;const{scope:f,children:x,...y}=h,m=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,b=p.useMemo(()=>y,Object.values(y));return n.jsx(m.Provider,{value:b,children:x})};d.displayName=a+"Provider";function u(h,f){var m;const x=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,y=p.useContext(x);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,M3(i,...e)]}function M3(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function sa(t){const e=R3(t),s=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(D3);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}var WN=sa("Slot");function R3(t){const e=p.forwardRef((s,r)=>{const{children:i,...a}=s;if(p.isValidElement(i)){const o=I3(i),l=O3(a,i.props);return i.type!==p.Fragment&&(l.ref=r?Vo(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HN=Symbol("radix.slottable");function A3(t){const e=({children:s})=>n.jsx(n.Fragment,{children:s});return e.displayName=`${t}.Slottable`,e.__radixId=HN,e}function D3(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HN}function O3(t,e){const s={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{a(...l),i(...l)}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function I3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function $h(t){const e=t+"CollectionProvider",[s,r]=cr(e),[i,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:g}=m,v=ue.useRef(null),w=ue.useRef(new Map).current;return n.jsx(i,{scope:b,itemMap:w,collectionRef:v,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=sa(l),d=ue.forwardRef((m,b)=>{const{scope:g,children:v}=m,w=a(l,g),j=tt(b,w.collectionRef);return n.jsx(c,{ref:j,children:v})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=sa(u),x=ue.forwardRef((m,b)=>{const{scope:g,children:v,...w}=m,j=ue.useRef(null),C=tt(b,j),P=a(u,g);return ue.useEffect(()=>(P.itemMap.set(j,{ref:j,...w}),()=>void P.itemMap.delete(j))),n.jsx(f,{[h]:"",ref:C,children:v})});x.displayName=u;function y(m){const b=a(t+"CollectionConsumer",m);return ue.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((P,E)=>w.indexOf(P.ref.current)-w.indexOf(E.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},y,r]}var L3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=L3.reduce((t,e)=>{const s=sa(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ag(t,e){t&&ga.flushSync(()=>t.dispatchEvent(e))}function is(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...s)=>{var r;return(r=e.current)==null?void 0:r.call(e,...s)},[])}function F3(t,e=globalThis==null?void 0:globalThis.document){const s=is(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[s,e])}var $3="DismissableLayer",Gp="dismissableLayer.update",U3="dismissableLayer.pointerDownOutside",z3="dismissableLayer.focusOutside",Ay,KN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wo=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(KN),[u,h]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=p.useState({}),y=tt(e,E=>h(E)),m=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(b),v=u?m.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,C=V3(E=>{const k=E.target,I=[...d.branches].some($=>$.contains(k));!j||I||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},f),P=W3(E=>{const k=E.target;[...d.branches].some($=>$.contains(k))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},f);return F3(E=>{v===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},f),p.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ay=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Dy(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Ay)}},[u,f,s,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Dy())},[u,d]),p.useEffect(()=>{const E=()=>x({});return document.addEventListener(Gp,E),()=>document.removeEventListener(Gp,E)},[]),n.jsx(Le.div,{...c,ref:y,style:{pointerEvents:w?j?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,P.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,C.onPointerDownCapture)})});Wo.displayName=$3;var B3="DismissableLayerBranch",qN=p.forwardRef((t,e)=>{const s=p.useContext(KN),r=p.useRef(null),i=tt(e,r);return p.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Le.div,{...t,ref:i})});qN.displayName=B3;function V3(t,e=globalThis==null?void 0:globalThis.document){const s=is(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){GN(U3,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,s]),{onPointerDownCapture:()=>r.current=!0}}function W3(t,e=globalThis==null?void 0:globalThis.document){const s=is(t),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&GN(z3,s,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dy(){const t=new CustomEvent(Gp);document.dispatchEvent(t)}function GN(t,e,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),r?Ag(i,a):i.dispatchEvent(a)}var H3=Wo,K3=qN,Rt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},q3="Portal",zc=p.forwardRef((t,e)=>{var l;const{container:s,...r}=t,[i,a]=p.useState(!1);Rt(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?pP.createPortal(n.jsx(Le.div,{...r,ref:e}),o):null});zc.displayName=q3;function G3(t,e){return p.useReducer((s,r)=>e[s][r]??s,t)}var Pr=t=>{const{present:e,children:s}=t,r=Q3(e),i=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),a=tt(r.ref,Z3(i));return typeof s=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};Pr.displayName="Presence";function Q3(t){const[e,s]=p.useState(),r=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=G3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=vd(r.current);a.current=l==="mounted"?d:"none"},[l]),Rt(()=>{const d=r.current,u=i.current;if(u!==t){const f=a.current,x=vd(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Rt(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=x=>{const m=vd(r.current).includes(x.animationName);if(x.target===e&&m&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=x=>{x.target===e&&(a.current=vd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function vd(t){return(t==null?void 0:t.animationName)||"none"}function Z3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function ra({prop:t,defaultProp:e,onChange:s=()=>{}}){const[r,i]=X3({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:r,l=is(s),c=p.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else i(d)},[a,t,i,l]);return[o,c]}function X3({defaultProp:t,onChange:e}){const s=p.useState(t),[r]=s,i=p.useRef(r),a=is(e);return p.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}var Y3="VisuallyHidden",Bc=p.forwardRef((t,e)=>n.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bc.displayName=Y3;var J3=Bc,Dg="ToastProvider",[Og,eM,tM]=$h("Toast"),[QN,yU]=cr("Toast",[tM]),[sM,Uh]=QN(Dg),ZN=t=>{const{__scopeToast:e,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dg}\`. Expected non-empty \`string\`.`),n.jsx(Og.Provider,{scope:e,children:n.jsx(sM,{scope:e,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(x=>x+1),[]),onToastRemove:p.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};ZN.displayName=Dg;var XN="ToastViewport",rM=["F8"],Qp="toast.viewportPause",Zp="toast.viewportResume",YN=p.forwardRef((t,e)=>{const{__scopeToast:s,hotkey:r=rM,label:i="Notifications ({hotkey})",...a}=t,o=Uh(XN,s),l=eM(s),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=tt(e,h,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const b=g=>{var w;r.length!==0&&r.every(j=>g[j]||g.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=c.current,g=h.current;if(y&&b&&g){const v=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Qp);g.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(Zp);g.dispatchEvent(P),o.isClosePausedRef.current=!1}},j=P=>{!b.contains(P.relatedTarget)&&w()},C=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",v),b.addEventListener("focusout",j),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[y,o.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:b})=>{const v=l().map(w=>{const j=w.ref.current,C=[j,...gM(j)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const b=h.current;if(b){const g=v=>{var C,P,E;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const k=document.activeElement,I=v.shiftKey;if(v.target===b&&I){(C=d.current)==null||C.focus();return}const R=m({tabbingDirection:I?"backwards":"forwards"}),W=R.findIndex(H=>H===k);sm(R.slice(W+1))?v.preventDefault():I?(P=d.current)==null||P.focus():(E=u.current)==null||E.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[l,m]),n.jsxs(K3,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(Xp,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});sm(b)}}),n.jsx(Og.Slot,{scope:s,children:n.jsx(Le.ol,{tabIndex:-1,...a,ref:f})}),y&&n.jsx(Xp,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});sm(b)}})]})});YN.displayName=XN;var JN="ToastFocusProxy",Xp=p.forwardRef((t,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=t,a=Uh(JN,s);return n.jsx(Bc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Xp.displayName=JN;var zh="Toast",nM="toast.swipeStart",iM="toast.swipeMove",aM="toast.swipeCancel",oM="toast.swipeEnd",eS=p.forwardRef((t,e)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=ra({prop:r,defaultProp:i,onChange:a});return n.jsx(Pr,{present:s||l,children:n.jsx(dM,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:is(t.onPause),onResume:is(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});eS.displayName=zh;var[lM,cM]=QN(zh,{onClose(){}}),dM=p.forwardRef((t,e)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:x,...y}=t,m=Uh(zh,s),[b,g]=p.useState(null),v=tt(e,H=>g(H)),w=p.useRef(null),j=p.useRef(null),C=i||m.duration,P=p.useRef(0),E=p.useRef(C),k=p.useRef(0),{onToastAdd:I,onToastRemove:$}=m,_=is(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=m.viewport)==null||K.focus()),o()}),R=p.useCallback(H=>{!H||H===1/0||(window.clearTimeout(k.current),P.current=new Date().getTime(),k.current=window.setTimeout(_,H))},[_]);p.useEffect(()=>{const H=m.viewport;if(H){const K=()=>{R(E.current),d==null||d()},D=()=>{const X=new Date().getTime()-P.current;E.current=E.current-X,window.clearTimeout(k.current),c==null||c()};return H.addEventListener(Qp,D),H.addEventListener(Zp,K),()=>{H.removeEventListener(Qp,D),H.removeEventListener(Zp,K)}}},[m.viewport,C,c,d,R]),p.useEffect(()=>{a&&!m.isClosePausedRef.current&&R(C)},[a,C,m.isClosePausedRef,R]),p.useEffect(()=>(I(),()=>$()),[I,$]);const W=p.useMemo(()=>b?oS(b):null,[b]);return m.viewport?n.jsxs(n.Fragment,{children:[W&&n.jsx(uM,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),n.jsx(lM,{scope:s,onClose:_,children:ga.createPortal(n.jsx(Og.ItemSlot,{scope:s,children:n.jsx(H3,{asChild:!0,onEscapeKeyDown:fe(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:fe(t.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:fe(t.onPointerMove,H=>{if(!w.current)return;const K=H.clientX-w.current.x,D=H.clientY-w.current.y,X=!!j.current,z=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=z?B(0,K):0,J=z?0:B(0,D),Te=H.pointerType==="touch"?10:2,me={x:G,y:J},Oe={originalEvent:H,delta:me};X?(j.current=me,yd(iM,h,Oe,{discrete:!1})):Oy(me,m.swipeDirection,Te)?(j.current=me,yd(nM,u,Oe,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(K)>Te||Math.abs(D)>Te)&&(w.current=null)}),onPointerUp:fe(t.onPointerUp,H=>{const K=j.current,D=H.target;if(D.hasPointerCapture(H.pointerId)&&D.releasePointerCapture(H.pointerId),j.current=null,w.current=null,K){const X=H.currentTarget,z={originalEvent:H,delta:K};Oy(K,m.swipeDirection,m.swipeThreshold)?yd(oM,x,z,{discrete:!0}):yd(aM,f,z,{discrete:!0}),X.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),uM=t=>{const{__scopeToast:e,children:s,...r}=t,i=Uh(zh,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return mM(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(zc,{asChild:!0,children:n.jsx(Bc,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},hM="ToastTitle",tS=p.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});tS.displayName=hM;var fM="ToastDescription",sS=p.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});sS.displayName=fM;var rS="ToastAction",nS=p.forwardRef((t,e)=>{const{altText:s,...r}=t;return s.trim()?n.jsx(aS,{altText:s,asChild:!0,children:n.jsx(Ig,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),null)});nS.displayName=rS;var iS="ToastClose",Ig=p.forwardRef((t,e)=>{const{__scopeToast:s,...r}=t,i=cM(iS,s);return n.jsx(aS,{asChild:!0,children:n.jsx(Le.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,i.onClose)})})});Ig.displayName=iS;var aS=p.forwardRef((t,e)=>{const{__scopeToast:s,altText:r,...i}=t;return n.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oS(r))}}),e}function yd(t,e,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});e&&i.addEventListener(t,e,{once:!0}),r?Ag(i,a):i.dispatchEvent(a)}var Oy=(t,e,s=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>s:!a&&i>s};function mM(t=()=>{}){const e=is(t);Rt(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[e])}function pM(t){return t.nodeType===t.ELEMENT_NODE}function gM(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function sm(t){const e=document.activeElement;return t.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var xM=ZN,lS=YN,cS=eS,dS=tS,uS=sS,hS=nS,fS=Ig;function mS(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=mS(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function pS(){for(var t,e,s=0,r="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=mS(t))&&(r&&(r+=" "),r+=e);return r}const Iy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ly=pS,Bh=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return Ly(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const f=Iy(u)||Iy(h);return i[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...x}=u;return Object.entries(x).every(y=>{let[m,b]=y;return Array.isArray(b)?b.includes({...a,...l}[m]):{...a,...l}[m]===b})?[...d,h,f]:d},[]);return Ly(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const s=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>p.createElement("svg",{ref:u,...vM,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${yM(t)}`,l].join(" "),...d},[...e.map(([h,f])=>p.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ee("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Ee("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=Ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Ee("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Ee("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ee("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fg="-",UM=t=>{const e=BM(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Fg);return l[0]===""&&l.length!==1&&l.shift(),yS(l,e)||zM(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},yS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),i=r?yS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Fg);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},qy=/^\[(.+)\]$/,zM=t=>{if(qy.test(t)){const e=qy.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},BM=t=>{const{theme:e,prefix:s}=t,r={nextPart:new Map,validators:[]};return WM(Object.entries(t.classGroups),s).forEach(([a,o])=>{t0(o,r,a,e)}),r},t0=(t,e,s,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Gy(e,i);a.classGroupId=s;return}if(typeof i=="function"){if(VM(i)){t0(i(r),e,s,r);return}e.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{t0(o,Gy(e,a),s,r)})})},Gy=(t,e)=>{let s=t;return e.split(Fg).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},VM=t=>t.isThemeGetter,WM=(t,e)=>e?t.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,i]}):t,HM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},bS="!",KM=t=>{const{separator:e,experimentalParseClassName:s}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let b=0;b<l.length;b++){let g=l[b];if(d===0){if(g===i&&(r||l.slice(b,b+a)===e)){c.push(l.slice(u,b)),u=b+a;continue}if(g==="/"){h=b;continue}}g==="["?d++:g==="]"&&d--}const f=c.length===0?l:l.substring(u),x=f.startsWith(bS),y=x?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:m}};return s?l=>s({className:l,parseClassName:o}):o},qM=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},GM=t=>({cache:HM(t.cacheSize),parseClassName:KM(t),...UM(t)}),QM=/\s+/,ZM=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(QM);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:x}=s(d);let y=!!x,m=r(y?f.substring(0,x):f);if(!m){if(!y){l=d+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=d+(l.length>0?" "+l:l);continue}y=!1}const b=qM(u).join(":"),g=h?b+bS:b,v=g+m;if(a.includes(v))continue;a.push(v);const w=i(m,y);for(let j=0;j<w.length;++j){const C=w[j];a.push(g+C)}l=d+(l.length>0?" "+l:l)}return l};function XM(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=wS(e))&&(r&&(r+=" "),r+=s);return r}const wS=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=wS(t[r]))&&(s&&(s+=" "),s+=e);return s};function YM(t,...e){let s,r,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=GM(d),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=ZM(c,s);return i(c,u),u}return function(){return a(XM.apply(null,arguments))}}const lt=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},jS=/^\[(?:([a-z-]+):)?(.+)\]$/i,JM=/^\d+\/\d+$/,eR=new Set(["px","full","screen"]),tR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nn=t=>Ja(t)||eR.has(t)||JM.test(t),Mn=t=>Ho(t,"length",fR),Ja=t=>!!t&&!Number.isNaN(Number(t)),nm=t=>Ho(t,"number",Ja),il=t=>!!t&&Number.isInteger(Number(t)),aR=t=>t.endsWith("%")&&Ja(t.slice(0,-1)),Ue=t=>jS.test(t),Rn=t=>tR.test(t),oR=new Set(["length","size","percentage"]),lR=t=>Ho(t,oR,NS),cR=t=>Ho(t,"position",NS),dR=new Set(["image","url"]),uR=t=>Ho(t,dR,pR),hR=t=>Ho(t,"",mR),al=()=>!0,Ho=(t,e,s)=>{const r=jS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},fR=t=>sR.test(t)&&!rR.test(t),NS=()=>!1,mR=t=>nR.test(t),pR=t=>iR.test(t),gR=()=>{const t=lt("colors"),e=lt("spacing"),s=lt("blur"),r=lt("brightness"),i=lt("borderColor"),a=lt("borderRadius"),o=lt("borderSpacing"),l=lt("borderWidth"),c=lt("contrast"),d=lt("grayscale"),u=lt("hueRotate"),h=lt("invert"),f=lt("gap"),x=lt("gradientColorStops"),y=lt("gradientColorStopPositions"),m=lt("inset"),b=lt("margin"),g=lt("opacity"),v=lt("padding"),w=lt("saturate"),j=lt("scale"),C=lt("sepia"),P=lt("skew"),E=lt("space"),k=lt("translate"),I=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ue,e],R=()=>[Ue,e],W=()=>["",nn,Mn],H=()=>["auto",Ja,Ue],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ue],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ja,Ue];return{cacheSize:500,separator:":",theme:{colors:[al],spacing:[nn,Mn],blur:["none","",Rn,Ue],brightness:J(),borderColor:[t],borderRadius:["none","","full",Rn,Ue],borderSpacing:R(),borderWidth:W(),contrast:J(),grayscale:B(),hueRotate:J(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[aR,Mn],inset:_(),margin:_(),opacity:J(),padding:R(),saturate:J(),scale:J(),sepia:B(),skew:J(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Rn]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ue]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,Ue]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",il,Ue]}],"grid-cols":[{"grid-cols":[al]}],"col-start-end":[{col:["auto",{span:["full",il,Ue]},Ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[al]}],"row-start-end":[{row:["auto",{span:[il,Ue]},Ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Rn]},Rn]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rn,Mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nm]}],"font-family":[{font:[al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",Ja,nm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nn,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nn,Mn]}],"underline-offset":[{"underline-offset":["auto",nn,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),cR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[nn,Ue]}],"outline-w":[{outline:[nn,Mn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[nn,Mn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rn,hR]}],"shadow-color":[{shadow:[al]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rn,Ue]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[il,Ue]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nn,Mn,nm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xR=YM(gR);function ke(...t){return xR(pS(t))}const vR=xM,SS=p.forwardRef(({className:t,...e},s)=>n.jsx(lS,{ref:s,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));SS.displayName=lS.displayName;const yR=Bh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CS=p.forwardRef(({className:t,variant:e,...s},r)=>n.jsx(cS,{ref:r,className:ke(yR({variant:e}),t),...s}));CS.displayName=cS.displayName;const bR=p.forwardRef(({className:t,...e},s)=>n.jsx(hS,{ref:s,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));bR.displayName=hS.displayName;const TS=p.forwardRef(({className:t,...e},s)=>n.jsx(fS,{ref:s,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:n.jsx(Vh,{className:"h-4 w-4"})}));TS.displayName=fS.displayName;const kS=p.forwardRef(({className:t,...e},s)=>n.jsx(dS,{ref:s,className:ke("text-sm font-semibold",t),...e}));kS.displayName=dS.displayName;const ES=p.forwardRef(({className:t,...e},s)=>n.jsx(uS,{ref:s,className:ke("text-sm opacity-90",t),...e}));ES.displayName=uS.displayName;function wR(){const{toasts:t}=Gs();return n.jsxs(vR,{children:[t.map(function({id:e,title:s,description:r,action:i,...a}){return n.jsxs(CS,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(kS,{children:s}),r&&n.jsx(ES,{children:r})]}),i,n.jsx(TS,{})]},e)}),n.jsx(SS,{})]})}var jR=I0[" useId ".trim().toString()]||(()=>{}),NR=0;function Nr(t){const[e,s]=p.useState(jR());return Rt(()=>{s(r=>r??String(NR++))},[t]),e?`radix-${e}`:""}const SR=["top","right","bottom","left"],fi=Math.min,$s=Math.max,Hu=Math.round,jd=Math.floor,Xr=t=>({x:t,y:t}),CR={left:"right",right:"left",bottom:"top",top:"bottom"},TR={start:"end",end:"start"};function s0(t,e,s){return $s(t,fi(e,s))}function Tn(t,e){return typeof t=="function"?t(e):t}function kn(t){return t.split("-")[0]}function Ko(t){return t.split("-")[1]}function $g(t){return t==="x"?"y":"x"}function Ug(t){return t==="y"?"height":"width"}function mi(t){return["top","bottom"].includes(kn(t))?"y":"x"}function zg(t){return $g(mi(t))}function kR(t,e,s){s===void 0&&(s=!1);const r=Ko(t),i=zg(t),a=Ug(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ku(o)),[o,Ku(o)]}function ER(t){const e=Ku(t);return[r0(t),e,r0(e)]}function r0(t){return t.replace(/start|end/g,e=>TR[e])}function _R(t,e,s){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return s?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function PR(t,e,s,r){const i=Ko(t);let a=_R(kn(t),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(r0)))),a}function Ku(t){return t.replace(/left|right|bottom|top/g,e=>CR[e])}function MR(t){return{top:0,right:0,bottom:0,left:0,...t}}function _S(t){return typeof t!="number"?MR(t):{top:t,right:t,bottom:t,left:t}}function qu(t){const{x:e,y:s,width:r,height:i}=t;return{width:r,height:i,top:s,left:e,right:e+r,bottom:s+i,x:e,y:s}}function Qy(t,e,s){let{reference:r,floating:i}=t;const a=mi(e),o=zg(e),l=Ug(o),c=kn(e),d=a==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:u,y:r.y-i.height};break;case"bottom":x={x:u,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(Ko(e)){case"start":x[o]-=f*(s&&d?-1:1);break;case"end":x[o]+=f*(s&&d?-1:1);break}return x}const RR=async(t,e,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Qy(d,r,c),f=r,x={},y=0;for(let m=0;m<l.length;m++){const{name:b,fn:g}=l[m],{x:v,y:w,data:j,reset:C}=await g({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});u=v??u,h=w??h,x={...x,[b]:{...x[b],...j}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:h}=Qy(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:x}};async function ac(t,e){var s;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:x=0}=Tn(e,t),y=_S(x),b=l[f?h==="floating"?"reference":"floating":h],g=qu(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(b)))==null||s?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=qu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(g.top-C.top+y.top)/j.y,bottom:(C.bottom-g.bottom+y.bottom)/j.y,left:(g.left-C.left+y.left)/j.x,right:(C.right-g.right+y.right)/j.x}}const AR=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Tn(t,e)||{};if(d==null)return{};const h=_S(u),f={x:s,y:r},x=zg(i),y=Ug(x),m=await o.getDimensions(d),b=x==="y",g=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[x]-f[x]-a.floating[y],C=f[x]-a.reference[x],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=P?P[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(P)))&&(E=l.floating[w]||a.floating[y]);const k=j/2-C/2,I=E/2-m[y]/2-1,$=fi(h[g],I),_=fi(h[v],I),R=$,W=E-m[y]-_,H=E/2-m[y]/2+k,K=s0(R,H,W),D=!c.arrow&&Ko(i)!=null&&H!==K&&a.reference[y]/2-(H<R?$:_)-m[y]/2<0,X=D?H<R?H-R:H-W:0;return{[x]:f[x]+X,data:{[x]:K,centerOffset:H-K-X,...D&&{alignmentOffset:X}},reset:D}}}),DR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...b}=Tn(t,e);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const g=kn(i),v=mi(l),w=kn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=f||(w||!m?[Ku(l)]:ER(l)),P=y!=="none";!f&&P&&C.push(...PR(l,m,y,j));const E=[l,...C],k=await ac(e,b),I=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(u&&I.push(k[g]),h){const H=kR(i,o,j);I.push(k[H[0]],k[H[1]])}if($=[...$,{placement:i,overflows:I}],!I.every(H=>H<=0)){var _,R;const H=(((_=a.flip)==null?void 0:_.index)||0)+1,K=E[H];if(K)return{data:{index:H,overflows:$},reset:{placement:K}};let D=(R=$.filter(X=>X.overflows[0]<=0).sort((X,z)=>X.overflows[1]-z.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(x){case"bestFit":{var W;const X=(W=$.filter(z=>{if(P){const B=mi(z.placement);return B===v||B==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((z,B)=>z[1]-B[1])[0])==null?void 0:W[0];X&&(D=X);break}case"initialPlacement":D=l;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function Zy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xy(t){return SR.some(e=>t[e]>=0)}const OR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:r="referenceHidden",...i}=Tn(t,e);switch(r){case"referenceHidden":{const a=await ac(e,{...i,elementContext:"reference"}),o=Zy(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Xy(o)}}}case"escaped":{const a=await ac(e,{...i,altBoundary:!0}),o=Zy(a,s.floating);return{data:{escapedOffsets:o,escaped:Xy(o)}}}default:return{}}}}};async function IR(t,e){const{placement:s,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=kn(s),l=Ko(s),c=mi(s)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=Tn(e,t);let{mainAxis:f,crossAxis:x,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(x=l==="end"?y*-1:y),c?{x:x*u,y:f*d}:{x:f*d,y:x*u}}const LR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await IR(e,t);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},FR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y:v}=b;return{x:g,y:v}}},...c}=Tn(t,e),d={x:s,y:r},u=await ac(e,c),h=mi(kn(i)),f=$g(h);let x=d[f],y=d[h];if(a){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=x+u[b],w=x-u[g];x=s0(v,x,w)}if(o){const b=h==="y"?"top":"left",g=h==="y"?"bottom":"right",v=y+u[b],w=y-u[g];y=s0(v,y,w)}const m=l.fn({...e,[f]:x,[h]:y});return{...m,data:{x:m.x-s,y:m.y-r,enabled:{[f]:a,[h]:o}}}}}},$R=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Tn(t,e),u={x:s,y:r},h=mi(i),f=$g(h);let x=u[f],y=u[h];const m=Tn(l,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+b.mainAxis,C=a.reference[f]+a.reference[w]-b.mainAxis;x<j?x=j:x>C&&(x=C)}if(d){var g,v;const w=f==="y"?"width":"height",j=["top","left"].includes(kn(i)),C=a.reference[h]-a.floating[w]+(j&&((g=o.offset)==null?void 0:g[h])||0)+(j?0:b.crossAxis),P=a.reference[h]+a.reference[w]+(j?0:((v=o.offset)==null?void 0:v[h])||0)-(j?b.crossAxis:0);y<C?y=C:y>P&&(y=P)}return{[f]:x,[h]:y}}}},UR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Tn(t,e),u=await ac(e,d),h=kn(i),f=Ko(i),x=mi(i)==="y",{width:y,height:m}=a.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,b=f==="end"?"top":"bottom");const v=m-u.top-u.bottom,w=y-u.left-u.right,j=fi(m-u[b],v),C=fi(y-u[g],w),P=!e.middlewareData.shift;let E=j,k=C;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(k=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=v),P&&!f){const $=$s(u.left,0),_=$s(u.right,0),R=$s(u.top,0),W=$s(u.bottom,0);x?k=y-2*($!==0||_!==0?$+_:$s(u.left,u.right)):E=m-2*(R!==0||W!==0?R+W:$s(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:E});const I=await o.getDimensions(l.floating);return y!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Wh(){return typeof window<"u"}function qo(t){return PS(t)?(t.nodeName||"").toLowerCase():"#document"}function Vs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sn(t){var e;return(e=(PS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PS(t){return Wh()?t instanceof Node||t instanceof Vs(t).Node:!1}function Tr(t){return Wh()?t instanceof Element||t instanceof Vs(t).Element:!1}function Jr(t){return Wh()?t instanceof HTMLElement||t instanceof Vs(t).HTMLElement:!1}function Yy(t){return!Wh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vs(t).ShadowRoot}function Vc(t){const{overflow:e,overflowX:s,overflowY:r,display:i}=kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+s)&&!["inline","contents"].includes(i)}function zR(t){return["table","td","th"].includes(qo(t))}function Hh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bg(t){const e=Vg(),s=Tr(t)?kr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function BR(t){let e=pi(t);for(;Jr(e)&&!ko(e);){if(Bg(e))return e;if(Hh(e))return null;e=pi(e)}return null}function Vg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ko(t){return["html","body","#document"].includes(qo(t))}function kr(t){return Vs(t).getComputedStyle(t)}function Kh(t){return Tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(qo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yy(t)&&t.host||sn(t);return Yy(e)?e.host:e}function MS(t){const e=pi(t);return ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&Vc(e)?e:MS(e)}function oc(t,e,s){var r;e===void 0&&(e=[]),s===void 0&&(s=!0);const i=MS(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Vs(i);if(a){const l=n0(o);return e.concat(o,o.visualViewport||[],Vc(i)?i:[],l&&s?oc(l):[])}return e.concat(i,oc(i,[],s))}function n0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RS(t){const e=kr(t);let s=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jr(t),a=i?t.offsetWidth:s,o=i?t.offsetHeight:r,l=Hu(s)!==a||Hu(r)!==o;return l&&(s=a,r=o),{width:s,height:r,$:l}}function Wg(t){return Tr(t)?t:t.contextElement}function eo(t){const e=Wg(t);if(!Jr(e))return Xr(1);const s=e.getBoundingClientRect(),{width:r,height:i,$:a}=RS(e);let o=(a?Hu(s.width):s.width)/r,l=(a?Hu(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const VR=Xr(0);function AS(t){const e=Vs(t);return!Vg()||!e.visualViewport?VR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WR(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==Vs(t)?!1:e}function na(t,e,s,r){e===void 0&&(e=!1),s===void 0&&(s=!1);const i=t.getBoundingClientRect(),a=Wg(t);let o=Xr(1);e&&(r?Tr(r)&&(o=eo(r)):o=eo(t));const l=WR(a,s,r)?AS(a):Xr(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const f=Vs(a),x=r&&Tr(r)?Vs(r):r;let y=f,m=n0(y);for(;m&&r&&x!==y;){const b=eo(m),g=m.getBoundingClientRect(),v=kr(m),w=g.left+(m.clientLeft+parseFloat(v.paddingLeft))*b.x,j=g.top+(m.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,h*=b.y,c+=w,d+=j,y=Vs(m),m=n0(y)}}return qu({width:u,height:h,x:c,y:d})}function Hg(t,e){const s=Kh(t).scrollLeft;return e?e.left+s:na(sn(t)).left+s}function DS(t,e,s){s===void 0&&(s=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(s?0:Hg(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function HR(t){let{elements:e,rect:s,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=sn(r),l=e?Hh(e.floating):!1;if(r===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=Xr(1);const u=Xr(0),h=Jr(r);if((h||!h&&!a)&&((qo(r)!=="body"||Vc(o))&&(c=Kh(r)),Jr(r))){const x=na(r);d=eo(r),u.x=x.x+r.clientLeft,u.y=x.y+r.clientTop}const f=o&&!h&&!a?DS(o,c,!0):Xr(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:s.y*d.y-c.scrollTop*d.y+u.y+f.y}}function KR(t){return Array.from(t.getClientRects())}function qR(t){const e=sn(t),s=Kh(t),r=t.ownerDocument.body,i=$s(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=$s(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Hg(t);const l=-s.scrollTop;return kr(r).direction==="rtl"&&(o+=$s(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function GR(t,e){const s=Vs(t),r=sn(t),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=Vg();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function QR(t,e){const s=na(t,!0,e==="fixed"),r=s.top+t.clientTop,i=s.left+t.clientLeft,a=Jr(t)?eo(t):Xr(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function Jy(t,e,s){let r;if(e==="viewport")r=GR(t,s);else if(e==="document")r=qR(sn(t));else if(Tr(e))r=QR(e,s);else{const i=AS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qu(r)}function OS(t,e){const s=pi(t);return s===e||!Tr(s)||ko(s)?!1:kr(s).position==="fixed"||OS(s,e)}function ZR(t,e){const s=e.get(t);if(s)return s;let r=oc(t,[],!1).filter(l=>Tr(l)&&qo(l)!=="body"),i=null;const a=kr(t).position==="fixed";let o=a?pi(t):t;for(;Tr(o)&&!ko(o);){const l=kr(o),c=Bg(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vc(o)&&!c&&OS(t,o))?r=r.filter(u=>u!==o):i=l,o=pi(o)}return e.set(t,r),r}function XR(t){let{element:e,boundary:s,rootBoundary:r,strategy:i}=t;const o=[...s==="clippingAncestors"?Hh(e)?[]:ZR(e,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,u)=>{const h=Jy(e,u,i);return d.top=$s(h.top,d.top),d.right=fi(h.right,d.right),d.bottom=fi(h.bottom,d.bottom),d.left=$s(h.left,d.left),d},Jy(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YR(t){const{width:e,height:s}=RS(t);return{width:e,height:s}}function JR(t,e,s){const r=Jr(e),i=sn(e),a=s==="fixed",o=na(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Xr(0);if(r||!r&&!a)if((qo(e)!=="body"||Vc(i))&&(l=Kh(e)),r){const f=na(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&(c.x=Hg(i));const d=i&&!r&&!a?DS(i,l):Xr(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function im(t){return kr(t).position==="static"}function eb(t,e){if(!Jr(t)||kr(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return sn(t)===s&&(s=s.ownerDocument.body),s}function IS(t,e){const s=Vs(t);if(Hh(t))return s;if(!Jr(t)){let i=pi(t);for(;i&&!ko(i);){if(Tr(i)&&!im(i))return i;i=pi(i)}return s}let r=eb(t,e);for(;r&&zR(r)&&im(r);)r=eb(r,e);return r&&ko(r)&&im(r)&&!Bg(r)?s:r||BR(t)||s}const eA=async function(t){const e=this.getOffsetParent||IS,s=this.getDimensions,r=await s(t.floating);return{reference:JR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tA(t){return kr(t).direction==="rtl"}const sA={convertOffsetParentRelativeRectToViewportRelativeRect:HR,getDocumentElement:sn,getClippingRect:XR,getOffsetParent:IS,getElementRects:eA,getClientRects:KR,getDimensions:YR,getScale:eo,isElement:Tr,isRTL:tA};function LS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rA(t,e){let s=null,r;const i=sn(t);function a(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:x}=d;if(l||e(),!f||!x)return;const y=jd(h),m=jd(i.clientWidth-(u+f)),b=jd(i.clientHeight-(h+x)),g=jd(u),w={rootMargin:-y+"px "+-m+"px "+-b+"px "+-g+"px",threshold:$s(0,fi(1,c))||1};let j=!0;function C(P){const E=P[0].intersectionRatio;if(E!==c){if(!j)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!LS(d,t.getBoundingClientRect())&&o(),j=!1}try{s=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{s=new IntersectionObserver(C,w)}s.observe(t)}return o(!0),a}function nA(t,e,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Wg(t),u=i||a?[...d?oc(d):[],...oc(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",s,{passive:!0}),a&&g.addEventListener("resize",s)});const h=d&&l?rA(d,s):null;let f=-1,x=null;o&&(x=new ResizeObserver(g=>{let[v]=g;v&&v.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(e)})),s()}),d&&!c&&x.observe(d),x.observe(e));let y,m=c?na(t):null;c&&b();function b(){const g=na(t);m&&!LS(m,g)&&s(),m=g,y=requestAnimationFrame(b)}return s(),()=>{var g;u.forEach(v=>{i&&v.removeEventListener("scroll",s),a&&v.removeEventListener("resize",s)}),h==null||h(),(g=x)==null||g.disconnect(),x=null,c&&cancelAnimationFrame(y)}}const iA=LR,aA=FR,oA=DR,lA=UR,cA=OR,tb=AR,dA=$R,uA=(t,e,s)=>{const r=new Map,i={platform:sA,...s},a={...i.platform,_c:r};return RR(t,e,{...i,platform:a})};var ou=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Gu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(r=s;r--!==0;)if(!Gu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),s=i.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Gu(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function FS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sb(t,e){const s=FS(t);return Math.round(e*s)/s}function am(t){const e=p.useRef(t);return ou(()=>{e.current=t}),e}function hA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=p.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[f,x]=p.useState(r);Gu(f,r)||x(r);const[y,m]=p.useState(null),[b,g]=p.useState(null),v=p.useCallback(z=>{z!==P.current&&(P.current=z,m(z))},[]),w=p.useCallback(z=>{z!==E.current&&(E.current=z,g(z))},[]),j=a||y,C=o||b,P=p.useRef(null),E=p.useRef(null),k=p.useRef(u),I=c!=null,$=am(c),_=am(i),R=am(d),W=p.useCallback(()=>{if(!P.current||!E.current)return;const z={placement:e,strategy:s,middleware:f};_.current&&(z.platform=_.current),uA(P.current,E.current,z).then(B=>{const G={...B,isPositioned:R.current!==!1};H.current&&!Gu(k.current,G)&&(k.current=G,ga.flushSync(()=>{h(G)}))})},[f,e,s,_,R]);ou(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const H=p.useRef(!1);ou(()=>(H.current=!0,()=>{H.current=!1}),[]),ou(()=>{if(j&&(P.current=j),C&&(E.current=C),j&&C){if($.current)return $.current(j,C,W);W()}},[j,C,W,$,I]);const K=p.useMemo(()=>({reference:P,floating:E,setReference:v,setFloating:w}),[v,w]),D=p.useMemo(()=>({reference:j,floating:C}),[j,C]),X=p.useMemo(()=>{const z={position:s,left:0,top:0};if(!D.floating)return z;const B=sb(D.floating,u.x),G=sb(D.floating,u.y);return l?{...z,transform:"translate("+B+"px, "+G+"px)",...FS(D.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:B,top:G}},[s,l,D.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:W,refs:K,elements:D,floatingStyles:X}),[u,W,K,D,X])}const fA=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:i}=typeof t=="function"?t(s):t;return r&&e(r)?r.current!=null?tb({element:r.current,padding:i}).fn(s):{}:r?tb({element:r,padding:i}).fn(s):{}}}},mA=(t,e)=>({...iA(t),options:[t,e]}),pA=(t,e)=>({...aA(t),options:[t,e]}),gA=(t,e)=>({...dA(t),options:[t,e]}),xA=(t,e)=>({...oA(t),options:[t,e]}),vA=(t,e)=>({...lA(t),options:[t,e]}),yA=(t,e)=>({...cA(t),options:[t,e]}),bA=(t,e)=>({...fA(t),options:[t,e]});var wA="Arrow",$S=p.forwardRef((t,e)=>{const{children:s,width:r=10,height:i=5,...a}=t;return n.jsx(Le.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});$S.displayName=wA;var jA=$S;function NA(t){const[e,s]=p.useState(void 0);return Rt(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),e}var Kg="Popper",[US,Go]=cr(Kg),[SA,zS]=US(Kg),BS=t=>{const{__scopePopper:e,children:s}=t,[r,i]=p.useState(null);return n.jsx(SA,{scope:e,anchor:r,onAnchorChange:i,children:s})};BS.displayName=Kg;var VS="PopperAnchor",WS=p.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:r,...i}=t,a=zS(VS,s),o=p.useRef(null),l=tt(e,o);return p.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(Le.div,{...i,ref:l})});WS.displayName=VS;var qg="PopperContent",[CA,TA]=US(qg),HS=p.forwardRef((t,e)=>{var U,oe,xe,be,Pe,ve;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:y,...m}=t,b=zS(qg,s),[g,v]=p.useState(null),w=tt(e,Je=>v(Je)),[j,C]=p.useState(null),P=NA(j),E=(P==null?void 0:P.width)??0,k=(P==null?void 0:P.height)??0,I=r+(a!=="center"?"-"+a:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(d)?d:[d],R=_.length>0,W={padding:$,boundary:_.filter(EA),altBoundary:R},{refs:H,floatingStyles:K,placement:D,isPositioned:X,middlewareData:z}=hA({strategy:"fixed",placement:I,whileElementsMounted:(...Je)=>nA(...Je,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[mA({mainAxis:i+k,alignmentAxis:o}),c&&pA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?gA():void 0,...W}),c&&xA({...W}),vA({...W,apply:({elements:Je,rects:ze,availableWidth:ee,availableHeight:mt})=>{const{width:Be,height:Pt}=ze.reference,jt=Je.floating.style;jt.setProperty("--radix-popper-available-width",`${ee}px`),jt.setProperty("--radix-popper-available-height",`${mt}px`),jt.setProperty("--radix-popper-anchor-width",`${Be}px`),jt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),j&&bA({element:j,padding:l}),_A({arrowWidth:E,arrowHeight:k}),f&&yA({strategy:"referenceHidden",...W})]}),[B,G]=GS(D),J=is(y);Rt(()=>{X&&(J==null||J())},[X,J]);const Te=(U=z.arrow)==null?void 0:U.x,me=(oe=z.arrow)==null?void 0:oe.y,Oe=((xe=z.arrow)==null?void 0:xe.centerOffset)!==0,[ae,_e]=p.useState();return Rt(()=>{g&&_e(window.getComputedStyle(g).zIndex)},[g]),n.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:X?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(be=z.transformOrigin)==null?void 0:be.x,(Pe=z.transformOrigin)==null?void 0:Pe.y].join(" "),...((ve=z.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:n.jsx(CA,{scope:s,placedSide:B,onArrowChange:C,arrowX:Te,arrowY:me,shouldHideArrow:Oe,children:n.jsx(Le.div,{"data-side":B,"data-align":G,...m,ref:w,style:{...m.style,animation:X?void 0:"none"}})})})});HS.displayName=qg;var KS="PopperArrow",kA={top:"bottom",right:"left",bottom:"top",left:"right"},qS=p.forwardRef(function(e,s){const{__scopePopper:r,...i}=e,a=TA(KS,r),o=kA[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(jA,{...i,ref:s,style:{...i.style,display:"block"}})})});qS.displayName=KS;function EA(t){return t!==null}var _A=t=>({name:"transformOrigin",options:t,fn(e){var b,g,v;const{placement:s,rects:r,middlewareData:i}=e,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=GS(s),h={start:"0%",center:"50%",end:"100%"}[u],f=(((g=i.arrow)==null?void 0:g.x)??0)+l/2,x=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let y="",m="";return d==="bottom"?(y=o?h:`${f}px`,m=`${-c}px`):d==="top"?(y=o?h:`${f}px`,m=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,m=o?h:`${x}px`):d==="left"&&(y=`${r.floating.width+c}px`,m=o?h:`${x}px`),{data:{x:y,y:m}}}});function GS(t){const[e,s="center"]=t.split("-");return[e,s]}var QS=BS,Gg=WS,Qg=HS,Zg=qS,[qh,bU]=cr("Tooltip",[Go]),Xg=Go(),ZS="TooltipProvider",PA=700,rb="tooltip.open",[MA,XS]=qh(ZS),YS=t=>{const{__scopeTooltip:e,delayDuration:s=PA,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(MA,{scope:e,isOpenDelayedRef:o,delayDuration:s,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};YS.displayName=ZS;var JS="Tooltip",[wU,Gh]=qh(JS),i0="TooltipTrigger",RA=p.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,i=Gh(i0,s),a=XS(i0,s),o=Xg(s),l=p.useRef(null),c=tt(e,l,i.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),n.jsx(Gg,{asChild:!0,...o,children:n.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:fe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:fe(t.onBlur,i.onClose),onClick:fe(t.onClick,i.onClose)})})});RA.displayName=i0;var AA="TooltipPortal",[jU,DA]=qh(AA,{forceMount:void 0}),Eo="TooltipContent",e2=p.forwardRef((t,e)=>{const s=DA(Eo,t.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=t,o=Gh(Eo,t.__scopeTooltip);return n.jsx(Pr,{present:r||o.open,children:o.disableHoverableContent?n.jsx(t2,{side:i,...a,ref:e}):n.jsx(OA,{side:i,...a,ref:e})})}),OA=p.forwardRef((t,e)=>{const s=Gh(Eo,t.__scopeTooltip),r=XS(Eo,t.__scopeTooltip),i=p.useRef(null),a=tt(e,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=s,u=i.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{l(null),h(!1)},[h]),x=p.useCallback((y,m)=>{const b=y.currentTarget,g={x:y.clientX,y:y.clientY},v=UA(g,b.getBoundingClientRect()),w=zA(g,v),j=BA(m.getBoundingClientRect()),C=WA([...w,...j]);l(C),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&u){const y=b=>x(b,u),m=b=>x(b,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[c,u,x,f]),p.useEffect(()=>{if(o){const y=m=>{const b=m.target,g={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!VA(g,o);v?f():w&&(f(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,f]),n.jsx(t2,{...t,ref:a})}),[IA,LA]=qh(JS,{isInside:!1}),FA=A3("TooltipContent"),t2=p.forwardRef((t,e)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Gh(Eo,s),d=Xg(s),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(rb,u),()=>document.removeEventListener(rb,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=f=>{const x=f.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),n.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:n.jsxs(Qg,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(FA,{children:r}),n.jsx(IA,{scope:s,isInside:!0,children:n.jsx(J3,{id:c.contentId,role:"tooltip",children:i||r})})]})})});e2.displayName=Eo;var s2="TooltipArrow",$A=p.forwardRef((t,e)=>{const{__scopeTooltip:s,...r}=t,i=Xg(s);return LA(s2,s).isInside?null:n.jsx(Zg,{...i,...r,ref:e})});$A.displayName=s2;function UA(t,e){const s=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zA(t,e,s=5){const r=[];switch(e){case"top":r.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":r.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":r.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":r.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return r}function BA(t){const{top:e,right:s,bottom:r,left:i}=t;return[{x:i,y:e},{x:s,y:e},{x:s,y:r},{x:i,y:r}]}function VA(t,e){const{x:s,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(i=!i)}return i}function WA(t){const e=t.slice();return e.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),HA(e)}function HA(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const s=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var KA=YS,r2=e2;const qA=KA,GA=p.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(r2,{ref:r,sideOffset:e,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...s}));GA.displayName=r2.displayName;const Nd=768;function Mr(){const[t,e]=p.useState(()=>typeof window<"u"?window.innerWidth<Nd:!1);return p.useEffect(()=>{const s=window.matchMedia(`(max-width: ${Nd-1}px)`),r=()=>{e(window.innerWidth<Nd)};return s.addEventListener("change",r),e(window.innerWidth<Nd),()=>s.removeEventListener("change",r)},[]),t}function Qh(){const[t,e]=p.useState(null),[s,r]=p.useState(!1),[i,a]=p.useState(null),o=p.useRef(),l=p.useRef(0),c=5,d=p.useCallback(()=>{try{const y=window.location.protocol==="https:"?"wss:":"ws:",m=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",b=window.location.hostname.includes("vercel.app"),g=window.location.hostname.includes("railway.app");let v;if(m)v="ws://127.0.0.1:3005/ws";else if(b){console.log("🔌 Vercel deployment detected - WebSocket not available, using polling");return}else g?(v=`${y}//${window.location.host}/ws`,console.log("🔌 Railway deployment detected - using WebSocket:",v)):v=`${y}//${window.location.host}/ws`;const w=new WebSocket(v);w.onopen=()=>{console.log("WebSocket connected"),r(!0),l.current=0,w.send(JSON.stringify({type:"ping"}))},w.onmessage=j=>{try{const C=JSON.parse(j.data);a(C),C.type==="pong"&&console.log("Received pong from server")}catch(C){console.error("Error parsing WebSocket message:",C)}},w.onclose=j=>{if(console.log("WebSocket disconnected:",j.code,j.reason),r(!1),e(null),j.code!==1e3&&l.current<c){const C=Math.min(1e3*Math.pow(2,l.current),1e4);console.log(`Attempting to reconnect in ${C}ms...`),o.current=setTimeout(()=>{l.current++,d()},C)}},w.onerror=j=>{console.error("WebSocket error:",j)},e(w)}catch(y){console.error("Failed to create WebSocket connection:",y)}},[]),u=p.useCallback(()=>{o.current&&clearTimeout(o.current),t&&t.close(1e3,"Intentional disconnect")},[t]),h=p.useCallback(y=>{t&&t.readyState===WebSocket.OPEN?t.send(JSON.stringify(y)):console.warn("WebSocket is not connected. Message not sent:",y)},[t]),f=p.useCallback(y=>{h({type:"subscribe",data:{symbols:y}})},[h]),x=p.useCallback(y=>{h({type:"unsubscribe",data:{symbols:y}})},[h]);return p.useEffect(()=>(d(),()=>{u()}),[]),p.useEffect(()=>{if(!s)return;const y=setInterval(()=>{h({type:"ping"})},3e4);return()=>clearInterval(y)},[s,h]),{socket:t,connected:s,lastMessage:i,sendMessage:h,subscribe:f,unsubscribe:x,connect:d,disconnect:u}}function Wt(){const t=lr(),{lastMessage:e}=Qh(),{data:s,isLoading:r,error:i}=kt({queryKey:["/api/auth"],queryFn:async()=>{const h=new URLSearchParams(window.location.search),f=h.get("token"),x=h.get("user");if(f&&x)return console.log("🔍 Found OAuth token in URL, storing locally"),localStorage.setItem("authToken",f),localStorage.setItem("user",decodeURIComponent(x)),window.history.replaceState({},document.title,window.location.pathname),JSON.parse(decodeURIComponent(x));const y=localStorage.getItem("authToken");if(console.log("🔍 useAuth queryFn - Auth token:",(y==null?void 0:y.substring(0,20))+"..."),!y)return console.log("No auth token found"),null;try{if(y.startsWith("user-session-")){console.log("Found user session token, using stored user data");const m=localStorage.getItem("user");if(m)return console.log("User session auth successful"),JSON.parse(m)}if(y.startsWith("admin-session-")){console.log("Making API request for admin user");const b=await(await pr("GET","/api/auth")).json();return console.log("Admin user query response:",b),b}if(y.startsWith("admin-token-")){console.log("🔧 Found admin-token, using stored user data");const m=localStorage.getItem("user");if(m){const b=JSON.parse(m);return console.log("🔧 Admin-token user data:",b),b}}if(y.startsWith("demo-token-")){const m=localStorage.getItem("demoUser");if(m)return console.log("Found demo user in localStorage"),JSON.parse(m)}if(y==="mock-admin-token"){const m=localStorage.getItem("user");if(m)return console.log("Found admin user in localStorage"),JSON.parse(m)}if(y&&(y.startsWith("mock-jwt-token")||y==="mock-jwt-token")){console.log("Found mock JWT token, using stored user data");const m=localStorage.getItem("user");if(m){const b=JSON.parse(m);return console.log("Mock JWT user data:",b),b}}if(y&&(y.startsWith("token_admin-001_")||y.startsWith("token_superadmin-001_"))){console.log("🔧 Found admin token, using stored user data");const m=localStorage.getItem("user");if(m){const b=JSON.parse(m);return console.log("🔧 Admin token user data:",b),b}}if(y&&!y.startsWith("demo-token-")&&!y.startsWith("admin-session-")&&!y.startsWith("admin-token-")&&!y.startsWith("mock-jwt-token")&&y!=="mock-jwt-token"&&!y.startsWith("token_admin-001_")&&!y.startsWith("token_superadmin-001_")){console.log("Making API request for JWT token user");const b=await(await pr("GET","/api/auth")).json();return console.log("JWT user query response:",b),b}return console.log("🔍 No matching token pattern found"),null}catch(m){console.log("🔴 Auth query error:",m);const b=localStorage.getItem("authToken");if(b&&(b.startsWith("mock-jwt-token")||b==="mock-jwt-token"||b==="mock-admin-token"||b.startsWith("token_admin-001_")||b.startsWith("token_superadmin-001_")||b.startsWith("admin-token-")||b.startsWith("user-session-"))){const g=localStorage.getItem("user");if(g)return console.log("Auth query failed, but using stored user data for token:",b.substring(0,20)+"..."),JSON.parse(g)}return m.message&&m.message.includes("401")&&(localStorage.removeItem("authToken"),localStorage.removeItem("demoUser"),localStorage.removeItem("user")),null}},retry:!1,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),a=Qt({mutationFn:async h=>{try{return await(await pr("POST","/api/auth",h)).json()}catch(f){console.error("Login error:",f);let x="Login failed";throw f.message&&(f.message.includes("401")?x="Invalid username or password":f.message.includes("400")?x="Username and password are required":f.message.includes("500")?x="Server error. Please try again later.":x=f.message),new Error(x)}},onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),o=Qt({mutationFn:async h=>{try{const f="/api/admin/login",x=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname==="0.0.0.0",y=window.location.hostname.includes("vercel.app"),m=x?"http://127.0.0.1:3005":"",b=`${m}${f}`;console.log("🔧 Login Debug Info:",{isLocal:x,isVercel:y,isProd:!0,hostname:window.location.hostname,endpoint:f,baseUrl:m,fullUrl:b});const g=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok)throw new Error(`HTTP ${g.status}: ${g.statusText}`);return await g.json()}catch(f){console.error("Admin login error:",f);let x="Admin login failed";throw f.message&&(f.message.includes("401")?x="Invalid admin credentials":f.message.includes("403")?x="Access denied. Admin privileges required.":f.message.includes("400")?x="Username and password are required":f.message.includes("500")?x="Server error. Please try again later.":x=f.message),new Error(x)}},onSuccess:h=>{console.log("🔧 Admin login success:",h),h.token&&localStorage.setItem("authToken",h.token),h.user&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),l=Qt({mutationFn:async()=>{try{await pr("POST","/api/auth?action=logout")}catch(h){console.warn("Logout API failed, continuing with local cleanup:",h)}},onSuccess:()=>{t.setQueryData(["/api/auth"],null),t.invalidateQueries({queryKey:["/api/auth"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"},onError:()=>{t.setQueryData(["/api/auth/user"],null),t.invalidateQueries({queryKey:["/api/auth/user"]}),localStorage.removeItem("authToken"),localStorage.removeItem("user"),sessionStorage.clear(),window.location.href="/"}}),c=Qt({mutationFn:async h=>{try{return(await pr("POST","/api/auth",h)).json()}catch(f){console.warn("Main auth endpoint failed, trying fallback:",f);try{const y=await(await pr("POST","/api/auth/user/register",{username:h.username,email:h.email,password:h.password})).json();return(h.firstName||h.lastName)&&console.warn("Note: firstName and lastName were not saved due to fallback endpoint limitations"),y}catch(x){console.error("Both registration endpoints failed:",x),console.warn("Creating demo user locally due to server issues");const y={id:`demo-user-${Date.now()}`,username:h.username,email:h.email,role:"user",firstName:h.firstName,lastName:h.lastName};return localStorage.setItem("demoUser",JSON.stringify(y)),localStorage.setItem("authToken",`demo-token-${Date.now()}`),{user:y,message:"Registration successful (Demo Mode - Local Storage)",token:`demo-token-${Date.now()}`,success:!0}}}},onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),h.user&&h.token&&h.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),d=Qt({mutationFn:async h=>(await pr("POST","/api/auth",h)).json(),onSuccess:h=>{h.token&&localStorage.setItem("authToken",h.token),h.user&&h.token&&h.token.startsWith("user-session-")&&localStorage.setItem("user",JSON.stringify(h.user)),t.setQueryData(["/api/auth"],h.user),t.invalidateQueries({queryKey:["/api/auth"]})}}),u=()=>{console.log("🔄 Force refreshing auth state"),t.invalidateQueries({queryKey:["/api/auth"]}),t.refetchQueries({queryKey:["/api/auth"]})};return p.useEffect(()=>{if(e&&e.type==="verification_status_updated"){const{userId:h,verification_status:f,message:x,forceRefresh:y}=e;s&&s.id===h&&(console.log("🔔 Verification status updated:",f),y?(localStorage.removeItem("user"),t.removeQueries({queryKey:["/api/auth"]}),t.invalidateQueries({queryKey:["/api/auth"]}),t.refetchQueries({queryKey:["/api/auth"]}),console.log("🔄 Forced complete refresh of user data")):u(),typeof window<"u"&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Account Verification Update",{body:x,icon:"/favicon.ico"}),console.log("🎉 Verification status update:",x))}},[e,s,u,t]),{user:s,isLoading:r,isAuthenticated:!!s,error:i,userLogin:a.mutateAsync,adminLogin:o.mutateAsync,logout:l.mutateAsync,register:c.mutateAsync,metamaskLogin:d.mutateAsync,refreshAuth:u,isUserLoginPending:a.isPending,isAdminLoginPending:o.isPending,isLogoutPending:l.isPending,isRegisterPending:c.isPending,isMetamaskLoginPending:d.isPending}}const QA=[{path:"/",label:"Home",normalIcon:"/Homeiconbar-normal.png?v=5",activeIcon:"/iconbar_Home-active.png?v=5"},{path:"/market",label:"Market",normalIcon:"/iconbar_Market-normal.png?v=5",activeIcon:"/iconbar_Market-active.png?v=5"},{path:"/trade",label:"Trade",normalIcon:"/iconbar_Trade-normal.png?v=5",activeIcon:"/iconbar_Trade-active.png?v=5"},{path:"/wallet",label:"Wallet",normalIcon:"/iconbar_Wallet-normal.png?v=5",activeIcon:"/iconbar_Wallet-active.png?v=5"},{path:"/support",label:"Support",normalIcon:"/iconbar_Support-normal.png?v=5",activeIcon:"/iconbar_Support-active.png?v=5"}],ZA=t=>{switch(t){case"/":return"🏠";case"/market":return"📈";case"/trade":return"💱";case"/wallet":return"💰";case"/support":return"❓";default:return"📱"}};function Qu(){const[t,e]=or(),[s,r]=p.useState(!1),[i,a]=p.useState(!1),[o,l]=p.useState(null);if(Wt(),p.useEffect(()=>{const h=()=>{if(typeof window<"u"){const f=window.innerWidth;a(f<1024)}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),!i)return null;const c=h=>h==="/"?t==="/":t.startsWith(h),d=h=>{h==="/trade"?r(!s):(r(!1),e(h))},u=h=>{r(!1),e(h)};return n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:"fixed left-0 right-0 z-[9998] bg-gray-900/95 backdrop-blur-sm border-t border-gray-700/50",style:{bottom:"80px",position:"fixed",left:0,right:0,zIndex:9998,maxWidth:"100vw",overflow:"hidden"},children:n.jsx("div",{className:"py-4 px-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>u("/trade/spot"),className:"w-full relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 rounded-lg cursor-pointer transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})}),n.jsx("button",{onClick:()=>u("/trade/options"),className:"w-full relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 rounded-lg cursor-pointer transition-all duration-300",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})]})})}),n.jsx("div",{className:"mobile-bottom-nav",style:{position:"fixed",bottom:"0px",left:"0px",right:"0px",zIndex:99999,backgroundColor:"#1A1B3A",borderTop:"2px solid #4F46E5",height:"80px",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 8px",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"100vw",overflow:"hidden"},children:QA.map(h=>{const f=c(h.path),x=o===h.path,y=f||x;return n.jsx("button",{onClick:()=>d(h.path),onMouseEnter:()=>l(h.path),onMouseLeave:()=>l(null),onTouchStart:()=>l(h.path),onTouchEnd:()=>l(null),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"6px 4px",flex:"1",maxWidth:"20%",minWidth:"0",backgroundColor:f?"rgba(79, 70, 229, 0.2)":x?"rgba(79, 70, 229, 0.1)":"transparent",borderRadius:"6px",border:"none",cursor:"pointer",transition:"all 0.2s ease",transform:x?"scale(1.02)":"scale(1)"},children:n.jsx("div",{className:"nav-icon",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("img",{src:y?h.activeIcon:h.normalIcon,alt:`${h.label} icon`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"all 0.2s ease"},onError:m=>{const b=m.currentTarget;b.style.display="none";const g=b.parentElement;g&&(g.innerHTML=ZA(h.path),g.style.fontSize="24px")}})})},h.path)})})]})}const XA=Bh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-white",secondary:"bg-secondary text-white hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-white",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=p.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...i},a)=>{const o=r?WN:"button";return n.jsx(o,{className:ke(XA({variant:e,size:s,className:t})),ref:a,...i})});V.displayName="Button";const Yg="/assets/new-metachrome-logo-1759988004767.png";function YA(){const[t,e]=p.useState(!1),[s,r]=or(),{user:i,isAuthenticated:a,logout:o}=Wt();if(!Mr())return null;const c=d=>{r(d),e(!1)};return n.jsxs(n.Fragment,{children:[n.jsxs("header",{className:"bg-[#1A1B3A] border-b border-gray-700/50 px-4 py-3 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:Yg,alt:"METACHROME",className:"h-8 w-auto",onClick:()=>c("/")})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-4 bg-red-500 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white",children:"🇺🇸"})}),a?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(V,{variant:"ghost",size:"sm",onClick:()=>{const d=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin"?"/admin/dashboard":"/dashboard";c(d)},className:"text-gray-300 hover:text-white",children:[n.jsx(e0,{className:"w-4 h-4 mr-1"}),"Account"]}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(),className:"text-gray-300 hover:text-white",children:"Logout"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>c("/signup"),className:"text-gray-300 hover:text-white",children:"Sign up"}),n.jsx(V,{size:"sm",onClick:()=>c("/login"),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Login"})]})]})]}),t&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:()=>e(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-64 bg-[#1A1B3A] p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-white font-semibold",children:"Menu"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>e(!1),children:n.jsx(Vh,{className:"w-4 h-4"})})]}),n.jsxs("nav",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>c("/"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Home"}),n.jsx("button",{onClick:()=>c("/market"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Market"}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"text-gray-300 py-2 px-3 text-base font-medium",children:"Trade"}),n.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[n.jsx(Xe,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer",onClick:()=>e(!1),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),n.jsx(Xe,{href:"/trade/options",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer",onClick:()=>e(!1),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}),n.jsx("button",{onClick:()=>c("/wallet"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Wallet"}),n.jsx("button",{onClick:()=>c("/support"),className:"w-full text-left py-2 px-3 text-gray-300 hover:text-white hover:bg-gray-700/50 rounded",children:"Support"})]})]})})]})}var JA=p.createContext(void 0);function Zh(t){const e=p.useContext(JA);return t||e||"ltr"}var om=0;function Jg(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nb()),document.body.insertAdjacentElement("beforeend",t[1]??nb()),om++,()=>{om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),om--}},[])}function nb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lm="focusScope.autoFocusOnMount",cm="focusScope.autoFocusOnUnmount",ib={bubbles:!1,cancelable:!0},eD="FocusScope",Xh=p.forwardRef((t,e)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=is(i),u=is(a),h=p.useRef(null),f=tt(e,m=>c(m)),x=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let m=function(w){if(x.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:On(h.current,{select:!0})},b=function(w){if(x.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||On(h.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&On(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const v=new MutationObserver(g);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,x.paused]),p.useEffect(()=>{if(l){ob.add(x);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(lm,ib);l.addEventListener(lm,d),l.dispatchEvent(g),g.defaultPrevented||(tD(aD(n2(l)),{select:!0}),document.activeElement===m&&On(l))}return()=>{l.removeEventListener(lm,d),setTimeout(()=>{const g=new CustomEvent(cm,ib);l.addEventListener(cm,u),l.dispatchEvent(g),g.defaultPrevented||On(m??document.body,{select:!0}),l.removeEventListener(cm,u),ob.remove(x)},0)}}},[l,d,u,x]);const y=p.useCallback(m=>{if(!s&&!r||x.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(b&&g){const v=m.currentTarget,[w,j]=sD(v);w&&j?!m.shiftKey&&g===j?(m.preventDefault(),s&&On(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),s&&On(j,{select:!0})):g===v&&m.preventDefault()}},[s,r,x.paused]);return n.jsx(Le.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});Xh.displayName=eD;function tD(t,{select:e=!1}={}){const s=document.activeElement;for(const r of t)if(On(r,{select:e}),document.activeElement!==s)return}function sD(t){const e=n2(t),s=ab(e,t),r=ab(e.reverse(),t);return[s,r]}function n2(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function ab(t,e){for(const s of t)if(!rD(s,{upTo:e}))return s}function rD(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nD(t){return t instanceof HTMLInputElement&&"select"in t}function On(t,{select:e=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&nD(t)&&e&&t.select()}}var ob=iD();function iD(){let t=[];return{add(e){const s=t[0];e!==s&&(s==null||s.pause()),t=lb(t,e),t.unshift(e)},remove(e){var s;t=lb(t,e),(s=t[0])==null||s.resume()}}}function lb(t,e){const s=[...t],r=s.indexOf(e);return r!==-1&&s.splice(r,1),s}function aD(t){return t.filter(e=>e.tagName!=="A")}var dm="rovingFocusGroup.onEntryFocus",oD={bubbles:!1,cancelable:!0},Yh="RovingFocusGroup",[a0,i2,lD]=$h(Yh),[cD,Jh]=cr(Yh,[lD]),[dD,uD]=cD(Yh),a2=p.forwardRef((t,e)=>n.jsx(a0.Provider,{scope:t.__scopeRovingFocusGroup,children:n.jsx(a0.Slot,{scope:t.__scopeRovingFocusGroup,children:n.jsx(hD,{...t,ref:e})})}));a2.displayName=Yh;var hD=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=p.useRef(null),x=tt(e,f),y=Zh(a),[m=null,b]=ra({prop:o,defaultProp:l,onChange:c}),[g,v]=p.useState(!1),w=is(d),j=i2(s),C=p.useRef(!1),[P,E]=p.useState(0);return p.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(dm,w),()=>k.removeEventListener(dm,w)},[w]),n.jsx(dD,{scope:s,orientation:r,dir:y,loop:i,currentTabStopId:m,onItemFocus:p.useCallback(k=>b(k),[b]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>E(k=>k-1),[]),children:n.jsx(Le.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{C.current=!0}),onFocus:fe(t.onFocus,k=>{const I=!C.current;if(k.target===k.currentTarget&&I&&!g){const $=new CustomEvent(dm,oD);if(k.currentTarget.dispatchEvent($),!$.defaultPrevented){const _=j().filter(D=>D.focusable),R=_.find(D=>D.active),W=_.find(D=>D.id===m),K=[R,W,..._].filter(Boolean).map(D=>D.ref.current);c2(K,u)}}C.current=!1}),onBlur:fe(t.onBlur,()=>v(!1))})})}),o2="RovingFocusGroupItem",l2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=Nr(),c=a||l,d=uD(o2,s),u=d.currentTabStopId===c,h=i2(s),{onFocusableItemAdd:f,onFocusableItemRemove:x}=d;return p.useEffect(()=>{if(r)return f(),()=>x()},[r,f,x]),n.jsx(a0.ItemSlot,{scope:s,id:c,focusable:r,active:i,children:n.jsx(Le.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=pD(y,d.orientation,d.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let g=h().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const v=g.indexOf(y.currentTarget);g=d.loop?gD(g,v+1):g.slice(v+1)}setTimeout(()=>c2(g))}})})})});l2.displayName=o2;var fD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pD(t,e,s){const r=mD(t.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fD[r]}function c2(t,e=!1){const s=document.activeElement;for(const r of t)if(r===s||(r.focus({preventScroll:e}),document.activeElement!==s))return}function gD(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var d2=a2,u2=l2,xD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ja=new WeakMap,Sd=new WeakMap,Cd={},um=0,h2=function(t){return t&&(t.host||h2(t.parentNode))},vD=function(t,e){return e.map(function(s){if(t.contains(s))return s;var r=h2(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},yD=function(t,e,s,r){var i=vD(e,Array.isArray(t)?t:[t]);Cd[s]||(Cd[s]=new WeakMap);var a=Cd[s],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var x=f.getAttribute(r),y=x!==null&&x!=="false",m=(ja.get(f)||0)+1,b=(a.get(f)||0)+1;ja.set(f,m),a.set(f,b),o.push(f),m===1&&y&&Sd.set(f,!0),b===1&&f.setAttribute(s,"true"),y||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(e),l.clear(),um++,function(){o.forEach(function(h){var f=ja.get(h)-1,x=a.get(h)-1;ja.set(h,f),a.set(h,x),f||(Sd.has(h)||h.removeAttribute(r),Sd.delete(h)),x||h.removeAttribute(s)}),um--,um||(ja=new WeakMap,ja=new WeakMap,Sd=new WeakMap,Cd={})}},ex=function(t,e,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=xD(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),yD(r,i,s,"aria-hidden")):function(){return null}},Vr=function(){return Vr=Object.assign||function(e){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vr.apply(this,arguments)};function f2(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function bD(t,e,s){if(s||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var lu="right-scroll-bar-position",cu="width-before-scroll-bar",wD="with-scroll-bars-hidden",jD="--removed-body-scroll-bar-size";function hm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ND(t,e){var s=p.useState(function(){return{value:t,callback:e,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=e,s.facade}var SD=typeof window<"u"?p.useLayoutEffect:p.useEffect,cb=new WeakMap;function CD(t,e){var s=ND(null,function(r){return t.forEach(function(i){return hm(i,r)})});return SD(function(){var r=cb.get(s);if(r){var i=new Set(r),a=new Set(t),o=s.current;i.forEach(function(l){a.has(l)||hm(l,null)}),a.forEach(function(l){i.has(l)||hm(l,o)})}cb.set(s,t)},[t]),s}function TD(t){return t}function kD(t,e){e===void 0&&(e=TD);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(a){var o=e(a,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return i}function ED(t){t===void 0&&(t={});var e=kD(null);return e.options=Vr({async:!0,ssr:!1},t),e}var m2=function(t){var e=t.sideCar,s=f2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Vr({},s))};m2.isSideCarExport=!0;function _D(t,e){return t.useMedium(e),m2}var p2=ED(),fm=function(){},ef=p.forwardRef(function(t,e){var s=p.useRef(null),r=p.useState({onScrollCapture:fm,onWheelCapture:fm,onTouchMoveCapture:fm}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,x=t.noIsolation,y=t.inert,m=t.allowPinchZoom,b=t.as,g=b===void 0?"div":b,v=t.gapMode,w=f2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,C=CD([s,e]),P=Vr(Vr({},w),i);return p.createElement(p.Fragment,null,u&&p.createElement(j,{sideCar:p2,removeScrollBar:d,shards:h,noIsolation:x,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:s,gapMode:v}),o?p.cloneElement(p.Children.only(l),Vr(Vr({},P),{ref:C})):p.createElement(g,Vr({},P,{className:c,ref:C}),l))});ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ef.classNames={fullWidth:cu,zeroRight:lu};var PD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=PD();return e&&t.setAttribute("nonce",e),t}function RD(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AD(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var DD=function(){var t=0,e=null;return{add:function(s){t==0&&(e=MD())&&(RD(e,s),AD(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OD=function(){var t=DD();return function(e,s){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&s])}},g2=function(){var t=OD(),e=function(s){var r=s.styles,i=s.dynamic;return t(r,i),null};return e},ID={left:0,top:0,right:0,gap:0},mm=function(t){return parseInt(t||"",10)||0},LD=function(t){var e=window.getComputedStyle(document.body),s=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[mm(s),mm(r),mm(i)]},FD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ID;var e=LD(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-s+e[2]-e[0])}},$D=g2(),to="data-scroll-locked",UD=function(t,e,s,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(wD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(to,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cu," .").concat(cu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(to,`] {
    `).concat(jD,": ").concat(l,`px;
  }
`)},db=function(){var t=parseInt(document.body.getAttribute(to)||"0",10);return isFinite(t)?t:0},zD=function(){p.useEffect(function(){return document.body.setAttribute(to,(db()+1).toString()),function(){var t=db()-1;t<=0?document.body.removeAttribute(to):document.body.setAttribute(to,t.toString())}},[])},BD=function(t){var e=t.noRelative,s=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;zD();var a=p.useMemo(function(){return FD(i)},[i]);return p.createElement($D,{styles:UD(a,!e,i,s?"":"!important")})},o0=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return o0=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{o0=!1}var Na=o0?{passive:!1}:!1,VD=function(t){return t.tagName==="TEXTAREA"},x2=function(t,e){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!VD(t)&&s[e]==="visible")},WD=function(t){return x2(t,"overflowY")},HD=function(t){return x2(t,"overflowX")},ub=function(t,e){var s=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=v2(t,r);if(i){var a=y2(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},KD=function(t){var e=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[e,s,r]},qD=function(t){var e=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[e,s,r]},v2=function(t,e){return t==="v"?WD(e):HD(e)},y2=function(t,e){return t==="v"?KD(e):qD(e)},GD=function(t,e){return t==="h"&&e==="rtl"?-1:1},QD=function(t,e,s,r,i){var a=GD(t,window.getComputedStyle(e).direction),o=a*r,l=s.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{var x=y2(t,l),y=x[0],m=x[1],b=x[2],g=m-b-a*y;(y||g)&&v2(t,l)&&(h+=g,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(d=!0),d},kd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hb=function(t){return[t.deltaX,t.deltaY]},fb=function(t){return t&&"current"in t?t.current:t},ZD=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YD=0,Sa=[];function JD(t){var e=p.useRef([]),s=p.useRef([0,0]),r=p.useRef(),i=p.useState(YD++)[0],a=p.useState(g2)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=bD([t.lockRef.current],(t.shards||[]).map(fb),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=kd(m),v=s.current,w="deltaX"in m?m.deltaX:v[0]-g[0],j="deltaY"in m?m.deltaY:v[1]-g[1],C,P=m.target,E=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&E==="h"&&P.type==="range")return!1;var k=ub(E,P);if(!k)return!0;if(k?C=E:(C=E==="v"?"h":"v",k=ub(E,P)),!k)return!1;if(!r.current&&"changedTouches"in m&&(w||j)&&(r.current=C),!C)return!0;var I=r.current||C;return QD(I,b,m,I==="h"?w:j,!0)},[]),c=p.useCallback(function(m){var b=m;if(!(!Sa.length||Sa[Sa.length-1]!==a)){var g="deltaY"in b?hb(b):kd(b),v=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&ZD(C.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(fb).filter(Boolean).filter(function(C){return C.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=p.useCallback(function(m,b,g,v){var w={name:m,delta:b,target:g,should:v,shadowParent:e6(g)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(j){return j!==w})},1)},[]),u=p.useCallback(function(m){s.current=kd(m),r.current=void 0},[]),h=p.useCallback(function(m){d(m.type,hb(m),m.target,l(m,t.lockRef.current))},[]),f=p.useCallback(function(m){d(m.type,kd(m),m.target,l(m,t.lockRef.current))},[]);p.useEffect(function(){return Sa.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Na),document.addEventListener("touchmove",c,Na),document.addEventListener("touchstart",u,Na),function(){Sa=Sa.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Na),document.removeEventListener("touchmove",c,Na),document.removeEventListener("touchstart",u,Na)}},[]);var x=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:XD(i)}):null,x?p.createElement(BD,{gapMode:t.gapMode}):null)}function e6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t6=_D(p2,JD);var tf=p.forwardRef(function(t,e){return p.createElement(ef,Vr({},t,{ref:e,sideCar:t6}))});tf.classNames=ef.classNames;var l0=["Enter"," "],s6=["ArrowDown","PageUp","Home"],b2=["ArrowUp","PageDown","End"],r6=[...s6,...b2],n6={ltr:[...l0,"ArrowRight"],rtl:[...l0,"ArrowLeft"]},i6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wc="Menu",[lc,a6,o6]=$h(Wc),[xa,w2]=cr(Wc,[o6,Go,Jh]),sf=Go(),j2=Jh(),[l6,va]=xa(Wc),[c6,Hc]=xa(Wc),N2=t=>{const{__scopeMenu:e,open:s=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=sf(e),[c,d]=p.useState(null),u=p.useRef(!1),h=is(a),f=Zh(i);return p.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(QS,{...l,children:n.jsx(l6,{scope:e,open:s,onOpenChange:h,content:c,onContentChange:d,children:n.jsx(c6,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};N2.displayName=Wc;var d6="MenuAnchor",tx=p.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t,i=sf(s);return n.jsx(Gg,{...i,...r,ref:e})});tx.displayName=d6;var sx="MenuPortal",[u6,S2]=xa(sx,{forceMount:void 0}),C2=t=>{const{__scopeMenu:e,forceMount:s,children:r,container:i}=t,a=va(sx,e);return n.jsx(u6,{scope:e,forceMount:s,children:n.jsx(Pr,{present:s||a.open,children:n.jsx(zc,{asChild:!0,container:i,children:r})})})};C2.displayName=sx;var nr="MenuContent",[h6,rx]=xa(nr),T2=p.forwardRef((t,e)=>{const s=S2(nr,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,a=va(nr,t.__scopeMenu),o=Hc(nr,t.__scopeMenu);return n.jsx(lc.Provider,{scope:t.__scopeMenu,children:n.jsx(Pr,{present:r||a.open,children:n.jsx(lc.Slot,{scope:t.__scopeMenu,children:o.modal?n.jsx(f6,{...i,ref:e}):n.jsx(m6,{...i,ref:e})})})})}),f6=p.forwardRef((t,e)=>{const s=va(nr,t.__scopeMenu),r=p.useRef(null),i=tt(e,r);return p.useEffect(()=>{const a=r.current;if(a)return ex(a)},[]),n.jsx(nx,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),m6=p.forwardRef((t,e)=>{const s=va(nr,t.__scopeMenu);return n.jsx(nx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),p6=sa("MenuContent.ScrollLock"),nx=p.forwardRef((t,e)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,disableOutsideScroll:y,...m}=t,b=va(nr,s),g=Hc(nr,s),v=sf(s),w=j2(s),j=a6(s),[C,P]=p.useState(null),E=p.useRef(null),k=tt(e,E,b.onContentChange),I=p.useRef(0),$=p.useRef(""),_=p.useRef(0),R=p.useRef(null),W=p.useRef("right"),H=p.useRef(0),K=y?tf:p.Fragment,D=y?{as:p6,allowPinchZoom:!0}:void 0,X=B=>{var U,oe;const G=$.current+B,J=j().filter(xe=>!xe.disabled),Te=document.activeElement,me=(U=J.find(xe=>xe.ref.current===Te))==null?void 0:U.textValue,Oe=J.map(xe=>xe.textValue),ae=k6(Oe,G,me),_e=(oe=J.find(xe=>xe.textValue===ae))==null?void 0:oe.ref.current;(function xe(be){$.current=be,window.clearTimeout(I.current),be!==""&&(I.current=window.setTimeout(()=>xe(""),1e3))})(G),_e&&setTimeout(()=>_e.focus())};p.useEffect(()=>()=>window.clearTimeout(I.current),[]),Jg();const z=p.useCallback(B=>{var J,Te;return W.current===((J=R.current)==null?void 0:J.side)&&_6(B,(Te=R.current)==null?void 0:Te.area)},[]);return n.jsx(h6,{scope:s,searchRef:$,onItemEnter:p.useCallback(B=>{z(B)&&B.preventDefault()},[z]),onItemLeave:p.useCallback(B=>{var G;z(B)||((G=E.current)==null||G.focus(),P(null))},[z]),onTriggerLeave:p.useCallback(B=>{z(B)&&B.preventDefault()},[z]),pointerGraceTimerRef:_,onPointerGraceIntentChange:p.useCallback(B=>{R.current=B},[]),children:n.jsx(K,{...D,children:n.jsx(Xh,{asChild:!0,trapped:i,onMountAutoFocus:fe(a,B=>{var G;B.preventDefault(),(G=E.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,children:n.jsx(d2,{asChild:!0,...w,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:P,onEntryFocus:fe(c,B=>{g.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Qg,{role:"menu","aria-orientation":"vertical","data-state":B2(b.open),"data-radix-menu-content":"",dir:g.dir,...v,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:fe(m.onKeyDown,B=>{const J=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Te=B.ctrlKey||B.altKey||B.metaKey,me=B.key.length===1;J&&(B.key==="Tab"&&B.preventDefault(),!Te&&me&&X(B.key));const Oe=E.current;if(B.target!==Oe||!r6.includes(B.key))return;B.preventDefault();const _e=j().filter(U=>!U.disabled).map(U=>U.ref.current);b2.includes(B.key)&&_e.reverse(),C6(_e)}),onBlur:fe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(I.current),$.current="")}),onPointerMove:fe(t.onPointerMove,cc(B=>{const G=B.target,J=H.current!==B.clientX;if(B.currentTarget.contains(G)&&J){const Te=B.clientX>H.current?"right":"left";W.current=Te,H.current=B.clientX}}))})})})})})})});T2.displayName=nr;var g6="MenuGroup",ix=p.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{role:"group",...r,ref:e})});ix.displayName=g6;var x6="MenuLabel",k2=p.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{...r,ref:e})});k2.displayName=x6;var Zu="MenuItem",mb="menu.itemSelect",rf=p.forwardRef((t,e)=>{const{disabled:s=!1,onSelect:r,...i}=t,a=p.useRef(null),o=Hc(Zu,t.__scopeMenu),l=rx(Zu,t.__scopeMenu),c=tt(e,a),d=p.useRef(!1),u=()=>{const h=a.current;if(!s&&h){const f=new CustomEvent(mb,{bubbles:!0,cancelable:!0});h.addEventListener(mb,x=>r==null?void 0:r(x),{once:!0}),Ag(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(E2,{...i,ref:c,disabled:s,onClick:fe(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:fe(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:fe(t.onKeyDown,h=>{const f=l.searchRef.current!=="";s||f&&h.key===" "||l0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});rf.displayName=Zu;var E2=p.forwardRef((t,e)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...a}=t,o=rx(Zu,s),l=j2(s),c=p.useRef(null),d=tt(e,c),[u,h]=p.useState(!1),[f,x]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&x((y.textContent??"").trim())},[a.children]),n.jsx(lc.ItemSlot,{scope:s,disabled:r,textValue:i??f,children:n.jsx(u2,{asChild:!0,...l,focusable:!r,children:n.jsx(Le.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:fe(t.onPointerMove,cc(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,cc(y=>o.onItemLeave(y))),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})}),v6="MenuCheckboxItem",_2=p.forwardRef((t,e)=>{const{checked:s=!1,onCheckedChange:r,...i}=t;return n.jsx(D2,{scope:t.__scopeMenu,checked:s,children:n.jsx(rf,{role:"menuitemcheckbox","aria-checked":Xu(s)?"mixed":s,...i,ref:e,"data-state":ox(s),onSelect:fe(i.onSelect,()=>r==null?void 0:r(Xu(s)?!0:!s),{checkForDefaultPrevented:!1})})})});_2.displayName=v6;var P2="MenuRadioGroup",[y6,b6]=xa(P2,{value:void 0,onValueChange:()=>{}}),M2=p.forwardRef((t,e)=>{const{value:s,onValueChange:r,...i}=t,a=is(r);return n.jsx(y6,{scope:t.__scopeMenu,value:s,onValueChange:a,children:n.jsx(ix,{...i,ref:e})})});M2.displayName=P2;var R2="MenuRadioItem",A2=p.forwardRef((t,e)=>{const{value:s,...r}=t,i=b6(R2,t.__scopeMenu),a=s===i.value;return n.jsx(D2,{scope:t.__scopeMenu,checked:a,children:n.jsx(rf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":ox(a),onSelect:fe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});A2.displayName=R2;var ax="MenuItemIndicator",[D2,w6]=xa(ax,{checked:!1}),O2=p.forwardRef((t,e)=>{const{__scopeMenu:s,forceMount:r,...i}=t,a=w6(ax,s);return n.jsx(Pr,{present:r||Xu(a.checked)||a.checked===!0,children:n.jsx(Le.span,{...i,ref:e,"data-state":ox(a.checked)})})});O2.displayName=ax;var j6="MenuSeparator",I2=p.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t;return n.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});I2.displayName=j6;var N6="MenuArrow",L2=p.forwardRef((t,e)=>{const{__scopeMenu:s,...r}=t,i=sf(s);return n.jsx(Zg,{...i,...r,ref:e})});L2.displayName=N6;var S6="MenuSub",[NU,F2]=xa(S6),xl="MenuSubTrigger",$2=p.forwardRef((t,e)=>{const s=va(xl,t.__scopeMenu),r=Hc(xl,t.__scopeMenu),i=F2(xl,t.__scopeMenu),a=rx(xl,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),n.jsx(tx,{asChild:!0,...d,children:n.jsx(E2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":B2(s.open),...t,ref:Vo(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,cc(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:fe(t.onPointerLeave,cc(h=>{var x,y;u();const f=(x=s.content)==null?void 0:x.getBoundingClientRect();if(f){const m=(y=s.content)==null?void 0:y.dataset.side,b=m==="right",g=b?-5:5,v=f[b?"left":"right"],w=f[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+g,y:h.clientY},{x:v,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:v,y:f.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,h=>{var x;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||n6[r.dir].includes(h.key)&&(s.onOpenChange(!0),(x=s.content)==null||x.focus(),h.preventDefault())})})})});$2.displayName=xl;var U2="MenuSubContent",z2=p.forwardRef((t,e)=>{const s=S2(nr,t.__scopeMenu),{forceMount:r=s.forceMount,...i}=t,a=va(nr,t.__scopeMenu),o=Hc(nr,t.__scopeMenu),l=F2(U2,t.__scopeMenu),c=p.useRef(null),d=tt(e,c);return n.jsx(lc.Provider,{scope:t.__scopeMenu,children:n.jsx(Pr,{present:r||a.open,children:n.jsx(lc.Slot,{scope:t.__scopeMenu,children:n.jsx(nx,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:fe(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:fe(t.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),f=i6[o.dir].includes(u.key);h&&f&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});z2.displayName=U2;function B2(t){return t?"open":"closed"}function Xu(t){return t==="indeterminate"}function ox(t){return Xu(t)?"indeterminate":t?"checked":"unchecked"}function C6(t){const e=document.activeElement;for(const s of t)if(s===e||(s.focus(),document.activeElement!==e))return}function T6(t,e){return t.map((s,r)=>t[(e+r)%t.length])}function k6(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=T6(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function E6(t,e){const{x:s,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,u=e[o].y;c>r!=u>r&&s<(d-l)*(r-c)/(u-c)+l&&(i=!i)}return i}function _6(t,e){if(!e)return!1;const s={x:t.clientX,y:t.clientY};return E6(s,e)}function cc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var P6=N2,M6=tx,R6=C2,A6=T2,D6=ix,O6=k2,I6=rf,L6=_2,F6=M2,$6=A2,U6=O2,z6=I2,B6=L2,V6=$2,W6=z2,lx="DropdownMenu",[H6,SU]=cr(lx,[w2]),bs=w2(),[K6,V2]=H6(lx),W2=t=>{const{__scopeDropdownMenu:e,children:s,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=bs(e),d=p.useRef(null),[u=!1,h]=ra({prop:i,defaultProp:a,onChange:o});return n.jsx(K6,{scope:e,triggerId:Nr(),triggerRef:d,contentId:Nr(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:n.jsx(P6,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:s})})};W2.displayName=lx;var H2="DropdownMenuTrigger",K2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=t,a=V2(H2,s),o=bs(s);return n.jsx(M6,{asChild:!0,...o,children:n.jsx(Le.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Vo(e,a.triggerRef),onPointerDown:fe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:fe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});K2.displayName=H2;var q6="DropdownMenuPortal",q2=t=>{const{__scopeDropdownMenu:e,...s}=t,r=bs(e);return n.jsx(R6,{...r,...s})};q2.displayName=q6;var G2="DropdownMenuContent",Q2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=V2(G2,s),a=bs(s),o=p.useRef(!1);return n.jsx(A6,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q2.displayName=G2;var G6="DropdownMenuGroup",Q6=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(D6,{...i,...r,ref:e})});Q6.displayName=G6;var Z6="DropdownMenuLabel",Z2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(O6,{...i,...r,ref:e})});Z2.displayName=Z6;var X6="DropdownMenuItem",X2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(I6,{...i,...r,ref:e})});X2.displayName=X6;var Y6="DropdownMenuCheckboxItem",Y2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(L6,{...i,...r,ref:e})});Y2.displayName=Y6;var J6="DropdownMenuRadioGroup",eO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(F6,{...i,...r,ref:e})});eO.displayName=J6;var tO="DropdownMenuRadioItem",J2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx($6,{...i,...r,ref:e})});J2.displayName=tO;var sO="DropdownMenuItemIndicator",eC=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(U6,{...i,...r,ref:e})});eC.displayName=sO;var rO="DropdownMenuSeparator",tC=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(z6,{...i,...r,ref:e})});tC.displayName=rO;var nO="DropdownMenuArrow",iO=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(B6,{...i,...r,ref:e})});iO.displayName=nO;var aO="DropdownMenuSubTrigger",sC=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(V6,{...i,...r,ref:e})});sC.displayName=aO;var oO="DropdownMenuSubContent",rC=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:s,...r}=t,i=bs(s);return n.jsx(W6,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rC.displayName=oO;var lO=W2,cO=K2,dO=q2,nC=Q2,iC=Z2,aC=X2,oC=Y2,lC=J2,cC=eC,dC=tC,uC=sC,hC=rC;const uO=lO,hO=cO,fO=p.forwardRef(({className:t,inset:e,children:s,...r},i)=>n.jsxs(uC,{ref:i,className:ke("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[s,n.jsx(CM,{className:"ml-auto"})]}));fO.displayName=uC.displayName;const mO=p.forwardRef(({className:t,...e},s)=>n.jsx(hC,{ref:s,className:ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));mO.displayName=hC.displayName;const fC=p.forwardRef(({className:t,sideOffset:e=4,...s},r)=>n.jsx(dO,{children:n.jsx(nC,{ref:r,sideOffset:e,className:ke("z-[60] max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s})}));fC.displayName=nC.displayName;const du=p.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(aC,{ref:r,className:ke("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s}));du.displayName=aC.displayName;const pO=p.forwardRef(({className:t,children:e,checked:s,...r},i)=>n.jsxs(oC,{ref:i,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cC,{children:n.jsx(gS,{className:"h-4 w-4"})})}),e]}));pO.displayName=oC.displayName;const gO=p.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(lC,{ref:r,className:ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(cC,{children:n.jsx(kM,{className:"h-2 w-2 fill-current"})})}),e]}));gO.displayName=lC.displayName;const xO=p.forwardRef(({className:t,inset:e,...s},r)=>n.jsx(iC,{ref:r,className:ke("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));xO.displayName=iC.displayName;const mC=p.forwardRef(({className:t,...e},s)=>n.jsx(dC,{ref:s,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));mC.displayName=dC.displayName;function dc(){const[t,e]=or(),[s,r]=p.useState(!1),[i,a]=p.useState(!1),[o,l]=p.useState(null),{user:c,isAuthenticated:d,logout:u}=Wt(),h=[{path:"/",label:"Home"},{path:"/market",label:"Market"},{path:"/trade",label:"Trade",hasDropdown:!0,dropdownItems:[{path:"/trade/spot",label:"Spot"},{path:"/trade/options",label:"Options"}]},{path:"/wallet",label:"Wallet"},{path:"/support",label:"Support"}];return p.useEffect(()=>()=>{o&&clearTimeout(o)},[o]),n.jsx("header",{className:"bg-[#34344E] border-b border-gray-700/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(Xe,{href:"/",children:n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:Yg,alt:"METACHROME",className:"h-[2.6rem] w-auto"})})})}),n.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:h.map(f=>n.jsx("div",{className:"relative",children:f.hasDropdown?n.jsxs("div",{className:"relative",onMouseEnter:()=>{o&&(clearTimeout(o),l(null)),r(!0)},onMouseLeave:()=>{const x=setTimeout(()=>{r(!1)},300);l(x)},children:[n.jsxs("button",{className:`text-gray-300 hover:text-white px-3 py-2 text-sm font-medium flex items-center ${t.startsWith("/trade")?"text-white":""}`,children:[f.label,n.jsx(ui,{className:"ml-1 h-4 w-4"})]}),s&&n.jsxs("div",{className:"absolute top-full left-0 mt-1 w-80 bg-gray-900/95 backdrop-blur-sm border border-gray-700/50 rounded-xl shadow-2xl z-[60] overflow-hidden",children:[n.jsx(Xe,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 transition-all duration-300 cursor-pointer group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-4 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-12 h-12 object-contain"})})]})})}),n.jsx(Xe,{href:"/trade/options",children:n.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 transition-all duration-300 cursor-pointer group",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-sm text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-4 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-12 h-12 object-contain"})})]})})})]})]}):n.jsx(Xe,{href:f.path,children:n.jsx("span",{className:`text-gray-300 hover:text-white px-3 py-2 text-sm font-medium ${t===f.path?"text-white":""}`,children:f.label})})},f.path))}),n.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-300",children:[n.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"w-5 h-3"}),n.jsx("span",{children:"English"})]}),d?n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs(uO,{children:[n.jsx(hO,{asChild:!0,children:n.jsxs(V,{variant:"ghost",className:"flex items-center space-x-2 text-gray-300 hover:text-white hover:bg-gray-800",children:[n.jsx(e0,{className:"w-5 h-5"}),n.jsx("span",{children:"Account"}),n.jsx(ui,{className:"w-4 h-4"})]})}),n.jsxs(fC,{align:"end",className:"w-56 bg-gray-800 border-gray-700",children:[n.jsxs(du,{onClick:()=>{const f=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="super_admin"?"/admin/dashboard":"/dashboard";e(f)},className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(nc,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),n.jsxs(du,{onClick:()=>e("/profile"),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Profile"]}),n.jsx(mC,{className:"bg-gray-700"}),n.jsxs(du,{onClick:()=>u(),className:"flex items-center w-full px-2 py-2 text-gray-300 hover:text-white hover:bg-gray-700 cursor-pointer",children:[n.jsx(By,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Xe,{href:"/login",children:n.jsx(V,{variant:"outline",size:"sm",className:"text-gray-300 border-gray-600 hover:bg-gray-700 hover:text-white",children:"Login"})}),n.jsx(Xe,{href:"/signup",children:n.jsx(V,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",children:"Sign Up"})})]})]}),n.jsx("div",{className:"md:hidden",children:n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>a(!i),className:"text-gray-300 hover:text-white",children:i?n.jsx(Vh,{className:"h-6 w-6"}):n.jsx(DM,{className:"h-6 w-6"})})})]}),i&&n.jsx("div",{className:"md:hidden border-t border-gray-800",children:n.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[h.map(f=>n.jsx("div",{children:f.hasDropdown?n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-300 block px-3 py-2 text-base font-medium",children:f.label}),n.jsxs("div",{className:"mx-3 mb-2 space-y-2",children:[n.jsx(Xe,{href:"/trade/spot",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg cursor-pointer",onClick:()=>a(!1),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"SPOT"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Buy and sell crypto instantly at",n.jsx("br",{}),"real-time market prices."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-spot_icon.png",alt:"Spot Trading",className:"w-10 h-10 object-contain"})})]})})}),n.jsx(Xe,{href:"/trade/options",children:n.jsx("div",{className:"relative p-3 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-lg cursor-pointer",onClick:()=>a(!1),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-base font-bold text-black mb-1",children:"OPTION"}),n.jsxs("p",{className:"text-xs text-black/80 leading-tight",children:["Maximize gains by predicting",n.jsx("br",{}),"market moves in seconds."]})]}),n.jsx("div",{className:"ml-3 flex-shrink-0",children:n.jsx("img",{src:"/asset/trade-option_icon.png",alt:"Options Trading",className:"w-10 h-10 object-contain"})})]})})})]})]}):n.jsx(Xe,{href:f.path,children:n.jsx("div",{className:`block px-3 py-2 text-base font-medium hover:text-white hover:bg-gray-800 ${t===f.path?"text-purple-400":"text-gray-300"}`,onClick:()=>a(!1),children:f.label})})},f.path)),n.jsx("div",{className:"pt-4 space-y-2",children:d?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-300 px-3 py-2",children:[n.jsx(e0,{className:"w-4 h-4"}),n.jsx("span",{children:"Account"})]}),n.jsxs(V,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:()=>{const f=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="super_admin"?"/admin/dashboard":"/dashboard";e(f),a(!1)},children:[n.jsx(nc,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),n.jsx(Xe,{href:"/profile",children:n.jsxs(V,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800 mb-2",onClick:()=>a(!1),children:[n.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Profile"]})}),n.jsxs(V,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:()=>{u(),a(!1)},children:[n.jsx(By,{className:"w-4 h-4 mr-2"}),"Logout"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx(Xe,{href:"/login",children:n.jsx(V,{variant:"outline",className:"w-full text-gray-300 border-gray-700 hover:bg-gray-800",onClick:()=>a(!1),children:"Login"})}),n.jsx(Xe,{href:"/signup",children:n.jsx(V,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white border-0",onClick:()=>a(!1),children:"Sign Up"})})]})})]})})]})})}function Yu(){return n.jsx("footer",{className:"bg-[#181D20] border-t border-gray-600/30",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"col-span-1 md:col-span-1",children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsx("img",{src:Yg,alt:"METACHROME",className:"h-8 w-auto"})}),n.jsx("p",{className:"text-gray-400 text-sm mb-4 leading-relaxed",children:"We're passionate about creating unforgettable moments. Our platform provides a seamless and transparent trading experience, with a range of exciting crypto and fiat currency options."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(Xe,{href:"/trade/options",className:"text-gray-400 hover:text-white text-sm",children:"Options Trade"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/trade/spot",className:"text-gray-400 hover:text-white text-sm",children:"Spot Trade"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/market",className:"text-gray-400 hover:text-white text-sm",children:"Market"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(Xe,{href:"/",className:"text-gray-400 hover:text-white text-sm",children:"Home"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/signup",className:"text-gray-400 hover:text-white text-sm",children:"Sign Up"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/support",className:"text-gray-400 hover:text-white text-sm",children:"Support"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(Xe,{href:"/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Trade Policy"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/terms",className:"text-gray-400 hover:text-white text-sm",children:"Terms of Service"})}),n.jsx("li",{children:n.jsx(Xe,{href:"/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Privacy Policy"})})]})]})]}),n.jsxs("div",{className:"border-t border-gray-600/30 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-gray-500 text-xs mb-4 md:mb-0",children:["© 2025 ",n.jsx("span",{className:"font-bold text-purple-500",children:"Metachrome"}),". All Rights Reserved"]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),n.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})]})]})]})})}function vO({children:t}){const e=Mr(),[s]=or(),[r,i]=p.useState(!1),o=!["/admin/login","/trade/options","/options","/trade/spot"].includes(s);return p.useEffect(()=>{const l=()=>{const c=typeof window<"u"?window.innerWidth:1024;i(c<1024)};if(l(),typeof window<"u")return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),e||r?n.jsxs("div",{className:"min-h-screen bg-gray-900 overflow-x-hidden max-w-full relative",children:[o&&n.jsx(YA,{}),n.jsx("main",{className:"relative pb-20 overflow-x-hidden max-w-full",children:t}),o&&n.jsx(Yu,{}),n.jsx(Qu,{}),n.jsx("div",{id:"mobile-modal-root",className:"relative z-[99999]"})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[o&&n.jsx(dc,{}),n.jsx("main",{children:t}),o&&n.jsx(Yu,{}),n.jsx(Qu,{})]})}const le=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));le.displayName="Card";const Ke=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));Ke.displayName="CardHeader";const qe=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));qe.displayName="CardTitle";const dt=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("text-sm text-muted-foreground",t),...e}));dt.displayName="CardDescription";const ce=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("p-6 pt-0",t),...e}));ce.displayName="CardContent";const yO=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{ref:s,className:ke("flex items-center p-6 pt-0",t),...e}));yO.displayName="CardFooter";const Ce=p.forwardRef(({className:t,type:e,...s},r)=>n.jsx("input",{type:e,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));Ce.displayName="Input";function bO(t,e,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var wO=I0[" useInsertionEffect ".trim().toString()]||Rt;function jO({prop:t,defaultProp:e,onChange:s=()=>{},caller:r}){const[i,a,o]=NO({defaultProp:e,onChange:s}),l=t!==void 0,c=l?t:i;{const u=p.useRef(t!==void 0);p.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=p.useCallback(u=>{var h;if(l){const f=SO(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else a(u)},[l,t,a,o]);return[c,d]}function NO({defaultProp:t,onChange:e}){const[s,r]=p.useState(t),i=p.useRef(s),a=p.useRef(e);return wO(()=>{a.current=e},[e]),p.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,r,a]}function SO(t){return typeof t=="function"}function CO(t){const e=TO(t),s=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(EO);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}function TO(t){const e=p.forwardRef((s,r)=>{const{children:i,...a}=s;if(p.isValidElement(i)){const o=PO(i),l=_O(a,i.props);return i.type!==p.Fragment&&(l.ref=r?Vo(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kO=Symbol("radix.slottable");function EO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kO}function _O(t,e){const s={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function PO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var MO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cx=MO.reduce((t,e)=>{const s=CO(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RO(t,e){return p.useReducer((s,r)=>e[s][r]??s,t)}var pC=t=>{const{present:e,children:s}=t,r=AO(e),i=typeof s=="function"?s({present:r.isPresent}):p.Children.only(s),a=tt(r.ref,DO(i));return typeof s=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};pC.displayName="Presence";function AO(t){const[e,s]=p.useState(),r=p.useRef(null),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=RO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Ed(r.current);a.current=l==="mounted"?d:"none"},[l]),Rt(()=>{const d=r.current,u=i.current;if(u!==t){const f=a.current,x=Ed(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Rt(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=x=>{const m=Ed(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&m&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=x=>{x.target===e&&(a.current=Ed(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function Ed(t){return(t==null?void 0:t.animationName)||"none"}function DO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var nf="Collapsible",[OO,CU]=cr(nf),[IO,dx]=OO(nf),gC=p.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,d]=jO({prop:r,defaultProp:i??!1,onChange:o,caller:nf});return n.jsx(IO,{scope:s,disabled:a,contentId:Nr(),open:c,onOpenToggle:p.useCallback(()=>d(u=>!u),[d]),children:n.jsx(cx.div,{"data-state":hx(c),"data-disabled":a?"":void 0,...l,ref:e})})});gC.displayName=nf;var xC="CollapsibleTrigger",vC=p.forwardRef((t,e)=>{const{__scopeCollapsible:s,...r}=t,i=dx(xC,s);return n.jsx(cx.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":hx(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:bO(t.onClick,i.onOpenToggle)})});vC.displayName=xC;var ux="CollapsibleContent",yC=p.forwardRef((t,e)=>{const{forceMount:s,...r}=t,i=dx(ux,t.__scopeCollapsible);return n.jsx(pC,{present:s||i.open,children:({present:a})=>n.jsx(LO,{...r,ref:e,present:a})})});yC.displayName=ux;var LO=p.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:r,children:i,...a}=t,o=dx(ux,s),[l,c]=p.useState(r),d=p.useRef(null),u=tt(e,d),h=p.useRef(0),f=h.current,x=p.useRef(0),y=x.current,m=o.open||l,b=p.useRef(m),g=p.useRef(void 0);return p.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),Rt(()=>{const v=d.current;if(v){g.current=g.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();h.current=w.height,x.current=w.width,b.current||(v.style.transitionDuration=g.current.transitionDuration,v.style.animationName=g.current.animationName),c(r)}},[o.open,r]),n.jsx(cx.div,{"data-state":hx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:m&&i})});function hx(t){return t?"open":"closed"}var FO=gC;const Ju=FO,eh=vC,th=yC,bC="/assets/hero-desktop_1754552987909-1759988004767.jpg",$O="/assets/hero-mobile-1759988004767.jpg";function UO(){const t=Mr(),[,e]=or(),s=()=>{e("/trade/options")};return t?n.jsx("section",{className:"relative overflow-hidden bg-black",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:$O,alt:"METACHROME Hero Banner",className:"w-full h-auto object-cover",style:{maxHeight:"300px"},onError:r=>{r.currentTarget.style.display="none",r.currentTarget.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",r.currentTarget.parentElement.style.minHeight="300px"}}),n.jsx("div",{className:"absolute bottom-8 left-4 z-20",children:n.jsx(V,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-2.5 rounded-lg text-base font-semibold border-0 shadow-lg",children:"Start Trading"})})]})}):n.jsx("section",{className:"relative overflow-hidden bg-black py-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:bC,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-contain rounded-lg",style:{maxHeight:"440px"}}),n.jsx("div",{className:"absolute bottom-20 left-8 z-20",children:n.jsx(V,{onClick:s,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-3 rounded-lg text-lg font-semibold border-0 shadow-lg",children:"Start Trading"})})]})})})}const pb="/assets/new-metachrome-card-1759988004767.png",sh="/assets/FAQ_image-2_1755414462649-1759988004767.png",zO="/assets/featureimage01_1754552987907-1759988004767.png",BO="/assets/featureimage02_1754552987908-1759988004767.png",VO="/assets/featureimage03_1754552987909-1759988004767.png",gb="/assets/emailsb_1754552987905-1759988004767.png";function WO({type:t="chart",symbol:e="BINANCE:BTCUSDT",height:s="100%",interval:r="1",theme:i="dark",style:a="1",locale:o="en",timezone:l="Etc/UTC",allow_symbol_change:c=!0,container_id:d="tradingview_widget",onPriceUpdate:u,onSymbolChange:h}){const f=p.useRef(null);return p.useEffect(()=>{if(f.current){if(f.current.innerHTML="",t==="ticker"){const x=document.createElement("script");x.src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js",x.type="text/javascript",x.async=!0,x.innerHTML=JSON.stringify({symbols:[{proName:"FOREXCOM:SPXUSD",title:"S&P 500"},{proName:"FOREXCOM:NSXUSD",title:"US 100"},{proName:"FX_IDC:EURUSD",title:"EUR/USD"},{proName:"BITSTAMP:BTCUSD",title:"BTC/USD"},{proName:"BITSTAMP:ETHUSD",title:"ETH/USD"},{proName:"BINANCE:BNBUSDT",title:"BNB/USDT"}],showSymbolLogo:!0,colorTheme:"dark",isTransparent:!0,displayMode:"adaptive",locale:"en"}),f.current.appendChild(x)}else{const x=document.createElement("script");x.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",x.type="text/javascript",x.async=!0;const y=window.innerWidth<=768,m={autosize:!0,symbol:e,interval:r,timezone:l,theme:i,style:a,locale:o,enable_publishing:!1,allow_symbol_change:c,calendar:!1,support_host:"https://www.tradingview.com",container_id:d,hide_side_toolbar:y&&d==="options_mobile_chart",hide_top_toolbar:!1,hide_legend:y&&d==="options_mobile_chart",save_image:!1,backgroundColor:i==="dark"?"#0F0F0F":"#FFFFFF",gridColor:i==="dark"?"rgba(242, 242, 242, 0.06)":"rgba(0, 0, 0, 0.06)",studies:[],watchlist:[],details:!y||d!=="options_mobile_chart",hotlist:!1,withdateranges:!y||d!=="options_mobile_chart",hide_volume:y&&d==="options_mobile_chart"};x.innerHTML=JSON.stringify(m),x.onload=()=>{if(u&&window.TradingView)try{const g=setInterval(()=>{var v;try{const w=(v=f.current)==null?void 0:v.querySelector("iframe");if(w&&w.contentWindow){const j=117124.78+(Math.random()-.5)*1e3;u(j)}}catch(w){console.log("Price monitoring error:",w)}},5e3);return()=>clearInterval(g)}catch(b){console.log("TradingView price monitoring setup error:",b)}},f.current.appendChild(x)}return()=>{f.current&&(f.current.innerHTML="")}}},[t,e,s,r,i,a,o,l,c,d]),n.jsx("div",{className:`tradingview-widget-container ${t==="ticker"?"w-full h-16 overflow-hidden bg-transparent":""}`,ref:f,style:{height:t==="ticker"?"64px":typeof s=="number"?`${s}px`:s,width:"100%"},children:t==="ticker"?n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:n.jsx("div",{className:"animate-pulse",children:"Loading market data..."})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"tradingview-widget-container__widget",style:{height:"calc(100% - 32px)",width:"100%"}}),n.jsx("div",{className:"tradingview-widget-copyright",children:n.jsx("a",{href:`https://www.tradingview.com/symbols/${e.replace(":","-")}/?exchange=${e.split(":")[0]}`,rel:"noopener nofollow",target:"_blank",children:n.jsxs("span",{className:"blue-text",children:[e," chart by TradingView"]})})})]})})}const rh=p.memo(WO),HO=()=>{const[t,e]=p.useState([]),[s,r]=p.useState(!0),[i,a]=p.useState(null),o=async()=>{try{r(!0);const l=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,binancecoin,solana,cardano,ripple,dogecoin,polygon,avalanche-2,chainlink&order=market_cap_desc&per_page=10&page=1&sparkline=false&price_change_percentage=24h");if(!l.ok)throw new Error("Failed to fetch cryptocurrency data");const d=(await l.json()).map(u=>{var h,f,x;return{id:u.id,symbol:`${u.symbol.toUpperCase()}/USDT`,name:u.name,price:`$${u.current_price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:u.current_price<1?6:2})}`,change:`${((h=u.price_change_percentage_24h)==null?void 0:h.toFixed(2))||"0.00"}%`,high:`$${((f=u.high_24h)==null?void 0:f.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:u.high_24h<1?6:2}))||"N/A"}`,low:`$${((x=u.low_24h)==null?void 0:x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:u.low_24h<1?6:2}))||"N/A"}`,isPositive:(u.price_change_percentage_24h||0)>=0,marketCap:u.market_cap,volume:u.total_volume,image:u.image,coinGeckoId:u.id,rawPrice:u.current_price,rawChange:u.price_change_percentage_24h||0}});e(d),a(null)}catch(l){console.error("Error fetching crypto data:",l),a(l.message),e([{id:"bitcoin",symbol:"BTC/USDT",name:"Bitcoin",price:"$43,250.50",change:"+2.45%",high:"$44,100",low:"$42,800",isPositive:!0,image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",coinGeckoId:"bitcoin"},{id:"ethereum",symbol:"ETH/USDT",name:"Ethereum",price:"$2,650.75",change:"-1.23%",high:"$2,720",low:"$2,580",isPositive:!1,image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",coinGeckoId:"ethereum"},{id:"binancecoin",symbol:"BNB/USDT",name:"BNB",price:"$315.20",change:"+3.67%",high:"$325",low:"$305",isPositive:!0,image:"https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",coinGeckoId:"binancecoin"},{id:"solana",symbol:"SOL/USDT",name:"Solana",price:"$98.45",change:"+5.12%",high:"$102",low:"$94",isPositive:!0,image:"https://assets.coingecko.com/coins/images/4128/large/solana.png",coinGeckoId:"solana"},{id:"cardano",symbol:"ADA/USDT",name:"Cardano",price:"$0.485",change:"-2.34%",high:"$0.52",low:"$0.47",isPositive:!1,image:"https://assets.coingecko.com/coins/images/975/large/cardano.png",coinGeckoId:"cardano"}])}finally{r(!1)}};return p.useEffect(()=>{o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[]),{cryptoData:t,loading:s,error:i,refetch:o}},KO=(t,e="spot")=>{const s=t.split("/")[0].toLowerCase();return e==="options"?`/trade/options?symbol=${s}usdt`:`/trade/spot?symbol=${s}usdt`};function qO(){const[t,e]=p.useState(null),[s,r]=p.useState(""),[,i]=or(),a=Mr(),{cryptoData:o,loading:l,error:c}=HO(),d=(m,b="spot")=>{const g=KO(m.symbol,b);i(g)},u=[{symbol:"OP",price:"$2.22",change:"+14.75%",color:"bg-red-500"},{symbol:"DOGE",price:"$0.371",change:"+8.51%",color:"bg-yellow-500"},{symbol:"PEPE",price:"$0.000018",change:"+6.23%",color:"bg-green-500"},{symbol:"UNI",price:"$6.45",change:"+10.15%",color:"bg-blue-500"}],h=[{icon:zO,title:"Fast Execution",description:"Experience blazing-fast trade performance and experience."},{icon:BO,title:"Secure Wallets",description:"Your assets are protected with top-level security protocols."},{icon:VO,title:"Real-Time Updates",description:"Stay updated with real-time charts and market data."}],f=[{title:"Create Your Account",description:"Join in seconds, secure, and built for all traders."},{title:"Verify & Activate",description:"Unlock full access with multi-layered protection."},{title:"Deposit / Buy Crypto",description:"Top up with flexible options, ready to deploy instantly."},{title:"Trade",description:"Experience deep liquidity, real-time insights, and refined execution."}],x=[{question:"What products does METACHROME Ecosystem include?",answer:"Our ecosystem includes spot trading, futures, options, and advanced trading tools with MetaMask integration."},{question:"Why is it better to trade cryptocurrencies on METACHROME?",answer:"Advanced trading features with competitive fees, superior execution, and admin-controlled outcomes."},{question:"Can I buy cryptocurrency with a credit card?",answer:"Yes, we support multiple payment methods including credit cards and crypto wallets."},{question:"How to buy cryptocurrency on METACHROME?",answer:"Connect your MetaMask wallet and start trading with our intuitive interface."},{question:"How to Complete Identity Verification?",answer:"Upload required documents through our secure verification system for enhanced features."}],y=m=>{m.preventDefault(),console.log("Newsletter signup:",s),r("")};return a?n.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[n.jsx(UO,{}),n.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/20 border-y border-blue-500/30 relative py-2",children:n.jsx("div",{className:"w-full",children:n.jsx(rh,{type:"ticker"})})}),n.jsxs("section",{className:"px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Currency List"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data • 24h Changes"}),l&&n.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),c&&n.jsxs("p",{className:"text-red-400 text-sm mt-2",children:["Using cached data • ",c]})]}),n.jsx(le,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:n.jsx(ce,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-800/30",children:[n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Name"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Price"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"24h"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-400 text-xs",children:"Actions"})]})}),n.jsx("tbody",{children:l?Array.from({length:5}).map((m,b)=>n.jsxs("tr",{className:"border-b border-purple-800/20",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{children:[n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse mb-1 w-12"}),n.jsx("div",{className:"h-2 bg-gray-700 rounded animate-pulse w-8"})]})]})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})}),n.jsx("td",{className:"p-3",children:n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-10"})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"h-6 bg-gray-700 rounded animate-pulse w-10"}),n.jsx("div",{className:"h-6 bg-gray-700 rounded animate-pulse w-12"})]})})]},b)):o.slice(0,8).map(m=>n.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:[m.image?n.jsx("img",{src:m.image,alt:m.name,className:"w-5 h-5 object-cover",onError:b=>{b.currentTarget.style.display="none",b.currentTarget.nextElementSibling.style.display="flex"}}):null,n.jsx("span",{className:"text-white font-bold text-xs",style:{display:m.image?"none":"flex"},children:m.symbol.split("/")[0].charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white text-sm",children:m.symbol}),n.jsx("div",{className:"text-xs text-gray-400",children:m.name})]})]})}),n.jsx("td",{className:"p-3 text-white font-medium text-sm",children:m.price}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:`flex items-center space-x-1 ${m.isPositive?"text-green-400":"text-red-400"}`,children:[m.isPositive?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Bu,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium text-xs",children:m.change})]})}),n.jsx("td",{className:"p-3",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(V,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white text-xs px-2 py-1 h-6",onClick:()=>d(m,"spot"),children:"Spot"}),n.jsx(V,{variant:"outline",size:"sm",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white text-xs px-2 py-1 h-6",onClick:()=>d(m,"options"),children:"Options"})]})})]},m.symbol))})]})})})})]}),n.jsxs("section",{className:"px-4 py-8",children:[n.jsx("div",{className:"mb-6",children:n.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-left",children:"Top Gainers"})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.map(m=>n.jsx(le,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsx("div",{className:`w-8 h-8 ${m.color} rounded-full flex items-center justify-center`,children:n.jsx("span",{className:"text-white font-bold text-xs",children:m.symbol})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-bold text-sm",children:m.symbol}),n.jsx("span",{className:"text-gray-400 text-xs",children:m.price.replace("$","")})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-3 h-3 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-bold text-sm",children:m.change})]})]})]})},m.symbol))})]}),n.jsxs("section",{className:"px-4 py-8",children:[n.jsx("div",{className:"mb-8 text-left",children:n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Metachrome Features"})}),n.jsx("div",{className:"space-y-6",children:h.map((m,b)=>n.jsx(le,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:n.jsxs(ce,{className:"p-6 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("img",{src:m.icon,alt:m.title,className:"w-32 h-32 object-contain"})}),n.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:m.title}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:m.description})]})},b))})]}),n.jsx("section",{className:"bg-black py-12",children:n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"A New Era Begins"}),n.jsx("p",{className:"text-gray-400 mb-8 text-base leading-relaxed",children:"Explore the future of trading—smart, secure, and accessible for everyone."}),n.jsx("div",{className:"space-y-6",children:f.map((m,b)=>n.jsxs("div",{className:"flex items-start space-x-3 relative",children:[n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0 bg-black z-10",children:b+1}),b<f.length-1&&n.jsx("div",{className:"w-0.5 h-12 bg-gray-600 mt-3"})]}),n.jsxs("div",{className:"flex-1 pt-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:m.title}),n.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:m.description})]})]},b))})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:pb,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),n.jsx("section",{className:"px-4 py-8",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-base",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-64 h-64",children:n.jsx("img",{src:sh,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),n.jsx("div",{className:"space-y-4",children:x.map((m,b)=>n.jsxs(Ju,{open:t===b,onOpenChange:()=>e(t===b?null:b),children:[n.jsx(eh,{asChild:!0,children:n.jsx(le,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===b?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:n.jsx(ce,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:`font-medium pr-3 text-sm transition-colors duration-300 ${t===b?"text-purple-400":"text-white"}`,children:m.question}),n.jsx(ui,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===b?"rotate-180 text-purple-400":""}`})]})})})}),n.jsx(th,{children:n.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-sm",children:m.answer})})})]},b))})]})}),n.jsx("section",{className:"bg-black py-8",children:n.jsx("div",{className:"px-4",children:n.jsx(le,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"space-y-6 text-center",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"relative",children:n.jsx("img",{src:gb,alt:"Newsletter Chart",className:"w-full max-w-xs h-auto object-contain"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs mb-2 uppercase tracking-wider",children:"Get Started For Free"}),n.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 leading-tight",children:["Subscribe our newsletter &",n.jsx("br",{}),"Stay Update Every Day"]}),n.jsxs("form",{onSubmit:y,className:"flex flex-col space-y-3",children:[n.jsx(Ce,{type:"email",placeholder:"Enter you email",value:s,onChange:m=>r(m.target.value),className:"bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-10 rounded-lg"}),n.jsx(V,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-6 py-2 h-10 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]}):n.jsxs("div",{className:"min-h-screen bg-[#0D0B1F] text-white",children:[n.jsx("section",{className:"relative overflow-hidden bg-black py-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:bC,alt:"METACHROME Hero Banner - We believe in the future",className:"w-full h-auto object-contain rounded-lg",style:{maxHeight:"440px"}}),n.jsx("div",{className:"absolute top-80 left-40 z-20",children:n.jsx(V,{onClick:()=>i("/trade/options"),className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-8 py-4 rounded-lg text-lg font-semibold border-0 shadow-lg transform hover:scale-105 transition-all duration-300",children:"Start Trading"})})]})})}),n.jsx("section",{className:"bg-gradient-to-r from-blue-600/20 to-blue-500/20 border-y border-blue-500/30 relative py-2",children:n.jsx("div",{className:"w-full",children:n.jsx(rh,{type:"ticker"})})}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Currency List"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time market data • 24h Changes"}),l&&n.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Loading real-time data..."}),c&&n.jsxs("p",{className:"text-red-400 text-sm mt-2",children:["Using cached data • ",c]})]}),n.jsx(le,{className:"bg-[#1a1340]/80 border-purple-800/30 backdrop-blur-sm",children:n.jsx(ce,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-purple-800/30",children:[n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Name"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Last Price"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Change"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h High"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"24h Low"}),n.jsx("th",{className:"text-left p-6 font-medium text-gray-400 text-sm",children:"Actions"})]})}),n.jsx("tbody",{children:l?Array.from({length:5}).map((m,b)=>n.jsxs("tr",{className:"border-b border-purple-800/20",children:[n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full animate-pulse"}),n.jsxs("div",{children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse mb-1 w-20"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-16"})]})]})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-24"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-16"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),n.jsx("td",{className:"p-6",children:n.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse w-20"})}),n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"h-8 bg-gray-700 rounded animate-pulse w-16"}),n.jsx("div",{className:"h-8 bg-gray-700 rounded animate-pulse w-20"})]})})]},b)):o.map(m=>n.jsxs("tr",{className:"border-b border-purple-800/20 hover:bg-purple-900/20 transition-colors",children:[n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:[m.image?n.jsx("img",{src:m.image,alt:m.name,className:"w-8 h-8 object-cover",onError:b=>{b.currentTarget.style.display="none",b.currentTarget.nextElementSibling.style.display="flex"}}):null,n.jsx("span",{className:"text-white font-bold text-sm",style:{display:m.image?"none":"flex"},children:m.symbol.split("/")[0].charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white",children:m.symbol}),n.jsx("div",{className:"text-sm text-gray-400",children:m.name})]})]})}),n.jsx("td",{className:"p-6 text-white font-medium",children:m.price}),n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:`flex items-center space-x-1 ${m.isPositive?"text-green-400":"text-red-400"}`,children:[m.isPositive?n.jsx(zs,{className:"w-4 h-4"}):n.jsx(Bu,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:m.change})]})}),n.jsx("td",{className:"p-6 text-gray-300",children:m.high}),n.jsx("td",{className:"p-6 text-gray-300",children:m.low}),n.jsx("td",{className:"p-6",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(V,{variant:"outline",size:"sm",className:"border-blue-600 text-blue-400 hover:bg-blue-600 hover:text-white",onClick:()=>d(m,"spot"),children:[n.jsx($y,{className:"w-3 h-3 mr-1"}),"Spot"]}),n.jsxs(V,{variant:"outline",size:"sm",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white",onClick:()=>d(m,"options"),children:[n.jsx($y,{className:"w-3 h-3 mr-1"}),"Options"]})]})})]},m.symbol))})]})})})})]}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsx("div",{className:"mb-8",children:n.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-left",children:"Top Gainers"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(m=>n.jsx(le,{className:"bg-[#1E1E2E] border-[#2A2A3E] backdrop-blur-sm hover:bg-[#252537] transition-all duration-300 rounded-xl",children:n.jsxs(ce,{className:"p-6",children:[n.jsx("div",{className:"flex items-center mb-6",children:n.jsx("div",{className:`w-12 h-12 ${m.color} rounded-full flex items-center justify-center`,children:n.jsx("span",{className:"text-white font-bold text-sm",children:m.symbol})})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-bold text-lg",children:m.symbol}),n.jsx("span",{className:"text-gray-400 text-sm",children:m.price.replace("$","")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-green-400 font-bold text-lg",children:m.change})]})]})]})},m.symbol))})]}),n.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsx("div",{className:"mb-12 text-left",children:n.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Metachrome Features"})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:h.map((m,b)=>n.jsx(le,{className:"bg-[#1B1B2F] border-[#3B82F6]/30 backdrop-blur-sm hover:border-[#3B82F6]/60 transition-all duration-300 rounded-3xl",children:n.jsxs(ce,{className:"p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("img",{src:m.icon,alt:m.title,className:"w-60 h-60 object-contain"})}),n.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:m.title}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-base",children:m.description})]})},b))})]}),n.jsx("section",{className:"bg-black py-24",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"A New Era Begins"}),n.jsx("p",{className:"text-gray-400 mb-12 text-lg leading-relaxed",children:"Explore the future of trading—smart, secure, and accessible for everyone."}),n.jsx("div",{className:"space-y-8",children:f.map((m,b)=>n.jsxs("div",{className:"flex items-start space-x-4 relative",children:[n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"w-10 h-10 border-2 border-gray-400 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0 bg-black z-10",children:b+1}),b<f.length-1&&n.jsx("div",{className:"w-0.5 h-16 bg-gray-600 mt-4"})]}),n.jsxs("div",{className:"flex-1 pt-2",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:m.title}),n.jsx("p",{className:"text-gray-400 leading-relaxed",children:m.description})]})]},b))})]}),n.jsx("div",{className:"flex justify-center lg:justify-end",children:n.jsx("img",{src:pb,alt:"METACHROME",className:"w-auto h-auto max-w-full"})})]})})}),n.jsx("section",{className:"max-w-7xl mx-auto px-6 py-16",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),n.jsx("div",{className:"p-0 m-0",children:n.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:n.jsx("img",{src:sh,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),n.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:x.map((m,b)=>n.jsxs(Ju,{open:t===b,onOpenChange:()=>e(t===b?null:b),children:[n.jsx(eh,{asChild:!0,children:n.jsx(le,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===b?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:`font-medium pr-4 text-lg transition-colors duration-300 ${t===b?"text-purple-400":"text-white"}`,children:m.question}),n.jsx(ui,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===b?"rotate-180 text-purple-400":""}`})]})})})}),n.jsx(th,{children:n.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-lg",children:m.answer})})})]},b))})]})}),n.jsx("section",{className:"bg-black py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx(le,{className:"bg-gray-800 border-0 rounded-2xl shadow-2xl",children:n.jsx(ce,{className:"p-12",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"flex justify-center lg:justify-start",children:n.jsx("div",{className:"relative",children:n.jsx("img",{src:gb,alt:"Newsletter Chart",className:"w-full max-w-lg h-auto object-contain",style:{width:"512px",height:"384px"}})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase tracking-wider",children:"Get Started For Free"}),n.jsxs("h2",{className:"text-4xl font-bold text-white mb-6 leading-tight",children:["Subscribe our newsletter &",n.jsx("br",{}),"Stay Update Every Day"]}),n.jsxs("form",{onSubmit:y,className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx(Ce,{type:"email",placeholder:"Enter you email",value:s,onChange:m=>r(m.target.value),className:"flex-1 bg-black border-gray-600 text-white placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 h-12 rounded-lg"}),n.jsx(V,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 h-12 font-semibold rounded-lg",children:"Submit"})]})]})]})})})})})]})}function GO(){const[t,e]=p.useState(""),[s,r]=p.useState("Spot"),i=Mr(),{data:a,isLoading:o}=kt({queryKey:["/api/market-data"]});a!=null&&a.filter(d=>d.symbol.toLowerCase().includes(t.toLowerCase()));const l=["Favorites","Options","Spot"],c=[{symbol:"BTC",pair:"USDT",price:"$118809.98",change:"0.66%",isPositive:!0,leverage:"10X"},{symbol:"ETH",pair:"USDT",price:"$3782.99",change:"1.14%",isPositive:!0,leverage:"10X"},{symbol:"DOGE",pair:"USDT",price:"$0.239770",change:"1.25%",isPositive:!0,leverage:"10X"},{symbol:"XRP",pair:"USDT",price:"$3.199800",change:"1.59%",isPositive:!0,leverage:"10X"},{symbol:"TRUMP",pair:"USDT",price:"$16.1068",change:"4.30%",isPositive:!0,leverage:"10X"},{symbol:"PEPE",pair:"USDT",price:"$0.00001-0.0000",change:"6.10%",isPositive:!0,leverage:"10X"},{symbol:"ADA",pair:"USDT",price:"$1.018969",change:"6.18%",isPositive:!0,leverage:"10X"},{symbol:"SOL",pair:"USDT",price:"$4.178390",change:"3.71%",isPositive:!0,leverage:"10X"},{symbol:"LINK",pair:"USDT",price:"$18.1508",change:"3.44%",isPositive:!0,leverage:"10X"},{symbol:"LTC",pair:"USDT",price:"$119.21",change:"1.83%",isPositive:!0,leverage:"10X"}];return n.jsxs("div",{className:"min-h-screen bg-[#10121E]",children:[n.jsx("div",{className:"bg-[#0B0E17] py-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("h1",{className:`font-bold text-white py-5 ${i?"text-xl":"text-3xl"}`,children:"Markets"})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:`mb-8 ${i?"space-y-4":"flex items-center justify-between"}`,children:[n.jsx("div",{className:"flex items-center space-x-1",children:l.map(d=>n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>r(d),className:s===d?"bg-purple-600 text-white hover:bg-purple-700 px-6 py-2 rounded-md":"bg-transparent text-gray-300 hover:bg-gray-700 px-6 py-2 rounded-md",children:d},d))}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Lg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(Ce,{type:"text",placeholder:"Search",value:t,onChange:d=>e(d.target.value),className:"pl-10 w-64 bg-[#3A3A4E] border-gray-600 text-white placeholder-gray-400 rounded-md"})]}),n.jsx(V,{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-md",children:"Search"})]})]}),n.jsx("div",{className:"bg-transparent",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-600",children:[n.jsx("th",{className:"text-left py-8 px-6 font-medium text-gray-400 text-sm",children:"Name"}),n.jsx("th",{className:"text-center py-8 px-6 font-medium text-gray-400 text-sm",children:"Price"}),n.jsx("th",{className:"text-right py-8 px-6 font-medium text-gray-400 text-sm",children:"24h Change"})]})}),n.jsx("tbody",{children:c.map((d,u)=>n.jsxs("tr",{className:"border-b border-gray-600/20 hover:bg-gray-700/10 transition cursor-pointer",children:[n.jsx("td",{className:"py-8 px-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx($M,{className:"w-4 h-4 text-gray-500 hover:text-yellow-400 cursor-pointer"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"font-medium text-white text-sm",children:d.symbol}),n.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",d.pair]}),n.jsx("span",{className:"bg-orange-500 text-white text-xs px-1.5 py-0.5 rounded font-medium",children:d.leverage})]})]})}),n.jsx("td",{className:"py-8 px-6 text-center",children:n.jsx("div",{className:"font-mono text-white text-sm",children:d.price})}),n.jsx("td",{className:"py-8 px-6 text-right",children:n.jsx("div",{className:`font-medium text-sm ${d.isPositive?"text-green-400":"text-red-400"}`,children:d.change})})]},`${d.symbol}-${u}`))})]})})}),n.jsx("div",{className:"flex justify-center mt-8",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(V,{variant:"ghost",size:"sm",className:"w-8 h-8 rounded-full bg-purple-600 text-white hover:bg-purple-700",children:"1"}),n.jsx(V,{variant:"ghost",size:"sm",className:"w-8 h-8 rounded-full bg-transparent text-gray-400 hover:bg-gray-700",children:"2"})]})})]})]})}const QO=Bh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white hover:bg-primary/80",secondary:"border-transparent bg-secondary text-white hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-white hover:bg-destructive/80",outline:"text-white"}},defaultVariants:{variant:"default"}});function at({className:t,variant:e,...s}){return n.jsx("div",{className:ke(QO({variant:e}),t),...s})}function ZO({type:t}){var K;const[e,s]=p.useState(t||"spot"),[r,i]=p.useState("BTCUSDT"),[a,o]=p.useState("market"),[l,c]=p.useState(""),[d,u]=p.useState(""),[h,f]=p.useState("30s"),[x,y]=p.useState(!1),{toast:m}=Gs(),{user:b}=Wt(),g=lr(),{data:v,isLoading:w}=kt({queryKey:["/api/market-data"]}),{data:j}=kt({queryKey:["/api/balances"],enabled:!!b}),{data:C}=kt({queryKey:["/api/trades/active"],enabled:!!b,refetchInterval:5e3}),P=v==null?void 0:v.find(D=>D.symbol===r),E=((K=j==null?void 0:j.find(D=>D.symbol==="USDT"))==null?void 0:K.available)||"0",k=Qt({mutationFn:async D=>{const X=await fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:b==null?void 0:b.id,symbol:r,...D})});if(!X.ok){const z=await X.json();throw new Error(z.message||"Failed to create trade")}return X.json()},onSuccess:D=>{m({title:"Trade Created",description:`Options trade created successfully for $${l}`}),c(""),g.invalidateQueries({queryKey:["/api/balances"]}),g.invalidateQueries({queryKey:["/api/trades/active"]})},onError:D=>{m({title:"Trade Failed",description:D.message||"Failed to create trade",variant:"destructive"})}}),I=[{value:"30s",label:"30s",percentage:"10%",seconds:30,minAmount:100},{value:"60s",label:"60s",percentage:"15%",seconds:60,minAmount:1e3},{value:"120s",label:"120s",percentage:"20%",seconds:120,minAmount:5e3},{value:"180s",label:"180s",percentage:"25%",seconds:180,minAmount:1e4},{value:"240s",label:"240s",percentage:"30%",seconds:240,minAmount:15e3},{value:"300s",label:"300s",percentage:"35%",seconds:300,minAmount:2e4},{value:"600s",label:"600s",percentage:"40%",seconds:600,minAmount:5e4}],$=I.find(D=>D.value===h),_=async D=>{if(!b){m({title:"Authentication Required",description:"Please log in to start trading",variant:"destructive"});return}if(!l||parseFloat(l)<=0){m({title:"Invalid Amount",description:"Please enter a valid trade amount",variant:"destructive"});return}const X=parseFloat(l),z=($==null?void 0:$.minAmount)||100;if(X<z){m({title:"Minimum Amount Required",description:`Minimum amount for ${h} is $${z}`,variant:"destructive"});return}if(X>parseFloat(E)){m({title:"Insufficient Balance",description:"You do not have enough USDT balance",variant:"destructive"});return}y(!0);try{await k.mutateAsync({direction:D,amount:l,duration:($==null?void 0:$.seconds)||30})}finally{y(!1)}},R=D=>{const z=(parseFloat(E)*D/100).toFixed(2);c(z)},W=[{price:"118113.00",amount:"0.12345",total:"14567.89"},{price:"118112.50",amount:"0.23456",total:"27701.23"},{price:"118112.00",amount:"0.34567",total:"40834.56"},{price:"118111.50",amount:"0.45678",total:"53967.89"},{price:"118111.00",amount:"0.56789",total:"67101.23"}],H=[{time:"14:30:15",price:"118113.00",amount:"0.12345",side:"buy"},{time:"14:30:14",price:"118112.50",amount:"0.23456",side:"sell"},{time:"14:30:13",price:"118112.00",amount:"0.34567",side:"buy"},{time:"14:30:12",price:"118111.50",amount:"0.45678",side:"sell"},{time:"14:30:11",price:"118111.00",amount:"0.56789",side:"buy"}];return n.jsx("div",{className:"min-h-screen bg-[#1a1b2e] pt-16",children:n.jsxs("div",{className:"max-w-full px-4 sm:px-6 lg:px-8 py-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:r}),n.jsxs("div",{className:"flex items-center space-x-4 text-white",children:[n.jsxs("span",{className:"text-2xl font-bold",children:["$",P!=null&&P.price?parseFloat(P.price).toLocaleString():"118113.00"]}),n.jsxs("span",{className:`flex items-center ${parseFloat((P==null?void 0:P.priceChangePercent24h)||"0")>=0?"text-green-400":"text-red-400"}`,children:[parseFloat((P==null?void 0:P.priceChangePercent24h)||"0")>=0?n.jsx(zs,{className:"w-4 h-4 mr-1"}):n.jsx(Bu,{className:"w-4 h-4 mr-1"}),parseFloat((P==null?void 0:P.priceChangePercent24h)||"0").toFixed(2),"%"]})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Lg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(Ce,{placeholder:"Search",className:"pl-10 bg-[#2a2d47] border-gray-600 text-white w-64"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 h-auto lg:h-[calc(100vh-200px)]",children:[n.jsxs("div",{className:"lg:col-span-3 space-y-4 order-3 lg:order-1",children:[n.jsx(le,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Order Book"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[n.jsx("span",{children:"Price"}),n.jsx("span",{className:"text-right",children:"Amount"}),n.jsx("span",{className:"text-right",children:"Total"})]}),W.map((D,X)=>n.jsxs("div",{className:"grid grid-cols-3 text-red-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[n.jsx("span",{className:"font-mono",children:D.price}),n.jsx("span",{className:"font-mono text-right",children:D.amount}),n.jsx("span",{className:"font-mono text-right",children:D.total})]},`sell-${X}`)),n.jsx("div",{className:"py-2 text-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"$118113.00"})}),W.reverse().map((D,X)=>n.jsxs("div",{className:"grid grid-cols-3 text-green-400 hover:bg-[#1a1b2e]/50 p-1 rounded",children:[n.jsx("span",{className:"font-mono",children:D.price}),n.jsx("span",{className:"font-mono text-right",children:D.amount}),n.jsx("span",{className:"font-mono text-right",children:D.total})]},`buy-${X}`))]})]})}),n.jsx(le,{className:"bg-[#2a2d47] border-gray-600 h-1/2",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Market Trades"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-3 text-gray-400 mb-2",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{className:"text-right",children:"Price"}),n.jsx("span",{className:"text-right",children:"Amount"})]}),H.map((D,X)=>n.jsxs("div",{className:`grid grid-cols-3 hover:bg-[#1a1b2e]/50 p-1 rounded ${D.side==="buy"?"text-green-400":"text-red-400"}`,children:[n.jsx("span",{className:"text-gray-400",children:D.time}),n.jsx("span",{className:"font-mono text-right",children:D.price}),n.jsx("span",{className:"font-mono text-right",children:D.amount})]},X))]})]})})]}),n.jsx("div",{className:"lg:col-span-6 order-2 lg:order-2",children:n.jsx(le,{className:"bg-[#2a2d47] border-gray-600 h-64 lg:h-full",children:n.jsx(ce,{className:"p-4 h-full",children:n.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oi,{className:"w-16 h-16 mx-auto mb-4"}),n.jsx("p",{children:"Chart will be displayed here"}),n.jsxs("p",{className:"text-sm mt-2",children:["Real-time candlestick chart for ",r]})]})})})})}),n.jsxs("div",{className:"lg:col-span-3 space-y-4 order-1 lg:order-3",children:[n.jsxs("div",{className:"flex space-x-2 mb-4",children:[n.jsx(V,{variant:e==="spot"?"default":"outline",size:"sm",onClick:()=>s("spot"),className:e==="spot"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Spot"}),n.jsx(V,{variant:e==="options"?"default":"outline",size:"sm",onClick:()=>s("options"),className:e==="options"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800",children:"Options"})]}),e==="options"?n.jsx(le,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Options Trading"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Duration"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.slice(0,4).map(D=>n.jsx(V,{variant:h===D.value?"default":"outline",size:"sm",onClick:()=>f(D.value),className:`text-xs ${h===D.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{children:D.label}),n.jsx("div",{className:"text-xs opacity-75",children:D.percentage})]})},D.value))}),n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:I.slice(4).map(D=>n.jsx(V,{variant:h===D.value?"default":"outline",size:"sm",onClick:()=>f(D.value),className:`text-xs ${h===D.value?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{children:D.label}),n.jsx("div",{className:"text-xs opacity-75",children:D.percentage})]})},D.value))})]}),n.jsxs("div",{className:"mb-4 p-3 bg-[#1a1b2e]/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Available Balance:"}),n.jsxs("span",{className:"text-white font-semibold",children:["$",parseFloat(E).toFixed(2)," USDT"]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[n.jsxs("span",{className:"text-gray-300",children:["Min Amount (",h,"):"]}),n.jsxs("span",{className:"text-yellow-400",children:["$",($==null?void 0:$.minAmount)||100]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (USDT)"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[25,50,75,100].map(D=>n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>R(D),className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:[D,"%"]},D))}),n.jsx(Ce,{type:"number",placeholder:"0",value:l,onChange:D=>c(D.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white",min:($==null?void 0:$.minAmount)||100})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(V,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>_("up"),disabled:x||!b,children:x?"Processing...":"Buy Up"}),n.jsx(V,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>_("down"),disabled:x||!b,children:x?"Processing...":"Buy Down"})]})]})}):n.jsx(le,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Spot Trading"}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex space-x-2",children:["market","limit"].map(D=>n.jsx(V,{variant:a===D?"default":"outline",size:"sm",onClick:()=>o(D),className:a===D?"bg-blue-600 text-white border-0":"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700",children:D.charAt(0).toUpperCase()+D.slice(1)},D))})}),a==="limit"&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Price (USDT)"}),n.jsx(Ce,{type:"number",placeholder:"0.00",value:d,onChange:D=>u(D.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Amount (BTC)"}),n.jsx(Ce,{type:"number",placeholder:"0.00",value:l,onChange:D=>c(D.target.value),className:"bg-[#1a1b2e] border-gray-600 text-white"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mt-2",children:["25%","50%","75%","100%"].map(D=>n.jsx(V,{variant:"outline",size:"sm",className:"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-700 text-xs",children:D},D))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(V,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Buy (BTC)"}),n.jsx(V,{className:"bg-red-600 hover:bg-red-700 text-white",children:"Sell (BTC)"})]})]})}),n.jsx(le,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(ce,{className:"p-4",children:[n.jsx("h3",{className:"text-white font-semibold mb-4",children:"Active Trades"}),C&&C.length>0?n.jsx("div",{className:"space-y-2",children:C.map(D=>n.jsxs("div",{className:"bg-[#1a1b2e]/50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-white font-medium",children:D.symbol}),n.jsx(at,{variant:D.direction==="up"?"default":"destructive",className:D.direction==="up"?"bg-green-600":"bg-red-600",children:D.direction.toUpperCase()})]}),n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsxs("div",{children:["Amount: $",parseFloat(D.amount).toFixed(2)]}),n.jsxs("div",{children:["Entry: $",parseFloat(D.entryPrice||"0").toFixed(2)]}),n.jsxs("div",{children:["Duration: ",D.duration,"s"]})]})]},D.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(oi,{className:"w-8 h-8 text-gray-500"})}),n.jsx("p",{className:"text-gray-400 text-sm",children:"No active trades"})]})]})})]})]}),n.jsx("div",{className:"mt-6 grid grid-cols-1 gap-4",children:n.jsx(le,{className:"bg-[#2a2d47] border-gray-600",children:n.jsxs(ce,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex space-x-4",children:["Open Orders","Order History","Trade History"].map(D=>n.jsx(V,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:D},D))}),n.jsx(V,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:"Hide other trading pairs"})]}),n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-[#1a1b2e] rounded-full mx-auto mb-4 flex items-center justify-center",children:n.jsx(oi,{className:"w-8 h-8 text-gray-500"})}),n.jsx("p",{className:"text-gray-400",children:"No data"})]})]})})})]})})}function ut(t){var e=t.width,s=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function Wi(t,e){return t.width===e.width&&t.height===e.height}var XO=function(){function t(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var s=this,r={next:e};return this._observers.push(r),{unsubscribe:function(){s._observers=s._observers.filter(function(i){return i!==r})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function YO(t){return new XO(t)}var JO=function(){function t(e,s,r){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ut({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??function(a){return a},this._allowResizeObserver=(i=r==null?void 0:r.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ut({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ut(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var s=this.bitmapSize;Wi(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},t.prototype._emitBitmapSizeChanged=function(e,s){var r=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,s)})},t.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,r=ut(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Wi(this.bitmapSize,r)?null:r;s===null&&i===null||s!==null&&i!==null&&Wi(s,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(s,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var r=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(r,e,s)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}t5().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=xb(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=YO(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var r=xb(this._canvasElement);if(r!==null){var i=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:r.devicePixelRatio,a=this._canvasElement.getClientRects(),o=a[0]!==void 0?s5(a[0],i):ut({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var r=s.find(function(o){return o.target===e._canvasElement});if(!(!r||!r.devicePixelContentBoxSize||!r.devicePixelContentBoxSize[0])){var i=r.devicePixelContentBoxSize[0],a=ut({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(a)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function e5(t,e){if(e.type==="device-pixel-content-box")return new JO(t,e.transform,e.options);throw new Error("Unsupported binding target")}function xb(t){return t.ownerDocument.defaultView}function t5(){return new Promise(function(t){var e=new ResizeObserver(function(s){t(s.every(function(r){return"devicePixelContentBoxSize"in r})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function s5(t,e){return ut({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var r5=function(){function t(e,s,r){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,r.width===0||r.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=r,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function ia(t,e){var s=t.canvasElementClientSize;if(s.width===0||s.height===0)return null;var r=t.bitmapSize;if(r.width===0||r.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new r5(i,s,r)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const n5={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},i5={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},a5={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},o5={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},l5={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},c5={color:"#26a69a",base:0},wC={color:"#2196f3"},jC={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var vb,yb;function aa(t,e){const s={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(s)}function NC(t,e,s,r){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(s,e+i),t.lineTo(r,e+i),t.stroke()}function gi(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function gs(t){if(t===void 0)throw new Error("Value is undefined");return t}function ne(t){if(t===null)throw new Error("Value is null");return t}function Va(t){return ne(gs(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(vb||(vb={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(yb||(yb={}));const bb={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Zs(t){return t<0?0:t>255?255:Math.round(t)||0}function SC(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const d5=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,u5=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,h5=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,f5=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function uc(t){(t=t.toLowerCase())in bb&&(t=bb[t]);{const e=f5.exec(t)||h5.exec(t);if(e)return[Zs(parseInt(e[1],10)),Zs(parseInt(e[2],10)),Zs(parseInt(e[3],10)),SC(e.length<5?1:parseFloat(e[4]))]}{const e=u5.exec(t);if(e)return[Zs(parseInt(e[1],16)),Zs(parseInt(e[2],16)),Zs(parseInt(e[3],16)),1]}{const e=d5.exec(t);if(e)return[Zs(17*parseInt(e[1],16)),Zs(17*parseInt(e[2],16)),Zs(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function CC(t){return .199*t[0]+.687*t[1]+.114*t[2]}function af(t){const e=uc(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:CC(e)>160?"black":"white"}}class Et{constructor(){this.h=[]}l(e,s,r){const i={o:e,_:s,u:r===!0};this.h.push(i)}v(e){const s=this.h.findIndex(r=>e===r.o);s>-1&&this.h.splice(s,1)}p(e){this.h=this.h.filter(s=>s._!==e)}m(e,s,r){const i=[...this.h];this.h=this.h.filter(a=>!a.u),i.forEach(a=>a.o(e,s,r))}M(){return this.h.length>0}S(){this.h=[]}}function Er(t,...e){for(const s of e)for(const r in s)s[r]!==void 0&&Object.prototype.hasOwnProperty.call(s,r)&&!["__proto__","constructor","prototype"].includes(r)&&(typeof s[r]!="object"||t[r]===void 0||Array.isArray(s[r])?t[r]=s[r]:Er(t[r],s[r]));return t}function Kr(t){return typeof t=="number"&&isFinite(t)}function hc(t){return typeof t=="number"&&t%1==0}function Kc(t){return typeof t=="string"}function _d(t){return typeof t=="boolean"}function vn(t){const e=t;if(!e||typeof e!="object")return e;let s,r,i;for(r in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(r)&&(i=e[r],s[r]=i&&typeof i=="object"?vn(i):i);return s}function m5(t){return t!==null}function fc(t){return t===null?void 0:t}const fx="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function _o(t,e,s){return e===void 0&&(e=fx),`${s=s!==void 0?`${s} `:""}${t}px ${e}`}class p5{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,s=this.j(),r=this.H();return e.P===s&&e.D===r||(e.P=s,e.D=r,e.R=_o(s,r),e.L=2.5/12*s,e.B=e.L,e.A=s/12*e.T,e.I=s/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class mx{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,s,r){this.Y.forEach(i=>{i.X(e,s,r)})}}class Rr{X(e,s,r){e.useBitmapCoordinateSpace(i=>this.K(i,s,r))}}class g5 extends Rr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,a=this.G,o=Math.max(1,Math.floor(s))%2/2,l=c=>{e.beginPath();for(let d=i.to-1;d>=i.from;--d){const u=a.it[d],h=Math.round(u.nt*s)+o,f=u.st*r,x=c*r+o;e.moveTo(h,f),e.arc(h,f,x,0,2*Math.PI)}e.fill()};a.et>0&&(e.fillStyle=a.rt,l(a.ht+a.et)),e.fillStyle=a.lt,l(a.ht)}}function x5(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const v5={from:0,to:1};class y5{constructor(e,s){this.ut=new mx,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=s,this.ut.Z(this.ct)}bt(e){const s=this.F.wt();s.length!==this.ct.length&&(this.dt=s.map(x5),this.ct=this.dt.map(r=>{const i=new g5;return i.J(r),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,s=this.F.wt(),r=this.vt.xt(),i=this.F.St();s.forEach((a,o)=>{var l;const c=this.dt[o],d=a.kt(r);if(e||d===null||!a.yt())return void(c.tt=null);const u=ne(a.Ct());c.lt=d.Tt,c.ht=d.ht,c.et=d.Pt,c.it[0]._t=d._t,c.it[0].st=a.Dt().Rt(d._t,u.Vt),c.rt=(l=d.Ot)!==null&&l!==void 0?l:this.F.Bt(c.it[0].st/a.Dt().At()),c.it[0].ot=r,c.it[0].nt=i.It(r),c.tt=v5})}}class b5 extends Rr{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const a=this.zt.Lt.yt,o=this.zt.Et.yt;if(!a&&!o)return;const l=Math.round(this.zt.nt*r),c=Math.round(this.zt.st*i);e.lineCap="butt",a&&l>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*r),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,aa(e,this.zt.Lt.Nt),function(d,u,h,f){d.beginPath();const x=d.lineWidth%2?.5:0;d.moveTo(u+x,h),d.lineTo(u+x,f),d.stroke()}(e,l,0,s.height)),o&&c>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,aa(e,this.zt.Et.Nt),NC(e,c,0,s.width))}}class w5{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new b5(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),s=ne(this.jt.Ht()),r=s.$t().W().crosshair,i=this.Ft;if(r.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(s),i.Lt.yt=e&&this.jt.qt(),i.Et.et=r.horzLine.width,i.Et.Nt=r.horzLine.style,i.Et.V=r.horzLine.color,i.Lt.et=r.vertLine.width,i.Lt.Nt=r.vertLine.style,i.Lt.V=r.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function j5(t,e,s,r,i,a){t.fillRect(e+a,s,r-2*a,a),t.fillRect(e+a,s+i-a,r-2*a,a),t.fillRect(e,s,a,i),t.fillRect(e+r-a,s,a,i)}function of(t,e,s,r,i,a){t.save(),t.globalCompositeOperation="copy",t.fillStyle=a,t.fillRect(e,s,r,i),t.restore()}function wb(t,e,s,r,i,a){t.beginPath(),t.roundRect?t.roundRect(e,s,r,i,a):(t.lineTo(e+r-a[1],s),a[1]!==0&&t.arcTo(e+r,s,e+r,s+a[1],a[1]),t.lineTo(e+r,s+i-a[2]),a[2]!==0&&t.arcTo(e+r,s+i,e+r-a[2],s+i,a[2]),t.lineTo(e+a[3],s+i),a[3]!==0&&t.arcTo(e,s+i,e,s+i-a[3],a[3]),t.lineTo(e,s+a[0]),a[0]!==0&&t.arcTo(e,s,e+a[0],s,a[0]))}function jb(t,e,s,r,i,a,o=0,l=[0,0,0,0],c=""){if(t.save(),!o||!c||c===a)return wb(t,e,s,r,i,l),t.fillStyle=a,t.fill(),void t.restore();const d=o/2;var u;wb(t,e+d,s+d,r-o,i-o,(u=-d,l.map(h=>h===0?h:h+u))),a!=="transparent"&&(t.fillStyle=a,t.fill()),c!=="transparent"&&(t.lineWidth=o,t.strokeStyle=c,t.closePath(),t.stroke()),t.restore()}function TC(t,e,s,r,i,a,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,i);l.addColorStop(0,a),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,s,r,i),t.restore()}class Nb{constructor(e,s){this.J(e,s)}J(e,s){this.zt=e,this.Xt=s}At(e,s){return this.zt.yt?e.P+e.L+e.B:0}X(e,s,r,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const a=this.zt.V,o=this.Xt.t,l=e.useBitmapCoordinateSpace(c=>{const d=c.context;d.font=s.R;const u=this.Gt(c,s,r,i),h=u.Jt;return u.Qt?jb(d,h.ti,h.ii,h.ni,h.si,o,h.ei,[h.ht,0,0,h.ht],o):jb(d,h.ri,h.ii,h.ni,h.si,o,h.ei,[0,h.ht,h.ht,0],o),this.zt.hi&&(d.fillStyle=a,d.fillRect(h.ri,h.li,h.ai-h.ri,h.oi)),this.zt._i&&(d.fillStyle=s.O,d.fillRect(u.Qt?h.ui-h.ei:0,h.ii,h.ei,h.ci-h.ii)),u});e.useMediaCoordinateSpace(({context:c})=>{const d=l.di;c.font=s.R,c.textAlign=l.Qt?"right":"left",c.textBaseline="middle",c.fillStyle=a,c.fillText(this.zt.Kt,d.fi,(d.ii+d.ci)/2+d.pi)})}Gt(e,s,r,i){var a;const{context:o,bitmapSize:l,mediaSize:c,horizontalPixelRatio:d,verticalPixelRatio:u}=e,h=this.zt.hi||!this.zt.mi?s.T:0,f=this.zt.bi?s.C:0,x=s.L+this.Xt.wi,y=s.B+this.Xt.gi,m=s.A,b=s.I,g=this.zt.Kt,v=s.P,w=r.Mi(o,g),j=Math.ceil(r.xi(o,g)),C=v+x+y,P=s.C+m+b+j+h,E=Math.max(1,Math.floor(u));let k=Math.round(C*u);k%2!=E%2&&(k+=1);const I=f>0?Math.max(1,Math.floor(f*d)):0,$=Math.round(P*d),_=Math.round(h*d),R=(a=this.Xt.Si)!==null&&a!==void 0?a:this.Xt.ki,W=Math.round(R*u)-Math.floor(.5*u),H=Math.floor(W+E/2-k/2),K=H+k,D=i==="right",X=D?c.width-f:f,z=D?l.width-I:I;let B,G,J;return D?(B=z-$,G=z-_,J=X-h-m-f):(B=z+$,G=z+_,J=X+h+m),{Qt:D,Jt:{ii:H,li:W,ci:K,ni:$,si:k,ht:2*d,ei:I,ti:B,ri:z,ai:G,oi:E,ui:l.width},di:{ii:H/u,ci:K/u,fi:J,pi:w}}}}class lf{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||Nb)(this.Ci,this.yi),this.Ri=new(e||Nb)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,s=!1){return Math.max(this.Pi.At(e,s),this.Ri.At(e,s))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class N5 extends lf{constructor(e,s,r){super(),this.jt=e,this.Li=s,this.Ei=r}zi(e,s,r){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const a=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||a===null)return;const o=af(i.labelBackgroundColor);r.t=o.t,e.V=o.i;const l=2/12*this.Li.P();r.wi=l,r.gi=l;const c=this.Ei(this.Li);r.ki=c.ki,e.Kt=this.Li.Fi(c._t,a),e.yt=!0}}const S5=/[1-9]/g;class kC{constructor(){this.zt=null}J(e){this.zt=e}X(e,s){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const r=e.useMediaCoordinateSpace(({context:f})=>(f.font=s.R,Math.round(s.Wi.xi(f,ne(this.zt).Kt,S5))));if(r<=0)return;const i=s.ji,a=r+2*i,o=a/2,l=this.zt.Hi;let c=this.zt.ki,d=Math.floor(c-o)+.5;d<0?(c+=Math.abs(0-d),d=Math.floor(c-o)+.5):d+a>l&&(c-=Math.abs(l-(d+a)),d=Math.floor(c-o)+.5);const u=d+a,h=Math.ceil(0+s.C+s.T+s.L+s.P+s.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:x,verticalPixelRatio:y})=>{const m=ne(this.zt);f.fillStyle=m.t;const b=Math.round(d*x),g=Math.round(0*y),v=Math.round(u*x),w=Math.round(h*y),j=Math.round(2*x);if(f.beginPath(),f.moveTo(b,g),f.lineTo(b,w-j),f.arcTo(b,w,b+j,w,j),f.lineTo(v-j,w),f.arcTo(v,w,v,w-j,j),f.lineTo(v,g),f.fill(),m.hi){const C=Math.round(m.ki*x),P=g,E=Math.round((P+s.T)*y);f.fillStyle=m.V;const k=Math.max(1,Math.floor(x)),I=Math.floor(.5*x);f.fillRect(C-I,P,k,E-P)}}),e.useMediaCoordinateSpace(({context:f})=>{const x=ne(this.zt),y=0+s.C+s.T+s.L+s.P/2;f.font=s.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=x.V;const m=s.Wi.Mi(f,"Apr0");f.translate(d+i,y+m),f.fillText(x.Kt,0,0)})}}class C5{constructor(e,s,r){this.ft=!0,this.Wt=new kC,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=s,this.Ei=r}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const s=this.vt.W().vertLine;if(!s.labelVisible)return;const r=this.$i.St();if(r.Ni())return;e.Hi=r.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const a=r.Ui(this.vt.xt());e.Kt=r.qi(ne(a)),e.yt=!0;const o=af(s.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=r.W().ticksVisible}}class px{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var Sb;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(Sb||(Sb={}));class T5 extends px{constructor(e,s){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=s,this.dn=new y5(e,this),this.fn=((i,a)=>o=>{const l=a(),c=i();if(o===ne(this.tn).vn())return{_t:c,ki:l};{const d=ne(o.Ct());return{_t:o.pn(l,d),ki:l}}})(()=>this.nn,()=>this.an);const r=((i,a)=>()=>{const o=this.$i.St().mn(i()),l=a();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new C5(this,e,r),this.wn=new w5(this)}W(){return this.cn}gn(e,s){this._n=e,this.un=s}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,s,r){this.hn||(this.hn=!0),this.en=!0,this.yn(e,s,r)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,s){this.en&&this.tn===e||this.rn.clear();const r=[];return this.tn===e&&r.push(this.Dn(this.rn,s,this.fn)),r}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,s,r){this.Bn(e,s,r)&&this.Vn()}Bn(e,s,r){const i=this.ln,a=this.an,o=this.nn,l=this.sn,c=this.tn,d=this.On(r);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=r;const u=d!==null?d.Ct():null;return d!==null&&u!==null?(this.nn=s,this.an=d.Rt(s,u)):(this.nn=NaN,this.an=NaN),i!==this.ln||a!==this.an||l!==this.sn||o!==this.nn||c!==this.tn}Tn(){const e=this.$i.wt().map(r=>r.In().An()).filter(m5),s=e.length===0?null:Math.max(...e);this.sn=s!==null?s:NaN}Dn(e,s,r){let i=e.get(s);return i===void 0&&(i=new N5(this,s,r),e.set(s,i)),i}}function cf(t){return t==="left"||t==="right"}class Gt{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,s){const r=function(i,a){return i===void 0?a:{Fn:Math.max(i.Fn,a.Fn),Wn:i.Wn||a.Wn}}(this.zn.get(e),s);this.zn.set(e,r)}jn(){return this.En}Hn(e){const s=this.zn.get(e);return s===void 0?{Fn:this.En}:{Fn:Math.max(this.En,s.Fn),Wn:s.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const s of e.Ln)this.ns(s);this.En=Math.max(this.En,e.En),e.zn.forEach((s,r)=>{this.Nn(r,s)})}static ss(){return new Gt(2)}static es(){return new Gt(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(s=>s.qn===5);e!==-1&&this.Ln.splice(e,1)}}const Cb=".";function yn(t,e){if(!Kr(t))return"n/a";if(!hc(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class df{constructor(e,s){if(s||(s=1),Kr(e)&&hc(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=s,this.hs()}format(e){const s=e<0?"−":"";return e=Math.abs(e),s+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const s=this.Li/this.rs;let r=Math.floor(e),i="";const a=this._s!==void 0?this._s:NaN;if(s>1){let o=+(Math.round(e*s)-r*s).toFixed(this._s);o>=s&&(o-=s,r+=1),i=Cb+yn(+o.toFixed(this._s)*this.rs,a)}else r=Math.round(r*s)/s,a>0&&(i=Cb+yn(0,a));return r.toFixed(0)+i}}class EC extends df{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class k5{constructor(e){this.us=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.cs(e):e<999995?s+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.cs(e/1e9)+"B")}cs(e){let s;const r=Math.pow(10,this.us);return s=(e=Math.round(e*r)/r)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,(i,a)=>a)}}function _C(t,e,s,r,i,a,o){if(e.length===0||r.from>=e.length||r.to<=0)return;const{context:l,horizontalPixelRatio:c,verticalPixelRatio:d}=t,u=e[r.from];let h=a(t,u),f=u;if(r.to-r.from<2){const x=i/2;l.beginPath();const y={nt:u.nt-x,st:u.st},m={nt:u.nt+x,st:u.st};l.moveTo(y.nt*c,y.st*d),l.lineTo(m.nt*c,m.st*d),o(t,h,y,m)}else{const x=(m,b)=>{o(t,h,f,b),l.beginPath(),h=m,f=b};let y=f;l.beginPath(),l.moveTo(u.nt*c,u.st*d);for(let m=r.from+1;m<r.to;++m){y=e[m];const b=a(t,y);switch(s){case 0:l.lineTo(y.nt*c,y.st*d);break;case 1:l.lineTo(y.nt*c,e[m-1].st*d),b!==h&&(x(b,y),l.lineTo(y.nt*c,e[m-1].st*d)),l.lineTo(y.nt*c,y.st*d);break;case 2:{const[g,v]=E5(e,m-1,m);l.bezierCurveTo(g.nt*c,g.st*d,v.nt*c,v.st*d,y.nt*c,y.st*d);break}}s!==1&&b!==h&&(x(b,y),l.moveTo(y.nt*c,y.st*d))}(f!==y||f===y&&s===1)&&o(t,h,f,y)}}const Tb=6;function pm(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function kb(t,e){return{nt:t.nt/e,st:t.st/e}}function E5(t,e,s){const r=Math.max(0,e-1),i=Math.min(t.length-1,s+1);var a,o;return[(a=t[e],o=kb(pm(t[s],t[r]),Tb),{nt:a.nt+o.nt,st:a.st+o.st}),pm(t[s],kb(pm(t[i],t[e]),Tb))]}function _5(t,e,s,r,i){const{context:a,horizontalPixelRatio:o,verticalPixelRatio:l}=e;a.lineTo(i.nt*o,t*l),a.lineTo(r.nt*o,t*l),a.closePath(),a.fillStyle=s,a.fill()}class PC extends Rr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var s;if(this.G===null)return;const{it:r,tt:i,ds:a,et:o,Nt:l,fs:c}=this.G,d=(s=this.G.vs)!==null&&s!==void 0?s:this.G.ps?0:e.mediaSize.height;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineJoin="round",u.lineWidth=o,aa(u,l),u.lineWidth=1,_C(e,r,c,i,a,this.bs.bind(this),_5.bind(null,d))}}function c0(t,e,s){return Math.min(Math.max(t,e),s)}function Pd(t,e,s){return e-t<=s}function MC(t){const e=Math.ceil(t);return e%2==0?e-1:e}class gx{ws(e,s){const r=this.gs,{Ms:i,xs:a,Ss:o,ks:l,ys:c,vs:d}=s;if(this.Cs===void 0||r===void 0||r.Ms!==i||r.xs!==a||r.Ss!==o||r.ks!==l||r.vs!==d||r.ys!==c){const u=e.context.createLinearGradient(0,0,0,c);if(u.addColorStop(0,i),d!=null){const h=c0(d*e.verticalPixelRatio/c,0,1);u.addColorStop(h,a),u.addColorStop(h,o)}u.addColorStop(1,l),this.Cs=u,this.gs=s}return this.Cs}}class P5 extends PC{constructor(){super(...arguments),this.Ts=new gx}bs(e,s){return this.Ts.ws(e,{Ms:s.Ps,xs:"",Ss:"",ks:s.Rs,ys:e.bitmapSize.height})}}function M5(t,e){const s=t.context;s.strokeStyle=e,s.stroke()}class RC extends Rr{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:s,tt:r,ds:i,fs:a,et:o,Nt:l,Ds:c}=this.G;if(r===null)return;const d=e.context;d.lineCap="butt",d.lineWidth=o*e.verticalPixelRatio,aa(d,l),d.lineJoin="round";const u=this.Vs.bind(this);a!==void 0&&_C(e,s,a,r,i,u,M5),c&&function(h,f,x,y,m){const{horizontalPixelRatio:b,verticalPixelRatio:g,context:v}=h;let w=null;const j=Math.max(1,Math.floor(b))%2/2,C=x*g+j;for(let P=y.to-1;P>=y.from;--P){const E=f[P];if(E){const k=m(h,E);k!==w&&(v.beginPath(),w!==null&&v.fill(),v.fillStyle=k,w=k);const I=Math.round(E.nt*b)+j,$=E.st*g;v.moveTo(I,$),v.arc(I,$,C,0,2*Math.PI)}}v.fill()}(e,s,c,r,u)}}class AC extends RC{Vs(e,s){return s.lt}}function DC(t,e,s,r,i=0,a=e.length){let o=a-i;for(;0<o;){const l=o>>1,c=i+l;r(e[c],s)===t?(i=c+1,o-=l+1):o=l}return i}const qc=DC.bind(null,!0),OC=DC.bind(null,!1);function R5(t,e){return t.ot<e}function A5(t,e){return e<t.ot}function IC(t,e,s){const r=e.Os(),i=e.ui(),a=qc(t,r,R5),o=OC(t,i,A5);if(!s)return{from:a,to:o};let l=a,c=o;return a>0&&a<t.length&&t[a].ot>=r&&(l=a-1),o>0&&o<t.length&&t[o-1].ot<=i&&(c=o+1),{from:l,to:c}}class xx{constructor(e,s,r){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=s,this.Fs=r}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),s=this.Ns.St();if(this.qs(),s.Ni()||e.Ni())return;const r=s.Xs();if(r===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=IC(this.zs,r,this.Fs),this.Gs(e,s,i.Vt),this.Js())}}class uf extends xx{constructor(e,s){super(e,s,!0)}Gs(e,s,r){s.Qs(this.zs,fc(this.Ls)),e.te(this.zs,r,fc(this.Ls))}ie(e,s){return{ot:e,_t:s,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>{const r=s.Vt[3];return this.se(s.ee,r,e)})}}class D5 extends uf{constructor(e,s){super(e,s),this.js=new mx,this.re=new P5,this.he=new AC,this.js.Z([this.re,this.he])}se(e,s,r){return Object.assign(Object.assign({},this.ie(e,s)),r.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class O5 extends Rr{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(s),this.ae>=2&&Math.max(1,Math.floor(s))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(s)):this.ae;let i=null;const a=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*s);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];i!==l.ce&&(e.fillStyle=l.ce,i=l.ce);const c=Math.floor(.5*this.oe),d=Math.round(l.nt*s),u=d-c,h=this.oe,f=u+h-1,x=Math.min(l.de,l.fe),y=Math.max(l.de,l.fe),m=Math.round(x*r)-c,b=Math.round(y*r)+c,g=Math.max(b-m,this.oe);e.fillRect(u,m,h,g);const v=Math.ceil(1.5*this.ae);if(a){if(this.zt.ve){const P=d-v;let E=Math.max(m,Math.round(l.pe*r)-c),k=E+h-1;k>m+g-1&&(k=m+g-1,E=k-h+1),e.fillRect(P,E,u-P,k-E+1)}const w=d+v;let j=Math.max(m,Math.round(l.me*r)-c),C=j+h-1;C>m+g-1&&(C=m+g-1,j=C-h+1),e.fillRect(f+1,j,w-f,C-j+1)}}}_e(e){const s=Math.floor(e);return Math.max(s,Math.floor(function(r,i){return Math.floor(.3*r*i)}(ne(this.zt).le,e)))}}class LC extends xx{constructor(e,s){super(e,s,!1)}Gs(e,s,r){s.Qs(this.zs,fc(this.Ls)),e.be(this.zs,r,fc(this.Ls))}we(e,s,r){return{ot:e,ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>this.se(s.ee,s,e))}}class I5 extends LC{constructor(){super(...arguments),this.js=new O5}se(e,s,r){return Object.assign(Object.assign({},this.we(e,s,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class L5 extends PC{constructor(){super(...arguments),this.Ts=new gx}bs(e,s){const r=this.G;return this.Ts.ws(e,{Ms:s.ke,xs:s.ye,Ss:s.Ce,ks:s.Te,ys:e.bitmapSize.height,vs:r.vs})}}class F5 extends RC{constructor(){super(...arguments),this.Pe=new gx}Vs(e,s){const r=this.G;return this.Pe.ws(e,{Ms:s.Re,xs:s.Re,Ss:s.De,ks:s.De,ys:e.bitmapSize.height,vs:r.vs})}}class $5 extends uf{constructor(e,s){super(e,s),this.js=new mx,this.Ve=new L5,this.Oe=new F5,this.js.Z([this.Ve,this.Oe])}se(e,s,r){return Object.assign(Object.assign({},this.ie(e,s)),r.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const s=this.Es.W(),r=this.Es.Dt().Rt(s.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineType,vs:r,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:s.lineWidth,Nt:s.lineStyle,fs:s.lineVisible?s.lineType:void 0,Ds:s.pointMarkersVisible?s.pointMarkersRadius||s.lineWidth/2+2:void 0,vs:r,tt:this.Ls,ds:i})}}class U5 extends Rr{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:s}=e;this.ae=function(a,o){if(a>=2.5&&a<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,a)-4)/(.5*Math.PI),c=Math.floor(a*l*o),d=Math.floor(a*o),u=Math.min(c,d);return Math.max(Math.floor(o),u)}(this.zt.le,s),this.ae>=2&&Math.floor(s)%2!=this.ae%2&&this.ae--;const r=this.zt.In;this.zt.Be&&this.Ae(e,r,this.zt.tt),this.zt._i&&this.Ie(e,r,this.zt.tt);const i=this.ze(s);(!this.zt._i||this.ae>2*i)&&this.Le(e,r,this.zt.tt)}Ae(e,s,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="",c=Math.min(Math.floor(a),Math.floor(this.zt.le*a));c=Math.max(Math.floor(a),Math.min(c,this.ae));const d=Math.floor(.5*c);let u=null;for(let h=r.from;h<r.to;h++){const f=s[h];f.Ee!==l&&(i.fillStyle=f.Ee,l=f.Ee);const x=Math.round(Math.min(f.pe,f.me)*o),y=Math.round(Math.max(f.pe,f.me)*o),m=Math.round(f.de*o),b=Math.round(f.fe*o);let g=Math.round(a*f.nt)-d;const v=g+c-1;u!==null&&(g=Math.max(u+1,g),g=Math.min(g,v));const w=v-g+1;i.fillRect(g,m,w,x-m),i.fillRect(g,y+1,w,b-y),u=v}}ze(e){let s=Math.floor(1*e);this.ae<=2*s&&(s=Math.floor(.5*(this.ae-1)));const r=Math.max(Math.floor(e),s);return this.ae<=2*r?Math.max(Math.floor(e),Math.floor(1*e)):r}Ie(e,s,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="";const c=this.ze(a);let d=null;for(let u=r.from;u<r.to;u++){const h=s[u];h.Ne!==l&&(i.fillStyle=h.Ne,l=h.Ne);let f=Math.round(h.nt*a)-Math.floor(.5*this.ae);const x=f+this.ae-1,y=Math.round(Math.min(h.pe,h.me)*o),m=Math.round(Math.max(h.pe,h.me)*o);if(d!==null&&(f=Math.max(d+1,f),f=Math.min(f,x)),this.zt.le*a>2*c)j5(i,f,y,x-f+1,m-y+1,c);else{const b=x-f+1;i.fillRect(f,y,b,m-y+1)}d=x}}Le(e,s,r){if(this.zt===null)return;const{context:i,horizontalPixelRatio:a,verticalPixelRatio:o}=e;let l="";const c=this.ze(a);for(let d=r.from;d<r.to;d++){const u=s[d];let h=Math.round(Math.min(u.pe,u.me)*o),f=Math.round(Math.max(u.pe,u.me)*o),x=Math.round(u.nt*a)-Math.floor(.5*this.ae),y=x+this.ae-1;if(u.ce!==l){const m=u.ce;i.fillStyle=m,l=m}this.zt._i&&(x+=c,h+=c,y-=c,f-=c),h>f||i.fillRect(x,h,y-x+1,f-h+1)}}}class z5 extends LC{constructor(){super(...arguments),this.js=new U5}se(e,s,r){return Object.assign(Object.assign({},this.we(e,s,r)),r.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class B5{constructor(e,s){this.Fe=e,this.Li=s}X(e,s,r){this.Fe.draw(e,this.Li,s,r)}}class gm extends xx{constructor(e,s,r){super(e,s,!1),this.wn=r,this.js=new B5(this.wn.renderer(),i=>{const a=e.Ct();return a===null?null:e.Dt().Rt(i,a.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(s=>Object.assign(Object.assign({ot:s.ee,nt:NaN},e.$s(s.ee)),{He:s.$e}))}Gs(e,s){s.Qs(this.zs,fc(this.Ls))}Js(){this.wn.update({bars:this.zs.map(V5),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function V5(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class W5 extends Rr{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(s);const i=Math.max(1,Math.floor(r)),a=Math.round(this.zt.Ye*r)-Math.floor(i/2),o=a+i;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const c=this.zt.it[l],d=this.Ue[l-this.zt.tt.from],u=Math.round(c.st*r);let h,f;e.fillStyle=c.ce,u<=a?(h=u,f=o):(h=a,f=u-Math.floor(i/2)+i),e.fillRect(d.Os,h,d.ui-d.Os+1,f-h)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const s=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),r=Math.round(this.zt.le*e)-s;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.zt.it[a],l=Math.round(o.nt*e);let c,d;if(r%2){const u=(r-1)/2;c=l-u,d=l+u}else{const u=r/2;c=l-u,d=l+u-1}this.Ue[a-this.zt.tt.from]={Os:c,ui:d,Ze:l,Xe:o.nt*e,ot:o.ot}}for(let a=this.zt.tt.from+1;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from],l=this.Ue[a-this.zt.tt.from-1];o.ot===l.ot+1&&o.Os-l.ui!==s+1&&(l.Ze>l.Xe?l.ui=o.Os-s-1:o.Os=l.ui+s+1)}let i=Math.ceil(this.zt.le*e);for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const l=o.ui-o.Os+1;i=Math.min(l,i)}if(s>0&&i<4)for(let a=this.zt.tt.from;a<this.zt.tt.to;a++){const o=this.Ue[a-this.zt.tt.from];o.ui-o.Os+1>i&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class H5 extends uf{constructor(){super(...arguments),this.js=new W5}se(e,s,r){return Object.assign(Object.assign({},this.ie(e,s)),r.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,ne(this.Es.Ct()).Vt)};this.js.J(e)}}class K5 extends uf{constructor(){super(...arguments),this.js=new AC}se(e,s,r){return Object.assign(Object.assign({},this.ie(e,s)),r.$s(e))}Js(){const e=this.Es.W(),s={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(s)}}const q5=/[2-9]/g;class mc{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,s,r){return this.sr(e,s,r).width}Mi(e,s,r){const i=this.sr(e,s,r);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,s,r){const i=r||q5,a=String(s).replace(i,"0");if(this.tr.has(a))return gs(this.tr.get(a)).er;if(this.Ke===this.ir){const l=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(l),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(a);return e.restore(),o.width===0&&s.length||(this.tr.set(a,{er:o,rr:this.Ge}),this.Qe[this.Ge]=a,this.Ke++,this.Ge++),o}}class G5{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,s,r){this.hr=e,this.k=s,this.lr=r}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class FC{constructor(e,s,r){this.ur=e,this.ar=new mc(50),this.cr=s,this.F=r,this.j=-1,this.Wt=new G5(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const s=e.vr(this.cr)?e.pr():this.cr.Dt();if(s===null)return null;const r=e.mr(s);if(r==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,r),this.Wt}}class Q5 extends Rr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,s){var r;if(!(!((r=this.zt)===null||r===void 0)&&r.yt))return null;const{st:i,et:a,gr:o}=this.zt;return s>=i-a-7&&s<=i+a+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:s,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const a=Math.round(this.zt.st*i);a<0||a>s.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*r),aa(e,this.zt.Nt),NC(e,a,0,s.width))}}class vx{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new Q5,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class Z5 extends vx{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),s=e.Cr().Cr;if(s!==2&&s!==3)return;const r=this.Es.W();if(!r.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=r.baseLineColor,this.Sr.et=r.baseLineWidth,this.Sr.Nt=r.baseLineStyle)}}class X5 extends Rr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:r}){const i=this.zt;if(i===null)return;const a=Math.max(1,Math.floor(s)),o=a%2/2,l=Math.round(i.Xe.x*s)+o,c=i.Xe.y*r;e.fillStyle=i.Tr,e.beginPath();const d=Math.max(2,1.5*i.Pr)*s;e.arc(l,c,d,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(l,c,i.ht*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=i.Dr,e.beginPath(),e.arc(l,c,i.ht*s+a/2,0,2*Math.PI,!1),e.stroke()}}const Y5=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Eb(t,e,s,r){return function(i,a){if(i==="transparent")return i;const o=uc(i),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${a*l})`}(t,s+(r-s)*e)}function _b(t,e){const s=t%2600/2600;let r;for(const c of Y5)if(s>=c.Vr&&s<=c.Or){r=c;break}gi(r!==void 0,"Last price animation internal logic error");const i=(s-r.Vr)/(r.Or-r.Vr);return{Rr:Eb(e,i,r.Ir,r.zr),Dr:Eb(e,i,r.Lr,r.Er),ht:(a=i,o=r.Br,l=r.Ar,o+(l-o)*a)};var a,o,l}class J5{constructor(e){this.Wt=new X5,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),s=this.Wr-e;if(s>0)return void(s<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),s=e.Xs(),r=this.jr.Ct();if(s===null||r===null)return;const i=this.jr.Zr(!0);if(i.Xr||!s.Kr(i.ee))return;const a={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,r.Vt)},o=i.V,l=this.jr.W().lineWidth,c=_b(this.Gr(),o);this.Wt.J({Tr:o,Pr:l,Rr:c.Rr,Dr:c.Dr,ht:c.ht,Xe:a})}Yr(){const e=this.Wt.$e();if(e!==null){const s=_b(this.Gr(),e.Tr);e.Rr=s.Rr,e.Dr=s.Dr,e.ht=s.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function Rl(t,e){return MC(Math.min(Math.max(t,12),30)*e)}function pc(t,e){switch(t){case"arrowDown":case"arrowUp":return Rl(e,1);case"circle":return Rl(e,.8);case"square":return Rl(e,.7)}}function $C(t){return function(e){const s=Math.ceil(e);return s%2!=0?s-1:s}(Rl(t,1))}function Pb(t){return Math.max(Rl(t,.1),3)}function Mb(t,e,s){return e?t:s?Math.ceil(t/2):0}function UC(t,e,s,r,i){const a=pc("square",s),o=(a-1)/2,l=t-o,c=e-o;return r>=l&&r<=l+a&&i>=c&&i<=c+a}function Rb(t,e,s,r){const i=(pc("arrowUp",r)-1)/2*s.Jr,a=(MC(r/2)-1)/2*s.Jr;e.beginPath(),t?(e.moveTo(s.nt-i,s.st),e.lineTo(s.nt,s.st-i),e.lineTo(s.nt+i,s.st),e.lineTo(s.nt+a,s.st),e.lineTo(s.nt+a,s.st+i),e.lineTo(s.nt-a,s.st+i),e.lineTo(s.nt-a,s.st)):(e.moveTo(s.nt-i,s.st),e.lineTo(s.nt,s.st+i),e.lineTo(s.nt+i,s.st),e.lineTo(s.nt+a,s.st),e.lineTo(s.nt+a,s.st-i),e.lineTo(s.nt-a,s.st-i),e.lineTo(s.nt-a,s.st)),e.fill()}function eI(t,e,s,r,i,a){return UC(e,s,r,i,a)}class tI extends Rr{constructor(){super(...arguments),this.zt=null,this.ar=new mc,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,s){this.j===e&&this.H===s||(this.j=e,this.H=s,this.Qr=_o(e,s),this.ar.nr())}wr(e,s){if(this.zt===null||this.zt.tt===null)return null;for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const i=this.zt.it[r];if(rI(i,e,s))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:s,verticalPixelRatio:r},i,a){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.ar.xi(e,l.Kt.ih),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),sI(l,e,s,r)}}}}function sI(t,e,s,r){e.fillStyle=t.V,t.Kt!==void 0&&function(i,a,o,l,c,d){i.save(),i.scale(c,d),i.fillText(a,o,l),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,s,r),function(i,a,o){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void Rb(!1,a,o,i.Ks);case"arrowUp":return void Rb(!0,a,o,i.Ks);case"circle":return void function(l,c,d){const u=(pc("circle",d)-1)/2;l.beginPath(),l.arc(c.nt,c.st,u*c.Jr,0,2*Math.PI,!1),l.fill()}(a,o,i.Ks);case"square":return void function(l,c,d){const u=pc("square",d),h=(u-1)*c.Jr/2,f=c.nt-h,x=c.st-h;l.fillRect(f,x,u*c.Jr,u*c.Jr)}(a,o,i.Ks)}i.nh}}(t,e,function(i,a,o){const l=Math.max(1,Math.floor(a))%2/2;return{nt:Math.round(i.nt*a)+l,st:i.st*o,Jr:a}}(t,s,r))}function rI(t,e,s){return!(t.Kt===void 0||!function(r,i,a,o,l,c){const d=o/2;return l>=r&&l<=r+a&&c>=i-d&&c<=i+d}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,s))||function(r,i,a){if(r.Ks===0)return!1;switch(r.nh){case"arrowDown":case"arrowUp":return eI(0,r.nt,r.st,r.Ks,i,a);case"circle":return function(o,l,c,d,u){const h=2+pc("circle",c)/2,f=o-d,x=l-u;return Math.sqrt(f*f+x*x)<=h}(r.nt,r.st,r.Ks,i,a);case"square":return UC(r.nt,r.st,r.Ks,i,a)}}(t,e,s)}function nI(t,e,s,r,i,a,o,l,c){const d=Kr(s)?s:s.Se,u=Kr(s)?s:s.Me,h=Kr(s)?s:s.xe,f=Kr(e.size)?Math.max(e.size,0):1,x=$C(l.le())*f,y=x/2;switch(t.Ks=x,e.position){case"inBar":return t.st=o.Rt(d,c),void(t.Kt!==void 0&&(t.Kt.st=t.st+y+a+.6*i));case"aboveBar":return t.st=o.Rt(u,c)-y-r.sh,t.Kt!==void 0&&(t.Kt.st=t.st-y-.6*i,r.sh+=1.2*i),void(r.sh+=x+a);case"belowBar":return t.st=o.Rt(h,c)+y+r.eh,t.Kt!==void 0&&(t.Kt.st=t.st+y+a+.6*i,r.eh+=1.2*i),void(r.eh+=x+a)}e.position}class iI{constructor(e,s){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new tI,this.jr=e,this.$i=s,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const s=this.$i.W().layout;return this.Wt._r(s.fontSize,s.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),s=Pb(e),r=1.5*$C(e)+2*s,i=this.fh();this.ah={above:Mb(r,i.aboveBar,i.inBar),below:Mb(r,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,s)=>(e[s.position]||(e[s.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),s=this.$i.St(),r=this.jr.dh();this.rh&&(this.zt.it=r.map(u=>({ot:u.time,nt:0,st:0,Ks:0,nh:u.shape,V:u.color,th:u.th,gr:u.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const a=s.Xs();if(a===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const c=Pb(s.le()),d={sh:c,eh:c};this.zt.tt=IC(this.zt.it,a,!0);for(let u=this.zt.tt.from;u<this.zt.tt.to;u++){const h=r[u];h.time!==l&&(d.sh=c,d.eh=c,l=h.time);const f=this.zt.it[u];f.nt=s.It(h.time),h.text!==void 0&&h.text.length>0&&(f.Kt={ih:h.text,nt:0,st:0,Hi:0,At:0});const x=this.jr.ph(h.time);x!==null&&nI(f,h,x,d,i.fontSize,c,e,s,o.Vt)}this.ft=!1}}class aI extends vx{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const s=this.Es.W();if(!s.priceLineVisible||!this.Es.yt())return;const r=this.Es.Zr(s.priceLineSource===0);r.Xr||(e.yt=!0,e.st=r.ki,e.V=this.Es.mh(r.V),e.et=s.priceLineWidth,e.Nt=s.priceLineStyle)}}class oI extends lf{constructor(e){super(),this.jt=e}zi(e,s,r){e.yt=!1,s.yt=!1;const i=this.jt;if(!i.yt())return;const a=i.W(),o=a.lastValueVisible,l=i.bh()!=="",c=a.seriesLastValueMode===0,d=i.Zr(!1);if(d.Xr)return;o&&(e.Kt=this.wh(d,o,c),e.yt=e.Kt.length!==0),(l||c)&&(s.Kt=this.gh(d,o,l,c),s.yt=s.Kt.length>0);const u=i.mh(d.V),h=af(u);r.t=h.t,r.ki=d.ki,s.Ot=i.$t().Bt(d.ki/i.Dt().At()),e.Ot=u,e.V=h.i,s.V=h.i}gh(e,s,r,i){let a="";const o=this.jt.bh();return r&&o.length!==0&&(a+=`${o} `),s&&i&&(a+=this.jt.Dt().Mh()?e.xh:e.Sh),a.trim()}wh(e,s,r){return s?r?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function Ab(t,e,s,r){const i=Number.isFinite(e),a=Number.isFinite(s);return i&&a?t(e,s):i||a?i?e:s:r}class Es{constructor(e,s){this.kh=e,this.yh=s}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Es(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Es(Ab(Math.min,this.Ph(),e.Ph(),-1/0),Ab(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Kr(e)||this.yh-this.kh===0)return;const s=.5*(this.yh+this.kh);let r=this.yh-s,i=this.kh-s;r*=e,i*=e,this.yh=s+r,this.kh=s+i}Oh(e){Kr(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Es(e.minValue,e.maxValue)}}class nh{constructor(e,s){this.Ih=e,this.zh=s||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new nh(Es.Ah(e.priceRange),e.margins)}}class lI extends vx{constructor(e,s){super(e),this.Nh=s}yr(){const e=this.Sr;e.yt=!1;const s=this.Nh.W();if(!this.Es.yt()||!s.lineVisible)return;const r=this.Nh.Fh();r!==null&&(e.yt=!0,e.st=r,e.V=s.color,e.et=s.lineWidth,e.Nt=s.lineStyle,e.gr=this.Nh.W().id)}}class cI extends lf{constructor(e,s){super(),this.jr=e,this.Nh=s}zi(e,s,r){e.yt=!1,s.yt=!1;const i=this.Nh.W(),a=i.axisLabelVisible,o=i.title!=="",l=this.jr;if(!a||!l.yt())return;const c=this.Nh.Fh();if(c===null)return;o&&(s.Kt=i.title,s.yt=!0),s.Ot=l.$t().Bt(c/l.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const d=af(i.axisLabelColor||i.color);r.t=d.t;const u=i.axisLabelTextColor||d.i;e.V=u,s.V=u,r.ki=c}Wh(e){const s=this.jr.Ct();return s===null?"":this.jr.Dt().Fi(e,s.Vt)}}class dI{constructor(e,s){this.jr=e,this.cn=s,this.jh=new lI(e,this),this.ur=new cI(e,this),this.Hh=new FC(this.ur,e,e.$t())}$h(e){Er(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,s=e.Dt();if(e.$t().St().Ni()||s.Ni())return null;const r=e.Ct();return r===null?null:s.Rt(this.cn.price,r.Vt)}}class uI extends px{constructor(e){super(),this.$i=e}$t(){return this.$i}}const hI={Bar:(t,e,s,r)=>{var i;const a=e.upColor,o=e.downColor,l=ne(t(s,r)),c=Va(l.Vt[0])<=Va(l.Vt[3]);return{ce:(i=l.V)!==null&&i!==void 0?i:c?a:o}},Candlestick:(t,e,s,r)=>{var i,a,o;const l=e.upColor,c=e.downColor,d=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,x=ne(t(s,r)),y=Va(x.Vt[0])<=Va(x.Vt[3]);return{ce:(i=x.V)!==null&&i!==void 0?i:y?l:c,Ne:(a=x.Ot)!==null&&a!==void 0?a:y?d:u,Ee:(o=x.Xh)!==null&&o!==void 0?o:y?h:f}},Custom:(t,e,s,r)=>{var i;return{ce:(i=ne(t(s,r)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,s,r)=>{var i,a,o,l;const c=ne(t(s,r));return{ce:(i=c.lt)!==null&&i!==void 0?i:e.lineColor,lt:(a=c.lt)!==null&&a!==void 0?a:e.lineColor,Ps:(o=c.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(l=c.Rs)!==null&&l!==void 0?l:e.bottomColor}},Baseline:(t,e,s,r)=>{var i,a,o,l,c,d;const u=ne(t(s,r));return{ce:u.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=u.Re)!==null&&i!==void 0?i:e.topLineColor,De:(a=u.De)!==null&&a!==void 0?a:e.bottomLineColor,ke:(o=u.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(l=u.ye)!==null&&l!==void 0?l:e.topFillColor2,Ce:(c=u.Ce)!==null&&c!==void 0?c:e.bottomFillColor1,Te:(d=u.Te)!==null&&d!==void 0?d:e.bottomFillColor2}},Line:(t,e,s,r)=>{var i,a;const o=ne(t(s,r));return{ce:(i=o.V)!==null&&i!==void 0?i:e.color,lt:(a=o.V)!==null&&a!==void 0?a:e.color}},Histogram:(t,e,s,r)=>{var i;return{ce:(i=ne(t(s,r)).V)!==null&&i!==void 0?i:e.color}}};class fI{constructor(e){this.Kh=(s,r)=>r!==void 0?r.Vt:this.jr.In().Gh(s),this.jr=e,this.Jh=hI[e.Qh()]}$s(e,s){return this.Jh(this.Kh,this.jr.W(),e,s)}}var Db;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(Db||(Db={}));const An=30;class mI{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,s=0){const r=this.hl(e,s);return r===null?null:Object.assign(Object.assign({},this.al(r)),{ee:this.rl(r)})}ne(){return this.tl}ol(e,s,r){if(this.Ni())return null;let i=null;for(const a of r)i=Md(i,this._l(e,s,a));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,s){const r=this.ul(e);if(r===null&&s!==0)switch(s){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return r}cl(e){let s=this.fl(e);return s>0&&(s-=1),s!==this.tl.length&&this.rl(s)<e?s:null}dl(e){const s=this.vl(e);return s!==this.tl.length&&e<this.rl(s)?s:null}ul(e){const s=this.fl(e);return s===this.tl.length||e<this.tl[s].ee?null:s}fl(e){return qc(this.tl,e,(s,r)=>s.ee<r)}vl(e){return OC(this.tl,e,(s,r)=>s.ee>r)}pl(e,s,r){let i=null;for(let a=e;a<s;a++){const o=this.tl[a].Vt[r];Number.isNaN(o)||(i===null?i={ml:o,bl:o}:(o<i.ml&&(i.ml=o),o>i.bl&&(i.bl=o)))}return i}_l(e,s,r){if(this.Ni())return null;let i=null;const a=ne(this.el()),o=ne(this.An()),l=Math.max(e,a),c=Math.min(s,o),d=Math.ceil(l/An)*An,u=Math.max(d,Math.floor(c/An)*An);{const f=this.fl(l),x=this.vl(Math.min(c,d,s));i=Md(i,this.pl(f,x,r))}let h=this.il.get(r);h===void 0&&(h=new Map,this.il.set(r,h));for(let f=Math.max(d+1,l);f<u;f+=An){const x=Math.floor(f/An);let y=h.get(x);if(y===void 0){const m=this.fl(x*An),b=this.vl((x+1)*An-1);y=this.pl(m,b,r),h.set(x,y)}i=Md(i,y)}{const f=this.fl(u),x=this.vl(c);i=Md(i,this.pl(f,x,r))}return i}}function Md(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class pI{constructor(e){this.wl=e}X(e,s,r){this.wl.draw(e)}gl(e,s,r){var i,a;(a=(i=this.wl).drawBackground)===null||a===void 0||a.call(i,e)}}class xm{constructor(e){this.tr=null,this.wn=e}gt(){var e;const s=this.wn.renderer();if(s===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===s)return this.tr.xl;const r=new pI(s);return this.tr={Ml:s,xl:r},r}Sl(){var e,s,r;return(r=(s=(e=this.wn).zOrder)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:"normal"}}function zC(t){var e,s,r,i,a;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(r=(s=t.visible)===null||s===void 0?void 0:s.call(t))===null||r===void 0||r,hi:(a=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||a===void 0||a}}class gI{constructor(e,s){this.Wt=new kC,this.kl=e,this.yl=s}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},zC(this.kl))),this.Wt}}class xI extends lf{constructor(e,s){super(),this.kl=e,this.Li=s}zi(e,s,r){const i=zC(this.kl);r.t=i.t,e.V=i.V;const a=2/12*this.Li.P();r.wi=a,r.gi=a,r.ki=i.ki,r.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class vI{constructor(e,s){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=s}Ol(){return this.Vl}Vn(){var e,s;(s=(e=this.Vl).updateAllViews)===null||s===void 0||s.call(e)}Pn(){var e,s,r,i;const a=(r=(s=(e=this.Vl).paneViews)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===a)return this.Cl.xl;const o=a.map(l=>new xm(l));return this.Cl={Ml:a,xl:o},o}Qi(){var e,s,r,i;const a=(r=(s=(e=this.Vl).timeAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===a)return this.Tl.xl;const o=this.jr.$t().St(),l=a.map(c=>new gI(c,o));return this.Tl={Ml:a,xl:l},l}Rn(){var e,s,r,i;const a=(r=(s=(e=this.Vl).priceAxisViews)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===a)return this.Pl.xl;const o=this.jr.Dt(),l=a.map(c=>new xI(c,o));return this.Pl={Ml:a,xl:l},l}Bl(){var e,s,r,i;const a=(r=(s=(e=this.Vl).priceAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===a)return this.Rl.xl;const o=a.map(l=>new xm(l));return this.Rl={Ml:a,xl:o},o}Al(){var e,s,r,i;const a=(r=(s=(e=this.Vl).timeAxisPaneViews)===null||s===void 0?void 0:s.call(e))!==null&&r!==void 0?r:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===a)return this.Dl.xl;const o=a.map(l=>new xm(l));return this.Dl={Ml:a,xl:o},o}Il(e,s){var r,i,a;return(a=(i=(r=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(r,e,s))!==null&&a!==void 0?a:null}wr(e,s){var r,i,a;return(a=(i=(r=this.Vl).hitTest)===null||i===void 0?void 0:i.call(r,e,s))!==null&&a!==void 0?a:null}}function vm(t,e,s,r){t.forEach(i=>{e(i).forEach(a=>{a.Sl()===s&&r.push(a)})})}function ym(t){return t.Pn()}function yI(t){return t.Bl()}function bI(t){return t.Al()}class yx extends uI{constructor(e,s,r,i,a){super(e),this.zt=new mI,this.jh=new aI(this),this.zl=[],this.Ll=new Z5(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=s,this.$l=r;const o=new oI(this);this.rn=[o],this.Hh=new FC(o,this,e),r!=="Area"&&r!=="Line"&&r!=="Baseline"||(this.El=new J5(this)),this.Ul(),this.ql(a)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const s={Xr:!0},r=this.Dt();if(this.$t().St().Ni()||r.Ni()||this.zt.Ni())return s;const i=this.$t().St().Xs(),a=this.Ct();if(i===null||a===null)return s;let o,l;if(e){const h=this.zt.sl();if(h===null)return s;o=h,l=h.ee}else{const h=this.zt.ll(i.ui(),-1);if(h===null||(o=this.zt.Gh(h.ee),o===null))return s;l=h.ee}const c=o.Vt[3],d=this.Us().$s(l,{Vt:o}),u=r.Rt(c,a.Vt);return{Xr:!1,_t:c,Kt:r.Fi(c,a.Vt),xh:r.Yl(c),Sh:r.Zl(c,a.Vt),V:d.ce,ki:u,ee:l}}Us(){return this.Nl!==null||(this.Nl=new fI(this)),this.Nl}W(){return this.cn}$h(e){const s=e.priceScaleId;s!==void 0&&s!==this.cn.priceScaleId&&this.$t().Xl(this,s),Er(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,s){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(s&&s.ta?this.El.$r():e.length===0&&this.El.Hr());const r=this.$t().dr(this);this.$t().ia(r),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const s=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(s),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const s=new dI(this,e);return this.zl.push(s),this.$t().Gl(this),s}ra(e){const s=this.zl.indexOf(e);s!==-1&&this.zl.splice(s,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const s=e.Os();return this.zt.ll(s,1)}In(){return this.zt}ph(e){const s=this.zt.Gh(e);return s===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:s.Vt[0],Me:s.Vt[1],xe:s.Vt[2],Se:s.Vt[3]}:s.Vt[3]}aa(e){const s=[];vm(this.Hl,ym,"top",s);const r=this.El;return r!==null&&r.yt()&&(this.jl===null&&r.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),r.Ur(),s.unshift(r)),s}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const s=this.zl.map(r=>r.qh());return e.push(...s),vm(this.Hl,ym,"normal",e),e}ua(){return this.ca(ym,"bottom")}da(e){return this.ca(yI,e)}fa(e){return this.ca(bI,e)}va(e,s){return this.Hl.map(r=>r.wr(e,s)).filter(r=>r!==null)}Ji(e){return[this.Hh,...this.zl.map(s=>s.Yh())]}Rn(e,s){if(s!==this.Yi&&!this._a())return[];const r=[...this.rn];for(const i of this.zl)r.push(i.Zh());return this.Hl.forEach(i=>{r.push(...i.Rn())}),r}Qi(){const e=[];return this.Hl.forEach(s=>{e.push(...s.Qi())}),e}Il(e,s){if(this.cn.autoscaleInfoProvider!==void 0){const r=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,s);return i===null?null:i.Bh()});return nh.Ah(r)}return this.pa(e,s)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const s of this.rn)s.bt();for(const s of this.zl)s.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(s=>s.Vn())}Dt(){return ne(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const s=this.zt.Gh(e);return s===null?null:{_t:s.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new vI(e,this))}ya(e){this.Hl=this.Hl.filter(s=>s.Ol()!==e)}Ca(){if(this.wn instanceof gm)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof gm)return e=>this.wn.je(e)}_a(){return!cf(this.Dt().Pa())}pa(e,s){if(!hc(e)||!hc(s)||this.zt.Ni())return null;const r=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,s,r);let a=i!==null?new Es(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const l=this.cn.base,c=new Es(l,l);a=a!==null?a.ts(c):c}let o=this.dn.uh();return this.Hl.forEach(l=>{const c=l.Il(e,s);if(c!=null&&c.priceRange){const x=new Es(c.priceRange.minValue,c.priceRange.maxValue);a=a!==null?a.ts(x):x}var d,u,h,f;c!=null&&c.margins&&(d=o,u=c.margins,o={above:Math.max((h=d==null?void 0:d.above)!==null&&h!==void 0?h:0,u.above),below:Math.max((f=d==null?void 0:d.below)!==null&&f!==void 0?f:0,u.below)})}),new nh(a,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const s=this.cn.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new k5(this.cn.priceFormat.precision);break;case"percent":this.wa=new EC(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new df(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const s=ne(this.zt.el());this.Wl=this.Fl.map((r,i)=>{const a=ne(e.Va(r.time,!0)),o=a<s?1:-1;return{time:ne(this.zt.ll(a,o)).ee,position:r.position,shape:r.shape,color:r.color,id:r.id,th:i,text:r.text,size:r.size,originalTime:r.originalTime}})}ql(e){switch(this.dn=new iI(this,this.$t()),this.$l){case"Bar":this.wn=new I5(this,this.$t());break;case"Candlestick":this.wn=new z5(this,this.$t());break;case"Line":this.wn=new K5(this,this.$t());break;case"Custom":this.wn=new gm(this,this.$t(),gs(e));break;case"Area":this.wn=new D5(this,this.$t());break;case"Baseline":this.wn=new $5(this,this.$t());break;case"Histogram":this.wn=new H5(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,s){const r=[];return vm(this.Hl,e,s,r),r}}class wI{constructor(e){this.cn=e}Oa(e,s,r){let i=e;if(this.cn.mode===0)return i;const a=r.vn(),o=a.Ct();if(o===null)return i;const l=a.Rt(e,o),c=r.Ba().filter(u=>u instanceof yx).reduce((u,h)=>{if(r.vr(h)||!h.yt())return u;const f=h.Dt(),x=h.In();if(f.Ni()||!x.Kr(s))return u;const y=x.Gh(s);if(y===null)return u;const m=Va(h.Ct());return u.concat([f.Rt(y.Vt[3],m.Vt)])},[]);if(c.length===0)return i;c.sort((u,h)=>Math.abs(u-l)-Math.abs(h-l));const d=c[0];return i=a.pn(d,o),i}}class jI extends Rr{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:s,horizontalPixelRatio:r,verticalPixelRatio:i}){if(this.zt===null)return;const a=Math.max(1,Math.floor(r));e.lineWidth=a,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(e,()=>{const o=ne(this.zt);if(o.Aa){e.strokeStyle=o.Ia,aa(e,o.za),e.beginPath();for(const l of o.La){const c=Math.round(l.Ea*r);e.moveTo(c,-a),e.lineTo(c,s.height+a)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,aa(e,o.Wa),e.beginPath();for(const l of o.ja){const c=Math.round(l.Ea*i);e.moveTo(-a,c),e.lineTo(s.width+a,c)}e.stroke()}})}}class NI{constructor(e){this.Wt=new jI,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,s={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(r=>({Ea:r.coord}))};this.Wt.J(s),this.ft=!1}return this.Wt}}class SI{constructor(e){this.wn=new NI(e)}qh(){return this.wn}}const bm={$a:4,Ua:1e-4};function Wa(t,e){const s=100*(t-e)/e;return e<0?-s:s}function CI(t,e){const s=Wa(t.Ph(),e),r=Wa(t.Rh(),e);return new Es(s,r)}function Al(t,e){const s=100*(t-e)/e+100;return e<0?-s:s}function TI(t,e){const s=Al(t.Ph(),e),r=Al(t.Rh(),e);return new Es(s,r)}function ih(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const r=Math.log10(s+e.Ua)+e.$a;return t<0?-r:r}function Dl(t,e){const s=Math.abs(t);if(s<1e-15)return 0;const r=Math.pow(10,s-e.$a)-e.Ua;return t<0?-r:r}function ol(t,e){if(t===null)return null;const s=ih(t.Ph(),e),r=ih(t.Rh(),e);return new Es(s,r)}function Rd(t,e){if(t===null)return null;const s=Dl(t.Ph(),e),r=Dl(t.Rh(),e);return new Es(s,r)}function wm(t){if(t===null)return bm;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return bm;const s=Math.ceil(Math.abs(Math.log10(e))),r=bm.$a+s;return{$a:r,Ua:1/Math.pow(10,r)}}class jm{constructor(e,s){if(this.qa=e,this.Ya=s,function(r){if(r<0)return!1;for(let i=r;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let r=this.qa;r!==1;){if(r%2==0)this.Za.push(2),r/=2;else{if(r%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),r/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,s,r){const i=this.qa===0?0:1/this.qa;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),o=0,l=this.Ya[0];for(;;){const h=Pd(a,i,1e-14)&&a>i+1e-14,f=Pd(a,r*l,1e-14),x=Pd(a,1,1e-14);if(!(h&&f&&x))break;a/=l,l=this.Ya[++o%this.Ya.length]}if(a<=i+1e-14&&(a=i),a=Math.max(1,a),this.Za.length>0&&(c=a,d=1,u=1e-14,Math.abs(c-d)<u))for(o=0,l=this.Za[0];Pd(a,r*l,1e-14)&&a>i+1e-14;)a/=l,l=this.Za[++o%this.Za.length];var c,d,u;return a}}class Ob{constructor(e,s,r,i){this.Ka=[],this.Li=e,this.qa=s,this.Ga=r,this.Ja=i}Xa(e,s){if(e<s)throw new Error("high < low");const r=this.Li.At(),i=(e-s)*this.Qa()/r,a=new jm(this.qa,[2,2.5,2]),o=new jm(this.qa,[2,2,2.5]),l=new jm(this.qa,[2.5,2,2]),c=[];return c.push(a.Xa(e,s,i),o.Xa(e,s,i),l.Xa(e,s,i)),function(d){if(d.length<1)throw Error("array is empty");let u=d[0];for(let h=1;h<d.length;++h)d[h]<u&&(u=d[h]);return u}(c)}io(){const e=this.Li,s=e.Ct();if(s===null)return void(this.Ka=[]);const r=e.At(),i=this.Ga(r-1,s),a=this.Ga(0,s),o=this.Li.W().entireTextOnly?this.no()/2:0,l=o,c=r-1-o,d=Math.max(i,a),u=Math.min(i,a);if(d===u)return void(this.Ka=[]);let h=this.Xa(d,u),f=d%h;f+=f<0?h:0;const x=d>=u?1:-1;let y=null,m=0;for(let b=d-f;b>u;b-=h){const g=this.Ja(b,s,!0);y!==null&&Math.abs(g-y)<this.Qa()||g<l||g>c||(m<this.Ka.length?(this.Ka[m].Ea=g,this.Ka[m].so=e.eo(b)):this.Ka.push({Ea:g,so:e.eo(b)}),m++,y=g,e.ro()&&(h=this.Xa(b*x,u)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function BC(t){return t.slice().sort((e,s)=>ne(e.Xi())-ne(s.Xi()))}var Ib;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(Ib||(Ib={}));const Lb=new EC,Fb=new df(100,1);class kI{constructor(e,s,r,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Et,this.vo=new Et,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=Fb,this.xo=wm(null),this.So=e,this.cn=s,this.ko=r,this.yo=i,this.Co=new Ob(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(Er(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const s=gs(e.scaleMargins.top),r=gs(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(r<0||r>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${r}`);if(s+r>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+r}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const s=this.Cr();let r=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),s.Cr===1&&e.Cr!==s.Cr&&(function(a,o){if(a===null)return!1;const l=Dl(a.Ph(),o),c=Dl(a.Rh(),o);return isFinite(l)&&isFinite(c)}(this.Ih,this.xo)?(r=Rd(this.Ih,this.xo),r!==null&&this.Ao(r)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==s.Cr&&(r=ol(this.Ih,this.xo),r!==null&&this.Ao(r));const i=s.Cr!==this.cn.mode;i&&(s.Cr===2||this.Mh())&&this.Ra(),i&&(s.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&s.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(s,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,s){const r=this.Ih;(s||r===null&&e!==null||r!==null&&!r.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,s){return this.Mh()?e=Wa(e,s):this.Oo()&&(e=Al(e,s)),this.Po(e,s)}te(e,s,r){this.Wo();const i=this.Fo(),a=ne(this.Lh()),o=a.Ph(),l=a.Rh(),c=this.Eo()-1,d=this.Bo(),u=c/(l-o),h=r===void 0?0:r.from,f=r===void 0?e.length:r.to,x=this.Ho();for(let y=h;y<f;y++){const m=e[y],b=m._t;if(isNaN(b))continue;let g=b;x!==null&&(g=x(m._t,s));const v=i+u*(g-o),w=d?v:this.ho-1-v;m.st=w}}be(e,s,r){this.Wo();const i=this.Fo(),a=ne(this.Lh()),o=a.Ph(),l=a.Rh(),c=this.Eo()-1,d=this.Bo(),u=c/(l-o),h=r===void 0?0:r.from,f=r===void 0?e.length:r.to,x=this.Ho();for(let y=h;y<f;y++){const m=e[y];let b=m.ge,g=m.Me,v=m.xe,w=m.Se;x!==null&&(b=x(m.ge,s),g=x(m.Me,s),v=x(m.xe,s),w=x(m.Se,s));let j=i+u*(b-o),C=d?j:this.ho-1-j;m.pe=C,j=i+u*(g-o),C=d?j:this.ho-1-j,m.de=C,j=i+u*(v-o),C=d?j:this.ho-1-j,m.fe=C,j=i+u*(w-o),C=d?j:this.ho-1-j,m.me=C}}pn(e,s){const r=this.To(e,s);return this.$o(r,s)}$o(e,s){let r=e;return this.Mh()?r=function(i,a){return a<0&&(i=-i),i/100*a+a}(r,s):this.Oo()&&(r=function(i,a){return i-=100,a<0&&(i=-i),i/100*a+a}(r,s)),r}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let s=0;s<this.po.length;s++){const r=this.po[s];r.Xi()===null&&r.Ki(s+1),e.push(r)}return e=BC(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const s=this.po.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.po.splice(s,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const s of this.po){const r=s.Ct();r!==null&&(e===null||r.la<e.la)&&(e=r)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const s=this.Co.Ha();return this.bo={Ha:s,Xo:e},this.fo.m(),s}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=ne(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let s=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const r=ne(this.ao).Th();s=Math.max(s,.1),r.Vh(s),this.Ao(r)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=ne(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const s=ne(this.Lh()).Dh()/(this.Eo()-1);let r=e-this.Mo;this.Bo()&&(r*=-1);const i=r*s,a=ne(this.ao).Th();a.Oh(i),this.Ao(a,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,s){switch(this.cn.mode){case 2:return this.s_(Wa(e,s));case 3:return this.ba().format(Al(e,s));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,ne(this.e_()).ba())}Zl(e,s){return e=Wa(e,s),this.s_(e,Lb)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let s=100;e!==null&&(s=Math.round(1/e.ma())),this.wa=Fb,this.Mh()?(this.wa=Lb,s=100):this.Oo()?(this.wa=new df(100,1),s=100):e!==null&&(this.wa=e.ba()),this.Co=new Ob(this,s,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,s){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?ih(e,this.xo):e;const r=ne(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-r.Ph())/r.Dh();return this.jo(i)}To(e,s){if(this.Wo(),this.Ni())return 0;const r=this.jo(e),i=ne(this.Lh()),a=i.Ph()+i.Dh()*((r-this.Fo())/(this.Eo()-1));return this.ro()?Dl(a,this.xo):a}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let s=null;const r=this.r_();let i=0,a=0;for(const c of r){if(!c.yt())continue;const d=c.Ct();if(d===null)continue;const u=c.Il(e.Os(),e.ui());let h=u&&u.Lh();if(h!==null){switch(this.cn.mode){case 1:h=ol(h,this.xo);break;case 2:h=CI(h,d.Vt);break;case 3:h=TI(h,d.Vt)}if(s=s===null?h:s.ts(ne(h)),u!==null){const f=u.Eh();f!==null&&(i=Math.max(i,f.above),a=Math.max(a,f.below))}}}if(i===this.co&&a===this.do||(this.co=i,this.do=a,this.bo=null,this.Do()),s!==null){if(s.Ph()===s.Rh()){const c=this.e_(),d=5*(c===null||this.Mh()||this.Oo()?1:c.ma());this.ro()&&(s=Rd(s,this.xo)),s=new Es(s.Ph()-d,s.Rh()+d),this.ro()&&(s=ol(s,this.xo))}if(this.ro()){const c=Rd(s,this.xo),d=wm(c);if(o=d,l=this.xo,o.$a!==l.$a||o.Ua!==l.Ua){const u=this.ao!==null?Rd(this.ao,this.xo):null;this.xo=d,s=ol(c,d),u!==null&&(this.ao=ol(u,d))}}this.Ao(s)}else this.Ih===null&&(this.Ao(new Es(-.5,.5)),this.xo=wm(null));var o,l;this.oo._o=!0}Ho(){return this.Mh()?Wa:this.Oo()?Al:this.ro()?e=>ih(e,this.xo):null}a_(e,s,r){return s===void 0?(r===void 0&&(r=this.ba()),r.format(e)):s(e)}Wh(e,s){return this.a_(e,this.yo.priceFormatter,s)}s_(e,s){return this.a_(e,this.yo.percentageFormatter,s)}}class EI{constructor(e,s){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Et,this.yl=e,this.$i=s,this.d_=new SI(this);const r=s.W();this.f_=this.v_("left",r.leftPriceScale),this.p_=this.v_("right",r.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(r)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const s=Array.from(this.o_.values());for(const r of s){const i=ne(r[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?gs(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(s=>{if(this.vr(s)){const r=s.Dt();r!==null&&r.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const s=e.Dt();return s===null||this.f_!==s&&this.p_!==s}qo(e,s,r){const i=r!==void 0?r:this.C_().y_+1;this.T_(e,s,i)}Zo(e){const s=this.po.indexOf(e);gi(s!==-1,"removeDataSource: invalid data source"),this.po.splice(s,1);const r=ne(e.Dt()).Pa();if(this.o_.has(r)){const a=gs(this.o_.get(r)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.o_.delete(r))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,s){e.Go(s)}O_(e,s){e.Jo(s),this.k_()}B_(e){e.Qo()}A_(e,s){e.t_(s)}I_(e,s){e.i_(s),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const s=this.yl.Xs();e.Ro({Wn:!0}),s!==null&&e.h_(s),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=BC(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const s=e.r_();if(s&&s.length>0&&!this.yl.Ni()){const r=this.yl.Xs();r!==null&&e.h_(r)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let s=0,r=0;for(let i=0;i<e.length;i++){const a=e[i].Xi();a!==null&&(a<s&&(s=a),a>r&&(r=a))}return{H_:s,y_:r}}T_(e,s,r){let i=this.w_(s);if(i===null&&(i=this.v_(s,this.$i.W().overlayPriceScales)),this.po.push(e),!cf(s)){const a=this.o_.get(s)||[];a.push(e),this.o_.set(s,a)}i.qo(e),e.Gi(i),e.Ki(r),this.P_(i),this.mo=null}m_(e,s,r){s.Cr!==r.Cr&&this.L_(e)}v_(e,s){const r=Object.assign({visible:!0,autoScale:!0},vn(s)),i=new kI(e,r,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class _I{constructor(e,s,r=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=s,this.ir=r}Y_(e){const s=e.time,r=this.q_.cacheKey(s),i=this.tr.get(r);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(gs(o)),this.Je++,this.Ke--}const a=this.U_(e);return this.tr.set(r,{Z_:a,rr:this.Ge}),this.Qe.set(this.Ge,r),this.Ke++,this.Ge++,a}}class Ol{constructor(e,s){gi(e<=s,"right should be >= left"),this.X_=e,this.K_=s}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function $b(t,e){return t===null||e===null?t===e:t.Ch(e)}class PI{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,s){this.nu(s),this.tr=null;for(let r=s;r<e.length;++r){const i=e[r];let a=this.J_.get(i.timeWeight);a===void 0&&(a=[],this.J_.set(i.timeWeight,a)),a.push({index:r,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,s){const r=Math.ceil(s/e);return this.tr!==null&&this.tr.eu===r||(this.tr={Ha:this.ru(r),eu:r}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const s=[];this.J_.forEach((r,i)=>{e<=r[0].index?s.push(i):r.splice(qc(r,e,a=>a.index<e),1/0)});for(const r of s)this.J_.delete(r)}ru(e){let s=[];for(const r of Array.from(this.J_.keys()).sort((i,a)=>a-i)){if(!this.J_.get(r))continue;const i=s;s=[];const a=i.length;let o=0;const l=gs(this.J_.get(r)),c=l.length;let d=1/0,u=-1/0;for(let h=0;h<c;h++){const f=l[h],x=f.index;for(;o<a;){const y=i[o],m=y.index;if(!(m<x)){d=m;break}o++,s.push(y),u=m,d=1/0}if(d-x>=e&&x-u>=e)s.push(f),u=x;else if(this.Q_)return i}for(;o<a;o++)s.push(i[o])}return s}}class so{constructor(e){this.hu=e}lu(){return this.hu===null?null:new Ol(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new so(null)}}function MI(t,e){return t.weight>e.weight?t:e}class RI{constructor(e,s,r,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new PI,this.du=new Map,this.fu=so.ou(),this.vu=!0,this.pu=new Et,this.mu=new Et,this.bu=new Et,this.wu=null,this.gu=null,this.Mu=[],this.cn=s,this.yo=r,this.xu=s.rightOffset,this.Su=s.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(s.uniformDistribution)}W(){return this.cn}yu(e){Er(this.yo,e),this.Cu(),this.ku()}$h(e,s){var r;Er(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((r=e.barSpacing)!==null&&r!==void 0?r:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var s,r;return(r=(s=this.uu[e])===null||s===void 0?void 0:s.time)!==null&&r!==void 0?r:null}Ui(e){var s;return(s=this.uu[e])!==null&&s!==void 0?s:null}Va(e,s){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return s?this.uu.length-1:null;const r=qc(this.uu,this.q_.key(e),(i,a)=>this.q_.key(i.time)<a);return this.q_.key(e)<this.q_.key(this.uu[r].time)?s?r:null:r}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const s={from:e.Os(),to:e.ui()};return this.Ou(s)}Ou(e){const s=Math.round(e.from),r=Math.round(e.to),i=ne(this.Bu()),a=ne(this.Au());return{from:ne(this.Ui(Math.max(i,s))),to:ne(this.Ui(Math.min(a,r)))}}Iu(e){return{from:ne(this.Va(e.from,!0)),to:ne(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const s=this.Du(),r=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&r!==0){const i=this.Su*e/r;this.Su=i}if(this.cn.fixLeftEdge&&s!==null&&s.Os()<=0){const i=r-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!hc(e))return 0;const s=this.Eu()+this.xu-e;return this.__-(s+.5)*this.Su-1}Qs(e,s){const r=this.Eu(),i=s===void 0?0:s.from,a=s===void 0?e.length:s.to;for(let o=i;o<a;o++){const l=e[o].ot,c=r+this.xu-l,d=this.__-(c+.5)*this.Su-1;e[o].nt=d}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,s=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),r=Math.round(s/e),i=ne(this.Xs()),a=Math.max(i.Os(),i.Os()-r),o=Math.max(i.ui(),i.ui()-r),l=this.cu.su(e,s),c=this.Bu()+r,d=this.Au()-r,u=this.$u(),h=this.cn.fixLeftEdge||u,f=this.cn.fixRightEdge||u;let x=0;for(const y of l){if(!(a<=y.index&&y.index<=o))continue;let m;x<this.Mu.length?(m=this.Mu[x],m.coord=this.It(y.index),m.label=this.Uu(y),m.weight=y.weight):(m={needAlignCoordinate:!1,coord:this.It(y.index),label:this.Uu(y),weight:y.weight},this.Mu.push(m)),this.Su>s/2&&!u?m.needAlignCoordinate=!1:m.needAlignCoordinate=h&&y.index<=c||f&&y.index>=d,x++}return this.Mu.length=x,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,s){const r=this.Fu(e),i=this.le(),a=i+s*(i/10);this.Gn(a),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(r-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const s=c0(this.__-e,0,this.__),r=c0(this.__-ne(this.wo),0,this.__);s!==0&&r!==0&&this.Gn(this.wu.le*s/r)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const s=(this.Mo-e)/this.le();this.xu=ne(this.wu).Hu+s,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const r=this.xu,i=performance.now();this.$i.Zn({Qu:a=>(a-i)/s>=1,tc:a=>{const o=(a-i)/s;return o>=1?e:r+(e-r)*o}})}bt(e,s){this.vu=!0,this.uu=e,this.cu.iu(e,s),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const s=e.G_();this.ju(this.__/s),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),s=this.Au();e!==null&&s!==null&&this.rc(new Ol(e,s+this.cn.rightOffset))}lc(e){const s=new Ol(e.from,e.to);this.rc(s)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:s}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const s=this.ac(e),r=this.Eu()+this.xu-s;return Math.round(1e6*r)/1e6}ju(e){const s=this.Su;this.Su=e,this.zu(),s!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(so.ou());const e=this.Eu(),s=this.__/this.Su,r=this.xu+e,i=new Ol(r-s+1,r);this._c(new so(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const s=.5*this.__;this.Su>s&&(this.Su=s,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const s=this.dc();this.xu>s&&(this.xu=s,this.vu=!0)}cc(){const e=this.Bu(),s=this._u;return e===null||s===null?null:e-s-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let s=this.du.get(e.weight);return s===void 0&&(s=new _I(r=>this.fc(r),this.q_),this.du.set(e.weight,s)),s.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const s=this.fu;this.fu=e,$b(s.lu(),this.fu.lu())||this.pu.m(),$b(s.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const s=this.Xs();if(s===null)return;const r=s.Os()-e;if(r<0){const i=this.xu-r-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class AI{X(e,s,r){e.useMediaCoordinateSpace(i=>this.K(i,s,r))}gl(e,s,r){e.useMediaCoordinateSpace(i=>this.vc(i,s,r))}vc(e,s,r){}}class DI extends AI{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:s,mediaSize:r}=e;let i=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;s.font=o.R;const l=this.wc(s,o.Kt);l>r.width?o.Zu=r.width/l:o.Zu=1,i+=o.gc*o.Zu}let a=0;switch(this.zt.Mc){case"top":a=0;break;case"center":a=Math.max((r.height-i)/2,0);break;case"bottom":a=Math.max(r.height-i,0)}s.fillStyle=this.zt.V;for(const o of this.zt.bc){s.save();let l=0;switch(this.zt.xc){case"left":s.textAlign="left",l=o.gc/2;break;case"center":s.textAlign="center",l=r.width/2;break;case"right":s.textAlign="right",l=r.width-1-o.gc/2}s.translate(l,a),s.textBaseline="top",s.font=o.R,s.scale(o.Zu,o.Zu),s.fillText(o.Kt,0,o.Sc),s.restore(),a+=o.gc*o.Zu}}wc(e,s){const r=this.kc(e.font);let i=r.get(s);return i===void 0&&(i=e.measureText(s).width,r.set(s,i)),i}kc(e){let s=this.mc.get(e);return s===void 0&&(s=new Map,this.mc.set(e,s)),s}}class OI{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new DI(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),s=this.Ft;s.yt=e.visible,s.yt&&(s.V=e.color,s.xc=e.horzAlign,s.Mc=e.vertAlign,s.bc=[{Kt:e.text,R:_o(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class II extends px{constructor(e,s){super(),this.cn=s,this.wn=new OI(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var Ub,zb,Bb,Vb,Wb;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(Ub||(Ub={}));class LI{constructor(e,s,r){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Et,this.Rc=new Et,this.Dc=null,this.Vc=e,this.cn=s,this.q_=r,this.Oc=new p5(this),this.yl=new RI(this,s.timeScale,this.cn.localization,r),this.vt=new T5(this,s.crosshair),this.Bc=new wI(s.crosshair),this.Ac=new II(this,s.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Gt.es())}Uh(){this.Nc(Gt.ss())}oa(){this.Nc(new Gt(1))}Gl(e){const s=this.Fc(e);this.Nc(s)}Wc(){return this.Tc}jc(e){const s=this.Tc;this.Tc=e,s!==null&&this.Gl(s.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){Er(this.cn,e),this.yc.forEach(s=>s.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,s){if(e==="left")return void this.$h({leftPriceScale:s});if(e==="right")return void this.$h({rightPriceScale:s});const r=this.Uc(e);r!==null&&(r.Dt.$h(s),this.Pc.m())}Uc(e){for(const s of this.yc){const r=s.w_(e);if(r!==null)return{Ht:s,Dt:r}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,s){e.Lo(s),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(s=>s.S_(e)),this.Wu()}Ic(e){const s=new EI(this.yl,this);e!==void 0?this.yc.splice(e,0,s):this.yc.push(s);const r=e===void 0?this.yc.length-1:e,i=Gt.es();return i.Nn(r,{Fn:0,Wn:!0}),this.Nc(i),s}V_(e,s,r){e.V_(s,r)}O_(e,s,r){e.O_(s,r),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,s){e.B_(s),this.Nc(this.Gc(e,2))}A_(e,s,r){s.Vo()||e.A_(s,r)}I_(e,s,r){s.Vo()||(e.I_(s,r),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,s){s.Vo()||(e.z_(s),this.Nc(this.Gc(e,2)))}E_(e,s){e.E_(s),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,s){const r=this.St();if(r.Ni()||s===0)return;const i=r.Hi();e=Math.max(1,Math.min(e,i)),r.Zu(e,s),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,s,r,i,a){this.vt.gn(e,s);let o=NaN,l=this.yl.Nu(e);const c=this.yl.Xs();c!==null&&(l=Math.min(Math.max(c.Os(),l),c.ui()));const d=i.vn(),u=d.Ct();u!==null&&(o=d.pn(s,u)),o=this.Bc.Oa(o,l,i),this.vt.kn(l,o,i),this.oa(),a||this.Rc.m(this.vt.xt(),{x:e,y:s},r)}ad(e,s,r){const i=r.vn(),a=i.Ct(),o=i.Rt(e,ne(a)),l=this.yl.Va(s,!0),c=this.yl.It(ne(l));this.ld(c,o,null,r,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const s=this.vt.xn(),r=this.vt.Sn();this.ld(s,r,null,e)}this.vt.Vn()}_d(e,s,r){const i=this.yl.mn(0);s!==void 0&&r!==void 0&&this.yl.bt(s,r);const a=this.yl.mn(0),o=this.yl.Eu(),l=this.yl.Xs();if(l!==null&&i!==null&&a!==null){const c=l.Kr(o),d=this.q_.key(i)>this.q_.key(a),u=e!==null&&e>o&&!d,h=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=c&&(r!==void 0||h)&&this.yl.W().shiftVisibleRangeOnNewBar;if(u&&!f){const x=e-o;this.yl.Jn(this.yl.Hu()-x)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const s=this.yc.find(r=>r.Uo().includes(e));return s===void 0?null:s}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,s,r){const i=this.yc[0],a=this.fd(s,e,i,r);return this.Cc.push(a),this.Cc.length===1?this.Kl():this.Uh(),a}vd(e){const s=this.dr(e),r=this.Cc.indexOf(e);gi(r!==-1,"Series not found"),this.Cc.splice(r,1),ne(s).Zo(e),e.S&&e.S()}Xl(e,s){const r=ne(this.dr(e));r.Zo(e);const i=this.Uc(s);if(i===null){const a=e.Xi();r.qo(e,s,a)}else{const a=i.Ht===r?e.Xi():void 0;i.Ht.qo(e,s,a)}}hc(){const e=Gt.ss();e.$n(),this.Nc(e)}pd(e){const s=Gt.ss();s.Yn(e),this.Nc(s)}Kn(){const e=Gt.ss();e.Kn(),this.Nc(e)}Gn(e){const s=Gt.ss();s.Gn(e),this.Nc(s)}Jn(e){const s=Gt.ss();s.Jn(e),this.Nc(s)}Zn(e){const s=Gt.ss();s.Zn(e),this.Nc(s)}Un(){const e=Gt.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const s=this.Ec,r=this.zc;if(s===r)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==r||this.Dc.Rs!==s)this.Dc={Ps:r,Rs:s,wd:new Map};else{const a=this.Dc.wd.get(e);if(a!==void 0)return a}const i=function(a,o,l){const[c,d,u,h]=uc(a),[f,x,y,m]=uc(o),b=[Zs(c+l*(f-c)),Zs(d+l*(x-d)),Zs(u+l*(y-u)),SC(h+l*(m-h))];return`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`}(r,s,e/100);return this.Dc.wd.set(e,i),i}Gc(e,s){const r=new Gt(s);if(e!==null){const i=this.yc.indexOf(e);r.Nn(i,{Fn:s})}return r}Fc(e,s){return s===void 0&&(s=2),this.Gc(this.dr(e),s)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(s=>s.j_().qh().bt())}fd(e,s,r,i){const a=new yx(this,e,s,r,i),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return r.qo(a,o),cf(o)||a.$h(e),a}Lc(e){const s=this.cn.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}}function d0(t){return!Kr(t)&&!Kc(t)}function VC(t){return Kr(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(zb||(zb={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(Bb||(Bb={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Vb||(Vb={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(Wb||(Wb={}));const Hb=t=>t.getUTCFullYear();function FI(t,e,s){return e.replace(/yyyy/g,(r=>yn(Hb(r),4))(t)).replace(/yy/g,(r=>yn(Hb(r)%100,2))(t)).replace(/MMMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,s)).replace(/MMM/g,((r,i)=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,s)).replace(/MM/g,(r=>yn((i=>i.getUTCMonth()+1)(r),2))(t)).replace(/dd/g,(r=>yn((i=>i.getUTCDate())(r),2))(t))}class WC{constructor(e="yyyy-MM-dd",s="default"){this.gd=e,this.Md=s}Y_(e){return FI(e,this.gd,this.Md)}}class $I{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",yn(e.getUTCHours(),2)).replace("%m",yn(e.getUTCMinutes(),2)).replace("%s",yn(e.getUTCSeconds(),2))}}const UI={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class zI{constructor(e={}){const s=Object.assign(Object.assign({},UI),e);this.Td=new WC(s.Sd,s.Cd),this.Pd=new $I(s.kd),this.Rd=s.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function Ad(t){return 60*t*60*1e3}function Nm(t){return 60*t*1e3}const Dd=[{Dd:(Kb=1,1e3*Kb),Vd:10},{Dd:Nm(1),Vd:20},{Dd:Nm(5),Vd:21},{Dd:Nm(30),Vd:22},{Dd:Ad(1),Vd:30},{Dd:Ad(3),Vd:31},{Dd:Ad(6),Vd:32},{Dd:Ad(12),Vd:33}];var Kb;function qb(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let s=Dd.length-1;s>=0;--s)if(Math.floor(e.getTime()/Dd[s].Dd)!==Math.floor(t.getTime()/Dd[s].Dd))return Dd[s].Vd;return 0}function Sm(t){let e=t;if(Kc(t)&&(e=bx(t)),!d0(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(s.getTime()/1e3),Bd:e}}function Gb(t){if(!VC(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function bx(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function Qb(t){Kc(t.time)&&(t.time=bx(t.time))}class Zb{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(s){s.forEach(Qb)}(e):Qb(e)}createConverterToInternalObj(e){return ne(function(s){return s.length===0?null:d0(s[0].time)||Kc(s[0].time)?Sm:Gb}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.Bd===void 0?new Date(1e3*s.Od).getTime():new Date(Date.UTC(s.Bd.year,s.Bd.month-1,s.Bd.day)).getTime()}convertHorzItemToInternal(e){return VC(s=e)?Gb(s):d0(s)?Sm(s):Sm(bx(s));var s}updateFormatter(e){if(!this.cn)return;const s=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new zI({Sd:s,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new WC(s,e.locale)}formatHorzItem(e){const s=e;return this.Ad.Y_(new Date(1e3*s.Od))}formatTickmark(e,s){const r=function(a,o,l){switch(a){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const a=i.tickMarkFormatter(e.originalTime,r,s.locale);if(a!==null)return a}return function(a,o,l){const c={};switch(o){case 0:c.year="numeric";break;case 1:c.month="short";break;case 2:c.day="numeric";break;case 3:c.hour12=!1,c.hour="2-digit",c.minute="2-digit";break;case 4:c.hour12=!1,c.hour="2-digit",c.minute="2-digit",c.second="2-digit"}const d=a.Bd===void 0?new Date(1e3*a.Od):new Date(Date.UTC(a.Bd.year,a.Bd.month-1,a.Bd.day));return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()).toLocaleString(l,c)}(e.time,r,s.locale)}maxTickMarkWeight(e){let s=e.reduce(MI,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(r,i=0){if(r.length===0)return;let a=i===0?null:r[i-1].time.Od,o=a!==null?new Date(1e3*a):null,l=0;for(let c=i;c<r.length;++c){const d=r[c],u=new Date(1e3*d.time.Od);o!==null&&(d.timeWeight=qb(u,o)),l+=d.time.Od-(a||d.time.Od),a=d.time.Od,o=u}if(i===0&&r.length>1){const c=Math.ceil(l/(r.length-1)),d=new Date(1e3*(r[0].time.Od-c));r[0].timeWeight=qb(new Date(1e3*r[0].time.Od),d)}})(e,s)}static Id(e){return Er({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Po=typeof window<"u";function Xb(){return!!Po&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Cm(){return!!Po&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function u0(t){return t+t%2}function Tm(t,e){return t.zd-e.zd}function km(t,e,s){const r=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(r)*Math.min(Math.abs(r),s)}class BI{constructor(e,s,r,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=s,this.qd=r,this.rs=i}Yd(e,s){if(this.Ld!==null){if(this.Ld.ot===s)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:s,zd:e}}Vr(e,s){if(this.Ld===null||this.Ed===null||s-this.Ld.ot>50)return;let r=0;const i=km(this.Ld,this.Ed,this.Ud),a=Tm(this.Ld,this.Ed),o=[i],l=[a];if(r+=a,this.Nd!==null){const d=km(this.Ed,this.Nd,this.Ud);if(Math.sign(d)===Math.sign(i)){const u=Tm(this.Ed,this.Nd);if(o.push(d),l.push(u),r+=u,this.Fd!==null){const h=km(this.Nd,this.Fd,this.Ud);if(Math.sign(h)===Math.sign(i)){const f=Tm(this.Nd,this.Fd);o.push(h),l.push(f),r+=f}}}}let c=0;for(let d=0;d<o.length;++d)c+=l[d]/r*o[d];Math.abs(c)<this.$d||(this.Wd={zd:e,ot:s},this.Hd=c,this.jd=function(d,u){const h=Math.log(u);return Math.log(1*h/-d)/h}(Math.abs(c),this.qd))}tc(e){const s=ne(this.Wd),r=e-s.ot;return s.zd+this.Hd*(Math.pow(this.qd,r)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const s=e-ne(this.Wd).ot;return Math.min(s,this.jd)}}class VI{constructor(e,s){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=s,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return CC(uc(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function oa(t,e){const s=ne(t.ownerDocument).createElement("canvas");t.appendChild(s);const r=e5(s,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(i,a)=>({width:Math.max(i.width,a.width),height:Math.max(i.height,a.height)})});return r.resizeCanvasElement(e),r}function la(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function h0(t,e,s,r){t.gl&&t.gl(e,s,r)}function uu(t,e,s,r){t.X(e,s,r)}function f0(t,e,s,r){const i=t(s,r);for(const a of i){const o=a.gt();o!==null&&e(o)}}function WI(t){Po&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class wx{constructor(e,s,r){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Cm(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const a=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(Or(i),this.cf);o<30&&!this.wf&&this.Wf(a,this.Hf.jf),this.$f()}}else{const a=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(Or(i),this.af);o<5&&!this.bf&&this.Uf(a,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=s,this.cn=r,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const s=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",s)},this.Zf.addEventListener("mousemove",s),this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.tv),this.Bf=!0}iv(e){const s=Em(e.changedTouches,ne(this.Of));if(s===null||(this.Vf=Od(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const r=this.Ff(Or(s),ne(this.pf)),{nv:i,sv:a,Nf:o}=r;if(this.mf||!(o<5)){if(!this.mf){const l=.5*i,c=a>=l&&!this.cn.ev(),d=l>a&&!this.cn.rv();c||d||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const l=this.Ef(e,s);this.Wf(l,this.Hf.hv),Ca(e)}}}lv(e){if(e.button!==0)return;const s=this.Ff(Or(e),ne(this.vf)),{Nf:r}=s;if(r>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,s){const r=Math.abs(s.nt-e.nt),i=Math.abs(s.st-e.st);return{nv:r,sv:i,Nf:r+i}}ov(e){let s=Em(e.changedTouches,ne(this.Of));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Of=null,this.Vf=Od(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const r=this.Ef(e,s);if(this.Wf(r,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff(Or(s),this.cf);i<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}else this.wf||(this.Wf(r,this.Hf.uv),this.Hf.uv&&Ca(e));this._f===0&&Ca(e),e.touches.length===0&&this.ff&&(this.ff=!1,Ca(e))}If(e){if(e.button!==0)return;const s=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Xb()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(s,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:r}=this.Ff(Or(e),this.af);r<5&&!this.bf&&this.Uf(s,this.Hf.qf),this.Yf()}else this.bf||this.Uf(s,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const s=e.changedTouches[0];this.Of=s.identifier,this.Vf=Od(e);const r=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Or(s),this.yf&&(this.yf(),this.yf=null);{const a=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{r.removeEventListener("touchmove",a),r.removeEventListener("touchend",o)},r.addEventListener("touchmove",a,{passive:!1}),r.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,s);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Or(s))}mv(e){if(e.button!==0)return;const s=this.Zf.ownerDocument.documentElement;Xb()&&s.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Or(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),a=this.If.bind(this);this.kf=()=>{s.removeEventListener("mousemove",i),s.removeEventListener("mouseup",a)},s.addEventListener("mousemove",i),s.addEventListener("mouseup",a)}if(this.Df=!0,this.Lf(e))return;const r=this.Ef(e);this.Uf(r,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Or(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,s=r=>{this.Hf.wv&&(r.composed&&this.Zf.contains(r.composedPath()[0])||r.target&&this.Zf.contains(r.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",s)},this.gf=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}Cm()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),WI(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const s=Yb(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,s),Ca(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const s=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,st:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Tf=Yb(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const s=this.Ef(e);this.Uf(s,this.Hf.Pv),this.Bf=!Cm()}vv(e){const s=Em(e.touches,ne(this.Of));if(s===null)return;const r=this.Ef(e,s);this.Wf(r,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Od(e)<this.Vf+500}Wf(e,s){s&&s.call(this.Hf,e)}Uf(e,s){s&&s.call(this.Hf,e)}Ef(e,s){const r=s||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY,screenX:r.screenX,screenY:r.screenY,localX:r.clientX-i.left,localY:r.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:r.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&Ca(e)}}}}function Yb(t,e){const s=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(s*s+r*r)}function Ca(t){t.cancelable&&t.preventDefault()}function Or(t){return{nt:t.pageX,st:t.pageY}}function Od(t){return t.timeStamp||performance.now()}function Em(t,e){for(let s=0;s<t.length;++s)if(t[s].identifier===e)return t[s];return null}function Id(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function HI(t,e,s){for(const r of t){const i=r.gt();if(i!==null&&i.wr){const a=i.wr(e,s);if(a!==null)return{Bv:r,Iv:a}}}return null}function _m(t,e){return s=>{var r,i,a,o;return((i=(r=s.Dt())===null||r===void 0?void 0:r.Pa())!==null&&i!==void 0?i:"")!==e?[]:(o=(a=s.da)===null||a===void 0?void 0:a.call(s,t))!==null&&o!==void 0?o:[]}}function Jb(t,e,s,r){if(!t.length)return;let i=0;const a=s/2,o=t[0].At(r,!0);let l=e===1?a-(t[0].Vi()-o/2):t[0].Vi()-o/2-a;l=Math.max(0,l);for(let c=1;c<t.length;c++){const d=t[c],u=t[c-1],h=u.At(r,!1),f=d.Vi(),x=u.Vi();if(e===1?f>x-h:f<x+h){const y=x-h*e;d.Oi(y);const m=y-e*h/2;if((e===1?m<0:m>s)&&l>0){const b=e===1?-1-m:m-s,g=Math.min(b,l);for(let v=i;v<t.length;v++)t[v].Oi(t[v].Vi()+e*g);l-=g}}else i=c,l=e===1?x-h-f:f-(x+h)}}class ew{constructor(e,s,r,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new mc(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=s,this.ko=s.layout,this.Oc=r,this.qv=i==="left",this.Yv=_m("normal",i),this.Zv=_m("top",i),this.Xv=_m("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=oa(this.Kv,ut({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const a=this.Gv.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this.Jv=oa(this.Kv,ut({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new wx(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),la(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),la(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const s=this.ap(),r=ne(this.Gv.canvasElement.getContext("2d"));r.save();const i=this.Li.Ha();r.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(r,i[0].so),this.Fv.xi(r,i[i.length-1].so)));const a=this.up();for(let d=a.length;d--;){const u=this.Fv.xi(r,a[d].Kt());u>e&&(e=u)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(l=this.cn.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const d=this.Li.pn(1,o),u=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(r,this.Li.Fi(Math.floor(Math.min(d,u))+.11111111111111,o)),this.Fv.xi(r,this.Li.Fi(Math.ceil(Math.max(d,u))-.11111111111111,o)))}var l;r.restore();const c=e||34;return u0(Math.ceil(s.C+s.T+s.A+s.I+5+c))}cp(e){this.Ev!==null&&Wi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return ne(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,ne(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const r=ia(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(r,this.Xv),this.wp(r),this.tn.bp(r,this.Yv),this.gp(r))}this.Jv.applySuggestedBitmapSize();const s=ia(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Mp(s),this.tn.bp(s,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,s,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,r)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!0,s.V_(r,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),r=this.tn.fp(),i=this.Li;s.O_(r,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),s=this.tn.fp(),r=this.Li;this.Nv&&(this.Nv=!1,e.B_(s,r))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.$v().$t(),r=this.tn.fp();this.Nv=!1,s.B_(r,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],s=this.Li===null?void 0:this.Li;return(r=>{for(let i=0;i<r.length;++i){const a=r[i].Rn(this.tn.fp(),s);for(let o=0;o<a.length;o++)e.push(a[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:s}){const{width:r,height:i}=s,a=this.tn.fp().$t(),o=a.q(),l=a.bd();o===l?of(e,0,0,r,i,o):TC(e,0,0,r,i,o,l)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:r}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*r));let a;a=this.qv?s.width-i:0,e.fillRect(a,0,i,s.height)}wp(e){if(this.Ev===null||this.Li===null)return;const s=this.Li.Ha(),r=this.Li.W(),i=this.ap(),a=this.qv?this.Ev.width-i.T:0;r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:c})=>{o.fillStyle=r.borderColor;const d=Math.max(1,Math.floor(c)),u=Math.floor(.5*c),h=Math.round(i.T*l);o.beginPath();for(const f of s)o.rect(Math.floor(a*l),Math.round(f.Ea*c)-u,h,d);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this._p(),o.fillStyle=(l=r.textColor)!==null&&l!==void 0?l:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const c=this.qv?Math.round(a-i.A):Math.round(a+i.T+i.A),d=s.map(u=>this.Fv.Mi(o,u.so));for(let u=s.length;u--;){const h=s[u];o.fillText(h.so,c,h.Ea+d[u])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],s=this.Li.Uo().slice(),r=this.tn.fp(),i=this.ap();this.Li===r.pr()&&this.tn.fp().Uo().forEach(o=>{r.vr(o)&&s.push(o)});const a=this.Li;s.forEach(o=>{o.Rn(r,a).forEach(l=>{l.Oi(null),l.Bi()&&e.push(l)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,s){if(this.Ev===null)return;const r=this.Ev.height/2,i=e.filter(o=>o.ki()<=r),a=e.filter(o=>o.ki()>r);i.sort((o,l)=>l.ki()-o.ki()),a.sort((o,l)=>o.ki()-l.ki());for(const o of e){const l=Math.floor(o.At(s)/2),c=o.ki();c>-l&&c<l&&o.Oi(l),c>this.Ev.height-l&&c<this.Ev.height+l&&o.Oi(this.Ev.height-l)}Jb(i,1,this.Ev.height,s),Jb(a,-1,this.Ev.height,s)}gp(e){if(this.Ev===null)return;const s=this.up(),r=this.ap(),i=this.qv?"right":"left";s.forEach(a=>{a.Ai()&&a.gt(ne(this.Li)).X(e,r,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const s=this.tn.$v().$t(),r=[],i=this.tn.fp(),a=s.Zc().Rn(i,this.Li);a.length&&r.push(a);const o=this.ap(),l=this.qv?"right":"left";r.forEach(c=>{c.forEach(d=>{d.gt(ne(this.Li)).X(e,o,this.Fv,l)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return _o(this.ko.fontSize,this.ko.fontFamily)}}function KI(t,e){var s,r;return(r=(s=t.ua)===null||s===void 0?void 0:s.call(t,e))!==null&&r!==void 0?r:[]}function Ld(t,e){var s,r;return(r=(s=t.Pn)===null||s===void 0?void 0:s.call(t,e))!==null&&r!==void 0?r:[]}function qI(t,e){var s,r;return(r=(s=t.Ji)===null||s===void 0?void 0:s.call(t,e))!==null&&r!==void 0?r:[]}function GI(t,e){var s,r;return(r=(s=t.aa)===null||s===void 0?void 0:s.call(t,e))!==null&&r!==void 0?r:[]}class jx{constructor(e,s){this.Ev=ut({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Et,this.Op=new Et,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=s,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(r),this.Gv=oa(r,ut({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=oa(r,ut({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const a=this.Jv.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new wx(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),la(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),la(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return ne(this.Np)}qp(e){var s,r;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(jx.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(s=this.Pp)!==null&&s!==void 0?s:new VI(this.Wp,this.Qd),this.Pp.bt()):((r=this.Pp)===null||r===void 0||r.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(ne(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(ne(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const s=e.localX,r=e.localY;this.Gp(s,r,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var s;if(!this.Np)return;this.Kp();const r=e.localX,i=e.localY;this.Gp(r,i,e);const a=this.wr(r,i);this.Qd.Qp((s=a==null?void 0:a.Lv)!==null&&s!==void 0?s:null),this.$i().jc(a&&{Hc:a.Hc,Iv:a.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const s={x:e.localX,y:e.localY};this.rm(s,s,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,s){if(!this.Qd.W().handleScale.pinch)return;const r=5*(s-this.Bp);this.Bp=s,this.$i().Qc(e.nt,r)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const s=this.$i().Zc();this.Ip!==null&&s.yt()&&(this.Lp={x:s.Yt(),y:s.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const s=e.localX,r=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=ne(this.Lp),a=i.x+(s-this.Ip.x),o=i.y+(r-this.Ip.y);this.Gp(a,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,s){const r=this.Np;return r===null?null:function(i,a,o){const l=i.Uo(),c=function(d,u,h){var f,x;let y,m;for(const v of d){const w=(x=(f=v.va)===null||f===void 0?void 0:f.call(v,u,h))!==null&&x!==void 0?x:[];for(const j of w)b=j.zOrder,(!(g=y==null?void 0:y.zOrder)||b==="top"&&g!=="top"||b==="normal"&&g==="bottom")&&(y=j,m=v)}var b,g;return y&&m?{zv:y,Hc:m}:null}(l,a,o);if((c==null?void 0:c.zv.zOrder)==="top")return Id(c);for(const d of l){if(c&&c.Hc===d&&c.zv.zOrder!=="bottom"&&!c.zv.isBackground)return Id(c);const u=HI(d.Pn(i),a,o);if(u!==null)return{Hc:d,Bv:u.Bv,Iv:u.Iv};if(c&&c.Hc===d&&c.zv.zOrder!=="bottom"&&c.zv.isBackground)return Id(c)}return c!=null&&c.zv?Id(c):null}(r,e,s)}_m(e,s){ne(s==="left"?this.Cp:this.Tp).cp(ut({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Wi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=ne(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const s of e.Ba())if(e.vr(s)){const r=s.Dt();r!==null&&e.P_(r),s.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,s,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,r)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const r=ia(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(r,KI),this.vm(r),this.pm(r),this.fm(r,Ld),this.fm(r,qI)))}this.Jv.applySuggestedBitmapSize();const s=ia(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.bm(s),this.fm(s,GI))}wm(){return this.Cp}gm(){return this.Tp}bp(e,s){this.fm(e,s)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,s){const r=s.localX,i=s.localY;e.M()&&e.m(this.$i().St().Nu(r),{x:r,y:i},s)}mp({context:e,bitmapSize:s}){const{width:r,height:i}=s,a=this.$i(),o=a.q(),l=a.bd();o===l?of(e,0,0,r,i,l):TC(e,0,0,r,i,o,l)}vm(e){const s=ne(this.Np).j_().qh().gt();s!==null&&s.X(e,!1)}pm(e){const s=this.$i().Yc();this.Mm(e,Ld,h0,s),this.Mm(e,Ld,uu,s)}bm(e){this.Mm(e,Ld,uu,this.$i().Zc())}fm(e,s){const r=ne(this.Np).Uo();for(const i of r)this.Mm(e,s,h0,i);for(const i of r)this.Mm(e,s,uu,i)}Mm(e,s,r,i){const a=ne(this.Np),o=a.$t().Wc(),l=o!==null&&o.Hc===i,c=o!==null&&l&&o.Iv!==void 0?o.Iv.Mr:void 0;f0(s,d=>r(d,e,l,c),i,a)}Zp(){if(this.Np===null)return;const e=this.Qd,s=this.Np.R_().W().visible,r=this.Np.D_().W().visible;s||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),r||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();s&&this.Cp===null&&(this.Cp=new ew(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),r&&this.Tp===null&&(this.Tp=new ew(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,s,r){this.$i().ld(this.Sm(e),this.km(s),r,ne(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,s,r){this.Ip=e,this.zp=!1,this.Gp(s.x,s.y,r);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const s=this.$i(),r=this.fp();if(s.z_(r,r.vn()),this.Rp=null,this.Dp=!1,s.ed(),this.Ep!==null){const i=performance.now(),a=s.St();this.Ep.Vr(a.Hu(),i),this.Ep.Qu(i)||s.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ne(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const s=this.$i(),r=s.St();if(r.Ni())return;const i=this.Qd.W(),a=i.handleScroll,o=i.kineticScroll;if((!a.pressedMouseMove||e.Dv)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.Dv))return;const l=this.Np.vn(),c=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:c,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const d=r.le();this.Ep=new BI(.2/d,7/d,.997,15/d),this.Ep.Yd(r.Hu(),this.Rp.Od)}else this.Ep=null;l.Ni()||s.A_(this.Np,l,e.localY),s.nd(e.localX),this.Dp=!0}this.Dp&&(l.Ni()||s.I_(this.Np,l,e.localY),s.sd(e.localX),this.Ep!==null&&this.Ep.Yd(r.Hu(),c))}}class tw{constructor(e,s,r,i,a){this.ft=!0,this.Ev=ut({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=r.ud,this.cn=s,this.Tm=i,this.Pm=a,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=oa(this.Kv,ut({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),la(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Wi(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const s=ia(this.Gv);s!==null&&s.useBitmapCoordinateSpace(r=>{this.mp(r),this.Ie(r)})}xp(){return this.Gv.bitmapSize}Sp(e,s,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,r)}Ie({context:e,bitmapSize:s,horizontalPixelRatio:r,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const a=Math.floor(this.Oc.W().C*r),o=Math.floor(this.Oc.W().C*i),l=this.qv?s.width-a:0;e.fillRect(l,0,a,o)}mp({context:e,bitmapSize:s}){of(e,0,0,s.width,s.height,this.Pm())}}function Nx(t){return e=>{var s,r;return(r=(s=e.fa)===null||s===void 0?void 0:s.call(e,t))!==null&&r!==void 0?r:[]}}const QI=Nx("normal"),ZI=Nx("top"),XI=Nx("bottom");class YI{constructor(e,s){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=ut({width:0,height:0}),this.Om=new Et,this.Fv=new mc(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=s,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=oa(this.Im,ut({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=oa(this.Im,ut({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new wx(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),la(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),la(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const s=this.Qd.$t();!s.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&s.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,s,r){Wi(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(ut({width:s,height:e.height})),this.Dm!==null&&this.Dm.cp(ut({width:r,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,s,r){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,s,r)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const r=ia(this.Gv);r!==null&&(r.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(r,XI)}),this.wp(r),this.$m(r,QI)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const s=ia(this.Jv);s!==null&&(s.useBitmapCoordinateSpace(({context:r,bitmapSize:i})=>{r.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],s),this.$m(s,ZI))}$m(e,s){const r=this.Qd.$t().wt();for(const i of r)f0(s,a=>h0(a,e,!1,void 0),i,void 0);for(const i of r)f0(s,a=>uu(a,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:s}){of(e,0,0,s.width,s.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:s,verticalPixelRatio:r}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*r));e.fillRect(0,0,s.width,i)}}wp(e){const s=this.Qd.$t().St(),r=s.Ha();if(!r||r.length===0)return;const i=this.q_.maxTickMarkWeight(r),a=this.jm(),o=s.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:c,verticalPixelRatio:d})=>{l.strokeStyle=this.qm(),l.fillStyle=this.qm();const u=Math.max(1,Math.floor(c)),h=Math.floor(.5*c);l.beginPath();const f=Math.round(a.T*d);for(let x=r.length;x--;){const y=Math.round(r[x].coord*c);l.rect(y-h,0,u,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const c=a.C+a.T+a.L+a.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this._p();for(const d of r)if(d.weight<i){const u=d.needAlignCoordinate?this.Ym(l,d.coord,d.label):d.coord;l.fillText(d.label,u,c)}this.Qd.W().timeScale.allowBoldLabels&&(l.font=this.Zm());for(const d of r)if(d.weight>=i){const u=d.needAlignCoordinate?this.Ym(l,d.coord,d.label):d.coord;l.fillText(d.label,u,c)}})}Ym(e,s,r){const i=this.Fv.xi(e,r),a=i/2,o=Math.floor(s-a)+.5;return o<0?s+=Math.abs(0-o):o+i>this.Ev.width&&(s-=Math.abs(this.Ev.width-(o+i))),s}Um(e,s){const r=this.jm();for(const i of e)for(const a of i.Qi())a.gt().X(s,r)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return _o(this.j(),this.cn.fontFamily)}Zm(){return _o(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new mc,Hm:0});const e=this.k,s=this._p();if(e.R!==s){const r=this.j();e.P=r,e.R=s,e.L=3*r/12,e.B=3*r/12,e.ji=9*r/12,e.N=0,e.Hm=4*r/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),s=e.W();s.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),s.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const r={ud:this.Qd.$t().ud()},i=()=>s.leftPriceScale.borderVisible&&e.St().W().borderVisible,a=()=>e.bd();s.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new tw("left",s,r,i,a),this.Bm.appendChild(this.Rm.lp())),s.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new tw("right",s,r,i,a),this.Am.appendChild(this.Dm.lp()))}}const JI=!!Po&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Po&&(!((Pm=navigator==null?void 0:navigator.userAgentData)===null||Pm===void 0)&&Pm.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Pm;class eL{constructor(e,s,r){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Et,this.Op=new Et,this.Rc=new Et,this.ib=null,this.nb=null,this.Jd=e,this.cn=s,this.q_=r,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Mm(this.cn)&&this.hb(!0),this.$i=new LI(this.Vc.bind(this),this.cn,r),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new YI(this,this.q_),this.sb.appendChild(this.ab.lp());const a=s.autoSize&&this.ob();let o=this.cn.width,l=this.cn.height;if(a||o===0||l===0){const c=e.getBoundingClientRect();o=o||c.width,l=l||c.height}this._b(o,l),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],ne(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,s,r=!1){if(this.ho===s&&this.__===e)return;const i=function(l){const c=Math.floor(l.width),d=Math.floor(l.height);return ut({width:c-c%2,height:d-d%2})}(ut({width:e,height:s}));this.ho=i.height,this.__=i.width;const a=this.ho+"px",o=this.__+"px";ne(this.Xd).style.height=a,ne(this.Xd).style.width=o,this.sb.style.height=a,this.sb.style.width=o,r?this.mb(Gt.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Gt.es());for(let s=0;s<this.Xm.length;s++)this.Xm[s].vp(e.Hn(s).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const s=Mm(this.cn);this.$i.$h(e);const r=Mm(this.cn);r!==s&&this.hb(r),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),s=document.createElement("canvas");s.width=e.width,s.height=e.height;const r=ne(s.getContext("2d"));return this.gb(r),s}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:ne(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return gs(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let s=0,r=0;const i=this.Xm[0],a=(l,c)=>{let d=0;for(let u=0;u<this.Xm.length;u++){const h=this.Xm[u],f=ne(l==="left"?h.wm():h.gm()),x=f.xp();e!==null&&f.Sp(e,c,d),d+=x.height}};this.xb()&&(a("left",0),s+=ne(i.wm()).xp().width);for(let l=0;l<this.Xm.length;l++){const c=this.Xm[l],d=c.xp();e!==null&&c.Sp(e,s,r),r+=d.height}s+=i.xp().width,this.Sb()&&(a("right",s),s+=ne(i.gm()).xp().width);const o=(l,c,d)=>{ne(l==="left"?this.ab.Lm():this.ab.Em()).Sp(ne(e),c,d)};if(this.cn.timeScale.visible){const l=this.ab.xp();if(e!==null){let c=0;this.xb()&&(o("left",c,r),c=ne(i.wm()).xp().width),this.ab.Sp(e,c,r),c+=l.width,this.Sb()&&o("right",c,r)}r+=l.height}return ut({width:s,height:r})}Pb(){let e=0,s=0,r=0;for(const y of this.Xm)this.xb()&&(s=Math.max(s,ne(y.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(r=Math.max(r,ne(y.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=y.M_();s=u0(s),r=u0(r);const i=this.__,a=this.ho,o=Math.max(i-s-r,0),l=this.cn.timeScale.visible;let c=l?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var d;c=(d=c)+d%2;const u=0+c,h=a<u?0:a-u,f=h/e;let x=0;for(let y=0;y<this.Xm.length;++y){const m=this.Xm[y];m.qp(this.$i.qc()[y]);let b=0,g=0;g=y===this.Xm.length-1?h-x:Math.round(m.M_()*f),b=Math.max(g,2),x+=b,m.cp(ut({width:o,height:b})),this.xb()&&m._m(s,"left"),this.Sb()&&m._m(r,"right"),m.fp()&&this.$i.Kc(m.fp(),b)}this.ab.Fm(ut({width:l?o:0,height:c}),l?s:0,l?r:0),this.$i.S_(o),this.Gm!==s&&(this.Gm=s),this.Jm!==r&&(this.Jm=r)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return JI?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const s=this.Rb(e),r=s*e.deltaX/100,i=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const a=Math.sign(i)*Math.min(1,Math.abs(i)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,a)}r!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*r)}mb(e,s){var r;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,s),this.ab.bt(),this.Xm.forEach(a=>{a.Xp()}),((r=this.Qm)===null||r===void 0?void 0:r.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,s),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,s){for(const r of e.Qn())this.ns(r,s)}Vb(e){const s=this.$i.qc();for(let r=0;r<s.length;r++)e.Hn(r).Wn&&s[r].N_()}ns(e,s){const r=this.$i.St();switch(e.qn){case 0:r.hc();break;case 1:r.lc(e.Vt);break;case 2:r.Gn(e.Vt);break;case 3:r.Jn(e.Vt);break;case 4:r.qu();break;case 5:e.Vt.Qu(s)||r.Jn(e.Vt.tc(s))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(s=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const r=this.Qm;this.Qm=null,this.mb(r,s);for(const i of r.Qn())if(i.qn===5&&!i.Vt.Qu(s)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),s=e.length,r=this.Xm.length;for(let i=s;i<r;i++){const a=gs(this.Xm.pop());this.sb.removeChild(a.lp()),a.lm().p(this),a.am().p(this),a.S()}for(let i=r;i<s;i++){const a=new jx(this,e[i]);a.lm().l(this.Bb.bind(this),this),a.am().l(this.Ab.bind(this),this),this.Xm.push(a),this.sb.insertBefore(a.lp(),this.ab.lp())}for(let i=0;i<s;i++){const a=e[i],o=this.Xm[i];o.fp()!==a?o.qp(a):o.Up()}this.cb(),this.Pb()}Ib(e,s,r){var i;const a=new Map;e!==null&&this.$i.wt().forEach(u=>{const h=u.In().ll(e);h!==null&&a.set(u,h)});let o;if(e!==null){const u=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;u!==void 0&&(o=u)}const l=this.$t().Wc(),c=l!==null&&l.Hc instanceof yx?l.Hc:void 0,d=l!==null&&l.Iv!==void 0?l.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:s??void 0,Eb:c,Nb:a,Fb:d,Wb:r??void 0}}Bb(e,s,r){this.Vp.m(()=>this.Ib(e,s,r))}Ab(e,s,r){this.Op.m(()=>this.Ib(e,s,r))}lb(e,s,r){this.Rc.m(()=>this.Ib(e,s,r))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const s=e.find(r=>r.target===this.Jd);s&&this._b(s.contentRect.width,s.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function Mm(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function tL(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function HC(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s}function sw(t,e,s,r){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return s.color!==void 0&&(a.V=s.color),a}function sL(t,e,s,r){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return s.lineColor!==void 0&&(a.lt=s.lineColor),s.topColor!==void 0&&(a.Ps=s.topColor),s.bottomColor!==void 0&&(a.Rs=s.bottomColor),a}function rL(t,e,s,r){const i=s.value,a={ee:e,ot:t,Vt:[i,i,i,i],zb:r};return s.topLineColor!==void 0&&(a.Re=s.topLineColor),s.bottomLineColor!==void 0&&(a.De=s.bottomLineColor),s.topFillColor1!==void 0&&(a.ke=s.topFillColor1),s.topFillColor2!==void 0&&(a.ye=s.topFillColor2),s.bottomFillColor1!==void 0&&(a.Ce=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(a.Te=s.bottomFillColor2),a}function nL(t,e,s,r){const i={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:r};return s.color!==void 0&&(i.V=s.color),i}function iL(t,e,s,r){const i={ee:e,ot:t,Vt:[s.open,s.high,s.low,s.close],zb:r};return s.color!==void 0&&(i.V=s.color),s.borderColor!==void 0&&(i.Ot=s.borderColor),s.wickColor!==void 0&&(i.Xh=s.wickColor),i}function aL(t,e,s,r,i){const a=gs(i)(s),o=Math.max(...a),l=Math.min(...a),c=a[a.length-1],d=[c,o,l,c],u=s,{time:h,color:f}=u;return{ee:e,ot:t,Vt:d,zb:r,$e:HC(u,["time","color"]),V:f}}function Fd(t){return t.Vt!==void 0}function rw(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function ki(t){return(e,s,r,i,a,o)=>function(l,c){return c?c(l):(d=l).open===void 0&&d.value===void 0;var d}(r,o)?rw({ot:e,ee:s,zb:i},r):rw(t(e,s,r,i,a),r)}function nw(t){return{Candlestick:ki(iL),Bar:ki(nL),Area:ki(sL),Baseline:ki(rL),Histogram:ki(sw),Line:ki(sw),Custom:ki(aL)}[t]}function iw(t){return{ee:0,Hb:new Map,la:t}}function aw(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function ow(t){let e;return t.forEach(s=>{e===void 0&&(e=s.zb)}),gs(e)}class oL{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,s){let r=this.qb.size!==0,i=!1;const a=this.Yb.get(e);if(a!==void 0)if(this.Yb.size===1)r=!1,i=!0,this.qb.clear();else for(const c of this.Xb)c.pointData.Hb.delete(e)&&(i=!0);let o=[];if(s.length!==0){const c=s.map(x=>x.time),d=this.q_.createConverterToInternalObj(s),u=nw(e.Qh()),h=e.Ca(),f=e.Ta();o=s.map((x,y)=>{const m=d(x.time),b=this.q_.key(m);let g=this.qb.get(b);g===void 0&&(g=iw(m),this.qb.set(b,g),i=!0);const v=u(m,g.ee,x,c[y],h,f);return g.Hb.set(e,v),v})}r&&this.Gb(),this.Jb(e,o);let l=-1;if(i){const c=[];this.qb.forEach(d=>{c.push({timeWeight:0,time:d.la,pointData:d,originalTime:ow(d.Hb)})}),c.sort((d,u)=>this.q_.key(d.time)-this.q_.key(u.time)),l=this.Qb(c)}return this.tw(e,l,function(c,d,u){const h=aw(c,u),f=aw(d,u);if(h!==void 0&&f!==void 0)return{ta:h.Ub>=f.Ub&&h.$b>=f.$b}}(this.Yb.get(e),a,this.q_))}vd(e){return this.Kb(e,[])}iw(e,s){const r=s;(function(m){m.zb===void 0&&(m.zb=m.time)})(r),this.q_.preprocessData(s);const i=this.q_.createConverterToInternalObj([s])(s.time),a=this.Zb.get(e);if(a!==void 0&&this.q_.key(i)<this.q_.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${i}`);let o=this.qb.get(this.q_.key(i));const l=o===void 0;o===void 0&&(o=iw(i),this.qb.set(this.q_.key(i),o));const c=nw(e.Qh()),d=e.Ca(),u=e.Ta(),h=c(i,o.ee,s,r.zb,d,u);o.Hb.set(e,h),this.nw(e,h);const f={ta:Fd(h)};if(!l)return this.tw(e,-1,f);const x={timeWeight:0,time:o.la,pointData:o,originalTime:ow(o.Hb)},y=qc(this.Xb,this.q_.key(x.time),(m,b)=>this.q_.key(m.time)<b);this.Xb.splice(y,0,x);for(let m=y;m<this.Xb.length;++m)Rm(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,y),this.tw(e,y,f)}nw(e,s){let r=this.Yb.get(e);r===void 0&&(r=[],this.Yb.set(e,r));const i=r.length!==0?r[r.length-1]:null;i===null||this.q_.key(s.ot)>this.q_.key(i.ot)?Fd(s)&&r.push(s):Fd(s)?r[r.length-1]=s:r.splice(-1,1),this.Zb.set(e,s.ot)}Jb(e,s){s.length!==0?(this.Yb.set(e,s.filter(Fd)),this.Zb.set(e,s[s.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let s=-1;for(let r=0;r<this.Xb.length&&r<e.length;++r){const i=this.Xb[r],a=e[r];if(this.q_.key(i.time)!==this.q_.key(a.time)){s=r;break}a.timeWeight=i.timeWeight,Rm(a.pointData,r)}if(s===-1&&this.Xb.length!==e.length&&(s=Math.min(this.Xb.length,e.length)),s===-1)return-1;for(let r=s;r<e.length;++r)Rm(e[r].pointData,r);return this.q_.fillWeightsForPoints(e,s),this.Xb=e,s}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].ee))}),e}tw(e,s,r){const i={ew:new Map,St:{Eu:this.sw()}};if(s!==-1)this.Yb.forEach((a,o)=>{i.ew.set(o,{$e:a,rw:o===e?r:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:r}),i.St.hw=this.Xb,i.St.lw=s;else{const a=this.Yb.get(e);i.ew.set(e,{$e:a||[],rw:r})}return i}}function Rm(t,e){t.ee=e,t.Hb.forEach(s=>{s.ee=e})}function Sx(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function lw(t){const e=Sx(t);return t.V!==void 0&&(e.color=t.V),e}function lL(t){const e=Sx(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function cL(t){const e=Sx(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function KC(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function dL(t){const e=KC(t);return t.V!==void 0&&(e.color=t.V),e}function uL(t){const e=KC(t),{V:s,Ot:r,Xh:i}=t;return s!==void 0&&(e.color=s),r!==void 0&&(e.borderColor=r),i!==void 0&&(e.wickColor=i),e}function m0(t){return{Area:lL,Line:lw,Baseline:cL,Histogram:lw,Bar:dL,Candlestick:uL,Custom:hL}[t]}function hL(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const fL={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},mL={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},pL={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:fx,attributionLogo:!0},Am={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},gL={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},xL={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:fx,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function cw(){return{width:0,height:0,autoSize:!1,layout:pL,crosshair:fL,grid:mL,overlayPriceScales:Object.assign({},Am),leftPriceScale:Object.assign(Object.assign({},Am),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Am),{visible:!0}),timeScale:gL,watermark:xL,localization:{locale:Po?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class vL{constructor(e,s){this.aw=e,this.ow=s}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return cf(this.ow)?this.aw.Mb(this.ow):0}Li(){return ne(this.aw.$t().Uc(this.ow)).Dt}}function dw(t,e,s){const r=HC(t,["time","originalTime"]),i=Object.assign({time:e},r);return s!==void 0&&(i.originalTime=s),i}const yL={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class bL{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class wL{constructor(e,s,r,i,a){this.uw=new Et,this.Es=e,this.cw=s,this.dw=r,this.q_=a,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().Rt(e,s.Vt)}coordinateToPrice(e){const s=this.Es.Ct();return s===null?null:this.Es.Dt().pn(e,s.Vt)}barsInLogicalRange(e){if(e===null)return null;const s=new so(new Ol(e.from,e.to)).lu(),r=this.Es.In();if(r.Ni())return null;const i=r.ll(s.Os(),1),a=r.ll(s.ui(),-1),o=ne(r.el()),l=ne(r.An());if(i!==null&&a!==null&&i.ee>a.ee)return{barsBefore:e.from-o,barsAfter:l-e.to};const c={barsBefore:i===null||i.ee===o?e.from-o:i.ee-o,barsAfter:a===null||a.ee===l?l-e.to:l-a.ee};return i!==null&&a!==null&&(c.from=i.zb,c.to=a.zb),c}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,s){const r=this.Es.In().ll(e,s);return r===null?null:m0(this.seriesType())(r)}data(){const e=m0(this.seriesType());return this.Es.In().ne().map(s=>e(s))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const s=e.map(r=>dw(r,this.q_.convertHorzItemToInternal(r.time),r.time));this.Es.na(s)}markers(){return this.Es.sa().map(e=>dw(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return vn(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const s=Er(vn(yL),e),r=this.Es.ea(s);return new bL(r)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class jL{constructor(e,s,r){this.ww=new Et,this.mu=new Et,this.Om=new Et,this.$i=e,this.yl=e.St(),this.ab=s,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=r}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,s){s?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},r=this.yl.Iu(s);this.$i.pd(r)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){gi(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const s=this.$i.St();return s.Ni()?null:s.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const s=this.q_.convertHorzItemToInternal(e),r=this.yl.Va(s,!1);return r===null?null:this.yl.It(r)}coordinateToTime(e){const s=this.$i.St(),r=s.Nu(e),i=s.Ui(r);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},vn(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function NL(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(s){if(s>=1)return 0;let r=0;for(;r<8;r++){const i=Math.round(s);if(Math.abs(i-s)<1e-8)return r;s*=10}return r}(e.minMove))}function uw(t){return function(e){if(_d(e.handleScale)){const r=e.handleScale;e.handleScale={axisDoubleClickReset:{time:r,price:r},axisPressedMouseMove:{time:r,price:r},mouseWheel:r,pinch:r}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:r,axisDoubleClickReset:i}=e.handleScale;_d(r)&&(e.handleScale.axisPressedMouseMove={time:r,price:r}),_d(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const s=e.handleScroll;_d(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})}(t),t}class SL{constructor(e,s,r){this.Sw=new Map,this.kw=new Map,this.yw=new Et,this.Cw=new Et,this.Tw=new Et,this.Pw=new oL(s);const i=r===void 0?vn(cw()):Er(vn(cw()),uw(r));this.q_=s,this.aw=new eL(e,i,s),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const a=this.aw.$t();this.Dw=new jL(a,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,s,r){this.autoSizeActive()||this.aw._b(e,s,r)}addCustomSeries(e,s){const r=Va(e),i=Object.assign(Object.assign({},wC),r.defaultOptions());return this.Vw("Custom",i,s,r)}addAreaSeries(e){return this.Vw("Area",o5,e)}addBaselineSeries(e){return this.Vw("Baseline",l5,e)}addBarSeries(e){return this.Vw("Bar",i5,e)}addCandlestickSeries(e={}){return function(s){s.borderColor!==void 0&&(s.borderUpColor=s.borderColor,s.borderDownColor=s.borderColor),s.wickColor!==void 0&&(s.wickUpColor=s.wickColor,s.wickDownColor=s.wickColor)}(e),this.Vw("Candlestick",n5,e)}addHistogramSeries(e){return this.Vw("Histogram",c5,e)}addLineSeries(e){return this.Vw("Line",a5,e)}removeSeries(e){const s=gs(this.Sw.get(e)),r=this.Pw.vd(s);this.aw.$t().vd(s),this.Ow(r),this.Sw.delete(e),this.kw.delete(s)}pw(e,s){this.Ow(this.Pw.Kb(e,s))}bw(e,s){this.Ow(this.Pw.iw(e,s))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new vL(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(uw(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,s,r){const i=this.Sw.get(r);if(i===void 0)return;const a=this.aw.$t().dr(i);a!==null&&this.aw.$t().ad(e,s,a)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,s,r={},i){NL(r.priceFormat);const a=Er(vn(jC),vn(s),r),o=this.aw.$t().dd(e,a,i),l=new wL(o,this,this,this,this.q_);return this.Sw.set(l,o),this.kw.set(o,l),l}Ow(e){const s=this.aw.$t();s._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((r,i)=>i.J(r.$e,r.rw)),s.Wu()}Bw(e){return gs(this.kw.get(e))}Rw(e){const s=new Map;e.Nb.forEach((i,a)=>{const o=a.Qh(),l=m0(o)(i);if(o!=="Custom")gi(tL(l));else{const c=a.Ta();gi(!c||c(l)===!1)}s.set(this.Bw(a),l)});const r=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:r,hoveredObjectId:e.Fb,seriesData:s,sourceEvent:e.Wb}}}function CL(t,e,s){let r;if(Kc(t)){const a=document.getElementById(t);gi(a!==null,`Cannot find element in DOM with id=${t}`),r=a}else r=t;const i=new SL(r,e,s);return e.setOptions(i.options()),i}function TL(t,e){return CL(t,new Zb,Zb.Id(e))}Object.assign(Object.assign({},jC),wC);const qC=p.createContext(void 0);function Cx({children:t,symbol:e="BTCUSDT",updateInterval:s=2e3}){const[r,i]=p.useState(null),[a,o]=p.useState(!0),[l,c]=p.useState(null),d=p.useCallback(async()=>{try{console.log("💰 [PriceContext] Fetching price for:",e);const h=await fetch(`/api/binance/price?symbol=${e}`);if(!h.ok)throw new Error(`HTTP ${h.status}: ${h.statusText}`);const f=await h.json();if(f.success&&f.data)i(f.data),c(null),console.log("✅ [PriceContext] Price updated:",f.data.price);else throw new Error("Invalid response format")}catch(h){const f=h instanceof Error?h.message:"Unknown error";console.error("❌ [PriceContext] Error fetching price:",f),c(f)}finally{o(!1)}},[e]);p.useEffect(()=>{d()},[d]),p.useEffect(()=>{const h=setInterval(()=>{d()},s);return()=>clearInterval(h)},[d,s]);const u={priceData:r,isLoading:a,error:l,refreshPrice:d};return n.jsx(qC.Provider,{value:u,children:t})}function Qo(){const t=p.useContext(qC);if(t===void 0)throw new Error("usePrice must be used within a PriceProvider");return t}function Tx(){const{priceData:t}=Qo();if(!t)return{changeText:"+0.00%",changeColor:"#10B981",isPositive:!0};const e=t.priceChangePercent24h>=0;return{changeText:`${e?"+":""}${t.priceChangePercent24h.toFixed(2)}%`,changeColor:e?"#10B981":"#EF4444",isPositive:e,changeValue:t.priceChange24h,changePercent:t.priceChangePercent24h}}function kx(){const{priceData:t}=Qo();return t?{high:t.high24h,low:t.low24h,volume:t.volume24h,quoteVolume:t.quoteVolume24h,openPrice:t.openPrice}:{high:0,low:0,volume:0,quoteVolume:0,openPrice:0}}function gc({symbol:t="BTCUSDT",interval:e="1m",height:s=400,containerId:r="lightweight_chart"}){const i=p.useRef(null),a=p.useRef(null),o=p.useRef(null),l=p.useRef(null),[c,d]=p.useState(!0),[u,h]=p.useState(null),{priceData:f}=Qo();return p.useEffect(()=>{if(!i.current)return;console.log("📊 [LightweightChart] Initializing chart for",t,e);let x=400;if(typeof s=="number")x=s;else if(typeof s=="string")if(s.includes("%"))x=i.current.clientHeight||window.innerHeight*.8;else if(s.includes("calc(")||s.includes("vh")){const v=i.current.clientHeight;v>50?x=v:x=Math.max(400,window.innerHeight-150)}else x=parseInt(s)||400;const y=TL(i.current,{width:i.current.clientWidth,height:x,layout:{background:{color:"#10121E"},textColor:"#D1D5DB",fontSize:11},grid:{vertLines:{color:"#1F2937"},horzLines:{color:"#1F2937"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#374151",width:45,scaleMargins:{top:.05,bottom:.05},minimumWidth:45,entireTextOnly:!1},timeScale:{borderColor:"#374151",timeVisible:!0,secondsVisible:!1}});a.current=y;const m=y.addCandlestickSeries({upColor:"#10B981",downColor:"#EF4444",borderUpColor:"#10B981",borderDownColor:"#EF4444",wickUpColor:"#10B981",wickDownColor:"#EF4444"});o.current=m;const b=y.addHistogramSeries({color:"#6B7280",priceFormat:{type:"volume"},priceScaleId:""});l.current=b;const g=()=>{if(i.current&&a.current){let v=x;if(typeof s=="string"&&(s.includes("%")||s.includes("calc(")||s.includes("vh"))){const w=i.current.clientHeight;v=w>50?w:Math.max(400,window.innerHeight-150)}a.current.applyOptions({width:i.current.clientWidth,height:v})}};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g),a.current&&(a.current.remove(),a.current=null)}},[t,e,s]),p.useEffect(()=>{(async()=>{try{d(!0),h(null),console.log("📊 [LightweightChart] Fetching klines for",t,e);const y=await fetch(`/api/binance/klines?symbol=${t}&interval=${e}&limit=500`);if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const m=await y.json();if(!m.success||!m.data)throw new Error("Invalid response format");const b=m.data;if(console.log("✅ [LightweightChart] Received",b.length,"candles"),console.log("📊 [LightweightChart] Latest candle:",b[b.length-1]),o.current&&o.current.setData(b),l.current){const g=b.map(v=>({time:v.time,value:v.volume,color:v.close>=v.open?"#10B98180":"#EF444480"}));l.current.setData(g)}a.current&&a.current.timeScale().fitContent(),d(!1)}catch(y){const m=y instanceof Error?y.message:"Unknown error";console.error("❌ [LightweightChart] Error fetching klines:",m),h(m),d(!1)}})()},[t,e]),p.useEffect(()=>{if(!f||!o.current)return;console.log("📊 [LightweightChart] Updating last candle with real-time price:",f.price);const x=Math.floor(Date.now()/1e3);o.current.update({time:x,open:f.openPrice,high:f.high24h,low:f.low24h,close:f.price})},[f]),n.jsxs("div",{className:"relative w-full",style:{height:typeof s=="number"?`${s}px`:s},children:[c&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsx("div",{className:"text-gray-400 text-sm",children:n.jsx("div",{className:"animate-pulse",children:"Loading chart data..."})})}),u&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#10121E]/80 z-10",children:n.jsxs("div",{className:"text-red-400 text-sm",children:["Error loading chart: ",u]})}),n.jsx("div",{ref:i,id:r,className:"w-full h-full"}),f&&!c&&n.jsxs("div",{className:"absolute top-2 left-2 bg-[#10121E]/80 backdrop-blur-sm px-3 py-2 rounded-lg border border-gray-700 z-20",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:t}),n.jsxs("div",{className:"text-lg font-bold text-white",children:["$",f.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:`text-sm ${f.priceChangePercent24h>=0?"text-green-400":"text-red-400"}`,children:[f.priceChangePercent24h>=0?"+":"",f.priceChangePercent24h.toFixed(2),"%"]})]})]})}const kL=({trade:t,onClose:e})=>{const[s,r]=p.useState(!0),i=()=>{r(!1),setTimeout(()=>{e()},300)};if(p.useEffect(()=>{if(t){const l=setTimeout(()=>{i()},25e3);return()=>{clearTimeout(l)}}},[t]),!t||!s)return null;const a=t.status==="won",o=a?t.payout-t.amount:-t.amount;return n.jsx("div",{className:`fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm transition-all duration-300 ${s?"opacity-100":"opacity-0"}`,children:n.jsx("div",{className:"flex items-center justify-center min-h-screen p-6",children:n.jsxs("div",{className:`bg-gray-800 rounded-2xl shadow-2xl w-full max-w-xs mx-auto transform transition-all duration-500 ${s?"scale-100 translate-y-0":"scale-95 translate-y-4"} overflow-hidden`,children:[n.jsxs("div",{className:"flex items-center justify-between p-5 pb-4",children:[n.jsx("h3",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors w-8 h-8 flex items-center justify-center text-2xl font-light",children:"×"})]}),n.jsxs("div",{className:"px-5 pb-5 space-y-5",children:[n.jsxs("div",{className:"text-center py-2",children:[n.jsxs("div",{className:`text-4xl font-bold mb-1 ${a?"text-green-400":"text-red-400"}`,children:[a?"+":"",o.toFixed(0)," ",n.jsx("span",{className:"text-gray-400 text-lg font-normal",children:"USDT"})]}),n.jsx("div",{className:"text-gray-400 text-base",children:"Settlement completed"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Current price :"}),n.jsx("span",{className:"text-white font-medium text-sm",children:t.finalPrice.toFixed(2)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Time :"}),n.jsx("span",{className:"text-white font-medium text-sm",children:"30s"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Side :"}),n.jsx("span",{className:`font-medium text-sm ${t.direction==="up"?"text-green-400":"text-red-400"}`,children:t.direction==="up"?"Buy Up":"Sell Down"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Amount :"}),n.jsxs("span",{className:"text-white font-medium text-sm",children:[t.amount.toFixed(0)," USDT"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Price :"}),n.jsxs("span",{className:"text-white font-medium text-sm",children:[t.entryPrice.toFixed(2)," USDT"]})]})]}),n.jsx("div",{className:"text-gray-400 text-xs leading-relaxed pt-3",children:"The ultimate price for each option contract is determined by the system's settlement process."})]})]})})})},EL=({trade:t,onClose:e})=>{const[s,r]=p.useState(!0),[i,a]=p.useState(100),o=()=>{r(!1),setTimeout(e,300)};if(p.useEffect(()=>{if(t){a(100);const u=setInterval(()=>{a(f=>{const x=f-.5;return x<=0?0:x})},100),h=setTimeout(()=>{o()},2e4);return()=>{clearTimeout(h),clearInterval(u)}}},[t]),!t||!s)return null;const l=t.status==="won",c=l?t.payout-t.amount:-t.amount,d=t.finalPrice-t.entryPrice;return n.jsx("div",{className:`trade-notification transition-all duration-700 transform ${s?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"} sm:max-w-[420px] max-w-[95vw] sm:min-w-[380px]`,children:n.jsxs("div",{className:`p-6 rounded-2xl shadow-2xl border-2 ${l?"bg-gradient-to-br from-emerald-900/95 via-green-800/95 to-teal-900/95 border-emerald-400 text-emerald-50 shadow-emerald-500/40":"bg-gradient-to-br from-red-900/95 via-rose-800/95 to-pink-900/95 border-red-400 text-red-50 shadow-red-500/40"} backdrop-blur-lg ring-4 ${l?"ring-emerald-400/30":"ring-red-400/30"} animate-pulse-subtle relative overflow-hidden ${l?"shadow-[0_0_30px_rgba(16,185,129,0.3)]":"shadow-[0_0_30px_rgba(239,68,68,0.3)]"}`,children:[n.jsx("div",{className:`absolute inset-0 ${l?"bg-gradient-to-r from-emerald-500/10 via-green-400/5 to-teal-500/10":"bg-gradient-to-r from-red-500/10 via-rose-400/5 to-pink-500/10"} animate-gradient-shimmer`}),n.jsx("div",{className:`absolute inset-0 ${l?"bg-gradient-to-br from-emerald-400/5 to-transparent":"bg-gradient-to-br from-red-400/5 to-transparent"} animate-pulse`}),n.jsx("div",{className:"absolute top-2 right-2 text-2xl animate-enhanced-bounce",children:l?"✨":"💥"}),n.jsx("div",{className:"absolute bottom-2 left-2 text-lg animate-float-sparkle",children:l?"🎯":"⚡"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs opacity-30 animate-pulse",children:l?"🌟":"💫"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-6 h-6 rounded-full ${l?"bg-gradient-to-r from-emerald-400 to-green-400 animate-pulse":"bg-gradient-to-r from-red-400 to-rose-400 animate-pulse"} shadow-lg ${l?"shadow-emerald-400/60":"shadow-red-400/60"} ring-2 ${l?"ring-emerald-300/50":"ring-red-300/50"}`}),n.jsx("span",{className:"font-bold text-xl tracking-wide drop-shadow-lg",children:l?"🎉 TRADE WON!":"💔 TRADE LOST"}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${l?"bg-gradient-to-r from-emerald-400/30 to-green-400/30 text-emerald-200 border border-emerald-300/50":"bg-gradient-to-r from-red-400/30 to-rose-400/30 text-red-200 border border-red-300/50"} shadow-lg`,children:l?"PROFIT":"LOSS"})]}),n.jsx("button",{onClick:o,className:"text-gray-300 hover:text-white transition-all duration-300 bg-black/30 hover:bg-black/50 rounded-full w-9 h-9 flex items-center justify-center text-sm font-bold shadow-lg hover:shadow-xl transform hover:scale-110",title:"Close notification",children:"✕"})]})}),n.jsxs("div",{className:"relative z-10 space-y-3 text-sm",children:[n.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${l?"bg-gradient-to-r from-emerald-800/40 to-green-800/40":"bg-gradient-to-r from-red-800/40 to-rose-800/40"} rounded-xl border ${l?"border-emerald-600/30":"border-red-600/30"} shadow-lg backdrop-blur-sm`,children:[n.jsx("span",{className:"text-gray-200 font-medium",children:"Direction:"}),n.jsx("span",{className:`font-bold text-lg ${t.direction==="up"?"text-emerald-300":"text-red-300"} drop-shadow-lg`,children:t.direction==="up"?"📈 UP":"📉 DOWN"})]}),n.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${l?"bg-gradient-to-r from-emerald-800/40 to-green-800/40":"bg-gradient-to-r from-red-800/40 to-rose-800/40"} rounded-xl border ${l?"border-emerald-600/30":"border-red-600/30"} shadow-lg backdrop-blur-sm`,children:[n.jsx("span",{className:"text-gray-200 font-medium",children:"Amount:"}),n.jsxs("span",{className:"font-bold text-lg text-yellow-300 drop-shadow-lg",children:[t.amount," USDT"]})]}),n.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${l?"bg-gradient-to-r from-emerald-800/40 to-green-800/40":"bg-gradient-to-r from-red-800/40 to-rose-800/40"} rounded-xl border ${l?"border-emerald-600/30":"border-red-600/30"} shadow-lg backdrop-blur-sm`,children:[n.jsx("span",{className:"text-gray-200 font-medium",children:"Entry Price:"}),n.jsxs("span",{className:"font-mono text-lg text-blue-300 drop-shadow-lg",children:["$",t.entryPrice.toFixed(2)]})]}),n.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${l?"bg-gradient-to-r from-emerald-800/40 to-green-800/40":"bg-gradient-to-r from-red-800/40 to-rose-800/40"} rounded-xl border ${l?"border-emerald-600/30":"border-red-600/30"} shadow-lg backdrop-blur-sm`,children:[n.jsx("span",{className:"text-gray-200 font-medium",children:"Final Price:"}),n.jsxs("span",{className:"font-mono text-lg text-blue-300 drop-shadow-lg",children:["$",t.finalPrice.toFixed(2)]})]}),n.jsxs("div",{className:`flex justify-between items-center py-3 px-4 ${l?"bg-gradient-to-r from-emerald-800/40 to-green-800/40":"bg-gradient-to-r from-red-800/40 to-rose-800/40"} rounded-xl border ${l?"border-emerald-600/30":"border-red-600/30"} shadow-lg backdrop-blur-sm`,children:[n.jsx("span",{className:"text-gray-200 font-medium",children:"Price Change:"}),n.jsxs("span",{className:`font-bold text-lg ${d>=0?"text-emerald-300":"text-red-300"} drop-shadow-lg`,children:[d>=0?"+":"","$",d.toFixed(2)]})]}),n.jsxs("div",{className:`border-2 ${l?"border-emerald-400/60":"border-red-400/60"} rounded-2xl p-5 mt-4 ${l?"bg-gradient-to-br from-emerald-700/50 via-green-700/40 to-teal-700/50":"bg-gradient-to-br from-red-700/50 via-rose-700/40 to-pink-700/50"} shadow-xl backdrop-blur-md relative overflow-hidden`,children:[n.jsxs("div",{className:"absolute inset-0 opacity-20",children:[n.jsx("div",{className:`absolute top-1 left-1 w-2 h-2 ${l?"bg-emerald-300":"bg-red-300"} rounded-full animate-ping`}),n.jsx("div",{className:`absolute top-3 right-2 w-1 h-1 ${l?"bg-green-400":"bg-rose-400"} rounded-full animate-pulse`}),n.jsx("div",{className:`absolute bottom-2 left-3 w-1.5 h-1.5 ${l?"bg-teal-300":"bg-pink-400"} rounded-full animate-bounce`})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex justify-between items-center font-bold text-xl",children:[n.jsx("span",{className:"text-gray-100 drop-shadow-lg",children:"Final P&L:"}),n.jsxs("span",{className:`${l?"text-emerald-300":"text-red-300"} text-3xl font-black drop-shadow-lg bg-gradient-to-r ${l?"from-emerald-300 to-green-300":"from-red-300 to-rose-300"} bg-clip-text text-transparent`,children:[c>=0?"+":"",c.toFixed(2)," USDT"]})]}),l&&n.jsxs("div",{className:"flex justify-between text-sm mt-3 pt-3 border-t border-emerald-400/40",children:[n.jsx("span",{className:"text-emerald-200 drop-shadow",children:"Profit Rate:"}),n.jsxs("span",{className:"text-emerald-300 font-bold text-lg drop-shadow bg-gradient-to-r from-emerald-300 to-green-300 bg-clip-text text-transparent",children:[t.profitPercentage,"%"]})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx("div",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-bold ${l?"bg-gradient-to-r from-emerald-400/30 to-green-400/30 text-emerald-200 border-2 border-emerald-300/50 shadow-lg shadow-emerald-400/30":"bg-gradient-to-r from-red-400/30 to-rose-400/30 text-red-200 border-2 border-red-300/50 shadow-lg shadow-red-400/30"} backdrop-blur-sm`,children:l?"🎊 Congratulations! 🎊":"😔 Better luck next time"})})]})]})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-black/30 rounded-b-2xl overflow-hidden",children:n.jsx("div",{className:`h-full transition-all duration-100 ease-linear ${l?"bg-gradient-to-r from-emerald-400 via-green-400 to-teal-400 shadow-lg shadow-emerald-400/50":"bg-gradient-to-r from-red-400 via-rose-400 to-pink-400 shadow-lg shadow-red-400/50"} animate-pulse`,style:{width:`${i}%`}})}),n.jsxs("div",{className:"absolute top-2 left-2 text-xs text-gray-300 bg-black/40 px-2 py-1 rounded-full backdrop-blur-sm",children:[Math.ceil(i*20/100),"s"]})]})})};function _L({trade:t,onClose:e}){const s=Mr(),[r,i]=p.useState(()=>typeof window<"u"?window.innerWidth:1024);p.useEffect(()=>{const u=()=>{const h=window.innerWidth;i(h)};if(typeof window<"u")return window.addEventListener("resize",u),u(),()=>window.removeEventListener("resize",u)},[]);const a=s,o=r<768,l=typeof window<"u"&&window.innerWidth<768,c=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return a||o||l||c?n.jsx(kL,{trade:t,onClose:e}):n.jsx(EL,{trade:t,onClose:e})}function hw({trades:t,currentPrice:e}){return t.length===0?null:n.jsx("div",{className:"absolute top-2 left-2 z-50 space-y-2",children:t.map(s=>{const r=Math.max(0,Math.ceil((s.endTime-Date.now())/1e3)),i=e-s.entryPrice,a=s.direction==="up"&&i>0||s.direction==="down"&&i<0;return n.jsxs("div",{className:`px-3 py-2 rounded-lg backdrop-blur-sm border ${a?"bg-green-900/80 border-green-400 text-green-100":"bg-red-900/80 border-red-400 text-red-100"} text-xs min-w-[200px]`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsxs("span",{className:`font-bold ${s.direction==="up"?"text-green-300":"text-red-300"}`,children:[s.direction.toUpperCase()," $",s.amount]}),n.jsxs("span",{className:"text-yellow-300 font-bold",children:[r,"s"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{children:["Entry: $",s.entryPrice.toFixed(2)]}),n.jsxs("span",{className:`font-bold ${i>=0?"text-green-300":"text-red-300"}`,children:[i>=0?"+":"","$",i.toFixed(2)]})]}),n.jsx("div",{className:"text-center mt-1",children:n.jsxs("span",{className:`text-xs ${a?"text-green-300":"text-red-300"}`,children:[a?"🟢 WINNING":"🔴 LOSING"," • ",s.profitPercentage,"%"]})})]},s.id)})})}const Dm=t=>{try{const e=new(window.AudioContext||window.webkitAudioContext),s=(r,i,a=.1)=>{const o=e.createOscillator(),l=e.createGain();o.connect(l),l.connect(e.destination),o.frequency.setValueAtTime(r,e.currentTime),o.type="sine",l.gain.setValueAtTime(0,e.currentTime),l.gain.linearRampToValueAtTime(a,e.currentTime+.01),l.gain.exponentialRampToValueAtTime(.001,e.currentTime+i),o.start(e.currentTime),o.stop(e.currentTime+i)};switch(t){case"win":s(523,.2),setTimeout(()=>s(659,.2),100),setTimeout(()=>s(784,.3),200);break;case"lose":s(523,.3),setTimeout(()=>s(466,.3),150),setTimeout(()=>s(392,.4),300);break;case"place":s(800,.1);break}}catch(e){console.log("Audio not available:",e)}};function PL(){var F,te,L;const{user:t}=Wt(),{lastMessage:e,subscribe:s,connected:r,sendMessage:i}=Qh(),a=lr(),o=Mr(),{priceData:l}=Qo(),{changeText:c,changeColor:d,isPositive:u}=Tx();kx();const[h,f]=p.useState("basic");console.log("🔍 OPTIONS PAGE - User data:",{id:t==null?void 0:t.id,role:t==null?void 0:t.role,verificationStatus:t==null?void 0:t.verificationStatus,username:t==null?void 0:t.username}),console.log("💰 OPTIONS PAGE - Price from context:",l==null?void 0:l.price);const[x,y]=p.useState(""),[m,b]=p.useState("open"),[g,v]=p.useState("30s"),[w,j]=p.useState(100),[C,P]=p.useState(0),[E,k]=p.useState(0),[I,$]=p.useState(!1),[_,R]=p.useState([]),[W,H]=p.useState([]),[K,D]=p.useState(()=>{try{const N=localStorage.getItem("completedTrade");if(console.log("🔍 LOCALSTORAGE CHECK: Raw stored data:",N),N){const O=JSON.parse(N);return console.log("🔍 LOCALSTORAGE CHECK: Parsed data:",O),console.log("🔍 LOCALSTORAGE CHECK: Returning parsed data (timeout disabled)"),O}else console.log("🔍 LOCALSTORAGE CHECK: No stored data found")}catch(N){console.error("Error loading completed trade from localStorage:",N)}return null}),[X,z]=p.useState(()=>{const N=localStorage.getItem("currentTradingMode");return N==="win"||N==="lose"||N==="normal"?N:"normal"}),[B,G]=p.useState(!1),[J,Te]=p.useState(null),me=p.useRef([]),[Oe,ae]=p.useState(!1),_e=async()=>{if(t!=null&&t.id){ae(!0);try{a.invalidateQueries({queryKey:[`/api/users/${t.id}/trades`]}),console.log("🗑️ Invalidated React Query cache for trade history to prevent conflicts")}catch(N){console.error("❌ Error invalidating React Query cache:",N)}try{localStorage.removeItem(`tradeHistory_${t.id}`),console.log("🗑️ Cleared any existing localStorage trade history cache")}catch(N){console.error("❌ Error clearing localStorage cache:",N)}console.log("📈 Loading fresh trade history from server (no caching)");try{const N=await fetch(`/api/users/${t.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(N.ok){const O=await N.json();console.log("📈 Loaded trade history from server:",O.length),console.log("📈 Raw server trades:",O);const Y=O.filter(Q=>{const se=Q.result&&(Q.result==="win"||Q.result==="lose"),Re=Q.status==="completed";return se&&Re}).map(Q=>({id:Q.id,symbol:Q.symbol||"BTCUSDT",amount:parseFloat(Q.amount),direction:Q.direction,duration:Q.duration||30,entryPrice:parseFloat(Q.entry_price||"0"),currentPrice:parseFloat(Q.exit_price||Q.entry_price||"0"),payout:Q.result==="win"?parseFloat(Q.amount)+parseFloat(Q.profit_loss||"0"):0,status:Q.result==="win"?"won":"lost",endTime:Q.updated_at||Q.created_at,startTime:Q.created_at,profit:parseFloat(Q.profit_loss||"0"),profitPercentage:Q.duration===30?10:15}));console.log("📈 Formatted trades count:",Y.length),H(Y),console.log("📈 Trade history loaded fresh from server (no caching):",t.id)}else console.log("⚠️ Failed to load trade history from server, using cached data")}catch(N){console.error("❌ Error loading trade history from server, using cached data:",N)}finally{ae(!1)}}};p.useEffect(()=>{_e()},[t==null?void 0:t.id]),p.useEffect(()=>{const N=()=>{const O=localStorage.getItem("currentTradingMode");O&&(O==="win"||O==="lose"||O==="normal")&&(z(O),console.log(`🔄 Synced trading mode from localStorage: ${O.toUpperCase()}`))};return N(),window.addEventListener("storage",N),()=>{window.removeEventListener("storage",N)}},[]);const U=(l==null?void 0:l.price.toFixed(2))||"0.00";l!=null&&l.price;const oe=(l==null?void 0:l.price)||C||166373.87,[xe,be]=p.useState({sellOrders:[],buyOrders:[]});p.useEffect(()=>{if(l!=null&&l.price){const N=l.price;me.current.push(N),me.current.length>1e3&&(me.current=me.current.slice(-1e3));const O=Pe(N);be(O),console.log("📊 Price update from context:",N.toFixed(2)),console.log("📊 Order book data generated:",{sellOrders:O.sellOrders.length,buyOrders:O.buyOrders.length,firstSell:O.sellOrders[0],firstBuy:O.buyOrders[0]})}},[l==null?void 0:l.price]);const Pe=N=>{const O=[],Y=[];for(let Q=0;Q<8;Q++){const se=(Q+1)*(Math.random()*.5+.1),Re=N+se,Ne=(Math.random()*2+.1).toFixed(4),Ie=(Re*parseFloat(Ne)).toFixed(2);O.push({price:Re.toFixed(2),volume:Ne,turnover:Ie})}for(let Q=0;Q<8;Q++){const se=(Q+1)*(Math.random()*.5+.1),Re=N-se,Ne=(Math.random()*2+.1).toFixed(4),Ie=(Re*parseFloat(Ne)).toFixed(2);Y.push({price:Re.toFixed(2),volume:Ne,turnover:Ie})}return{sellOrders:O,buyOrders:Y}},{data:ve}=kt({queryKey:["/api/market-data"],refetchInterval:5e3}),{data:Je}=kt({queryKey:["/api/balances"],enabled:!!t,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:async()=>{var Y;console.log("🔍 OPTIONS: Fetching balance from /api/balances for user:",t==null?void 0:t.id,t==null?void 0:t.username),console.log("🔍 OPTIONS: Auth token:",((Y=localStorage.getItem("authToken"))==null?void 0:Y.substring(0,30))+"...");const N=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 OPTIONS: Response status:",N.status,N.statusText),!N.ok){const Q=await N.text();throw console.error("❌ OPTIONS: Balance API failed:",N.status,Q),new Error(`Failed to fetch balance: ${N.status} ${Q}`)}const O=await N.json();return console.log("🔍 OPTIONS: Balance API response:",O),O}});let ze=0;if(console.log("🔍 OPTIONS PAGE - User:",t==null?void 0:t.id,"UserBalances:",Je),t&&Je&&Array.isArray(Je)){console.log("🔍 OPTIONS - RAW userBalances (array):",Je);const N=Je.find(O=>O.symbol==="USDT");ze=Number((N==null?void 0:N.available)||0),console.log("🔍 OPTIONS - Using standardized array format:",ze,N)}else t?(console.log("🔍 OPTIONS - userBalances is not in expected array format:",typeof Je,Je),console.log("🔍 OPTIONS - User authenticated but no balance data")):console.log("🔍 OPTIONS - No user authenticated");isNaN(ze)&&(console.warn("🔍 OPTIONS - Balance is NaN, setting to 0"),ze=0),console.log("🔍 OPTIONS - Final balance:",ze),p.useEffect(()=>{var N;(e==null?void 0:e.type)==="balance_update"&&(console.log("🔄 OPTIONS: Real-time balance update received:",e.data),console.log("🔄 OPTIONS: Current user ID:",t==null?void 0:t.id,"Update for user:",(N=e.data)==null?void 0:N.userId),a.invalidateQueries({queryKey:["/api/balances"]}),a.invalidateQueries({queryKey:["/api/auth"]}),a.removeQueries({queryKey:["/api/balances"]}),setTimeout(()=>{a.refetchQueries({queryKey:["/api/balances"]})},100))},[e,a,t==null?void 0:t.id]);const ee=ve==null?void 0:ve.find(N=>N.symbol==="BTCUSDT"),mt=ee?parseFloat(ee.price):0,Be=oe;p.useEffect(()=>{const N=()=>{const Y=Be||parseFloat(U)||166373.87,Q=Pe(Y);be(Q),console.log("📊 Order book updated with price:",Y.toFixed(2))};N();const O=setInterval(N,3e4);return()=>clearInterval(O)},[Be,U]),p.useEffect(()=>{if(mt>0&&!U){P(mt),me.current.push(mt),me.current.length>1e3&&(me.current=me.current.slice(-1e3));const N=Pe(mt);be(N),console.log("📈 Real Price Update:",mt.toFixed(2))}},[mt,U]),p.useEffect(()=>{r&&(t!=null&&t.id)&&(s(["BTCUSDT"]),console.log("🔌 Subscribed to BTCUSDT price updates"),i({type:"subscribe_user_balance",userId:t.id}),console.log("🔌 Subscribed to balance updates for user:",t.id))},[r,s,i,t==null?void 0:t.id]),p.useEffect(()=>{var N;if((e==null?void 0:e.type)==="price_update"&&((N=e.data)==null?void 0:N.symbol)==="BTCUSDT"){const O=parseFloat(e.data.price);if(O>0){P(O),me.current.push(O),me.current.length>1e3&&(me.current=me.current.slice(-1e3));const Y=Pe(O);be(Y),console.log("📈 WebSocket Price Update:",O.toFixed(2))}}},[e]),p.useEffect(()=>{var N;(e==null?void 0:e.type)==="balance_update"&&((N=e.data)==null?void 0:N.userId)===(t==null?void 0:t.id)&&(console.log("💰 Real-time balance update received:",e.data),a.invalidateQueries({queryKey:["/api/balances"]}),e.data.changeType!=="trade_start"&&console.log(`💰 Balance updated: ${e.data.newBalance} USDT (${e.data.change>0?"+":""}${e.data.change})`))},[e,t==null?void 0:t.id,a]),p.useEffect(()=>{var N;if((e==null?void 0:e.type)==="trade_completed"&&((N=e.data)==null?void 0:N.userId)===(t==null?void 0:t.id)){console.log("🎯 WEBSOCKET: Trade completion notification received:",e.data);const{tradeId:O,result:Y,exitPrice:Q,profitAmount:se,newBalance:Re}=e.data,Ne=_.find(Ie=>Ie.id===O);if(Ne){const Ie=Y==="win",It=Ne.profitPercentage||(Ne.duration===30?10:15),Yt={...Ne,status:Ie?"won":"lost",currentPrice:Q,payout:Ie?Ne.amount*(1+It/100):0,profit:se};console.log("🎯 WEBSOCKET: Setting completed trade notification:",Yt),D(Yt),localStorage.setItem("completedTrade",JSON.stringify(Yt)),R(Ht=>Ht.filter(ya=>ya.id!==O)),a.invalidateQueries({queryKey:["/api/balances"]}),a.invalidateQueries({queryKey:[`/api/users/${t==null?void 0:t.id}/trades`]}),console.log("🔄 WEBSOCKET: Refreshing trade history after trade completion..."),setTimeout(()=>{t!=null&&t.id&&_e()},1e3)}}},[e,t==null?void 0:t.id,_,a]),p.useEffect(()=>{if(_.length===0)return;const N=setInterval(async()=>{try{const O=await fetch(`/api/users/${t==null?void 0:t.id}/trades`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(O.ok){const Y=await O.json();_.forEach(Q=>{const se=Y.find(Re=>Re.id===Q.id);if(se&&se.status==="completed"&&se.result!=="pending"){console.log("🔄 POLLING: Found completed trade:",se);const Re=se.result==="win",Ne=Q.profitPercentage||(Q.duration===30?10:15),Ie={...Q,status:Re?"won":"lost",currentPrice:se.exit_price||Q.entryPrice,payout:Re?Q.amount*(1+Ne/100):0,profit:Re?Q.amount*Ne/100:-Q.amount};console.log("🔄 POLLING: Setting completed trade notification:",Ie),D(Ie),localStorage.setItem("completedTrade",JSON.stringify(Ie)),R(It=>It.filter(Yt=>Yt.id!==Q.id)),a.invalidateQueries({queryKey:["/api/balances"]}),a.invalidateQueries({queryKey:[`/api/users/${t==null?void 0:t.id}/trades`]}),console.log("🔄 POLLING: Refreshing trade history after trade completion..."),setTimeout(()=>{_e()},1e3)}})}}catch(O){console.error("🔄 POLLING: Error checking trade completion:",O)}},2e3);return()=>clearInterval(N)},[_,t==null?void 0:t.id,a]),p.useEffect(()=>{if((e==null?void 0:e.type)==="trading_control_update"||(e==null?void 0:e.type)==="trading_mode_update"){const{userId:N,controlType:O,tradingMode:Y,username:Q,message:se}=e.data||{},Re=O||Y;let Ne="user-1";(t==null?void 0:t.email)==="angela.soenoko@gmail.com"?Ne="user-angela":(t==null?void 0:t.email)==="amdsnkstudio@metachrome.io"?Ne="user-1":t!=null&&t.id&&(Ne=t.id),console.log("🎯 Real-time trading control update received:",{userId:N,controlType:Re,username:Q,currentUserId:Ne,message:se}),N===Ne&&(console.log(`🎯 IMMEDIATE EFFECT: Trading mode changed to ${Re.toUpperCase()} for current user!`),z(Re),localStorage.setItem("currentTradingMode",Re||"normal"))}},[e,t]);const Pt=async(N,O,Y)=>{const Q=N.profitPercentage||(N.duration===30?10:15),se=O?N.amount*Q/100:-N.amount,Re={...N,status:O?"won":"lost",currentPrice:Y,payout:O?N.amount*(1+Q/100):0,profit:se};console.log("🎯 COMPLETE TRADE: Updated trade object:",Re);try{(await fetch("/api/trades/complete",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({tradeId:N.id,userId:(t==null?void 0:t.id)||"user-1",won:O,amount:N.amount,payout:Re.payout,profit:se,finalPrice:Y})})).ok?(a.invalidateQueries({queryKey:["/api/balances"]}),a.invalidateQueries({queryKey:[`/api/users/${t==null?void 0:t.id}/trades`]}),console.log(`💰 Balance updated: Trade ${O?"WON":"LOST"} - Amount: ${N.amount} USDT`),console.log("🔄 COMPLETE TRADE: Refreshing trade history after API completion..."),setTimeout(()=>{t!=null&&t.id&&_e()},1500)):console.error("Failed to update balance after trade completion")}catch(Ne){console.error("Error updating balance:",Ne)}try{console.log("🎯 COMPLETE TRADE: Setting completed trade for notification:",Re);const Ne={...Re,completedAt:new Date().toISOString()};D(Ne),localStorage.setItem("completedTrade",JSON.stringify(Ne));const Ie=window.innerWidth<768,It=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Yt=Ie||o||It;setTimeout(()=>{console.log("🎯 COMPLETE TRADE: Auto-hiding notification after 45s"),D(null),localStorage.removeItem("completedTrade")},45e3)}catch(Ne){console.error("Trade history update error:",Ne)}return Re};p.useEffect(()=>{try{const N=Date.now();let O=!1;_.length>0&&console.log(`🎯 USEEFFECT: Checking ${_.length} active trades at ${new Date(N).toLocaleTimeString()}`),R(Q=>{const se=[];return Q.forEach(Re=>{const Ne=Math.max(0,Math.ceil((Re.endTime-N)/1e3));if(console.log(`🎯 TRADE CHECK: ID=${Re.id}, timeRemaining=${Ne}, status=${Re.status}, endTime=${Re.endTime}, now=${N}`),Ne===0&&Re.status==="active"){console.log(`🎯 TRADE EXPIRED: Trade ${Re.id} has expired! Starting completion...`);const Ie=Be||Re.entryPrice,It=Ie-Re.entryPrice;let Yt=Re.direction==="up"&&It>0||Re.direction==="down"&&It<0;Pt(Re,Yt,Ie).then(Ht=>{console.log("🎯 TRADE COMPLETED: Setting notification for trade:",Ht.id),D(Ht),localStorage.setItem("completedTrade",JSON.stringify(Ht))}).catch(Ht=>{console.error("❌ Trade completion failed:",Ht)}),O=!0;try{typeof Dm=="function"&&Dm(Yt?"win":"lose")}catch(Ht){console.error("Sound play error:",Ht)}}else se.push({...Re,currentPrice:C||Re.entryPrice})}),se});const Y=_.find(Q=>Q.status==="active");if(Y){const Q=Math.max(0,Math.ceil((Y.endTime-N)/1e3));k(Q),$(Q>0)}else O||(k(0),$(!1))}catch(N){console.error("Trade management error:",N),$(!1),k(0)}},[Be,_]),p.useEffect(()=>{const N=setInterval(()=>{const O=Date.now();_.forEach(Y=>{Math.max(0,Math.ceil((Y.endTime-O)/1e3))===0&&Y.status==="active"&&k(se=>se)})},1e3);return()=>clearInterval(N)},[_]);const jt={"30s":{minAmount:100,profit:10},"60s":{minAmount:1e3,profit:15},"90s":{minAmount:5e3,profit:20},"120s":{minAmount:1e4,profit:25},"180s":{minAmount:3e4,profit:30},"240s":{minAmount:5e4,profit:50},"300s":{minAmount:1e5,profit:75},"600s":{minAmount:2e5,profit:100}},os=N=>{var O;return((O=jt[N])==null?void 0:O.profit)||10},Ot=N=>{var O;return((O=jt[N])==null?void 0:O.minAmount)||100},M=(N,O)=>{const Y=Ot(O);return N>=Y},T=async N=>{var O;try{if(!M(w,g)){const Ie=Ot(g);alert(`You cannot follow this market, please recharge your deposit. Minimum amount for ${g} is ${Ie.toLocaleString()} USDT`);return}if(ze<w){alert("Insufficient balance");return}if(_.length>=3){alert("Maximum 3 active trades allowed");return}const Y=parseInt(g.replace("s","")),Q=oe;console.log("🔍 Current user for trade:",t);let se="user-1";if((t==null?void 0:t.email)==="angela.soenoko@gmail.com"?se="user-angela-1758195715":(t==null?void 0:t.email)==="amdsnkstudio@metachrome.io"?se="user-1":t!=null&&t.id&&(se=t.id),console.log("🔍 Trading with user ID:",se),!Q||Q<=0){alert("Price data not available. Please wait a moment and try again.");return}const Re=await fetch("/api/trades/options",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({userId:se,symbol:"BTCUSDT",direction:N,amount:w.toString(),duration:Y,entryPrice:Q})});if(!Re.ok){const Ie=await Re.text();throw new Error(Ie||"Failed to place trade")}const Ne=await Re.json();if(Ne.success){const Ie=Date.now(),It=os(g),Yt={id:((O=Ne.trade)==null?void 0:O.id)||`trade_${Ie}_${Math.random().toString(36).substring(2,11)}`,direction:N,entryPrice:Q,amount:w,duration:Y,startTime:Ie,endTime:Ie+Y*1e3,profitPercentage:It,status:"active"};R(Ht=>[...Ht,Yt]),k(Y),$(!0),a.invalidateQueries({queryKey:["/api/balances"]}),t!=null&&t.id&&(localStorage.removeItem(`tradeHistory_${t.id}`),console.log("🗑️ Cleared trade history cache to prevent conflicts"));try{Dm("place")}catch(Ht){console.warn("Sound play failed:",Ht)}console.log("🚀 Trade Executed:",{direction:N.toUpperCase(),amount:`${w} USDT`,duration:g,entryPrice:`$${Q.toFixed(2)}`,potentialProfit:`${It}%`,potentialPayout:`${(w*(1+It/100)).toFixed(2)} USDT`})}else throw new Error(Ne.message||"Failed to place trade")}catch(Y){console.error("Trade execution error:",Y);const Q=Y instanceof Error?Y.message:"Please try again.";alert(`Failed to execute trade: ${Q}`)}};try{return o?n.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[n.jsx(dc,{}),n.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700 sticky top-0 z-40",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsxs("div",{className:"text-white text-xl font-bold",children:[oe.toFixed(2)," USDT"]}),n.jsx("div",{className:`text-sm font-semibold ${d}`,children:c||(ee==null?void 0:ee.priceChangePercent24h)||"+0.00%"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),n.jsx("div",{className:"text-white text-sm font-bold",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M":"0.00M"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-3 text-xs",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.high24h)||"119,558"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white font-medium",children:(ee==null?void 0:ee.low24h)||"117,205"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Volume"}),n.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Turnover"}),n.jsx("div",{className:"text-white font-medium",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)*parseFloat(ee.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"375px"},children:[n.jsx(hw,{trades:_,currentPrice:oe}),n.jsx("div",{className:"w-full h-full",children:n.jsx(gc,{symbol:"BTCUSDT",interval:"1m",height:375,containerId:"options_mobile_chart"})})]}),n.jsxs("div",{className:"bg-[#10121E] min-h-screen",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-2",children:"Market Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Change"}),n.jsxs("div",{className:`font-semibold ${(F=ee==null?void 0:ee.priceChangePercent24h)!=null&&F.startsWith("-")?"text-red-400":"text-green-400"}`,children:[(ee==null?void 0:ee.priceChange24h)||"0.00"," (",(ee==null?void 0:ee.priceChangePercent24h)||"0.00%",")"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white font-semibold",children:(ee==null?void 0:ee.high24h)||C.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white font-semibold",children:(ee==null?void 0:ee.low24h)||C.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Volume"}),n.jsx("div",{className:"text-white font-semibold",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M BTC":"0.00"})]})]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"My Orders"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.length>0?_.map(N=>{const O=Math.max(0,Math.ceil((N.expiryTime-Date.now())/1e3)),Y=O>0?O/N.duration*100:0;return n.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${N.direction==="up"?"bg-green-400":"bg-red-400"}`}),n.jsx("span",{className:"text-white text-sm font-medium",children:"BTC/USDT"}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${N.direction==="up"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:N.direction.toUpperCase()})]}),n.jsxs("span",{className:"text-white font-bold",children:["$",N.amount]})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-2",children:[n.jsxs("span",{children:["Entry: $",N.entryPrice]}),n.jsxs("span",{children:["Current: $",oe.toFixed(2)]})]}),O>0?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-400",children:["Time left: ",O,"s"]}),n.jsx("span",{className:`font-medium ${N.direction==="up"&&oe>N.entryPrice||N.direction==="down"&&oe<N.entryPrice?"text-green-400":"text-red-400"}`,children:N.direction==="up"&&oe>N.entryPrice||N.direction==="down"&&oe<N.entryPrice?"Winning":"Losing"})]}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1",children:n.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-1000",style:{width:`${Y}%`}})})]}):n.jsx("div",{className:"text-center",children:n.jsx("span",{className:`text-sm font-bold ${N.direction==="up"&&N.exitPrice>N.entryPrice||N.direction==="down"&&N.exitPrice<N.entryPrice?"text-green-400":"text-red-400"}`,children:N.direction==="up"&&N.exitPrice>N.entryPrice||N.direction==="down"&&N.exitPrice<N.entryPrice?"WON":"LOST"})})]},N.id)}):n.jsx("div",{className:"text-center py-4",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})})})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Order Book"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-red-400 text-sm font-medium mb-2",children:"Sell Orders"}),n.jsx("div",{className:"space-y-1",children:Pe(oe).sellOrders.slice(0,5).map((N,O)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-red-400",children:N.price}),n.jsx("span",{className:"text-gray-400",children:N.amount})]},O))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-green-400 text-sm font-medium mb-2",children:"Buy Orders"}),n.jsx("div",{className:"space-y-1",children:Pe(oe).buyOrders.slice(0,5).map((N,O)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-green-400",children:N.price}),n.jsx("span",{className:"text-gray-400",children:N.amount})]},O))})]})]})]}),n.jsxs("div",{className:"px-4 py-3 space-y-3 bg-[#10121E]",children:[n.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Current Price:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-400 animate-pulse":"bg-red-400"}`}),n.jsx("span",{className:"text-xs text-gray-500",children:r?"Live":"Offline"})]})]}),n.jsxs("span",{className:"text-white font-bold text-base",children:[C>0?C.toFixed(2):Be>0?Be.toFixed(2):"Loading..."," USDT"]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Balance:"}),t?n.jsxs("span",{className:"text-green-400 font-bold text-base",children:[ze.toFixed(2)," USDT"]}):n.jsx("span",{className:"text-yellow-400 font-bold text-sm",children:"Sign in required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Duration & Profit"}),n.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(N=>n.jsxs("button",{onClick:()=>{v(N.duration);const O=Ot(N.duration);w<O&&j(O)},className:`py-1.5 px-1 rounded text-center transition-colors ${g===N.duration?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:I,children:[n.jsx("div",{className:"text-xs font-medium",children:N.duration}),n.jsx("div",{className:"text-[10px] text-green-400",children:N.profit})]},N.duration))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:["Amount (USDT) - Min: ",Ot(g).toLocaleString()]}),n.jsx("div",{className:"grid grid-cols-3 gap-1.5 mb-2",children:[100,500,1e3,2e3].map(N=>n.jsx("button",{onClick:()=>j(N),className:`py-1.5 px-2 rounded text-xs font-medium transition-colors ${w===N?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:I,children:N},N))}),n.jsxs("button",{onClick:()=>{const N=Math.floor(ze)||0;j(N)},className:`w-full py-1.5 px-2 rounded text-xs font-medium transition-colors mb-2 ${w===Math.floor(ze||0)?"bg-purple-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,disabled:I,children:["Max (",Math.floor(ze||0)," USDT)"]}),n.jsx("input",{type:"number",value:w,readOnly:!0,className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-gray-400 text-sm cursor-not-allowed",placeholder:"Use buttons above to select amount",disabled:!0})]}),!t&&n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-4 mb-4 text-center",children:[n.jsx("div",{className:"text-white font-bold text-lg mb-2",children:"🔒 Login to Trade"}),n.jsx("div",{className:"text-white/80 text-sm mb-3",children:"Sign in to start options trading and earn up to 15% profit"}),n.jsx("a",{href:"/login",className:"inline-block bg-white text-purple-600 font-bold py-2 px-6 rounded-lg hover:bg-gray-100 transition-colors",children:"Login Now"})]}),(!(t!=null&&t.verificationStatus)||(t==null?void 0:t.verificationStatus)==="unverified")&&(t==null?void 0:t.role)!=="super_admin"?n.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-yellow-100 font-semibold mb-2",children:"🔒 Verification Required"}),n.jsx("div",{className:"text-yellow-200 text-sm mb-3",children:"Upload your verification documents to start trading"}),n.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm",children:"Upload Documents"})]})}):(t==null?void 0:t.verificationStatus)==="pending"?n.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-blue-100 font-semibold mb-2",children:"⏳ Verification Pending"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("button",{onClick:()=>T("up"),disabled:!t||E>0,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-6 px-6 rounded-xl transition-colors text-xl",children:"BUY BTC"}),n.jsx("button",{onClick:()=>T("down"),disabled:!t||E>0,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-6 px-6 rounded-xl transition-colors text-xl",children:"SELL BTC"})]}),E>0&&n.jsx("div",{className:"text-center py-2",children:n.jsxs("div",{className:"text-yellow-400 font-bold",children:["Next trade available in: ",E,"s"]})})]})]}),n.jsx(Qu,{})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx(dc,{}),n.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsx("div",{className:"text-white text-2xl font-bold",children:oe.toFixed(2)}),n.jsxs("div",{className:"text-gray-400 text-sm",children:[oe.toFixed(2)," USDT"]})]}),n.jsx("div",{className:`text-lg font-semibold ${(te=ee==null?void 0:ee.priceChangePercent24h)!=null&&te.startsWith("-")?"text-red-400":"text-green-400"}`,children:(ee==null?void 0:ee.priceChangePercent24h)||"+0.00%"}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Change 24h"}),n.jsxs("div",{className:"text-white",children:[(ee==null?void 0:ee.priceChange24h)||"0.00"," ",(ee==null?void 0:ee.priceChangePercent24h)||"0.00%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white",children:(ee==null?void 0:ee.high24h)||C.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white",children:(ee==null?void 0:ee.low24h)||C.toFixed(2)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Volume 24h (BTC)"}),n.jsx("div",{className:"text-white",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)/1e6).toFixed(2)+"M":"0.00"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),n.jsx("div",{className:"text-white",children:ee!=null&&ee.volume24h?(parseFloat(ee.volume24h)*parseFloat(ee.price)/1e6).toFixed(2)+"M":"0.00"})]})]})]})}),n.jsxs("div",{className:"bg-[#10121E] flex",children:[n.jsxs("div",{className:"w-64 border-r border-gray-700",children:[n.jsxs("div",{className:"p-3 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-white font-bold",children:"BTC/USDT"}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"font-bold text-white text-lg",children:oe.toFixed(2)}),n.jsx("div",{className:`text-sm font-semibold ${d==="#10B981"?"text-green-400":"text-red-400"}`,children:c||(ee==null?void 0:ee.priceChangePercent24h)||"+0.00%"}),n.jsxs("div",{className:`text-sm ${(L=ee==null?void 0:ee.priceChangePercent24h)!=null&&L.startsWith("-")?"text-red-400":"text-green-400"}`,children:[(ee==null?void 0:ee.priceChange24h)||"0.00"," ",(ee==null?void 0:ee.priceChangePercent24h)||"0.00%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"}),n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"}),n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-sm"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-white text-sm",children:"0.01"}),n.jsx("span",{className:"text-gray-400",children:"▼"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 text-xs text-gray-400 border-b border-gray-700",children:[n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Volume (BTC)"}),n.jsx("span",{children:"Turnover"})]}),n.jsxs("div",{className:"h-[400px] overflow-y-auto","data-orderbook":"desktop",children:[n.jsx("div",{className:"space-y-0",children:xe.sellOrders.length>0?xe.sellOrders.map((N,O)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"sell",children:[n.jsx("span",{style:{color:"rgb(248, 113, 113)",fontWeight:"500"},"data-field":"price",children:N.price}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:N.volume}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:N.turnover})]},O)):n.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading sell orders..."})}),n.jsx("div",{className:`p-2 my-1 ${u?"bg-green-900/20":"bg-red-900/20"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-white text-lg",children:oe.toFixed(2)}),n.jsx("span",{className:`${u?"text-green-400":"text-red-400"}`,children:u?"↑":"↓"}),n.jsxs("span",{className:"text-gray-400 text-sm",children:[oe.toFixed(2)," USDT"]})]})}),n.jsx("div",{className:"space-y-0",children:xe.buyOrders.length>0?xe.buyOrders.map((N,O)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-gray-800","data-order-type":"buy",children:[n.jsx("span",{style:{color:"rgb(74, 222, 128)",fontWeight:"500"},"data-field":"price",children:N.price}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"volume",children:N.volume}),n.jsx("span",{style:{color:"rgb(209, 213, 219)"},"data-field":"turnover",children:N.turnover})]},O)):n.jsx("div",{className:"text-gray-400 text-center py-4",children:"Loading buy orders..."})})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"p-2 border-b border-gray-700",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>f("basic"),className:`text-xs transition-colors ${h==="basic"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Basic version"}),n.jsx("button",{onClick:()=>f("tradingview"),className:`text-xs transition-colors ${h==="tradingview"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Trading view"}),n.jsx("button",{onClick:()=>f("depth"),className:`text-xs transition-colors ${h==="depth"?"text-white bg-purple-600 px-2 py-1 rounded":"text-gray-400 hover:text-white"}`,children:"Depth"})]})})})}),n.jsxs("div",{className:"h-[400px] relative bg-[#10121E] p-2",children:[n.jsx(hw,{trades:_,currentPrice:(l==null?void 0:l.price)||C}),h==="basic"&&n.jsx(gc,{symbol:"BTCUSDT",interval:"1m",height:400,containerId:"options_desktop_chart"}),h==="tradingview"&&n.jsx(rh,{type:"chart",symbol:"BINANCE:BTCUSDT",height:400,interval:"1",theme:"dark",container_id:"options_tradingview_chart"}),h==="depth"&&n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-white text-lg font-bold mb-2",children:"Market Depth Chart"}),n.jsx("div",{className:"text-gray-400 text-sm mb-4",children:"Order book visualization"}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 max-w-md",children:[n.jsx("div",{className:"text-green-400 text-sm mb-2",children:"Buy Orders (Bids)"}),n.jsx("div",{className:"space-y-1 mb-4",children:Array.from({length:5},(N,O)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-green-400",children:(oe-(O+1)*10).toFixed(2)}),n.jsx("span",{className:"text-gray-300",children:(Math.random()*5+1).toFixed(3)})]},O))}),n.jsx("div",{className:"text-red-400 text-sm mb-2",children:"Sell Orders (Asks)"}),n.jsx("div",{className:"space-y-1",children:Array.from({length:5},(N,O)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-red-400",children:(oe+(O+1)*10).toFixed(2)}),n.jsx("span",{className:"text-gray-300",children:(Math.random()*5+1).toFixed(3)})]},O))})]})]})})]}),n.jsxs("div",{className:"p-4 border-t border-gray-700",children:[n.jsxs("div",{className:"mb-4 p-3 bg-gray-800 rounded",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400",children:"Current Price:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-400 animate-pulse":"bg-red-400"}`}),n.jsx("span",{className:"text-xs text-gray-500",children:r?"Live":"Offline"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:"text-white font-bold text-lg",children:[C>0?C.toFixed(2):Be>0?Be.toFixed(2):"Loading..."," USDT"]})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-gray-400",children:"Balance:"}),t?n.jsxs("span",{className:"text-green-400 font-bold",children:[ze.toFixed(2)," USDT"]}):n.jsx("span",{className:"text-yellow-400 font-bold",children:"Sign in required"})]}),!1,I&&_.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:_.map(N=>{const O=Math.max(0,Math.ceil((N.endTime-Date.now())/1e3)),Y=Be-N.entryPrice,Q=N.direction==="up"&&Y>0||N.direction==="down"&&Y<0;return n.jsxs("div",{className:"p-2 bg-gray-700 rounded text-sm",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:`font-bold ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:[N.direction.toUpperCase()," ",N.amount," USDT"]}),n.jsxs("span",{className:"text-yellow-400 font-bold",children:[O,"s"]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsxs("span",{className:"text-gray-400",children:["Entry: ",N.entryPrice.toFixed(2)," USDT"]}),n.jsxs("span",{className:`font-bold ${Q?"text-green-400":"text-red-400"}`,children:[Y>0?"+":"",Y.toFixed(2)," USDT"]})]}),n.jsx("div",{className:"text-center mt-1",children:n.jsxs("span",{className:`text-xs ${Q?"text-green-400":"text-red-400"}`,children:[Q?"🟢 WINNING":"🔴 LOSING"," • Profit: ",N.profitPercentage,"%"]})})]},N.id)})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{duration:"30s",profit:"10%"},{duration:"60s",profit:"15%"},{duration:"90s",profit:"20%"},{duration:"120s",profit:"25%"},{duration:"180s",profit:"30%"},{duration:"240s",profit:"50%"},{duration:"300s",profit:"75%"},{duration:"600s",profit:"100%"}].map(N=>n.jsxs("button",{onClick:()=>{v(N.duration);const O=Ot(N.duration);w<O&&j(O)},className:`p-2 rounded text-center border transition-colors ${g===N.duration?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:I,children:[n.jsx("div",{className:"text-sm font-medium",children:N.duration}),n.jsx("div",{className:"text-xs text-green-400",children:N.profit})]},N.duration))}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-gray-400 text-sm mb-2",children:["Minimum buy: ",Ot(g).toLocaleString()," USDT | Selected: ",w," USDT"]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[100,500,1e3,2e3].map(N=>n.jsx("button",{onClick:()=>j(N),className:`p-2 rounded text-sm transition-colors ${w===N?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:I,children:N},N))}),n.jsx("div",{className:"grid grid-cols-1 gap-2 mb-2",children:n.jsxs("button",{onClick:()=>{const N=Math.floor(ze)||0;j(N)},className:`p-2 rounded text-sm transition-colors ${w===Math.floor(ze||0)?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border border-gray-600 text-gray-300 hover:bg-gray-700"}`,disabled:I,children:["Max (",Math.floor(ze||0)," USDT)"]})}),n.jsx("div",{className:"mt-2",children:n.jsx("input",{type:"number",value:w,readOnly:!0,className:"w-full bg-gray-700 text-gray-400 px-3 py-2 rounded border border-gray-600 cursor-not-allowed",placeholder:"Use buttons above to select amount",disabled:!0})})]}),n.jsx("div",{className:"text-gray-400 text-sm mb-4",children:t?n.jsxs(n.Fragment,{children:["Available: ",(ze||0).toFixed(2)," USDT | Active Trades: ",_.length,"/3"]}):n.jsx(n.Fragment,{children:"Sign in to view balance and start trading"})}),t?(!(t!=null&&t.verificationStatus)||(t==null?void 0:t.verificationStatus)==="unverified")&&(t==null?void 0:t.role)!=="super_admin"?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-yellow-900/50 border border-yellow-600/50 rounded-lg p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-yellow-100 font-semibold mb-2",children:"🔒 Verification Required"}),n.jsx("div",{className:"text-yellow-200 text-sm mb-3",children:"Upload your verification documents to start trading"}),n.jsx("a",{href:"/profile",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded text-sm",children:"Upload Documents"})]})})}):(t==null?void 0:t.verificationStatus)==="pending"?n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-blue-900/50 border border-blue-600/50 rounded-lg p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-blue-100 font-semibold mb-2",children:"⏳ Verification Pending"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Your documents are being reviewed. Trading will be enabled once approved."})]})})}):n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>T("up"),disabled:_.length>=3||w<100||ze<w,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[n.jsx("div",{children:"Buy Up"}),n.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",os(g),"% • Payout: ",(w*(1+os(g)/100)).toFixed(0)," USDT"]})]}),n.jsxs("button",{onClick:()=>T("down"),disabled:_.length>=3||w<100||ze<w,className:"bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 rounded font-medium text-lg transition-colors relative",children:[n.jsx("div",{children:"Buy Down"}),n.jsxs("div",{className:"text-xs mt-1",children:["Profit: ",os(g),"% • Payout: ",(w*(1+os(g)/100)).toFixed(0)," USDT"]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[n.jsx("div",{children:"Buy Up"}),n.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]}),n.jsxs("button",{disabled:!0,className:"bg-gray-600 cursor-not-allowed text-white py-4 rounded font-medium text-lg",children:[n.jsx("div",{children:"Buy Down"}),n.jsx("div",{className:"text-xs mt-1",children:"Sign in required"})]})]}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start options trading"})})]})]})]}),n.jsxs("div",{className:"w-80 border-l border-gray-700",children:[n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search",value:x,onChange:N=>y(N.target.value),className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),n.jsx("div",{className:"px-4 mb-4",children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Spot"}),n.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Options"})]})}),n.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto",children:[{symbol:"BTCUSDT",price:oe.toString(),priceChangePercent24h:c||"+1.44%"},{symbol:"ETHUSDT",price:"3550.21",priceChangePercent24h:"+1.06%"},{symbol:"BNBUSDT",price:"698.45",priceChangePercent24h:"+2.15%"},{symbol:"SOLUSDT",price:"245.67",priceChangePercent24h:"+3.42%"},{symbol:"XRPUSDT",price:"3.18",priceChangePercent24h:"+1.47%"},{symbol:"ADAUSDT",price:"0.8272",priceChangePercent24h:"+0.60%"},{symbol:"DOGEUSDT",price:"0.2388",priceChangePercent24h:"+0.80%"},{symbol:"MATICUSDT",price:"0.5234",priceChangePercent24h:"+1.23%"},{symbol:"DOTUSDT",price:"7.89",priceChangePercent24h:"-0.45%"},{symbol:"AVAXUSDT",price:"42.56",priceChangePercent24h:"+2.78%"}].slice(0,10).map((N,O)=>{var It;const Y=N.symbol.replace("USDT","/USDT"),Q=N.symbol.replace("USDT",""),se=!((It=N.priceChangePercent24h)!=null&&It.startsWith("-")),Ne={BTC:{icon:"₿",bg:"bg-orange-500"},ETH:{icon:"Ξ",bg:"bg-purple-500"},BNB:{icon:"B",bg:"bg-yellow-600"},SOL:{icon:"S",bg:"bg-purple-600"},XRP:{icon:"✕",bg:"bg-gray-600"},ADA:{icon:"A",bg:"bg-blue-500"},DOGE:{icon:"D",bg:"bg-yellow-500"},MATIC:{icon:"M",bg:"bg-purple-700"},DOT:{icon:"●",bg:"bg-pink-500"},AVAX:{icon:"A",bg:"bg-red-500"}}[Q]||{icon:Q[0],bg:"bg-gray-500"},Ie={symbol:Y,coin:Q,price:parseFloat(N.price).toFixed(N.price.includes(".")&&parseFloat(N.price)<1?6:2),change:N.priceChangePercent24h||"+0.00%",isPositive:se,icon:Ne.icon,iconBg:Ne.bg};return n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${Ie.iconBg}`,children:Ie.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:Ie.symbol}),n.jsx("div",{className:"text-gray-400 text-xs",children:Ie.coin})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-white text-sm",children:Ie.price}),n.jsx("div",{className:`text-xs ${Ie.isPositive?"text-green-400":"text-red-400"}`,children:Ie.change})]})]},O)})}),n.jsxs("div",{className:"border-t border-gray-700",children:[n.jsx("div",{className:"px-4 py-3",children:n.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Amount"})]})}),n.jsx("div",{className:"h-[200px] overflow-y-auto px-4",children:n.jsx("div",{className:"space-y-1 py-2",children:W.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"No recent transactions"}),n.jsx("div",{className:"text-gray-500 text-xs mt-1",children:"Complete some trades to see transactions here"})]}):W.slice(0,8).map((N,O)=>n.jsxs("div",{className:"flex justify-between text-xs py-1 hover:bg-gray-800/50 rounded px-2 -mx-2",children:[n.jsx("span",{className:"text-gray-400 font-mono",children:new Date(N.endTime).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8)}),n.jsx("span",{className:`font-mono ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.entryPrice.toFixed(2)}),n.jsx("span",{className:"text-gray-300 font-mono",children:N.amount.toFixed(0)})]},O))})})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[200px]",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("button",{onClick:()=>b("open"),className:`pb-1 text-sm font-medium ${m==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Active Trades(",_.length,")"]}),n.jsxs("button",{onClick:()=>b("history"),className:`pb-1 text-sm font-medium ${m==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Trade History(",W.length,")"]}),m==="history"&&n.jsxs("button",{onClick:()=>{console.log("🔄 MANUAL REFRESH: User clicked refresh button"),ae(!0),_e()},disabled:Oe,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx("svg",{className:`w-4 h-4 ${Oe?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:Oe?"Refreshing...":"Refresh"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("label",{className:"flex items-center text-sm text-gray-400",children:[n.jsx("input",{type:"checkbox",className:"mr-2"}),"Hide other trading pairs"]}),m==="history"&&n.jsxs("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),t!=null&&t.id&&(async()=>{ae(!0);try{const O=await fetch(`/api/users/${t.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(O.ok){const Y=await O.json();console.log("🔄 Refreshed trade history:",Y.length);const Q=Y.filter(se=>se.result&&se.result!=="pending"&&se.status==="completed").map(se=>({id:se.id,symbol:se.symbol||"BTCUSDT",amount:parseFloat(se.amount),direction:se.direction,duration:se.duration||30,entryPrice:parseFloat(se.entry_price||"0"),currentPrice:parseFloat(se.exit_price||se.entry_price||"0"),payout:se.result==="win"?parseFloat(se.amount)+parseFloat(se.profit_loss||"0"):0,status:se.result==="win"?"won":"lost",endTime:se.updated_at||se.created_at,startTime:se.created_at,profit:parseFloat(se.profit_loss||"0")}));H(Q)}}catch(O){console.error("❌ Error refreshing trade history:",O)}finally{ae(!1)}})()},className:"text-gray-400 hover:text-white flex items-center space-x-1",disabled:Oe,children:[n.jsx("svg",{className:`w-4 h-4 ${Oe?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{className:"text-xs",children:"Refresh"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-8 gap-4 text-xs text-gray-400",children:[n.jsx("span",{children:"Direction"}),n.jsx("span",{children:"Entry Price"}),n.jsx("span",{children:"Current Price"}),n.jsx("span",{children:"Amount"}),n.jsx("span",{children:"Profit %"}),n.jsx("span",{children:"P&L (USDT)"}),n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Status"})]})}),n.jsxs("div",{className:"px-4 py-2 max-h-[300px] overflow-y-auto",children:[m==="open"&&n.jsx(n.Fragment,{children:_.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No active trades"})]}):_.map(N=>{const O=Math.max(0,Math.ceil((N.endTime-Date.now())/1e3)),Y=Be-N.entryPrice,Q=N.direction==="up"&&Y>0||N.direction==="down"&&Y<0,se=Q?N.amount*(1+N.profitPercentage/100)-N.amount:-N.amount;return n.jsxs("div",{className:"grid grid-cols-8 gap-4 text-xs py-3 border-b border-gray-800 hover:bg-gray-800/30",children:[n.jsx("span",{className:`font-bold ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.direction.toUpperCase()}),n.jsxs("span",{className:"text-gray-300",children:[N.entryPrice.toFixed(2)," USDT"]}),n.jsxs("span",{className:"text-white",children:[C.toFixed(2)," USDT"]}),n.jsxs("span",{className:"text-gray-300",children:[N.amount," USDT"]}),n.jsxs("span",{className:"text-gray-300",children:[N.profitPercentage,"%"]}),n.jsxs("span",{className:`font-bold ${Q?"text-green-400":"text-red-400"}`,children:[se>0?"+":"",se.toFixed(2)," USDT"]}),n.jsxs("span",{className:"text-yellow-400 font-bold",children:[O,"s"]}),n.jsx("span",{className:`font-bold ${Q?"text-green-400":"text-red-400"}`,children:Q?"🟢 WINNING":"🔴 LOSING"})]},N.id)})}),m==="history"&&n.jsx(n.Fragment,{children:Oe?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-8 h-8 mb-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Loading trade history..."})]}):W.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-600",children:[n.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M32 16v16l8 8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]})}),n.jsx("div",{className:"text-gray-400 text-sm",children:"No trade history"}),n.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"Complete some trades to see your history here"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:W.map(N=>{var se;const O=N.duration===30?10:15,Y=N.profit!==void 0?N.profit:N.status==="won"?N.amount*O/100:-N.amount,Q=new Date(N.endTime).toLocaleTimeString();return n.jsxs("div",{className:"grid grid-cols-8 gap-4 text-xs py-3 border-b border-gray-800 hover:bg-gray-800/30",children:[n.jsx("span",{className:`font-bold ${N.direction==="up"?"text-green-400":"text-red-400"}`,children:N.direction.toUpperCase()}),n.jsxs("span",{className:"text-gray-300",children:[N.entryPrice.toFixed(2)," USDT"]}),n.jsxs("span",{className:"text-gray-300",children:[((se=N.currentPrice)==null?void 0:se.toFixed(2))||"N/A"," USDT"]}),n.jsxs("span",{className:"text-gray-300",children:[N.amount," USDT"]}),n.jsxs("span",{className:"text-gray-300",children:[O,"%"]}),n.jsxs("span",{className:`font-bold ${N.status==="won"?"text-green-400":"text-red-400"}`,children:[N.status==="won"?"+":"",Y.toFixed(2)," USDT"]}),n.jsx("span",{className:"text-gray-400",children:Q}),n.jsx("span",{className:`font-bold ${N.status==="won"?"text-green-400":"text-red-400"}`,children:N.status==="won"?"✅ WON":"❌ LOST"})]},N.id)})}),n.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Market Chart"}),n.jsx("div",{className:"text-xs text-gray-400",children:"BTCUSDT • Live"})]}),n.jsx("div",{className:"h-[300px] bg-[#10121E] rounded-lg overflow-hidden",children:n.jsx(rh,{type:"chart",symbol:"BINANCE:BTCUSDT",height:300,interval:"1",theme:"dark",container_id:"trade_history_chart",allow_symbol_change:!1})})]})]})})]})]}),n.jsx(Yu,{}),n.jsx(_L,{trade:K?{id:K.id,direction:K.direction,amount:K.amount,entryPrice:K.entryPrice,finalPrice:K.currentPrice||K.entryPrice,status:K.status,payout:K.payout||(K.status==="won"?K.amount+K.amount*(K.profitPercentage||10)/100:0),profitPercentage:K.profitPercentage||(g==="30"?10:15)}:null,onClose:()=>{D(null),localStorage.removeItem("completedTrade")}}),B&&J&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-5 z-[999999]",onClick:()=>{G(!1),document.body.style.overflow="auto"},children:n.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 max-w-sm w-full text-white relative",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-5",children:[n.jsx("div",{className:"text-lg font-bold",children:J.symbol}),n.jsx("button",{onClick:()=>{G(!1),document.body.style.overflow="auto"},className:"bg-transparent border-0 text-white text-2xl cursor-pointer p-0 w-6 h-6",children:"×"})]}),n.jsxs("div",{className:"text-center mb-5",children:[n.jsxs("div",{className:`text-4xl font-bold mb-2 ${J.pnl>=0?"text-green-400":"text-red-400"}`,children:[J.pnl>=0?"+":"",J.pnl.toFixed(0)," USDT"]}),n.jsx("div",{className:"text-gray-400 text-base",children:"Settlement completed"})]}),n.jsxs("div",{className:"mb-5",children:[n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Current price :"}),n.jsx("span",{children:J.currentPrice})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Time :"}),n.jsx("span",{children:J.duration})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Side :"}),n.jsx("span",{className:J.side==="Buy Up"?"text-green-400":"text-red-400",children:J.side})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Amount :"}),n.jsxs("span",{children:[J.amount," USDT"]})]}),n.jsxs("div",{className:"flex justify-between mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Price :"}),n.jsxs("span",{children:[J.price.toFixed(2)," USDT"]})]})]}),n.jsx("div",{className:"text-gray-400 text-sm leading-relaxed",children:"The ultimate price for each option contract is determined by the system's settlement process."})]})})]})}catch(N){return console.error("OptionsPage render error:",N),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-400 text-xl mb-4",children:"⚠️ Trading Page Error"}),n.jsx("div",{className:"text-gray-300 mb-4",children:"Something went wrong. Please refresh the page."}),n.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded",children:"Refresh Page"})]})})}}function fw(){return n.jsx(Cx,{symbol:"BTCUSDT",updateInterval:2e3,children:n.jsx(PL,{})})}function ML(){var M;const{user:t}=Wt(),{toast:e}=Gs(),s=lr(),{lastMessage:r,subscribe:i,connected:a,sendMessage:o}=Qh(),l=Mr(),{priceData:c}=Qo(),{changeText:d,changeColor:u,isPositive:h}=Tx(),{high:f,low:x,volume:y}=kx(),m=(c==null?void 0:c.price)||0,b=m.toFixed(2);p.useEffect(()=>(console.log("🔍 SpotPage mounted"),console.log("🔍 User:",t),console.log("💰 SpotPage - Price from context:",c==null?void 0:c.price),()=>{console.log("🔍 SpotPage unmounted")}),[t,c]);const[g,v]=p.useState(""),[w,j]=p.useState("open"),[C,P]=p.useState("buy"),[E,k]=p.useState("limit"),[I,$]=p.useState("BTCUSDT"),[_,R]=p.useState(""),[W,H]=p.useState(""),[K,D]=p.useState(0),[X,z]=p.useState(""),[B,G]=p.useState(""),[J,Te]=p.useState(0),[me,Oe]=p.useState(""),[ae,_e]=p.useState(""),{data:U}=kt({queryKey:["/api/balances"],enabled:!!t,refetchInterval:2e3,staleTime:0,gcTime:0,queryFn:async()=>{var te;console.log("🔍 SPOT: Fetching balance from /api/balances for user:",t==null?void 0:t.id,t==null?void 0:t.username),console.log("🔍 SPOT: Auth token:",((te=localStorage.getItem("authToken"))==null?void 0:te.substring(0,30))+"...");const T=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 SPOT: Response status:",T.status,T.statusText),!T.ok){const L=await T.text();throw console.error("❌ SPOT: Balance API failed:",T.status,L),new Error(`Failed to fetch balance: ${T.status} ${L}`)}const F=await T.json();return console.log("🔍 SPOT: Balance API response:",F),F}}),{data:oe}=kt({queryKey:["/api/spot/orders"],enabled:!!t,queryFn:async()=>{const T=await fetch("/api/spot/orders");if(!T.ok)throw new Error("Failed to fetch orders");return T.json()}});let xe=0,be=.5;if(U&&Array.isArray(U)){const T=U.find(te=>te.symbol==="USDT"),F=U.find(te=>te.symbol==="BTC");xe=parseFloat((T==null?void 0:T.available)||"0"),be=parseFloat((F==null?void 0:F.available)||"0.5"),console.log("🔍 SPOT: Parsed balances from array format:",{usdtData:T,btcData:F,usdtBalance:xe,btcBalance:be})}console.log("🔍 SPOT PAGE BALANCE DEBUG:",{user:t==null?void 0:t.id,balances:U,usdtBalance:xe,btcBalance:be,"balances?.USDT":U==null?void 0:U.USDT,"balances?.USDT?.available":(M=U==null?void 0:U.USDT)==null?void 0:M.available,"Array.isArray(balances?.balances)":Array.isArray(U==null?void 0:U.balances),"Array.isArray(balances)":Array.isArray(U),"typeof balances":typeof U,"balances keys":U?Object.keys(U):"null"}),typeof window<"u"&&console.log(`🚨 SPOT PAGE: Displaying balance ${xe} USDT`),p.useEffect(()=>{a&&(t!=null&&t.id)&&(o({type:"subscribe_user_balance",userId:t.id}),console.log("🔌 SPOT: Subscribed to balance updates for user:",t.id))},[a,o,t==null?void 0:t.id]),p.useEffect(()=>{var T;(r==null?void 0:r.type)==="balance_update"&&(console.log("🔄 SPOT: Real-time balance update received:",r.data),console.log("🔄 SPOT: Current user ID:",t==null?void 0:t.id,"Update for user:",(T=r.data)==null?void 0:T.userId),s.invalidateQueries({queryKey:["/api/balances"]}),s.invalidateQueries({queryKey:["/api/auth"]}),s.removeQueries({queryKey:["/api/balances"]}),setTimeout(()=>{s.refetchQueries({queryKey:["/api/balances"]})},100))},[r,s,t==null?void 0:t.id]);const{data:Pe}=kt({queryKey:["/api/market-data"],refetchInterval:5e3,queryFn:async()=>{const T=await fetch("/api/market-data");if(!T.ok)throw new Error("Failed to fetch market data");return T.json()}}),ve=Pe==null?void 0:Pe.find(T=>T.symbol===I);ve&&parseFloat(ve.price);const Je=Qt({mutationFn:async T=>{const F=await fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,side:"buy",symbol:I,userId:(t==null?void 0:t.id)||"user-1"})});if(!F.ok)throw new Error("Failed to place buy order");return F.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/spot/orders"]}),s.invalidateQueries({queryKey:["/api/balances"]}),e({title:"Buy order placed successfully!"}),H(""),D(0)},onError:T=>{e({title:"Failed to place buy order",description:T.message,variant:"destructive"})}}),ze=Qt({mutationFn:async T=>{const F=await fetch("/api/spot/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,side:"sell",symbol:I,userId:(t==null?void 0:t.id)||"user-1"})});if(!F.ok)throw new Error("Failed to place sell order");return F.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/spot/orders"]}),s.invalidateQueries({queryKey:["/api/balances"]}),e({title:"Sell order placed successfully!"}),G(""),Te(0)},onError:T=>{e({title:"Failed to place sell order",description:T.message,variant:"destructive"})}});p.useEffect(()=>{var T;(r==null?void 0:r.type)==="balance_update"&&((T=r.data)==null?void 0:T.userId)===(t==null?void 0:t.id)&&(console.log("💰 Real-time balance update received in Spot page:",r.data),s.invalidateQueries({queryKey:["/api/balances"]}),(r.data.changeType==="spot_buy"||r.data.changeType==="spot_sell")&&e({title:"Balance Updated",description:`${r.data.changeType==="spot_buy"?"Buy":"Sell"} order completed. New balance: ${r.data.newBalance} USDT`}))},[r,t==null?void 0:t.id,s,e]),p.useEffect(()=>{a&&(t!=null&&t.id)&&console.log("🔌 Subscribing to balance updates for user:",t.id)},[a,t==null?void 0:t.id]);const ee=()=>{const T=parseFloat(_)||0,F=parseFloat(W)||0;return(T*F).toFixed(2)},mt=()=>{const T=parseFloat(X)||0,F=parseFloat(B)||0;return(T*F).toFixed(2)};p.useEffect(()=>{_&&W?Oe(ee()):W||Oe("")},[_,W]),p.useEffect(()=>{X&&B?_e(mt()):B||_e("")},[X,B]);const Be=T=>{D(T);const F=parseFloat(_)||m,L=(xe/F*T/100).toFixed(6);H(L)},Pt=T=>{Te(T);const F=(be*T/100).toFixed(6);G(F)},jt=()=>{console.log("🔥 Buy button clicked!"),console.log("User:",t),console.log("USDT Balance:",xe),console.log("Buy Amount:",W),console.log("Buy Price:",_);const T=parseFloat(_),F=parseFloat(W);if(!F||F<=0){e({title:"Please enter a valid amount",variant:"destructive"});return}if(E==="limit"&&(!T||T<=0)){e({title:"Please enter a valid price",variant:"destructive"});return}const te=E==="limit"?T*F:m*F;if(console.log("Calculated total:",te),te>xe){e({title:`Insufficient USDT balance. Need ${te.toFixed(2)} but have ${xe.toFixed(2)}`,variant:"destructive"});return}console.log("✅ All validations passed, placing order..."),Je.mutate({type:E,amount:F.toString(),price:E==="limit"?T.toString():void 0,total:te.toString()})},os=()=>{console.log("🔥 Sell button clicked!"),console.log("User:",t),console.log("BTC Balance:",be),console.log("Sell Amount:",B),console.log("Sell Price:",X);const T=parseFloat(X),F=parseFloat(B);if(!F||F<=0){e({title:"Please enter a valid amount",variant:"destructive"});return}if(E==="limit"&&(!T||T<=0)){e({title:"Please enter a valid price",variant:"destructive"});return}if(F>be){e({title:`Insufficient BTC balance. Need ${F.toFixed(6)} but have ${be.toFixed(6)}`,variant:"destructive"});return}const te=E==="limit"?T*F:m*F;console.log("Calculated total:",te),console.log("✅ All validations passed, placing sell order..."),ze.mutate({type:E,amount:F.toString(),price:E==="limit"?T.toString():void 0,total:te.toString()})};p.useEffect(()=>{m>0&&(_||R(b),X||z(b))},[m,_,X,b]);const Ot=T=>{const F=T&&!isNaN(T)&&T>0?T:166373.87,te=[],L=[];for(let N=0;N<14;N++){const O=(N+1)*(Math.random()*.5+.1),Y=F+O,Q=(Math.random()*2+.1).toFixed(4),se=(Y*parseFloat(Q)).toFixed(2);te.push({price:Y.toFixed(2),volume:Q,turnover:se})}for(let N=0;N<14;N++){const O=(N+1)*(Math.random()*.5+.1),Y=F-O,Q=(Math.random()*2+.1).toFixed(4),se=(Y*parseFloat(Q)).toFixed(2);L.push({price:Y.toFixed(2),volume:Q,turnover:se})}return{sellOrders:te,buyOrders:L}};return l?n.jsxs("div",{className:"min-h-screen bg-[#10121E] text-white pb-20",children:[n.jsx(dc,{}),n.jsxs("div",{className:"bg-[#10121E] px-4 py-2 border-b border-gray-700 sticky top-0 z-40",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsxs("div",{className:"text-white text-xl font-bold",children:["$",b]}),n.jsx("div",{className:`text-sm font-semibold ${u}`,style:{color:u},children:d})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-gray-400 text-xs",children:"24h Vol"}),n.jsx("div",{className:"text-white text-sm font-bold",children:ve!=null&&ve.volume24h?(parseFloat(ve.volume24h)/1e6).toFixed(1)+"M BTC":"1.2M BTC"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-3 text-xs",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white font-medium",children:(ve==null?void 0:ve.high24h)||"119,558"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white font-medium",children:(ve==null?void 0:ve.low24h)||"117,205"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Volume"}),n.jsx("div",{className:"text-white font-medium",children:ve!=null&&ve.volume24h?(parseFloat(ve.volume24h)/1e3).toFixed(0)+"K":"681K"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-gray-400",children:"Turnover"}),n.jsx("div",{className:"text-white font-medium",children:ve!=null&&ve.volume24h?(parseFloat(ve.volume24h)*parseFloat(ve.price)/1e6).toFixed(0)+"M":"80.5M"})]})]})]}),n.jsx("div",{className:"bg-[#10121E] relative w-full mobile-chart-container",style:{height:"375px"},children:n.jsx("div",{className:"w-full h-full",children:n.jsx(gc,{symbol:"BTCUSDT",interval:"1m",height:375,containerId:"spot_mobile_chart"})})}),n.jsxs("div",{className:"bg-[#10121E] min-h-screen",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-2",children:"Market Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Current Price"}),n.jsxs("div",{className:"text-white font-bold text-lg",children:["$",b]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Change"}),n.jsx("div",{className:"font-semibold",style:{color:u},children:d})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Volume"}),n.jsx("div",{className:"text-white font-semibold",children:"2,847.32 BTC"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Market Cap"}),n.jsx("div",{className:"text-white font-semibold",children:"$1.2T"})]})]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Order Book"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-red-400 text-sm font-medium mb-2",children:"Sell Orders"}),n.jsx("div",{className:"space-y-1",children:Ot(m||124119.71).sellOrders.slice(0,5).map((T,F)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-red-400",children:T.price}),n.jsx("span",{className:"text-gray-400",children:T.amount})]},F))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-green-400 text-sm font-medium mb-2",children:"Buy Orders"}),n.jsx("div",{className:"space-y-1",children:Ot(m||124119.71).buyOrders.slice(0,5).map((T,F)=>n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-green-400",children:T.price}),n.jsx("span",{className:"text-gray-400",children:T.amount})]},F))})]})]})]}),n.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Market Overview"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{symbol:"BTC/USDT",price:b,change:d},{symbol:"ETH/USDT",price:"3,456.78",change:"+1.23%"},{symbol:"BNB/USDT",price:"712.45",change:"-0.45%"},{symbol:"ADA/USDT",price:"0.8272",change:"+0.60%"}].map((T,F)=>n.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[n.jsx("div",{className:"text-white text-sm font-medium",children:T.symbol}),n.jsxs("div",{className:"text-white text-lg font-bold",children:["$",T.price]}),n.jsx("div",{className:`text-xs font-medium ${T.change.startsWith("-")?"text-red-400":"text-green-400"}`,children:T.change})]},F))})]}),n.jsxs("div",{className:"px-4 py-4 space-y-4",children:[n.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>P("buy"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${C==="buy"?"bg-green-600 text-white":"text-gray-400 hover:text-white"}`,children:"Buy"}),n.jsx("button",{onClick:()=>P("sell"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${C==="sell"?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:"Sell"})]}),C==="buy"?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price (USDT)"}),n.jsx("input",{type:"number",value:_,onChange:T=>R(T.target.value),placeholder:"Market Price",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-green-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Amount (BTC)"}),n.jsx("input",{type:"number",value:W,onChange:T=>H(T.target.value),placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-green-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),n.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:ee()})]}),n.jsx(V,{onClick:jt,disabled:!W||W==="0"||!t,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?"Buy BTC":"Login to Trade"})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Price (USDT)"}),n.jsx("input",{type:"number",value:X,onChange:T=>z(T.target.value),placeholder:"Market Price",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Amount (BTC)"}),n.jsx("input",{type:"number",value:B,onChange:T=>G(T.target.value),placeholder:"0.00",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:border-red-500 focus:outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Total (USDT)"}),n.jsx("div",{className:"text-white bg-gray-800 border border-gray-700 rounded-lg px-3 py-2",children:mt()})]}),n.jsx(V,{onClick:os,disabled:!B||B==="0"||!t,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-colors",children:t?"Sell BTC":"Login to Trade"})]})]}),n.jsxs("div",{className:"px-4 py-4",children:[n.jsx("h3",{className:"text-white font-bold mb-3",children:"Recent Orders"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:(oe||[]).slice(0,5).map(T=>n.jsx("div",{className:"bg-gray-800 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("span",{className:`text-sm font-medium ${T.side==="buy"?"text-green-400":"text-red-400"}`,children:[T.side.toUpperCase()," ",T.symbol]}),n.jsxs("div",{className:"text-xs text-gray-400",children:[T.amount," @ $",T.price||"Market"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`text-sm font-medium ${T.status==="filled"?"text-green-400":T.status==="cancelled"?"text-red-400":"text-yellow-400"}`,children:T.status}),n.jsxs("div",{className:"text-xs text-gray-400",children:["$",T.total]})]})]})},T.id))})]})]}),n.jsx(Qu,{})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx(dc,{}),n.jsx("div",{className:"bg-[#10121E] flex min-h-screen",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"bg-[#10121E] px-4 py-3 border-b border-gray-700",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsxs("div",{className:"text-white text-2xl font-bold",children:["$",b]}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["$ ",b]})]}),n.jsx("div",{className:"text-lg font-semibold",style:{color:u},children:d}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Change 24h"}),n.jsx("div",{className:"text-white",style:{color:u},children:d})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h High"}),n.jsx("div",{className:"text-white",children:f?f.toFixed(2):"119558.19"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"24h Low"}),n.jsx("div",{className:"text-white",children:x?x.toFixed(2):"117204.65"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Volume 24h (BTC)"}),n.jsx("div",{className:"text-white",children:y?y.toFixed(2):"681.35"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400",children:"Turnover 24h (USDT)"}),n.jsx("div",{className:"text-white",children:"80520202.92"})]})]})]})})}),n.jsxs("div",{className:"flex min-h-[900px]",children:[n.jsxs("div",{className:"w-56 bg-[#10121E] border-r border-gray-700 min-h-[900px]",children:[n.jsxs("div",{className:"p-3 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"BTC/USDT"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold",style:{color:u},children:["$",b]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Change 24h"}),n.jsx("div",{className:"text-sm",style:{color:u},children:d})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-sm"}),n.jsx("div",{className:"w-4 h-4 bg-yellow-600 rounded-sm"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-white text-sm",children:"0.01"}),n.jsx("span",{className:"text-gray-400",children:"▼"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 text-xs text-gray-400 border-b border-gray-700",children:[n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Volume (BTC)"}),n.jsx("span",{children:"Turnover"})]}),n.jsxs("div",{className:"flex-1 min-h-[650px] overflow-y-auto",children:[n.jsx("div",{className:"space-y-0",children:Ot(m||124119.71).sellOrders.map((T,F)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-[#3a3d57]",children:[n.jsx("span",{className:"text-red-400",children:T.price}),n.jsx("span",{className:"text-gray-300",children:T.volume}),n.jsx("span",{className:"text-gray-300",children:T.turnover})]},F))}),n.jsx("div",{className:"bg-[#10121E] p-2 my-1",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-bold text-lg",style:{color:u},children:b}),n.jsx("span",{style:{color:u},children:h?"↑":"↓"}),n.jsxs("span",{className:"text-gray-400 text-sm",children:["$",b]})]})}),n.jsx("div",{className:"space-y-0",children:Ot(m||124119.71).buyOrders.map((T,F)=>n.jsxs("div",{className:"grid grid-cols-3 gap-2 px-2 py-1 text-xs hover:bg-[#3a3d57]",children:[n.jsx("span",{className:"text-green-400",children:T.price}),n.jsx("span",{className:"text-gray-300",children:T.volume}),n.jsx("span",{className:"text-gray-300",children:T.turnover})]},F))})]})]}),n.jsxs("div",{className:"flex-1 bg-[#10121E] flex flex-col",children:[n.jsx("div",{className:"bg-[#10121E] p-2",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"text-xs text-gray-400 hover:text-white",children:"Basic version"}),n.jsx("button",{className:"text-xs text-gray-400 hover:text-white",children:"Trading view"}),n.jsx("button",{className:"text-xs text-gray-400 hover:text-white",children:"Depth"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})})}),n.jsx("div",{className:"min-h-[500px] flex-1 bg-[#10121E] p-2",children:n.jsx(gc,{symbol:"BTCUSDT",interval:"1m",height:500,containerId:"spot_desktop_chart"})}),n.jsxs("div",{className:"bg-[#10121E] p-4 min-h-[450px] flex-shrink-0",children:[n.jsxs("div",{className:"flex space-x-6 mb-6",children:[n.jsx("button",{onClick:()=>k("limit"),className:`pb-2 text-sm font-medium ${E==="limit"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Limit order"}),n.jsx("button",{onClick:()=>k("market"),className:`pb-2 text-sm font-medium ${E==="market"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Market order"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[E==="limit"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:_,onChange:T=>R(T.target.value),placeholder:b}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:W,onChange:T=>{console.log("Buy amount changed:",T.target.value),H(T.target.value),D(0)},placeholder:"0.00000000",step:"0.000001"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"BTC"})]})]}),n.jsxs("div",{className:"relative py-4",children:[n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:`w-2 h-2 rounded-full z-10 ${K>0?"bg-green-400":"bg-gray-400"}`,style:{left:`${K}%`}}),n.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),n.jsx("div",{className:"absolute h-0.5 bg-green-400 top-1/2 transform -translate-y-1/2",style:{width:`${K}%`}})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[n.jsx("button",{onClick:()=>Be(0),className:`hover:text-white transition-colors ${K===0?"text-green-400":""}`,children:"0"}),n.jsx("button",{onClick:()=>Be(25),className:`hover:text-white transition-colors ${K===25?"text-green-400":""}`,children:"25%"}),n.jsx("button",{onClick:()=>Be(50),className:`hover:text-white transition-colors ${K===50?"text-green-400":""}`,children:"50%"}),n.jsx("button",{onClick:()=>Be(75),className:`hover:text-white transition-colors ${K===75?"text-green-400":""}`,children:"75%"}),n.jsx("button",{onClick:()=>Be(100),className:`hover:text-white transition-colors ${K===100?"text-green-400":""}`,children:"100%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:me,onChange:T=>{console.log("Buy turnover changed:",T.target.value),Oe(T.target.value);const F=parseFloat(T.target.value)||0,te=parseFloat(_)||m;if(te>0){const L=(F/te).toFixed(6);console.log("Calculated buy amount:",L),H(L)}},placeholder:"0.00"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Available ",xe.toFixed(2)," USDT"]}),n.jsx("span",{className:"text-blue-400",children:"≈"})]}),n.jsxs("div",{className:"text-green-400 font-medium",children:["Can buy ≈ ",(xe/m).toFixed(6)," BTC"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),t?n.jsx("button",{onClick:jt,disabled:Je.isPending,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:Je.isPending?"Placing...":"Buy(BTC)"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:"Buy(BTC)"}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[E==="limit"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Price"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:X,onChange:T=>z(T.target.value),placeholder:b}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:B,onChange:T=>{console.log("Sell amount changed:",T.target.value),G(T.target.value),Te(0)},placeholder:"0.00000000",step:"0.000001"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"BTC"})]})]}),n.jsxs("div",{className:"relative py-4",children:[n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:`w-2 h-2 rounded-full z-10 ${J>0?"bg-red-400":"bg-gray-400"}`,style:{left:`${J}%`}}),n.jsx("div",{className:"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 h-0.5 bg-gray-600"}),n.jsx("div",{className:"absolute h-0.5 bg-red-400 top-1/2 transform -translate-y-1/2",style:{width:`${J}%`}})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-300 mt-2",children:[n.jsx("button",{onClick:()=>Pt(0),className:`hover:text-white transition-colors ${J===0?"text-red-400":""}`,children:"0"}),n.jsx("button",{onClick:()=>Pt(25),className:`hover:text-white transition-colors ${J===25?"text-red-400":""}`,children:"25%"}),n.jsx("button",{onClick:()=>Pt(50),className:`hover:text-white transition-colors ${J===50?"text-red-400":""}`,children:"50%"}),n.jsx("button",{onClick:()=>Pt(75),className:`hover:text-white transition-colors ${J===75?"text-red-400":""}`,children:"75%"}),n.jsx("button",{onClick:()=>Pt(100),className:`hover:text-white transition-colors ${J===100?"text-red-400":""}`,children:"100%"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Turnover"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",className:"w-full bg-[#1a1b2e] text-white px-3 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none pr-12",value:ae,onChange:T=>{console.log("Sell turnover changed:",T.target.value),_e(T.target.value);const F=parseFloat(T.target.value)||0,te=parseFloat(X)||m;if(te>0){const L=(F/te).toFixed(6);console.log("Calculated sell amount:",L),G(L)}},placeholder:"0.00"}),n.jsx("span",{className:"absolute right-3 top-2 text-gray-400 text-sm",children:"USDT"})]})]}),n.jsx("div",{className:"space-y-1 text-xs text-gray-300 bg-[#1a1b2e] p-2 rounded",children:t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium",children:["Available ",be.toFixed(6)," BTC"]}),n.jsx("span",{className:"text-blue-400",children:"≈"})]}),n.jsxs("div",{className:"text-red-400 font-medium",children:["Available ≈ ",(be*m).toFixed(2)," USDT"]})]}):n.jsx("div",{className:"text-center text-yellow-400",children:"Sign in to view balance"})}),t?n.jsx("button",{onClick:os,disabled:ze.isPending,className:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-3 rounded font-medium",children:ze.isPending?"Placing...":"Sell (BTC)"}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{disabled:!0,className:"w-full bg-gray-600 cursor-not-allowed text-white py-3 rounded font-medium",children:"Sell (BTC)"}),n.jsx("p",{className:"text-center text-yellow-400 text-sm",children:n.jsx("a",{href:"/login",className:"underline hover:text-yellow-300",children:"Sign in to start trading"})})]})]})]})]})]}),n.jsxs("div",{className:"w-72 bg-[#10121E] border-l border-gray-700 min-h-[900px] flex flex-col",children:[n.jsx("div",{className:"p-4 flex-shrink-0",children:n.jsxs("div",{className:"relative",children:[n.jsx("svg",{className:"absolute left-3 top-3 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("input",{type:"text",placeholder:"Search",value:g,onChange:T=>v(T.target.value),className:"w-full bg-[#1a1b2e] text-white pl-10 pr-4 py-2 rounded border border-gray-700 focus:border-blue-500 focus:outline-none text-sm"})]})}),n.jsx("div",{className:"px-4 mb-4 flex-shrink-0",children:n.jsxs("div",{className:"flex space-x-6",children:[n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Favorites"}),n.jsx("button",{className:"text-blue-400 text-sm border-b-2 border-blue-400 pb-1",children:"Spot"}),n.jsx("button",{className:"text-gray-400 text-sm hover:text-white",children:"Options"})]})}),n.jsx("div",{className:"px-4 space-y-2 mb-6 max-h-[300px] overflow-y-auto flex-shrink-0",children:[{symbol:"BTC/USDT",coin:"BTC",price:b,change:d,isPositive:h,icon:"₿",iconBg:"bg-orange-500"},{symbol:"ETH/USDT",coin:"ETH",price:"3550.21",change:"+1.06%",isPositive:!0,icon:"Ξ",iconBg:"bg-purple-500"},{symbol:"BNB/USDT",coin:"BNB",price:"698.45",change:"+2.15%",isPositive:!0,icon:"B",iconBg:"bg-yellow-600"},{symbol:"SOL/USDT",coin:"SOL",price:"245.67",change:"+3.42%",isPositive:!0,icon:"S",iconBg:"bg-purple-600"},{symbol:"XRP/USDT",coin:"XRP",price:"3.18",change:"+1.47%",isPositive:!0,icon:"✕",iconBg:"bg-gray-600"},{symbol:"ADA/USDT",coin:"ADA",price:"0.8272",change:"+0.60%",isPositive:!0,icon:"A",iconBg:"bg-blue-500"},{symbol:"DOGE/USDT",coin:"DOGE",price:"0.2388",change:"+0.80%",isPositive:!0,icon:"D",iconBg:"bg-yellow-500"},{symbol:"MATIC/USDT",coin:"MATIC",price:"0.5234",change:"+1.23%",isPositive:!0,icon:"M",iconBg:"bg-purple-700"},{symbol:"DOT/USDT",coin:"DOT",price:"7.89",change:"-0.45%",isPositive:!1,icon:"●",iconBg:"bg-pink-500"},{symbol:"AVAX/USDT",coin:"AVAX",price:"42.56",change:"+2.78%",isPositive:!0,icon:"A",iconBg:"bg-red-500"}].map((T,F)=>n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-[#1a1b2e] rounded cursor-pointer",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${T.iconBg}`,children:T.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:T.symbol}),n.jsx("div",{className:"text-gray-400 text-xs",children:T.coin})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-white text-sm",children:T.price}),n.jsx("div",{className:`text-xs ${T.isPositive?"text-green-400":"text-red-400"}`,children:T.change})]})]},F))}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0 border-t border-gray-700",children:[n.jsx("div",{className:"px-4 py-3 flex-shrink-0",children:n.jsx("div",{className:"text-white font-medium text-sm",children:"Latest transaction"})}),n.jsx("div",{className:"px-4 py-2 border-b border-gray-700 flex-shrink-0",children:n.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Price (USDT)"}),n.jsx("span",{children:"Amount"})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:n.jsx("div",{className:"space-y-1 py-2",children:[{time:new Date().toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.0080",type:"buy"},{time:new Date(Date.now()-1e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.0001700",type:"buy"},{time:new Date(Date.now()-2e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.1000",type:"sell"},{time:new Date(Date.now()-3e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.0004200",type:"buy"},{time:new Date(Date.now()-5e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.0047",type:"sell"},{time:new Date(Date.now()-6e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:b,amount:"0.0016",type:"buy"},{time:new Date(Date.now()-7e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:m.toFixed(2),amount:"0.00070000",type:"sell"},{time:new Date(Date.now()-8e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:m.toFixed(2),amount:"0.0243",type:"buy"},{time:new Date(Date.now()-9e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.01).toFixed(2),amount:"0.0089",type:"buy"},{time:new Date(Date.now()-1e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.01).toFixed(2),amount:"0.0156",type:"sell"},{time:new Date(Date.now()-11e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.02).toFixed(2),amount:"0.0034",type:"buy"},{time:new Date(Date.now()-12e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.02).toFixed(2),amount:"0.0078",type:"sell"},{time:new Date(Date.now()-13e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.03).toFixed(2),amount:"0.0092",type:"buy"},{time:new Date(Date.now()-14e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.03).toFixed(2),amount:"0.0067",type:"sell"},{time:new Date(Date.now()-15e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.04).toFixed(2),amount:"0.0123",type:"buy"},{time:new Date(Date.now()-16e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.04).toFixed(2),amount:"0.0045",type:"sell"},{time:new Date(Date.now()-17e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.05).toFixed(2),amount:"0.0234",type:"buy"},{time:new Date(Date.now()-18e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.05).toFixed(2),amount:"0.0087",type:"sell"},{time:new Date(Date.now()-19e3).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.06).toFixed(2),amount:"0.0156",type:"buy"},{time:new Date(Date.now()-2e4).toLocaleTimeString("en-US",{hour12:!1}).slice(0,8),price:(m-.06).toFixed(2),amount:"0.0098",type:"sell"}].map((T,F)=>n.jsxs("div",{className:"flex justify-between text-xs py-1 hover:bg-gray-800/50 rounded px-2 -mx-2",children:[n.jsx("span",{className:"text-gray-400 font-mono",children:T.time}),n.jsx("span",{className:`font-mono ${T.type==="buy"?"text-green-400":"text-red-400"}`,children:T.price}),n.jsx("span",{className:"text-gray-300 font-mono",children:T.amount})]},F))})})]})]})]})]})}),n.jsxs("div",{className:"bg-[#10121E] border-t border-gray-700 min-h-[300px]",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 px-4 py-3",children:[n.jsx("div",{className:"flex items-center space-x-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>j("open"),className:`pb-1 text-sm font-medium ${w==="open"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Open orders(0)"}),n.jsx("button",{onClick:()=>j("history"),className:`pb-1 text-sm font-medium ${w==="history"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:"Order history(0)"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2 text-gray-400 text-sm",children:[n.jsx("input",{type:"checkbox",className:"rounded"}),n.jsx("span",{children:"Hide other trading pairs"})]}),n.jsx("button",{className:"text-gray-400 hover:text-white",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-4 px-4 py-3 text-gray-400 text-xs font-medium border-b border-gray-700",children:[n.jsx("div",{children:"Trading pair"}),n.jsx("div",{children:"Type"}),n.jsx("div",{children:"Price"}),n.jsx("div",{children:"Amount"}),n.jsx("div",{children:"Total"}),n.jsx("div",{children:"Status"}),n.jsx("div",{children:"Time"})]}),n.jsx("div",{className:"min-h-[200px]",children:oe&&oe.length>0?n.jsx("div",{className:"space-y-2",children:oe.filter(T=>w==="open"?T.status==="pending":T.status!=="pending").map(T=>n.jsxs("div",{className:"grid grid-cols-7 gap-4 px-4 py-3 text-sm hover:bg-gray-800/50",children:[n.jsx("div",{className:"text-white",children:T.symbol}),n.jsxs("div",{className:`${T.side==="buy"?"text-green-400":"text-red-400"}`,children:[T.side.toUpperCase()," / ",T.type.toUpperCase()]}),n.jsx("div",{className:"text-white",children:T.price||"Market"}),n.jsx("div",{className:"text-white",children:T.amount}),n.jsx("div",{className:"text-white",children:T.total}),n.jsx("div",{className:`${T.status==="filled"?"text-green-400":T.status==="cancelled"?"text-red-400":"text-yellow-400"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)}),n.jsx("div",{className:"text-gray-400",children:new Date(T.createdAt).toLocaleString()})]},T.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[n.jsx("div",{className:"w-16 h-16 mb-4 opacity-50",children:n.jsxs("svg",{viewBox:"0 0 64 64",className:"w-full h-full text-gray-500",children:[n.jsx("path",{fill:"currentColor",d:"M32 8C18.7 8 8 18.7 8 32s10.7 24 24 24 24-10.7 24-24S45.3 8 32 8zm0 44c-11 0-20-9-20-20s9-20 20-20 20 9 20 20-9 20-20 20z"}),n.jsx("path",{fill:"currentColor",d:"M32 16c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm0 28c-6.6 0-12-5.4-12-12s5.4-12 12-12 12 5.4 12 12-5.4 12-12 12z"}),n.jsx("circle",{fill:"currentColor",cx:"32",cy:"32",r:"4"})]})}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["No ",w==="open"?"open orders":"order history"]})]})})]}),n.jsx(Yu,{})]})}function RL(){return n.jsx(Cx,{symbol:"BTCUSDT",updateInterval:2e3,children:n.jsx(ML,{})})}function mw(t,[e,s]){return Math.min(s,Math.max(e,t))}function AL(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var DL=[" ","Enter","ArrowUp","ArrowDown"],OL=[" ","Enter"],Gc="Select",[hf,ff,IL]=$h(Gc),[Zo,TU]=cr(Gc,[IL,Go]),mf=Go(),[LL,Si]=Zo(Gc),[FL,$L]=Zo(Gc),GC=t=>{const{__scopeSelect:e,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:x,form:y}=t,m=mf(e),[b,g]=p.useState(null),[v,w]=p.useState(null),[j,C]=p.useState(!1),P=Zh(d),[E=!1,k]=ra({prop:r,defaultProp:i,onChange:a}),[I,$]=ra({prop:o,defaultProp:l,onChange:c}),_=p.useRef(null),R=b?y||!!b.closest("form"):!0,[W,H]=p.useState(new Set),K=Array.from(W).map(D=>D.props.value).join(";");return n.jsx(QS,{...m,children:n.jsxs(LL,{required:x,scope:e,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:C,contentId:Nr(),value:I,onValueChange:$,open:E,onOpenChange:k,dir:P,triggerPointerDownPosRef:_,disabled:f,children:[n.jsx(hf.Provider,{scope:e,children:n.jsx(FL,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(D=>{H(X=>new Set(X).add(D))},[]),onNativeOptionRemove:p.useCallback(D=>{H(X=>{const z=new Set(X);return z.delete(D),z})},[]),children:s})}),R?n.jsxs(y4,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:D=>$(D.target.value),disabled:f,form:y,children:[I===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},K):null]})})};GC.displayName=Gc;var QC="SelectTrigger",ZC=p.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:r=!1,...i}=t,a=mf(s),o=Si(QC,s),l=o.disabled||r,c=tt(e,o.onTriggerChange),d=ff(s),u=p.useRef("touch"),[h,f,x]=b4(m=>{const b=d().filter(w=>!w.disabled),g=b.find(w=>w.value===o.value),v=w4(b,m,g);v!==void 0&&o.onValueChange(v.value)}),y=m=>{l||(o.onOpenChange(!0),x()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return n.jsx(Gg,{asChild:!0,...a,children:n.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":v4(o.value)?"":void 0,...i,ref:c,onClick:fe(i.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:fe(i.onPointerDown,m=>{u.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:fe(i.onKeyDown,m=>{const b=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(b&&m.key===" ")&&DL.includes(m.key)&&(y(),m.preventDefault())})})})});ZC.displayName=QC;var XC="SelectValue",YC=p.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...l}=t,c=Si(XC,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=tt(e,c.onValueNodeChange);return Rt(()=>{d(u)},[d,u]),n.jsx(Le.span,{...l,ref:h,style:{pointerEvents:"none"},children:v4(c.value)?n.jsx(n.Fragment,{children:o}):a})});YC.displayName=XC;var UL="SelectIcon",JC=p.forwardRef((t,e)=>{const{__scopeSelect:s,children:r,...i}=t;return n.jsx(Le.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});JC.displayName=UL;var zL="SelectPortal",e4=t=>n.jsx(zc,{asChild:!0,...t});e4.displayName=zL;var ca="SelectContent",t4=p.forwardRef((t,e)=>{const s=Si(ca,t.__scopeSelect),[r,i]=p.useState();if(Rt(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?ga.createPortal(n.jsx(s4,{scope:t.__scopeSelect,children:n.jsx(hf.Slot,{scope:t.__scopeSelect,children:n.jsx("div",{children:t.children})})}),a):null}return n.jsx(r4,{...t,ref:e})});t4.displayName=ca;var ur=10,[s4,Ci]=Zo(ca),BL="SelectContentImpl",VL=sa("SelectContent.RemoveScroll"),r4=p.forwardRef((t,e)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:y,hideWhenDetached:m,avoidCollisions:b,...g}=t,v=Si(ca,s),[w,j]=p.useState(null),[C,P]=p.useState(null),E=tt(e,U=>j(U)),[k,I]=p.useState(null),[$,_]=p.useState(null),R=ff(s),[W,H]=p.useState(!1),K=p.useRef(!1);p.useEffect(()=>{if(w)return ex(w)},[w]),Jg();const D=p.useCallback(U=>{const[oe,...xe]=R().map(ve=>ve.ref.current),[be]=xe.slice(-1),Pe=document.activeElement;for(const ve of U)if(ve===Pe||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===oe&&C&&(C.scrollTop=0),ve===be&&C&&(C.scrollTop=C.scrollHeight),ve==null||ve.focus(),document.activeElement!==Pe))return},[R,C]),X=p.useCallback(()=>D([k,w]),[D,k,w]);p.useEffect(()=>{W&&X()},[W,X]);const{onOpenChange:z,triggerPointerDownPosRef:B}=v;p.useEffect(()=>{if(w){let U={x:0,y:0};const oe=be=>{var Pe,ve;U={x:Math.abs(Math.round(be.pageX)-(((Pe=B.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ve=B.current)==null?void 0:ve.y)??0))}},xe=be=>{U.x<=10&&U.y<=10?be.preventDefault():w.contains(be.target)||z(!1),document.removeEventListener("pointermove",oe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",xe,{capture:!0})}}},[w,z,B]),p.useEffect(()=>{const U=()=>z(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[z]);const[G,J]=b4(U=>{const oe=R().filter(Pe=>!Pe.disabled),xe=oe.find(Pe=>Pe.ref.current===document.activeElement),be=w4(oe,U,xe);be&&setTimeout(()=>be.ref.current.focus())}),Te=p.useCallback((U,oe,xe)=>{const be=!K.current&&!xe;(v.value!==void 0&&v.value===oe||be)&&(I(U),be&&(K.current=!0))},[v.value]),me=p.useCallback(()=>w==null?void 0:w.focus(),[w]),Oe=p.useCallback((U,oe,xe)=>{const be=!K.current&&!xe;(v.value!==void 0&&v.value===oe||be)&&_(U)},[v.value]),ae=r==="popper"?p0:n4,_e=ae===p0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:y,hideWhenDetached:m,avoidCollisions:b}:{};return n.jsx(s4,{scope:s,content:w,viewport:C,onViewportChange:P,itemRefCallback:Te,selectedItem:k,onItemLeave:me,itemTextRefCallback:Oe,focusSelectedItem:X,selectedItemText:$,position:r,isPositioned:W,searchRef:G,children:n.jsx(tf,{as:VL,allowPinchZoom:!0,children:n.jsx(Xh,{asChild:!0,trapped:v.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:fe(i,U=>{var oe;(oe=v.trigger)==null||oe.focus({preventScroll:!0}),U.preventDefault()}),children:n.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(ae,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:U=>U.preventDefault(),...g,..._e,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,U=>{const oe=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!oe&&U.key.length===1&&J(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let be=R().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(U.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const Pe=U.target,ve=be.indexOf(Pe);be=be.slice(ve+1)}setTimeout(()=>D(be)),U.preventDefault()}})})})})})})});r4.displayName=BL;var WL="SelectItemAlignedPosition",n4=p.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:r,...i}=t,a=Si(ca,s),o=Ci(ca,s),[l,c]=p.useState(null),[d,u]=p.useState(null),h=tt(e,E=>u(E)),f=ff(s),x=p.useRef(!1),y=p.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=o,w=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&b&&g){const E=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),$=g.getBoundingClientRect();if(a.dir!=="rtl"){const Pe=$.left-k.left,ve=I.left-Pe,Je=E.left-ve,ze=E.width+Je,ee=Math.max(ze,k.width),mt=window.innerWidth-ur,Be=mw(ve,[ur,Math.max(ur,mt-ee)]);l.style.minWidth=ze+"px",l.style.left=Be+"px"}else{const Pe=k.right-$.right,ve=window.innerWidth-I.right-Pe,Je=window.innerWidth-E.right-ve,ze=E.width+Je,ee=Math.max(ze,k.width),mt=window.innerWidth-ur,Be=mw(ve,[ur,Math.max(ur,mt-ee)]);l.style.minWidth=ze+"px",l.style.right=Be+"px"}const _=f(),R=window.innerHeight-ur*2,W=m.scrollHeight,H=window.getComputedStyle(d),K=parseInt(H.borderTopWidth,10),D=parseInt(H.paddingTop,10),X=parseInt(H.borderBottomWidth,10),z=parseInt(H.paddingBottom,10),B=K+D+W+z+X,G=Math.min(b.offsetHeight*5,B),J=window.getComputedStyle(m),Te=parseInt(J.paddingTop,10),me=parseInt(J.paddingBottom,10),Oe=E.top+E.height/2-ur,ae=R-Oe,_e=b.offsetHeight/2,U=b.offsetTop+_e,oe=K+D+U,xe=B-oe;if(oe<=Oe){const Pe=_.length>0&&b===_[_.length-1].ref.current;l.style.bottom="0px";const ve=d.clientHeight-m.offsetTop-m.offsetHeight,Je=Math.max(ae,_e+(Pe?me:0)+ve+X),ze=oe+Je;l.style.height=ze+"px"}else{const Pe=_.length>0&&b===_[0].ref.current;l.style.top="0px";const Je=Math.max(Oe,K+m.offsetTop+(Pe?Te:0)+_e)+xe;l.style.height=Je+"px",m.scrollTop=oe-Oe+m.offsetTop}l.style.margin=`${ur}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[f,a.trigger,a.valueNode,l,d,m,b,g,a.dir,r]);Rt(()=>w(),[w]);const[j,C]=p.useState();Rt(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const P=p.useCallback(E=>{E&&y.current===!0&&(w(),v==null||v(),y.current=!1)},[w,v]);return n.jsx(KL,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:P,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:n.jsx(Le.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});n4.displayName=WL;var HL="SelectPopperPosition",p0=p.forwardRef((t,e)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=ur,...a}=t,o=mf(s);return n.jsx(Qg,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p0.displayName=HL;var[KL,Ex]=Zo(ca,{}),g0="SelectViewport",i4=p.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:r,...i}=t,a=Ci(g0,s),o=Ex(g0,s),l=tt(e,a.onViewportChange),c=p.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(hf.Slot,{scope:s,children:n.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const y=window.innerHeight-ur*2,m=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(m,b);if(g<y){const v=g+x,w=Math.min(y,v),j=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});i4.displayName=g0;var a4="SelectGroup",[qL,GL]=Zo(a4),QL=p.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=Nr();return n.jsx(qL,{scope:s,id:i,children:n.jsx(Le.div,{role:"group","aria-labelledby":i,...r,ref:e})})});QL.displayName=a4;var o4="SelectLabel",l4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=GL(o4,s);return n.jsx(Le.div,{id:i.id,...r,ref:e})});l4.displayName=o4;var ah="SelectItem",[ZL,c4]=Zo(ah),d4=p.forwardRef((t,e)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=t,l=Si(ah,s),c=Ci(ah,s),d=l.value===r,[u,h]=p.useState(a??""),[f,x]=p.useState(!1),y=tt(e,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,i)}),m=Nr(),b=p.useRef("touch"),g=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ZL,{scope:s,value:r,disabled:i,textId:m,isSelected:d,onItemTextChange:p.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(hf.ItemSlot,{scope:s,value:r,disabled:i,textValue:u,children:n.jsx(Le.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:fe(o.onFocus,()=>x(!0)),onBlur:fe(o.onBlur,()=>x(!1)),onClick:fe(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:fe(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:fe(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:fe(o.onPointerMove,v=>{var w;b.current=v.pointerType,i?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:fe(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(OL.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});d4.displayName=ah;var vl="SelectItemText",u4=p.forwardRef((t,e)=>{const{__scopeSelect:s,className:r,style:i,...a}=t,o=Si(vl,s),l=Ci(vl,s),c=c4(vl,s),d=$L(vl,s),[u,h]=p.useState(null),f=tt(e,g=>h(g),c.onItemTextChange,g=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,g,c.value,c.disabled)}),x=u==null?void 0:u.textContent,y=p.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=d;return Rt(()=>(m(y),()=>b(y)),[m,b,y]),n.jsxs(n.Fragment,{children:[n.jsx(Le.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ga.createPortal(a.children,o.valueNode):null]})});u4.displayName=vl;var h4="SelectItemIndicator",f4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return c4(h4,s).isSelected?n.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});f4.displayName=h4;var x0="SelectScrollUpButton",m4=p.forwardRef((t,e)=>{const s=Ci(x0,t.__scopeSelect),r=Ex(x0,t.__scopeSelect),[i,a]=p.useState(!1),o=tt(e,r.onScrollButtonChange);return Rt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(g4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});m4.displayName=x0;var v0="SelectScrollDownButton",p4=p.forwardRef((t,e)=>{const s=Ci(v0,t.__scopeSelect),r=Ex(v0,t.__scopeSelect),[i,a]=p.useState(!1),o=tt(e,r.onScrollButtonChange);return Rt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?n.jsx(g4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});p4.displayName=v0;var g4=p.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=t,a=Ci("SelectScrollButton",s),o=p.useRef(null),l=ff(s),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Rt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Le.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{c()})})}),XL="SelectSeparator",x4=p.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t;return n.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});x4.displayName=XL;var y0="SelectArrow",YL=p.forwardRef((t,e)=>{const{__scopeSelect:s,...r}=t,i=mf(s),a=Si(y0,s),o=Ci(y0,s);return a.open&&o.position==="popper"?n.jsx(Zg,{...i,...r,ref:e}):null});YL.displayName=y0;function v4(t){return t===""||t===void 0}var y4=p.forwardRef((t,e)=>{const{value:s,...r}=t,i=p.useRef(null),a=tt(e,i),o=AL(s);return p.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),n.jsx(Bc,{asChild:!0,children:n.jsx("select",{...r,ref:a,defaultValue:s})})});y4.displayName="BubbleSelect";function b4(t){const e=is(t),s=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function w4(t,e,s){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=s?t.indexOf(s):-1;let o=JL(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function JL(t,e){return t.map((s,r)=>t[(e+r)%t.length])}var eF=GC,j4=ZC,tF=YC,sF=JC,rF=e4,N4=t4,nF=i4,S4=l4,C4=d4,iF=u4,aF=f4,T4=m4,k4=p4,E4=x4;const fn=eF,mn=tF,Wr=p.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(j4,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,n.jsx(sF,{asChild:!0,children:n.jsx(ui,{className:"h-4 w-4 opacity-50"})})]}));Wr.displayName=j4.displayName;const _4=p.forwardRef(({className:t,...e},s)=>n.jsx(T4,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(TM,{className:"h-4 w-4"})}));_4.displayName=T4.displayName;const P4=p.forwardRef(({className:t,...e},s)=>n.jsx(k4,{ref:s,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:n.jsx(ui,{className:"h-4 w-4"})}));P4.displayName=k4.displayName;const Hr=p.forwardRef(({className:t,children:e,position:s="popper",...r},i)=>n.jsx(rF,{children:n.jsxs(N4,{ref:i,className:ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[n.jsx(_4,{}),n.jsx(nF,{className:ke("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),n.jsx(P4,{})]})}));Hr.displayName=N4.displayName;const oF=p.forwardRef(({className:t,...e},s)=>n.jsx(S4,{ref:s,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oF.displayName=S4.displayName;const st=p.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(C4,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(aF,{children:n.jsx(gS,{className:"h-4 w-4"})})}),n.jsx(iF,{children:e})]}));st.displayName=C4.displayName;const lF=p.forwardRef(({className:t,...e},s)=>n.jsx(E4,{ref:s,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));lF.displayName=E4.displayName;function cF(t){const e=dF(t),s=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(hF);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return n.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return n.jsx(e,{...o,ref:i,children:a})});return s.displayName=`${t}.Slot`,s}function dF(t){const e=p.forwardRef((s,r)=>{const{children:i,...a}=s;if(p.isValidElement(i)){const o=mF(i),l=fF(a,i.props);return i.type!==p.Fragment&&(l.ref=r?Vo(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uF=Symbol("radix.slottable");function hF(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uF}function fF(t,e){const s={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...t,...s}}function mF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var pF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],M4=pF.reduce((t,e)=>{const s=cF(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_x="Progress",Px=100,[gF,kU]=cr(_x),[xF,vF]=gF(_x),R4=p.forwardRef((t,e)=>{const{__scopeProgress:s,value:r=null,max:i,getValueLabel:a=yF,...o}=t;(i||i===0)&&!pw(i)&&console.error(bF(`${i}`,"Progress"));const l=pw(i)?i:Px;r!==null&&!gw(r,l)&&console.error(wF(`${r}`,"Progress"));const c=gw(r,l)?r:null,d=oh(c)?a(c,l):void 0;return n.jsx(xF,{scope:s,value:c,max:l,children:n.jsx(M4.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":oh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":O4(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});R4.displayName=_x;var A4="ProgressIndicator",D4=p.forwardRef((t,e)=>{const{__scopeProgress:s,...r}=t,i=vF(A4,s);return n.jsx(M4.div,{"data-state":O4(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});D4.displayName=A4;function yF(t,e){return`${Math.round(t/e*100)}%`}function O4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function oh(t){return typeof t=="number"}function pw(t){return oh(t)&&!isNaN(t)&&t>0}function gw(t,e){return oh(t)&&!isNaN(t)&&t<=e&&t>=0}function bF(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Px}\`.`}function wF(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Px} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var I4=R4,jF=D4;const L4=p.forwardRef(({className:t,value:e,...s},r)=>n.jsx(I4,{ref:r,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:n.jsx(jF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));L4.displayName=I4.displayName;function NF(){const{user:t}=Wt(),{toast:e}=Gs(),s=lr(),{lastMessage:r}=Qh(),[i,a]=p.useState("BTCUSDT"),[o,l]=p.useState(30),[c,d]=p.useState("");p.useState(null);const[u,h]=p.useState("0"),{data:f}=kt({queryKey:["/api/market-data"],refetchInterval:5e3}),{data:x}=kt({queryKey:["/api/options-settings"]}),{data:y}=kt({queryKey:["/api/trades/active"],enabled:!!t}),{data:m}=kt({queryKey:["/api/balances"],enabled:!!t}),b=Qt({mutationFn:async k=>{var _;console.log("🎯 TRADING PAGE: Placing trade with data:",k),console.log("🎯 TRADING PAGE: User ID:",t==null?void 0:t.id),console.log("🎯 TRADING PAGE: Auth token:",((_=localStorage.getItem("authToken"))==null?void 0:_.substring(0,30))+"...");const I=await fetch("/api/trades",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({userId:t==null?void 0:t.id,symbol:k.symbol,type:k.type,direction:k.direction,amount:k.amount,duration:k.duration})});if(console.log("🎯 TRADING PAGE: Response status:",I.status),!I.ok){const R=await I.text();throw console.error("🎯 TRADING PAGE: Error response:",R),new Error(R||"Failed to place trade")}const $=await I.json();return console.log("🎯 TRADING PAGE: Success response:",$),$},onSuccess:()=>{e({title:"Trade Placed Successfully",description:"Your binary options trade has been placed."}),s.invalidateQueries({queryKey:["/api/trades/active"]}),s.invalidateQueries({queryKey:["/api/balances"]}),d("")},onError:k=>{e({title:"Trade Failed",description:k.message||"Failed to place trade.",variant:"destructive"})}});p.useEffect(()=>{if((r==null?void 0:r.type)==="price_update"&&r.data){const k=r.data;k.symbol===i&&h(k.price)}},[r,i]),p.useEffect(()=>{if(f){const k=f.find(I=>I.symbol===i);k&&h(k.price)}},[f,i]),p.useEffect(()=>{const k=setInterval(()=>{if(y){const I=new Date().getTime();y.forEach($=>{const _=new Date($.expiresAt).getTime();Math.max(0,_-I)===0&&s.invalidateQueries({queryKey:["/api/trades/active"]})})}},1e3);return()=>clearInterval(k)},[y,s]);const g=f==null?void 0:f.find(k=>k.symbol===i),v=(x==null?void 0:x.filter(k=>k.isActive))||[],w=v.find(k=>k.duration===o),j=Array.isArray(m)?m.find(k=>k.symbol==="USDT"):null,C=k=>{if(!t){e({title:"Login Required",description:"Please login to place trades.",variant:"destructive"});return}if(!c||parseFloat(c)<parseFloat((w==null?void 0:w.minAmount)||"0")){e({title:"Invalid Amount",description:`Minimum amount is ${w==null?void 0:w.minAmount} USDT`,variant:"destructive"});return}b.mutate({symbol:i,type:"options",direction:k,amount:c,duration:o})},P=k=>{const I=new Date().getTime(),$=new Date(k).getTime(),_=Math.max(0,$-I);return Math.floor(_/1e3)},E=k=>{const I=Math.floor(k/60),$=k%60;return`${I}:${$.toString().padStart(2,"0")}`};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"METACHROME Binary Options Trading"}),n.jsx("p",{className:"text-gray-300",children:"Trade binary options with customizable durations and admin-controlled outcomes"})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(le,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(Ke,{children:n.jsxs(qe,{className:"text-white flex items-center gap-2",children:[n.jsx(zs,{className:"w-5 h-5 text-purple-400"}),"Market Selection"]})}),n.jsx(ce,{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:f==null?void 0:f.map(k=>n.jsxs(V,{variant:i===k.symbol?"default":"outline",className:`p-4 h-auto flex flex-col items-start ${i===k.symbol?"bg-purple-600 hover:bg-purple-700":"bg-slate-700/50 hover:bg-slate-700"}`,onClick:()=>a(k.symbol),children:[n.jsx("div",{className:"font-semibold text-white",children:k.symbol.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-sm text-gray-300",children:["$",parseFloat(k.price).toLocaleString()]}),n.jsxs("div",{className:`text-xs flex items-center gap-1 ${parseFloat(k.priceChangePercent24h)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(k.priceChangePercent24h)>=0?n.jsx(Jp,{className:"w-3 h-3"}):n.jsx(Yp,{className:"w-3 h-3"}),parseFloat(k.priceChangePercent24h).toFixed(2),"%"]})]},k.symbol))})})]}),n.jsx(le,{className:"bg-slate-800/90 border-purple-500/20",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:i.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-4xl font-bold text-purple-400 mb-4",children:["$",parseFloat(u).toLocaleString()]}),g&&n.jsxs("div",{className:`flex items-center justify-center gap-2 ${parseFloat(g.priceChangePercent24h)>=0?"text-green-400":"text-red-400"}`,children:[parseFloat(g.priceChangePercent24h)>=0?n.jsx(zs,{className:"w-5 h-5"}):n.jsx(Bu,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-semibold",children:[parseFloat(g.priceChangePercent24h).toFixed(2),"% ($",parseFloat(g.priceChange24h).toFixed(2),")"]})]})]})})}),n.jsxs(le,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"Place Binary Options Trade"})}),n.jsxs(ce,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Duration"}),n.jsxs(fn,{value:o.toString(),onValueChange:k=>l(parseInt(k)),children:[n.jsx(Wr,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsx(mn,{})}),n.jsx(Hr,{className:"bg-slate-700 border-slate-600",children:v.map(k=>n.jsxs(st,{value:k.duration.toString(),children:[k.duration," seconds - Min: $",k.minAmount," - Profit: ",k.profitPercentage,"%"]},k.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount (USDT)"}),n.jsx(Ce,{type:"number",value:c,onChange:k=>d(k.target.value),placeholder:"Enter amount",className:"bg-slate-700 border-slate-600 text-white",min:(w==null?void 0:w.minAmount)||"0",step:"0.01"}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Min: $",(w==null?void 0:w.minAmount)||"0"," | Available: $",(j==null?void 0:j.available)||"0"]})]})]}),w&&n.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Profit Percentage:"})," ",w.profitPercentage,"%"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Potential Profit:"})," $",c?(parseFloat(c)*parseFloat(w.profitPercentage)/100).toFixed(2):"0.00"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(V,{onClick:()=>C("up"),disabled:b.isPending||!t,className:"bg-green-600 hover:bg-green-700 text-white h-12 text-lg font-semibold",children:[n.jsx(Jp,{className:"w-5 h-5 mr-2"}),"UP / CALL"]}),n.jsxs(V,{onClick:()=>C("down"),disabled:b.isPending||!t,className:"bg-red-600 hover:bg-red-700 text-white h-12 text-lg font-semibold",children:[n.jsx(Yp,{className:"w-5 h-5 mr-2"}),"DOWN / PUT"]})]}),!t&&n.jsx("div",{className:"text-center text-yellow-400",children:"Please login to place trades"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(le,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"Active Trades"})}),n.jsx(ce,{className:"space-y-4",children:y&&y.length>0?y.map(k=>{const I=P(k.expiresAt),$=(k.duration-I)/k.duration*100;return n.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:k.symbol.replace("USDT","/USDT")}),n.jsxs("div",{className:"text-sm text-gray-300",children:["$",k.amount," USDT"]})]}),n.jsx(at,{variant:k.direction==="up"?"default":"destructive",className:k.direction==="up"?"bg-green-600":"bg-red-600",children:k.direction.toUpperCase()})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Time Left:"}),n.jsx("span",{className:"text-white font-mono",children:E(I)})]}),n.jsx(L4,{value:$,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:"Entry Price:"}),n.jsxs("span",{className:"text-white",children:["$",parseFloat(k.price).toFixed(2)]})]})]})]},k.id)}):n.jsx("div",{className:"text-gray-400 text-center py-8",children:"No active trades"})})]}),t&&n.jsxs(le,{className:"bg-slate-800/90 border-purple-500/20",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"Account Balance"})}),n.jsxs(ce,{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:["$",(j==null?void 0:j.available)||"0.00"," USDT"]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:["Locked: $",(j==null?void 0:j.locked)||"0.00"," USDT"]})]})]})]})]})]})})}var Mx="Dialog",[F4,EU]=cr(Mx),[SF,Ar]=F4(Mx),$4=t=>{const{__scopeDialog:e,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d=!1,u]=ra({prop:r,defaultProp:i,onChange:a});return n.jsx(SF,{scope:e,triggerRef:l,contentRef:c,contentId:Nr(),titleId:Nr(),descriptionId:Nr(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};$4.displayName=Mx;var U4="DialogTrigger",z4=p.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Ar(U4,s),a=tt(e,i.triggerRef);return n.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dx(i.open),...r,ref:a,onClick:fe(t.onClick,i.onOpenToggle)})});z4.displayName=U4;var Rx="DialogPortal",[CF,B4]=F4(Rx,{forceMount:void 0}),V4=t=>{const{__scopeDialog:e,forceMount:s,children:r,container:i}=t,a=Ar(Rx,e);return n.jsx(CF,{scope:e,forceMount:s,children:p.Children.map(r,o=>n.jsx(Pr,{present:s||a.open,children:n.jsx(zc,{asChild:!0,container:i,children:o})}))})};V4.displayName=Rx;var lh="DialogOverlay",W4=p.forwardRef((t,e)=>{const s=B4(lh,t.__scopeDialog),{forceMount:r=s.forceMount,...i}=t,a=Ar(lh,t.__scopeDialog);return a.modal?n.jsx(Pr,{present:r||a.open,children:n.jsx(kF,{...i,ref:e})}):null});W4.displayName=lh;var TF=sa("DialogOverlay.RemoveScroll"),kF=p.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Ar(lh,s);return n.jsx(tf,{as:TF,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Le.div,{"data-state":Dx(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),da="DialogContent",H4=p.forwardRef((t,e)=>{const s=B4(da,t.__scopeDialog),{forceMount:r=s.forceMount,...i}=t,a=Ar(da,t.__scopeDialog);return n.jsx(Pr,{present:r||a.open,children:a.modal?n.jsx(EF,{...i,ref:e}):n.jsx(_F,{...i,ref:e})})});H4.displayName=da;var EF=p.forwardRef((t,e)=>{const s=Ar(da,t.__scopeDialog),r=p.useRef(null),i=tt(e,s.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return ex(a)},[]),n.jsx(K4,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault())})}),_F=p.forwardRef((t,e)=>{const s=Ar(da,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return n.jsx(K4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),K4=p.forwardRef((t,e)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Ar(da,s),c=p.useRef(null),d=tt(e,c);return Jg(),n.jsxs(n.Fragment,{children:[n.jsx(Xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(Wo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Dx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(PF,{titleId:l.titleId}),n.jsx(RF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ax="DialogTitle",q4=p.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Ar(Ax,s);return n.jsx(Le.h2,{id:i.titleId,...r,ref:e})});q4.displayName=Ax;var G4="DialogDescription",Q4=p.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Ar(G4,s);return n.jsx(Le.p,{id:i.descriptionId,...r,ref:e})});Q4.displayName=G4;var Z4="DialogClose",X4=p.forwardRef((t,e)=>{const{__scopeDialog:s,...r}=t,i=Ar(Z4,s);return n.jsx(Le.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});X4.displayName=Z4;function Dx(t){return t?"open":"closed"}var Y4="DialogTitleWarning",[_U,J4]=P3(Y4,{contentName:da,titleName:Ax,docsSlug:"dialog"}),PF=({titleId:t})=>{const e=J4(Y4),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},MF="DialogDescriptionWarning",RF=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J4(MF).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},AF=$4,DF=z4,OF=V4,eT=W4,tT=H4,sT=q4,rT=Q4,IF=X4;const ro=AF,xw=DF,LF=OF,nT=p.forwardRef(({className:t,...e},s)=>n.jsx(eT,{ref:s,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));nT.displayName=eT.displayName;const Hi=p.forwardRef(({className:t,children:e,...s},r)=>n.jsxs(LF,{children:[n.jsx(nT,{}),n.jsxs(tT,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,n.jsxs(IF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Vh,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hi.displayName=tT.displayName;const Ki=({className:t,...e})=>n.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ki.displayName="DialogHeader";const qi=p.forwardRef(({className:t,...e},s)=>n.jsx(sT,{ref:s,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));qi.displayName=sT.displayName;const FF=p.forwardRef(({className:t,...e},s)=>n.jsx(rT,{ref:s,className:ke("text-sm text-muted-foreground",t),...e}));FF.displayName=rT.displayName;var $F="Label",iT=p.forwardRef((t,e)=>n.jsx(Le.label,{...t,ref:e,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));iT.displayName=$F;var aT=iT;const UF=Bh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xt=p.forwardRef(({className:t,...e},s)=>n.jsx(aT,{ref:s,className:ke(UF(),t),...e}));xt.displayName=aT.displayName;var Qc={},zF=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},oT={},Qs={};let Ox;const BF=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Qs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Qs.getSymbolTotalCodewords=function(e){return BF[e]};Qs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Qs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ox=e};Qs.isKanjiModeEnabled=function(){return typeof Ox<"u"};Qs.toSJIS=function(e){return Ox(e)};var pf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+s)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(pf);function lT(){this.buffer=[],this.length=0}lT.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let s=0;s<e;s++)this.putBit((t>>>e-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var VF=lT;function Zc(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Zc.prototype.set=function(t,e,s,r){const i=t*this.size+e;this.data[i]=s,r&&(this.reservedBit[i]=!0)};Zc.prototype.get=function(t,e){return this.data[t*this.size+e]};Zc.prototype.xor=function(t,e,s){this.data[t*this.size+e]^=s};Zc.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var WF=Zc,cT={};(function(t){const e=Qs.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],a=t.getRowColCoords(r),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(cT);var dT={};const HF=Qs.getSymbolSize,vw=7;dT.getPositions=function(e){const s=HF(e);return[[0,0],[s-vw,0],[0,s-vw]]};var uT={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,d=null,u=null;for(let h=0;h<a;h++){l=c=0,d=u=null;for(let f=0;f<a;f++){let x=i.get(h,f);x===d?l++:(l>=5&&(o+=e.N1+(l-5)),d=x,l=1),x=i.get(f,h),x===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=x,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let d=0;d<a;d++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|i.get(d,u),u>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(u,d),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function s(r,i,a){switch(r){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<o;d++){a(d),t.applyMask(d,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),u<c&&(c=u,l=d)}return l}})(uT);var gf={};const Yn=pf,$d=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ud=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];gf.getBlocksCount=function(e,s){switch(s){case Yn.L:return $d[(e-1)*4+0];case Yn.M:return $d[(e-1)*4+1];case Yn.Q:return $d[(e-1)*4+2];case Yn.H:return $d[(e-1)*4+3];default:return}};gf.getTotalCodewordsCount=function(e,s){switch(s){case Yn.L:return Ud[(e-1)*4+0];case Yn.M:return Ud[(e-1)*4+1];case Yn.Q:return Ud[(e-1)*4+2];case Yn.H:return Ud[(e-1)*4+3];default:return}};var hT={},xf={};const Il=new Uint8Array(512),ch=new Uint8Array(256);(function(){let e=1;for(let s=0;s<255;s++)Il[s]=e,ch[e]=s,e<<=1,e&256&&(e^=285);for(let s=255;s<512;s++)Il[s]=Il[s-255]})();xf.log=function(e){if(e<1)throw new Error("log("+e+")");return ch[e]};xf.exp=function(e){return Il[e]};xf.mul=function(e,s){return e===0||s===0?0:Il[ch[e]+ch[s]]};(function(t){const e=xf;t.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(r[o],i[l]);return a},t.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(hT);const fT=hT;function Ix(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Ix.prototype.initialize=function(e){this.degree=e,this.genPoly=fT.generateECPolynomial(this.degree)};Ix.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(e.length+this.degree);s.set(e);const r=fT.mod(s,this.genPoly),i=this.degree-r.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(r,i),a}return r};var KF=Ix,mT={},Ti={},Lx={};Lx.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var rn={};const pT="[0-9]+",qF="[A-Z $%*+\\-./:]+";let xc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";xc=xc.replace(/u/g,"\\u");const GF="(?:(?![A-Z0-9 $%*+\\-./:]|"+xc+`)(?:.|[\r
]))+`;rn.KANJI=new RegExp(xc,"g");rn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");rn.BYTE=new RegExp(GF,"g");rn.NUMERIC=new RegExp(pT,"g");rn.ALPHANUMERIC=new RegExp(qF,"g");const QF=new RegExp("^"+xc+"$"),ZF=new RegExp("^"+pT+"$"),XF=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");rn.testKanji=function(e){return QF.test(e)};rn.testNumeric=function(e){return ZF.test(e)};rn.testAlphanumeric=function(e){return XF.test(e)};(function(t){const e=Lx,s=rn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return s.testNumeric(a)?t.NUMERIC:s.testAlphanumeric(a)?t.ALPHANUMERIC:s.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return r(a)}catch{return o}}})(Ti);(function(t){const e=Qs,s=gf,r=pf,i=Ti,a=Lx,o=7973,l=e.getBCHDigit(o);function c(f,x,y){for(let m=1;m<=40;m++)if(x<=t.getCapacity(m,y,f))return m}function d(f,x){return i.getCharCountIndicator(f,x)+4}function u(f,x){let y=0;return f.forEach(function(m){const b=d(m.mode,x);y+=b+m.getBitsLength()}),y}function h(f,x){for(let y=1;y<=40;y++)if(u(f,y)<=t.getCapacity(y,x,i.MIXED))return y}t.from=function(x,y){return a.isValid(x)?parseInt(x,10):y},t.getCapacity=function(x,y,m){if(!a.isValid(x))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const b=e.getSymbolTotalCodewords(x),g=s.getTotalCodewordsCount(x,y),v=(b-g)*8;if(m===i.MIXED)return v;const w=v-d(m,x);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(x,y){let m;const b=r.from(y,r.M);if(Array.isArray(x)){if(x.length>1)return h(x,b);if(x.length===0)return 1;m=x[0]}else m=x;return c(m.mode,m.getLength(),b)},t.getEncodedBits=function(x){if(!a.isValid(x)||x<7)throw new Error("Invalid QR Code version");let y=x<<12;for(;e.getBCHDigit(y)-l>=0;)y^=o<<e.getBCHDigit(y)-l;return x<<12|y}})(mT);var gT={};const b0=Qs,xT=1335,YF=21522,yw=b0.getBCHDigit(xT);gT.getEncodedBits=function(e,s){const r=e.bit<<3|s;let i=r<<10;for(;b0.getBCHDigit(i)-yw>=0;)i^=xT<<b0.getBCHDigit(i)-yw;return(r<<10|i)^YF};var vT={};const JF=Ti;function Mo(t){this.mode=JF.NUMERIC,this.data=t.toString()}Mo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Mo.prototype.getLength=function(){return this.data.length};Mo.prototype.getBitsLength=function(){return Mo.getBitsLength(this.data.length)};Mo.prototype.write=function(e){let s,r,i;for(s=0;s+3<=this.data.length;s+=3)r=this.data.substr(s,3),i=parseInt(r,10),e.put(i,10);const a=this.data.length-s;a>0&&(r=this.data.substr(s),i=parseInt(r,10),e.put(i,a*3+1))};var e$=Mo;const t$=Ti,Om=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ro(t){this.mode=t$.ALPHANUMERIC,this.data=t}Ro.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ro.prototype.getLength=function(){return this.data.length};Ro.prototype.getBitsLength=function(){return Ro.getBitsLength(this.data.length)};Ro.prototype.write=function(e){let s;for(s=0;s+2<=this.data.length;s+=2){let r=Om.indexOf(this.data[s])*45;r+=Om.indexOf(this.data[s+1]),e.put(r,11)}this.data.length%2&&e.put(Om.indexOf(this.data[s]),6)};var s$=Ro;const r$=Ti;function Ao(t){this.mode=r$.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Ao.getBitsLength=function(e){return e*8};Ao.prototype.getLength=function(){return this.data.length};Ao.prototype.getBitsLength=function(){return Ao.getBitsLength(this.data.length)};Ao.prototype.write=function(t){for(let e=0,s=this.data.length;e<s;e++)t.put(this.data[e],8)};var n$=Ao;const i$=Ti,a$=Qs;function Do(t){this.mode=i$.KANJI,this.data=t}Do.getBitsLength=function(e){return e*13};Do.prototype.getLength=function(){return this.data.length};Do.prototype.getBitsLength=function(){return Do.getBitsLength(this.data.length)};Do.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let s=a$.toSJIS(this.data[e]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),t.put(s,13)}};var o$=Do,yT={exports:{}};(function(t){var e={single_source_shortest_paths:function(s,r,i){var a={},o={};o[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,d,u,h,f,x,y,m,b;!l.empty();){c=l.pop(),d=c.value,h=c.cost,f=s[d]||{};for(u in f)f.hasOwnProperty(u)&&(x=f[u],y=h+x,m=o[u],b=typeof o[u]>"u",(b||m>y)&&(o[u]=y,l.push(u,y),a[u]=d))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return a},extract_shortest_path_from_predecessor_list:function(s,r){for(var i=[],a=r;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,r,i){var a=e.single_source_shortest_paths(s,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var r=e.PriorityQueue,i={},a;s=s||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=s.sorter||r.default_sorter,i},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var i={value:s,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(yT);var l$=yT.exports;(function(t){const e=Ti,s=e$,r=s$,i=n$,a=o$,o=rn,l=Qs,c=l$;function d(g){return unescape(encodeURIComponent(g)).length}function u(g,v,w){const j=[];let C;for(;(C=g.exec(w))!==null;)j.push({data:C[0],index:C.index,mode:v,length:C[0].length});return j}function h(g){const v=u(o.NUMERIC,e.NUMERIC,g),w=u(o.ALPHANUMERIC,e.ALPHANUMERIC,g);let j,C;return l.isKanjiModeEnabled()?(j=u(o.BYTE,e.BYTE,g),C=u(o.KANJI,e.KANJI,g)):(j=u(o.BYTE_KANJI,e.BYTE,g),C=[]),v.concat(w,j,C).sort(function(E,k){return E.index-k.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function f(g,v){switch(v){case e.NUMERIC:return s.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return a.getBitsLength(g);case e.BYTE:return i.getBitsLength(g)}}function x(g){return g.reduce(function(v,w){const j=v.length-1>=0?v[v.length-1]:null;return j&&j.mode===w.mode?(v[v.length-1].data+=w.data,v):(v.push(w),v)},[])}function y(g){const v=[];for(let w=0;w<g.length;w++){const j=g[w];switch(j.mode){case e.NUMERIC:v.push([j,{data:j.data,mode:e.ALPHANUMERIC,length:j.length},{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.ALPHANUMERIC:v.push([j,{data:j.data,mode:e.BYTE,length:j.length}]);break;case e.KANJI:v.push([j,{data:j.data,mode:e.BYTE,length:d(j.data)}]);break;case e.BYTE:v.push([{data:j.data,mode:e.BYTE,length:d(j.data)}])}}return v}function m(g,v){const w={},j={start:{}};let C=["start"];for(let P=0;P<g.length;P++){const E=g[P],k=[];for(let I=0;I<E.length;I++){const $=E[I],_=""+P+I;k.push(_),w[_]={node:$,lastCount:0},j[_]={};for(let R=0;R<C.length;R++){const W=C[R];w[W]&&w[W].node.mode===$.mode?(j[W][_]=f(w[W].lastCount+$.length,$.mode)-f(w[W].lastCount,$.mode),w[W].lastCount+=$.length):(w[W]&&(w[W].lastCount=$.length),j[W][_]=f($.length,$.mode)+4+e.getCharCountIndicator($.mode,v))}}C=k}for(let P=0;P<C.length;P++)j[C[P]].end=0;return{map:j,table:w}}function b(g,v){let w;const j=e.getBestModeForData(g);if(w=e.from(v,j),w!==e.BYTE&&w.bit<j.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(j));switch(w===e.KANJI&&!l.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new s(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new a(g);case e.BYTE:return new i(g)}}t.fromArray=function(v){return v.reduce(function(w,j){return typeof j=="string"?w.push(b(j,null)):j.data&&w.push(b(j.data,j.mode)),w},[])},t.fromString=function(v,w){const j=h(v,l.isKanjiModeEnabled()),C=y(j),P=m(C,w),E=c.find_path(P.map,"start","end"),k=[];for(let I=1;I<E.length-1;I++)k.push(P.table[E[I]].node);return t.fromArray(x(k))},t.rawSplit=function(v){return t.fromArray(h(v,l.isKanjiModeEnabled()))}})(vT);const vf=Qs,Im=pf,c$=VF,d$=WF,u$=cT,h$=dT,w0=uT,j0=gf,f$=KF,dh=mT,m$=gT,p$=Ti,Lm=vT;function g$(t,e){const s=t.size,r=h$.getPositions(e);for(let i=0;i<r.length;i++){const a=r[i][0],o=r[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||s<=a+l))for(let c=-1;c<=7;c++)o+c<=-1||s<=o+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(a+l,o+c,!0,!0):t.set(a+l,o+c,!1,!0))}}function x$(t){const e=t.size;for(let s=8;s<e-8;s++){const r=s%2===0;t.set(s,6,r,!0),t.set(6,s,r,!0)}}function v$(t,e){const s=u$.getPositions(e);for(let r=0;r<s.length;r++){const i=s[r][0],a=s[r][1];for(let o=-2;o<=2;o++)for(let l=-2;l<=2;l++)o===-2||o===2||l===-2||l===2||o===0&&l===0?t.set(i+o,a+l,!0,!0):t.set(i+o,a+l,!1,!0)}}function y$(t,e){const s=t.size,r=dh.getEncodedBits(e);let i,a,o;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+s-8-3,o=(r>>l&1)===1,t.set(i,a,o,!0),t.set(a,i,o,!0)}function Fm(t,e,s){const r=t.size,i=m$.getEncodedBits(e,s);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(r-15+a,8,o,!0),a<8?t.set(8,r-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(r-8,8,1,!0)}function b$(t,e){const s=t.size;let r=-1,i=s-1,a=7,o=0;for(let l=s-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,l-c)){let d=!1;o<e.length&&(d=(e[o]>>>a&1)===1),t.set(i,l-c,d),a--,a===-1&&(o++,a=7)}if(i+=r,i<0||s<=i){i-=r,r=-r;break}}}function w$(t,e,s){const r=new c$;s.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),p$.getCharCountIndicator(c.mode,t)),c.write(r)});const i=vf.getSymbolTotalCodewords(t),a=j0.getTotalCodewordsCount(t,e),o=(i-a)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(o-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return j$(r,t,e)}function j$(t,e,s){const r=vf.getSymbolTotalCodewords(e),i=j0.getTotalCodewordsCount(e,s),a=r-i,o=j0.getBlocksCount(e,s),l=r%o,c=o-l,d=Math.floor(r/o),u=Math.floor(a/o),h=u+1,f=d-u,x=new f$(f);let y=0;const m=new Array(o),b=new Array(o);let g=0;const v=new Uint8Array(t.buffer);for(let E=0;E<o;E++){const k=E<c?u:h;m[E]=v.slice(y,y+k),b[E]=x.encode(m[E]),y+=k,g=Math.max(g,k)}const w=new Uint8Array(r);let j=0,C,P;for(C=0;C<g;C++)for(P=0;P<o;P++)C<m[P].length&&(w[j++]=m[P][C]);for(C=0;C<f;C++)for(P=0;P<o;P++)w[j++]=b[P][C];return w}function N$(t,e,s,r){let i;if(Array.isArray(t))i=Lm.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){const u=Lm.rawSplit(t);d=dh.getBestVersionForData(u,s)}i=Lm.fromString(t,d||40)}else throw new Error("Invalid data");const a=dh.getBestVersionForData(i,s);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=w$(e,s,i),l=vf.getSymbolSize(e),c=new d$(l);return g$(c,e),x$(c),v$(c,e),Fm(c,s,0),e>=7&&y$(c,e),b$(c,o),isNaN(r)&&(r=w0.getBestMask(c,Fm.bind(null,c,s))),w0.applyMask(r,c),Fm(c,s,r),{modules:c,version:e,errorCorrectionLevel:s,maskPattern:r,segments:i}}oT.create=function(e,s){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Im.M,i,a;return typeof s<"u"&&(r=Im.from(s.errorCorrectionLevel,Im.M),i=dh.from(s.version),a=w0.from(s.maskPattern),s.toSJISFunc&&vf.setToSJISFunction(s.toSJISFunc)),N$(e,i,r,a)};var bT={},Fx={};(function(t){function e(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const a=t.getScale(r,i);return Math.floor((r+i.margin*2)*a)},t.qrToImageData=function(r,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),d=Math.floor((o+a.margin*2)*c),u=a.margin*c,h=[a.color.light,a.color.dark];for(let f=0;f<d;f++)for(let x=0;x<d;x++){let y=(f*d+x)*4,m=a.color.light;if(f>=u&&x>=u&&f<d-u&&x<d-u){const b=Math.floor((f-u)/c),g=Math.floor((x-u)/c);m=h[l[b*o+g]?1:0]}r[y++]=m.r,r[y++]=m.g,r[y++]=m.b,r[y]=m.a}}})(Fx);(function(t){const e=Fx;function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,d=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(d=r()),c=e.getOptions(c);const u=e.getImageWidth(a.modules.size,c),h=d.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,a,c),s(h,d,u),h.putImageData(f,0,0),d},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const d=t.render(a,o,c),u=c.type||"image/png",h=c.rendererOpts||{};return d.toDataURL(u,h.quality)}})(bT);var wT={};const S$=Fx;function bw(t,e){const s=t.a/255,r=e+'="'+t.hex+'"';return s<1?r+" "+e+'-opacity="'+s.toFixed(2).slice(1)+'"':r}function $m(t,e,s){let r=t+e;return typeof s<"u"&&(r+=" "+s),r}function C$(t,e,s){let r="",i=0,a=!1,o=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),d=Math.floor(l/e);!c&&!a&&(a=!0),t[l]?(o++,l>0&&c>0&&t[l-1]||(r+=a?$m("M",c+s,.5+d+s):$m("m",i,0),i=0,a=!1),c+1<e&&t[l+1]||(r+=$m("h",o),o=0)):i++}return r}wT.render=function(e,s,r){const i=S$.getOptions(s),a=e.modules.size,o=e.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+bw(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+bw(i.color.dark,"stroke")+' d="'+C$(o,a,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof r=="function"&&r(null,f),f};const T$=zF,N0=oT,jT=bT,k$=wT;function $x(t,e,s,r,i){const a=[].slice.call(arguments,1),o=a.length,l=typeof a[o-1]=="function";if(!l&&!T$())throw new Error("Callback required as last argument");if(l){if(o<2)throw new Error("Too few arguments provided");o===2?(i=s,s=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=s,s=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(s=e,e=r=void 0):o===2&&!e.getContext&&(r=s,s=e,e=void 0),new Promise(function(c,d){try{const u=N0.create(s,r);c(t(u,e,r))}catch(u){d(u)}})}try{const c=N0.create(s,r);i(null,t(c,e,r))}catch(c){i(c)}}Qc.create=N0.create;Qc.toCanvas=$x.bind(null,jT.render);Qc.toDataURL=$x.bind(null,jT.renderToDataURL);Qc.toString=$x.bind(null,function(t,e,s){return k$.render(t,s)});const NT=({value:t,size:e=128,className:s=""})=>{const r=p.useRef(null);return p.useEffect(()=>{r.current&&t&&Qc.toCanvas(r.current,t,{width:e,margin:1,color:{dark:"#000000",light:"#FFFFFF"}},i=>{i&&console.error("QR Code generation error:",i)})},[t,e]),n.jsx("div",{className:`inline-block bg-white p-1 rounded ${s}`,children:n.jsx("canvas",{ref:r,className:"block",style:{width:e,height:e}})})};var ST="https://js.stripe.com/v3",E$=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ww="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",_$=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ST,'"]')),s=0;s<e.length;s++){var r=e[s];if(E$.test(r.src))return r}return null},jw=function(e){var s="",r=document.createElement("script");r.src="".concat(ST).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},P$=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:s})},ll=null,zd=null,Bd=null,M$=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},R$=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},A$=function(e){return ll!==null?ll:(ll=new Promise(function(s,r){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&e&&console.warn(ww),window.Stripe){s(window.Stripe);return}try{var i=_$();if(i&&e)console.warn(ww);else if(!i)i=jw(e);else if(i&&Bd!==null&&zd!==null){var a;i.removeEventListener("load",Bd),i.removeEventListener("error",zd),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=jw(e)}Bd=R$(s,r),zd=M$(r),i.addEventListener("load",Bd),i.addEventListener("error",zd)}catch(o){r(o);return}}),ll.catch(function(s){return ll=null,Promise.reject(s)}))},D$=function(e,s,r){if(e===null)return null;var i=e.apply(void 0,s);return P$(i,r),i},cl,CT=!1,TT=function(){return cl||(cl=A$(null).catch(function(e){return cl=null,Promise.reject(e)}),cl)};Promise.resolve().then(function(){return TT()}).catch(function(t){CT||console.warn(t)});var kT=function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];CT=!0;var i=Date.now();return TT().then(function(a){return D$(a,s,i)})},ET={exports:{}},O$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I$=O$,L$=I$;function _T(){}function PT(){}PT.resetWarningCache=_T;var F$=function(){function t(r,i,a,o,l,c){if(c!==L$){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PT,resetWarningCache:_T};return s.PropTypes=s,s};ET.exports=F$();var $$=ET.exports;const gt=M0($$);function Nw(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function Sw(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Nw(Object(s),!0).forEach(function(r){MT(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Nw(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function hu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(e){return typeof e}:hu=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function MT(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function RT(t,e){return U$(t)||z$(t,e)||B$(t,e)||V$()}function U$(t){if(Array.isArray(t))return t}function z$(t,e){var s=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(s!=null){var r=[],i=!0,a=!1,o,l;try{for(s=s.call(t);!(i=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&s.return!=null&&s.return()}finally{if(a)throw l}}return r}}function B$(t,e){if(t){if(typeof t=="string")return Cw(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=new Array(e);s<e;s++)r[s]=t[s];return r}function V$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ps=function(e,s,r){var i=!!r,a=ue.useRef(r);ue.useEffect(function(){a.current=r},[r]),ue.useEffect(function(){if(!i||!e)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return e.on(s,o),function(){e.off(s,o)}},[i,s,e,a])},S0=function(e){var s=ue.useRef(e);return ue.useEffect(function(){s.current=e},[e]),s.current},Oo=function(e){return e!==null&&hu(e)==="object"},W$=function(e){return Oo(e)&&typeof e.then=="function"},H$=function(e){return Oo(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Tw="[object Object]",K$=function t(e,s){if(!Oo(e)||!Oo(s))return e===s;var r=Array.isArray(e),i=Array.isArray(s);if(r!==i)return!1;var a=Object.prototype.toString.call(e)===Tw,o=Object.prototype.toString.call(s)===Tw;if(a!==o)return!1;if(!a&&!r)return e===s;var l=Object.keys(e),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var f=Object.keys(d);if(f.length!==l.length)return!1;var x=e,y=s,m=function(g){return t(x[g],y[g])};return f.every(m)},AT=function(e,s,r){return Oo(e)?Object.keys(e).reduce(function(i,a){var o=!Oo(s)||!K$(e[a],s[a]);return r.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?Sw(Sw({},i||{}),{},MT({},a,e[a])):i},null):null},DT="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",kw=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DT;if(e===null||H$(e))return e;throw new Error(s)},q$=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DT;if(W$(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return kw(i,s)})};var r=kw(e,s);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},G$=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},yf=ue.createContext(null);yf.displayName="ElementsContext";var OT=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},IT=function(e){var s=e.stripe,r=e.options,i=e.children,a=ue.useMemo(function(){return q$(s)},[s]),o=ue.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=RT(o,2),c=l[0],d=l[1];ue.useEffect(function(){var f=!0,x=function(m){d(function(b){return b.stripe?b:{stripe:m,elements:m.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(y){y&&f&&x(y)}):a.tag==="sync"&&!c.stripe&&x(a.stripe),function(){f=!1}},[a,c,r]);var u=S0(s);ue.useEffect(function(){u!==null&&u!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,s]);var h=S0(r);return ue.useEffect(function(){if(c.elements){var f=AT(r,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[r,h,c.elements]),ue.useEffect(function(){G$(c.stripe)},[c.stripe]),ue.createElement(yf.Provider,{value:c},i)};IT.propTypes={stripe:gt.any,options:gt.object};var Q$=function(e){var s=ue.useContext(yf);return OT(s,e)},Z$=function(){var e=Q$("calls useElements()"),s=e.elements;return s};gt.func.isRequired;var LT=ue.createContext(null);LT.displayName="CustomCheckoutSdkContext";var X$=function(e,s){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CustomCheckoutProvider> provider."));return e},Y$=ue.createContext(null);Y$.displayName="CustomCheckoutContext";gt.any,gt.shape({clientSecret:gt.string.isRequired,elementsOptions:gt.object}).isRequired;var C0=function(e){var s=ue.useContext(LT),r=ue.useContext(yf);if(s&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return s?X$(s,e):OT(r,e)},J$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},At=function(e,s){var r="".concat(J$(e),"Element"),i=function(c){var d=c.id,u=c.className,h=c.options,f=h===void 0?{}:h,x=c.onBlur,y=c.onFocus,m=c.onReady,b=c.onChange,g=c.onEscape,v=c.onClick,w=c.onLoadError,j=c.onLoaderStart,C=c.onNetworksChange,P=c.onConfirm,E=c.onCancel,k=c.onShippingAddressChange,I=c.onShippingRateChange,$=C0("mounts <".concat(r,">")),_="elements"in $?$.elements:null,R="customCheckoutSdk"in $?$.customCheckoutSdk:null,W=ue.useState(null),H=RT(W,2),K=H[0],D=H[1],X=ue.useRef(null),z=ue.useRef(null);Ps(K,"blur",x),Ps(K,"focus",y),Ps(K,"escape",g),Ps(K,"click",v),Ps(K,"loaderror",w),Ps(K,"loaderstart",j),Ps(K,"networkschange",C),Ps(K,"confirm",P),Ps(K,"cancel",E),Ps(K,"shippingaddresschange",k),Ps(K,"shippingratechange",I),Ps(K,"change",b);var B;m&&(e==="expressCheckout"?B=m:B=function(){m(K)}),Ps(K,"ready",B),ue.useLayoutEffect(function(){if(X.current===null&&z.current!==null&&(_||R)){var J=null;R?J=R.createElement(e,f):_&&(J=_.create(e,f)),X.current=J,D(J),J&&J.mount(z.current)}},[_,R,f]);var G=S0(f);return ue.useEffect(function(){if(X.current){var J=AT(f,G,["paymentRequest"]);J&&"update"in X.current&&X.current.update(J)}},[f,G]),ue.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),ue.createElement("div",{id:d,className:u,ref:z})},a=function(c){C0("mounts <".concat(r,">"));var d=c.id,u=c.className;return ue.createElement("div",{id:d,className:u})},o=s?a:i;return o.propTypes={id:gt.string,className:gt.string,onChange:gt.func,onBlur:gt.func,onFocus:gt.func,onReady:gt.func,onEscape:gt.func,onClick:gt.func,onLoadError:gt.func,onLoaderStart:gt.func,onNetworksChange:gt.func,onConfirm:gt.func,onCancel:gt.func,onShippingAddressChange:gt.func,onShippingRateChange:gt.func,options:gt.object},o.displayName=r,o.__elementType=e,o},Dt=typeof window>"u",e8=ue.createContext(null);e8.displayName="EmbeddedCheckoutProviderContext";var t8=function(){var e=C0("calls useStripe()"),s=e.stripe;return s};At("auBankAccount",Dt);var Ew=At("card",Dt);At("cardNumber",Dt);At("cardExpiry",Dt);At("cardCvc",Dt);At("fpxBank",Dt);At("iban",Dt);At("idealBank",Dt);At("p24Bank",Dt);At("epsBank",Dt);At("payment",Dt);At("expressCheckout",Dt);At("currencySelector",Dt);At("paymentRequestButton",Dt);At("linkAuthentication",Dt);At("address",Dt);At("shippingAddress",Dt);At("paymentMethodMessaging",Dt);At("affirmMessage",Dt);At("afterpayClearpayMessage",Dt);class s8{constructor(){this.publishableKey="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",this.stripe=kT(this.publishableKey)}async createPaymentIntent(e,s){try{const r=await fetch("/api/payments/create-intent",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({amount:e,currency:s.toLowerCase()})});if(!r.ok){const i=await r.json();throw new Error(i.message||"Failed to create payment intent")}return await r.json()}catch(r){throw console.error("Payment intent creation failed:",r),r}}async confirmPayment(e,s){try{const r=await this.stripe;if(!r)throw new Error("Stripe not loaded");return await r.confirmPayment({clientSecret:e,confirmParams:{return_url:`${window.location.origin}/wallet?payment=success`},...s&&{paymentMethod:s}})}catch(r){throw console.error("Payment confirmation failed:",r),r}}async createPaymentMethod(e){try{const s=await this.stripe;if(!s)throw new Error("Stripe not loaded");const{error:r,paymentMethod:i}=await s.createPaymentMethod({type:"card",card:e});if(r)throw new Error(r.message);return i}catch(s){throw console.error("Payment method creation failed:",s),s}}async getStripe(){return await this.stripe}}const r8=new s8,n8=kT("pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef");function i8({amount:t,currency:e,onSuccess:s,onError:r}){const i=t8(),a=Z$(),{toast:o}=Gs(),[l,c]=p.useState(!1),[d,u]=p.useState("");p.useEffect(()=>{(async()=>{try{const{clientSecret:y}=await r8.createPaymentIntent(t,e);u(y)}catch(y){r(y instanceof Error?y.message:"Failed to initialize payment")}})()},[t,e,r]);const h=async x=>{if(x.preventDefault(),!i||!a||!d)return;c(!0);const y=a.getElement(Ew);if(!y){c(!1);return}try{const{error:m,paymentIntent:b}=await i.confirmCardPayment(d,{payment_method:{card:y}});m?(r(m.message||"Payment failed"),o({title:"Payment Failed",description:m.message,variant:"destructive"})):b.status==="succeeded"&&(s(b.id),o({title:"Payment Successful",description:`Successfully processed payment of ${t} ${e.toUpperCase()}`}))}catch(m){r(m instanceof Error?m.message:"Payment processing failed")}finally{c(!1)}},f={style:{base:{fontSize:"16px",color:"#ffffff",backgroundColor:"transparent","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444"}}};return n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 mb-2 block",children:"Card Information"}),n.jsx("div",{className:"p-3 border border-gray-600 rounded-lg bg-gray-700",children:n.jsx(Ew,{options:f})})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Amount: ",t," ",e.toUpperCase()]}),n.jsx("p",{className:"mt-1",children:"Your payment is secured by Stripe"})]}),n.jsx(V,{type:"submit",disabled:!i||l||!d,className:"w-full bg-green-600 hover:bg-green-700",children:l?"Processing...":`Pay ${t} ${e.toUpperCase()}`})]})}function a8({amount:t,currency:e,onSuccess:s,onError:r}){return n.jsx(IT,{stripe:n8,children:n.jsx(i8,{amount:t,currency:e,onSuccess:s,onError:r})})}function o8(){var mt,Be,Pt,jt,os,Ot,M,T,F,te;const[t,e]=p.useState("Balance"),[s,r]=p.useState(!0);Mr();const[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState("BTC"),[f,x]=p.useState("BTC"),[y,m]=p.useState(""),[b,g]=p.useState(null),v=p.useRef(null),[w,j]=p.useState(!1),[C,P]=p.useState(!1),[E,k]=p.useState(!1),[I,$]=p.useState(""),[_,R]=p.useState(""),[W,H]=p.useState(null),{toast:K}=Gs(),{user:D}=Wt(),{data:X=[]}=kt({queryKey:[`/api/users/${D==null?void 0:D.id}/withdrawals`],enabled:!!(D!=null&&D.id),queryFn:async()=>{try{const L=await fetch(`/api/users/${D.id}/withdrawals`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!L.ok)return console.log("Withdrawal history API failed, using empty array"),[];const N=await L.json();return console.log("📊 Withdrawal history fetched:",N),Array.isArray(N)?N:[]}catch(L){return console.error("Failed to fetch withdrawal history:",L),[]}},refetchInterval:3e4}),z=lr(),B={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:10,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:10,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:10,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},G=Qt({mutationFn:async L=>{const N=localStorage.getItem("authToken");if(!N)throw new Error("No authentication token found");const O=await fetch("/api/deposits",{method:"POST",headers:{Authorization:`Bearer ${N}`},body:L});if(!O.ok){const Y=await O.json();throw new Error(Y.message||"Failed to submit deposit")}return O.json()},onSuccess:L=>{K({title:"Deposit Submitted",description:"Your deposit request has been submitted for review."}),a(""),g(null),z.invalidateQueries({queryKey:["/api/balances"]})},onError:L=>{K({title:"Deposit Failed",description:L.message,variant:"destructive"})}}),J=L=>{var O;const N=(O=L.target.files)==null?void 0:O[0];if(N){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(N.type)){K({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(N.size>5*1024*1024){K({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}g(N)}},Te=L=>{navigator.clipboard.writeText(L),K({title:"Copied!",description:"Address copied to clipboard"})},me=()=>{if(!i||parseFloat(i)<=0){K({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!b){K({title:"Receipt Required",description:"Please upload a transaction receipt.",variant:"destructive"});return}const L=B[u];if(parseFloat(i)<L.minAmount){K({title:"Amount Too Small",description:`Minimum deposit amount is ${L.minAmount} ${u}.`,variant:"destructive"});return}const N=new FormData;N.append("amount",i),N.append("currency",u),N.append("receipt",b),G.mutate(N)},Oe=()=>{const L=B[u],N=L.address;return console.log("QR Code value:",N),`METACHROME DEPOSIT ADDRESS
${L.network}
${N}

COPY THIS ADDRESS TO YOUR WALLET`},{data:ae,isLoading:_e}=kt({queryKey:["/api/balances"],enabled:!!D,refetchInterval:5e3,staleTime:0,cacheTime:0,queryFn:async()=>{var O;console.log("🔍 WALLET: Fetching balance from /api/balances for user:",D==null?void 0:D.id,D==null?void 0:D.username),console.log("🔍 WALLET: Auth token:",((O=localStorage.getItem("authToken"))==null?void 0:O.substring(0,30))+"...");const L=await fetch("/api/balances",{credentials:"include",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("🔍 WALLET: Response status:",L.status,L.statusText),!L.ok){const Y=await L.text();throw console.error("❌ WALLET: Balance API failed:",L.status,Y),new Error(`Failed to fetch balance: ${L.status} ${Y}`)}const N=await L.json();return console.log("🔍 WALLET: Balance API response:",N),N}});kt({queryKey:["/api/market-data"],refetchInterval:3e4});const U=[{id:"Balance",label:"Balance"},{id:"Deposit",label:"Deposit"},{id:"Withdraw",label:"Withdraw"},{id:"Transfer",label:"Transfer"},{id:"Convert",label:"Convert"}],oe=parseFloat(((mt=ae==null?void 0:ae.find(L=>L.symbol==="USDT"))==null?void 0:mt.available)||"0");console.log("🔍 WALLET PAGE - Balance data:",{userId:D==null?void 0:D.id,userBalances:ae,usdtBalance:oe,balancesLoading:_e});const xe=oe,be=Qt({mutationFn:async L=>{const N=localStorage.getItem("authToken");if(!N)throw new Error("Please login first to make a withdrawal");const O=await fetch("/api/withdrawals",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({amount:L.amount,currency:L.currency,address:L.address})});if(!O.ok){const Y=await O.json();throw new Error(Y.message||"Withdrawal failed")}return O.json()},onSuccess:L=>{K({title:"Withdrawal Initiated",description:`Withdrawal of ${L.amount} ${L.currency} has been initiated`}),l(""),d(""),z.invalidateQueries({queryKey:["/api/balances"]})},onError:L=>{K({title:"Withdrawal Failed",description:L.message,variant:"destructive"})}}),Pe=()=>{if(!I.trim()){K({title:"Transaction Hash Required",description:"Please provide a valid transaction hash for verification",variant:"destructive"});return}G.mutate({...W,txHash:I}),j(!1),$(""),H(null)},ve=()=>{if(!_.trim()){K({title:"Transfer Reference Required",description:"Please provide your bank transfer reference number",variant:"destructive"});return}G.mutate({...W,paymentData:{transferReference:_}}),P(!1),R(""),H(null)},Je=L=>{G.mutate({...W,paymentData:{paymentIntentId:L}}),k(!1),H(null)},ze=L=>{K({title:"Payment Failed",description:L,variant:"destructive"})},ee=ae||[];return n.jsxs("div",{className:"min-h-screen bg-[#1a1b2e] pt-16",children:[n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"flex items-center space-x-1 mb-8 border-b border-gray-600",children:U.map(L=>n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>e(L.id),className:t===L.id?"bg-transparent text-white border-b-2 border-purple-500 rounded-none pb-3":"bg-transparent text-gray-400 hover:text-white rounded-none pb-3",children:L.label},L.id))})}),t==="Balance"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Balance"}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Total Balances"}),n.jsx("span",{className:"text-gray-400",children:"💰"})]}),n.jsx("button",{onClick:()=>r(!s),className:"text-purple-400 text-sm hover:text-purple-300",children:s?"Simple View":"Detailed View"})]}),n.jsx("div",{className:"text-4xl font-bold text-white",children:_e?n.jsx("span",{className:"animate-pulse",children:"Loading..."}):`${xe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})} USDT`}),n.jsxs("div",{className:"mt-4 bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[n.jsxs("div",{className:"text-blue-400 text-sm font-medium flex items-center mb-2",children:[n.jsx("span",{className:"mr-2",children:"💱"}),"Auto-Conversion System Active"]}),n.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[n.jsx("div",{children:"• All cryptocurrency deposits are automatically converted to USDT"}),n.jsx("div",{children:"• Real-time conversion with competitive rates"}),n.jsx("div",{children:"• Unified balance for easy management and instant withdrawals"})]})]})]})]})}),t==="Deposit"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Deposit"}),n.jsxs(le,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Add Funds"}),n.jsx(dt,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),n.jsxs("select",{value:u,onChange:L=>h(L.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"BTC",children:"BTC"}),n.jsx("option",{value:"ETH",children:"ETH"}),n.jsx("option",{value:"SOL",children:"SOL"}),n.jsx("option",{value:"USDT-ERC20",children:"USDT ERC20"}),n.jsx("option",{value:"USDT-TRC20",children:"USDT TRC20"}),n.jsx("option",{value:"USDT-BEP20",children:"USDT BEP20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"depositAmount",className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{id:"depositAmount",name:"depositAmount",type:"number",placeholder:"Please enter the recharge amount",value:i,onChange:L=>a(L.target.value),className:`w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ${i?"border-gray-600":"border-red-500"}`,min:((Be=B[u])==null?void 0:Be.minAmount)||0,step:"0.01"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",(Pt=B[u])==null?void 0:Pt.minAmount," ",u]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),n.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[n.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:["⚠️ Send ",u," to this address to deposit funds to your METACHROME account"]}),n.jsxs("p",{className:"text-yellow-300 text-xs",children:[n.jsx("strong",{children:"Important:"})," Only send on ",(jt=B[u])==null?void 0:jt.network,". Sending on wrong network will result in loss of funds!"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(os=B[u])==null?void 0:os.address}),n.jsx(V,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:()=>{var L;return Te((L=B[u])==null?void 0:L.address)},children:n.jsx(zu,{className:"w-4 h-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(Ot=B[u])==null?void 0:Ot.network]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(M=B[u])==null?void 0:M.description})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:n.jsx(NT,{value:Oe(),size:200,className:"mx-auto"})}),n.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),n.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",n.jsx("strong",{children:(T=B[u])==null?void 0:T.network})]}),n.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(F=B[u])==null?void 0:F.address]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs(V,{onClick:()=>{var L;return Te((L=B[u])==null?void 0:L.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[n.jsx(zu,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"💡 How to use:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${b?"border-gray-600":"border-red-500"}`,onClick:()=>{var L;return(L=v.current)==null?void 0:L.click()},children:b?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Zr,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:b.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ml,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{id:"receiptUpload",name:"receiptUpload",ref:v,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:J,className:"hidden"})]}),(!i||!b)&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[n.jsx("p",{className:"text-yellow-300 text-sm",children:"⚠️ Please complete all required fields:"}),n.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!i&&n.jsx("li",{children:"• Enter deposit amount"}),!b&&n.jsx("li",{children:"• Upload transaction receipt"})]})]}),n.jsx(V,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:me,disabled:G.isPending||!i||!b,children:G.isPending?"Processing...":"Confirm recharge"})]})})]})]})}),t==="Withdraw"&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Withdraw"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 text-sm font-medium",children:"Select Cryptocurrency"}),n.jsxs("select",{value:u,onChange:L=>{h(L.target.value),x(L.target.value)},className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[n.jsx("option",{value:"BTC",children:"Bitcoin (BTC)"}),n.jsx("option",{value:"ETH",children:"Ethereum (ETH)"}),n.jsx("option",{value:"USDT",children:"Tether (USDT)"}),n.jsx("option",{value:"SOL",children:"Solana (SOL)"})]})]}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Network"}),n.jsxs("select",{value:f,onChange:L=>x(L.target.value),className:"w-full mt-2 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[u==="USDT"&&n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"TRC20",children:"TRC20 (Tron)"}),n.jsx("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),n.jsx("option",{value:"BEP20",children:"BEP20 (BSC)"})]}),u==="BTC"&&n.jsx("option",{value:"BTC",children:"Bitcoin Network"}),u==="ETH"&&n.jsx("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),u==="SOL"&&n.jsx("option",{value:"SOL",children:"Solana Network"})]}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Please ensure you select the correct network to avoid loss of funds"})]}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Amount"}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx(Ce,{id:"withdrawAmount",name:"withdrawAmount",type:"number",placeholder:"0.00",value:c,onChange:L=>d(L.target.value),className:"bg-gray-700 border-gray-600 text-white pr-16 focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:u})]}),n.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[n.jsxs("span",{children:["Available: ",((te=ee.find(L=>L.symbol===u))==null?void 0:te.available)||"0"," ",u]}),n.jsx("button",{onClick:()=>{var L;return d(((L=ee.find(N=>N.symbol===u))==null?void 0:L.available)||"0")},className:"text-purple-400 hover:text-purple-300",children:"Max"})]})]}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 text-sm font-medium",children:"Withdrawal Address"}),n.jsx(Ce,{id:"withdrawAddress",name:"withdrawAddress",type:"text",placeholder:`Enter ${u} address`,value:o,onChange:L=>l(L.target.value),className:"mt-2 bg-gray-700 border-gray-600 text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Double-check the address. Transactions cannot be reversed."})]}),n.jsxs("div",{children:[n.jsx(xt,{className:"text-gray-300 text-sm font-medium",children:"Fund Password"}),n.jsx(Ce,{id:"fundPassword",name:"fundPassword",type:"password",placeholder:"Enter your fund password",value:y,onChange:L=>m(L.target.value),className:"mt-2 bg-gray-700 border-gray-600 text-white focus:border-purple-500 focus:ring-1 focus:ring-purple-500"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Fund password is required for security verification"})]}),n.jsx(V,{onClick:()=>{if(!o||!c||!y||parseFloat(c)<=0){K({title:"Invalid Input",description:"Please fill in all required fields",variant:"destructive"});return}be.mutate({address:o,amount:c,currency:u})},disabled:!o||!c||!y||be.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 py-3",children:be.isPending?"Processing Withdrawal...":"Confirm Withdrawal"})]})})})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsxs(ce,{className:"p-6",children:[n.jsx("h3",{className:"text-white text-lg font-semibold mb-4",children:"Recent Withdrawals"}),n.jsxs("div",{className:"space-y-4",children:[X.length>0?X.slice(0,3).map((L,N)=>n.jsx("div",{className:"border-b border-gray-700 pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-white text-sm font-medium",children:[L.amount," ",L.currency]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[L.currency," Network"]}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[new Date(L.created_at||L.timestamp).toLocaleDateString()," ",new Date(L.created_at||L.timestamp).toLocaleTimeString()]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${L.status==="pending"?"bg-yellow-500/20 text-yellow-400":L.status==="approved"||L.status==="completed"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:L.status==="approved"?"Completed":L.status.charAt(0).toUpperCase()+L.status.slice(1)})]})},L.id||N)):n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No withdrawal history"})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{className:"text-purple-400 hover:text-purple-300 text-sm transition-colors",children:"View All History"})})]})]})})})]})]})}),(t==="Transfer"||t==="Convert")&&n.jsx("div",{className:"space-y-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:t}),n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"w-16 h-16 bg-gray-700 rounded-full mx-auto mb-4 flex items-center justify-center",children:[t==="Transfer"&&n.jsx(FM,{className:"w-8 h-8 text-gray-400"}),t==="Convert"&&n.jsx(wM,{className:"w-8 h-8 text-gray-400"})]}),n.jsxs("h3",{className:"text-xl font-semibold text-white mb-2",children:[t," Feature"]}),n.jsxs("p",{className:"text-gray-400 mb-6",children:[t," functionality will be available soon. Stay tuned for updates."]}),n.jsx(V,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:"Coming Soon"})]})})})]})})]}),n.jsx(ro,{open:w,onOpenChange:j,children:n.jsxs(Hi,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ki,{children:n.jsx(qi,{className:"text-white",children:"Enter Transaction Hash"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your transaction hash for verification. This helps us confirm your deposit."}),n.jsxs("div",{children:[n.jsx(xt,{htmlFor:"txHash",className:"text-gray-300",children:"Transaction Hash"}),n.jsx(Ce,{id:"txHash",type:"text",placeholder:"0x...",value:I,onChange:L=>$(L.target.value),className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(V,{variant:"outline",onClick:()=>{j(!1),$(""),H(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),n.jsx(V,{onClick:Pe,disabled:!I.trim()||G.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:G.isPending?"Processing...":"Confirm"})]})]})]})}),n.jsx(ro,{open:C,onOpenChange:P,children:n.jsxs(Hi,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ki,{children:n.jsx(qi,{className:"text-white",children:"Enter Bank Transfer Reference"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Please enter your bank transfer reference number. This helps us verify your payment."}),n.jsxs("div",{children:[n.jsx(xt,{htmlFor:"bankRef",className:"text-gray-300",children:"Transfer Reference Number"}),n.jsx(Ce,{id:"bankRef",type:"text",placeholder:"Enter reference number",value:_,onChange:L=>R(L.target.value),className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(V,{variant:"outline",onClick:()=>{P(!1),R(""),H(null)},className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"}),n.jsx(V,{onClick:ve,disabled:!_.trim()||G.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:G.isPending?"Processing...":"Confirm"})]})]})]})}),n.jsx(ro,{open:E,onOpenChange:k,children:n.jsxs(Hi,{className:"bg-gray-800 border-gray-700 max-w-md",children:[n.jsx(Ki,{children:n.jsx(qi,{className:"text-white",children:"Credit/Debit Card Payment"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Complete your payment securely with Stripe. Your card information is encrypted and secure."}),W&&n.jsx(a8,{amount:W.amount,currency:"usd",onSuccess:Je,onError:ze}),n.jsx(V,{variant:"outline",onClick:()=>{k(!1),H(null)},className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancel"})]})]})})]})}const l8="/assets/support_banner_desktop-1759988004767.jpg",c8="/assets/support_banner_mobile-1759988004767.jpg";function d8(){p.useState(null);const[t,e]=p.useState(null),s=Mr(),r=Date.now();console.log("SupportPage loaded - NO BANNER TEXT should appear!",{cacheKey:r});const i=[{icon:"/icon_support_email.png",title:"Email Us",description:"Email our support team for general queries or platform assistance.",contact:"support@metachrome.io",action:"Email",color:"from-purple-500 to-purple-600"},{icon:"/icon_support_livechat.png",title:"Live Chat",description:"Get in touch with our team members over Live Chat 24/7.",contact:"",action:"Live Chat",color:"from-purple-500 to-purple-600"},{icon:"/icon_support_whatsapp.png",title:"WhatsApp",description:"Get in touch with our team members over WhatsApp.",contact:"",action:"WhatsApp",color:"from-purple-500 to-purple-600"}],a=[{question:"What products does METACHROME Ecosystem include?",answer:"Our ecosystem includes spot trading, futures, options, and advanced trading tools with MetaMask integration."},{question:"Why is it better to trade cryptocurrencies on METACHROME?",answer:"Advanced trading features with competitive fees, superior execution, and admin-controlled outcomes."},{question:"Can I buy cryptocurrency with a credit card?",answer:"Yes, we support multiple payment methods including credit cards and crypto wallets."},{question:"How to buy cryptocurrency on METACHROME?",answer:"Connect your MetaMask wallet and start trading with our intuitive interface."},{question:"How to Complete Identity Verification?",answer:"Upload required documents through our secure verification system for enhanced features."}];return n.jsxs("div",{className:"min-h-screen bg-[#0B0E11]",children:[n.jsx("section",{className:"relative overflow-hidden bg-black w-full py-4 sm:py-8",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:`relative overflow-hidden rounded-lg ${s?"h-48 sm:h-64":"h-80"}`,children:[n.jsx("img",{src:s?c8:l8,alt:"Support Banner",className:"w-full h-full object-contain"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]})})}),n.jsx("section",{className:"bg-black",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:n.jsx("div",{className:`grid gap-6 ${s?"grid-cols-1 mb-8":"grid-cols-1 md:grid-cols-3 gap-8 mb-20"}`,children:i.map((o,l)=>n.jsx(le,{className:"bg-[#1A1D29] border-gray-800 overflow-hidden hover:bg-[#1E2329] transition-colors rounded-xl",children:n.jsxs(ce,{className:`${s?"p-6":"p-8"} text-center h-full flex flex-col`,children:[n.jsx("div",{className:`${s?"mb-4":"mb-6"}`,children:n.jsx("img",{src:o.icon,alt:o.title,className:`mx-auto object-contain ${s?"w-12 h-12":"w-16 h-16"}`,onLoad:()=>console.log("Support icon loaded:",o.icon),onError:c=>{console.error("Support icon failed to load:",c.target.src)}})}),n.jsx("h3",{className:`font-semibold text-white ${s?"text-lg mb-3":"text-xl mb-4"}`,children:o.title}),n.jsx("p",{className:`text-gray-400 leading-relaxed flex-grow ${s?"mb-4 text-sm":"mb-6 text-sm"}`,children:o.description}),o.contact&&n.jsx("p",{className:`text-white font-medium ${s?"mb-4 text-sm":"mb-6"}`,children:o.contact}),o.title!=="Email Us"&&n.jsx(V,{className:`text-white w-full rounded-lg font-medium mt-auto hover:opacity-90 ${s?"py-2 text-sm":"py-3"}`,style:{backgroundColor:"#AB00FF"},children:o.action})]})},l))})})}),n.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-16",children:s?n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed text-sm sm:text-base px-2",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),n.jsx("div",{className:"flex justify-center mb-8",children:n.jsx("div",{className:"w-48 h-48 sm:w-64 sm:h-64",children:n.jsx("img",{src:sh,alt:"Crypto FAQ",className:"w-full h-full object-contain"})})})]}),n.jsx("div",{className:"space-y-4 px-2",children:a.map((o,l)=>n.jsxs(Ju,{open:t===l,onOpenChange:()=>e(t===l?null:l),children:[n.jsx(eh,{asChild:!0,children:n.jsx(le,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===l?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:n.jsx(ce,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:`font-medium pr-3 text-sm transition-colors duration-300 ${t===l?"text-purple-400":"text-white"}`,children:o.question}),n.jsx(ui,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===l?"rotate-180 text-purple-400":""}`})]})})})}),n.jsx(th,{children:n.jsx("div",{className:"px-4 pb-4 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:o.answer})})})]},l))})]}):n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"order-2 lg:order-1 p-0 m-0",children:[n.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-gray-400 mb-0 leading-relaxed text-xl",children:"Begin your trading journey and stand a chance to earn exciting rewards worth up to $300 through our Mystery Box promotion."}),n.jsx("div",{className:"p-0 m-0",children:n.jsx("div",{className:"w-[564px] h-[564px] p-0 m-0",children:n.jsx("img",{src:sh,alt:"Crypto FAQ",className:"w-full h-full object-contain p-0 m-0 block"})})})]}),n.jsx("div",{className:"space-y-4 order-1 lg:order-2",children:a.map((o,l)=>n.jsxs(Ju,{open:t===l,onOpenChange:()=>e(t===l?null:l),children:[n.jsx(eh,{asChild:!0,children:n.jsx(le,{className:`bg-black border-2 transition-all duration-300 cursor-pointer ${t===l?"border-purple-500 shadow-lg shadow-purple-500/50":"border-gray-700 hover:border-purple-400"}`,children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:`font-medium pr-4 text-lg transition-colors duration-300 ${t===l?"text-purple-400":"text-white"}`,children:o.question}),n.jsx(ui,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 flex-shrink-0 ${t===l?"rotate-180 text-purple-400":""}`})]})})})}),n.jsx(th,{children:n.jsx("div",{className:"px-6 pb-6 bg-black border-l-2 border-r-2 border-b-2 border-gray-700 rounded-b-lg",children:n.jsx("p",{className:"text-gray-400 text-lg",children:o.answer})})})]},l))})]})})]},`support-page-clean-${r}`)}const ka=p.forwardRef(({className:t,...e},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:ke("w-full caption-bottom text-sm",t),...e})}));ka.displayName="Table";const Ea=p.forwardRef(({className:t,...e},s)=>n.jsx("thead",{ref:s,className:ke("[&_tr]:border-b",t),...e}));Ea.displayName="TableHeader";const _a=p.forwardRef(({className:t,...e},s)=>n.jsx("tbody",{ref:s,className:ke("[&_tr:last-child]:border-0",t),...e}));_a.displayName="TableBody";const u8=p.forwardRef(({className:t,...e},s)=>n.jsx("tfoot",{ref:s,className:ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u8.displayName="TableFooter";const Ms=p.forwardRef(({className:t,...e},s)=>n.jsx("tr",{ref:s,className:ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ms.displayName="TableRow";const Qe=p.forwardRef(({className:t,...e},s)=>n.jsx("th",{ref:s,className:ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Qe.displayName="TableHead";const He=p.forwardRef(({className:t,...e},s)=>n.jsx("td",{ref:s,className:ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));He.displayName="TableCell";const h8=p.forwardRef(({className:t,...e},s)=>n.jsx("caption",{ref:s,className:ke("mt-4 text-sm text-muted-foreground",t),...e}));h8.displayName="TableCaption";var Ux="Tabs",[f8,PU]=cr(Ux,[Jh]),FT=Jh(),[m8,zx]=f8(Ux),$T=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Zh(l),[h,f]=ra({prop:r,onChange:i,defaultProp:a});return n.jsx(m8,{scope:s,baseId:Nr(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:n.jsx(Le.div,{dir:u,"data-orientation":o,...d,ref:e})})});$T.displayName=Ux;var UT="TabsList",zT=p.forwardRef((t,e)=>{const{__scopeTabs:s,loop:r=!0,...i}=t,a=zx(UT,s),o=FT(s);return n.jsx(d2,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Le.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});zT.displayName=UT;var BT="TabsTrigger",VT=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=t,o=zx(BT,s),l=FT(s),c=KT(o.baseId,r),d=qT(o.baseId,r),u=r===o.value;return n.jsx(u2,{asChild:!0,...l,focusable:!i,active:u,children:n.jsx(Le.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:fe(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});VT.displayName=BT;var WT="TabsContent",HT=p.forwardRef((t,e)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=t,l=zx(WT,s),c=KT(l.baseId,r),d=qT(l.baseId,r),u=r===l.value,h=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Pr,{present:i||u,children:({present:f})=>n.jsx(Le.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});HT.displayName=WT;function KT(t,e){return`${t}-trigger-${e}`}function qT(t,e){return`${t}-content-${e}`}var p8=$T,GT=zT,QT=VT,ZT=HT;const XT=p8,Bx=p.forwardRef(({className:t,...e},s)=>n.jsx(GT,{ref:s,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bx.displayName=GT.displayName;const hs=p.forwardRef(({className:t,...e},s)=>n.jsx(QT,{ref:s,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));hs.displayName=QT.displayName;const fs=p.forwardRef(({className:t,...e},s)=>n.jsx(ZT,{ref:s,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));fs.displayName=ZT.displayName;const YT=t=>{if(typeof t=="number")return t;if(typeof t=="string"){const e=t.replace(/[^0-9.-]/g,""),s=parseFloat(e);return isNaN(s)?0:s}return 0},Vd=t=>{const e=YT(t);return(Math.round(e*100)/100).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},_w=t=>t.reduce((e,s)=>{const r=YT(s.balance);return e+r},0),g8=t=>{if(t.symbol)return t.symbol;if(t.currency)return t.currency;if(t.type==="withdrawal"&&t.description){const e=t.description.match(/- (BTC|ETH|USDT|SOL|USDT-ERC20|USDT-TRC20|USDT-BEP20)/);if(e)return e[1]}return"USDT"},x8=t=>{const e=g8(t);return`${t.amount.toLocaleString()} ${e}`};function Pw(){var tv,sv,rv,nv,iv,av;const{user:t}=Wt(),[e,s]=p.useState([]),[r,i]=p.useState([]),[a,o]=p.useState([]),[l,c]=p.useState({deposits:[],withdrawals:[],total:0}),[d,u]=p.useState(null),[h,f]=p.useState(!1),[x,y]=p.useState([]),[m,b]=p.useState(null),[g,v]=p.useState([]),[w,j]=p.useState(null),[C,P]=p.useState(!1),[E,k]=p.useState(!1),[I,$]=p.useState(null),[_,R]=p.useState({code:"",bonusAmount:"",maxUses:"",description:""}),[W,H]=p.useState({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),[K,D]=p.useState(!1),[X,z]=p.useState(!1),[B,G]=p.useState(!1),[J,Te]=p.useState(!1),[me,Oe]=p.useState(null),[ae,_e]=p.useState(""),[U,oe]=p.useState(""),[xe,be]=p.useState(""),[Pe,ve]=p.useState(""),[Je,ze]=p.useState([]),[ee,mt]=p.useState(null),Be=JSON.parse(localStorage.getItem("user")||"{}"),Pt=localStorage.getItem("authToken")||"",jt=Be.role==="super_admin"||Be.role==="superadmin"||Be.username==="superadmin"||Pt.includes("superadmin")||Pt.includes("admin-session-superadmin");console.log("🔧 Current user:",Be),console.log("🔧 Auth token:",Pt.substring(0,30)+"..."),console.log("🔧 Current user role:",Be.role),console.log("🔧 Is Super Admin:",jt),console.log("🔧 Role check details:",{role:Be.role,username:Be.username,isSuper:Be.role==="super_admin",isSuperadmin:Be.role==="superadmin",isUsernameSuper:Be.username==="superadmin",tokenHasSuper:Pt.includes("superadmin"),tokenHasAdminSession:Pt.includes("admin-session-superadmin"),finalResult:jt});const os=async()=>{try{if(console.log("🔄 FORCE refreshing transactions with aggressive cache busting..."),"serviceWorker"in navigator&&"caches"in window){const zt=await caches.keys();await Promise.all(zt.map(_s=>caches.delete(_s)))}const S=Date.now(),q=Math.random().toString(36).substring(7),je=Math.random().toString(36).substring(2,15),Z=`/api/admin/transactions?_t=${S}&_r=${q}&_bust=${Date.now()}&_force=${je}&_nocache=${Math.random()}`;console.log("🔄 Force fetching from URL:",Z);const we=await fetch(Z,{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest","If-None-Match":"*","X-Force-Refresh":"true"},cache:"no-store"});if(we.ok){const zt=await we.json();return console.log("💰 FORCE refreshed transactions:",zt.length,"transactions"),console.log("💰 First 3 transaction IDs:",zt.slice(0,3).map(_s=>_s.id)),o([...zt]),!0}else return console.error("❌ Failed to force refresh transactions:",we.status),!1}catch(S){return console.error("❌ Force refresh error:",S),!1}},Ot=async()=>await os(),M=async()=>{f(!0);let S=!1;try{console.log("🔄 Fetching all data...");const q=Date.now(),je={"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"};try{const Z=await fetch(`/api/admin/users?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("👥 Users loaded:",we),s(we)}else console.error("❌ Failed to fetch users:",Z.status),S=!0}catch(Z){console.error("❌ Users fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/live-trades?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("🔴 Live trades loaded:",we);const zt=we.trades||we;i(zt)}else console.error("❌ Failed to fetch trades:",Z.status),S=!0}catch(Z){console.error("❌ Trades fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/transactions?_t=${q}&_r=${Math.random()}`,{headers:{...je,"X-Requested-With":"XMLHttpRequest","If-None-Match":"*"}});if(Z.ok){const we=await Z.json();console.log("💰 Transactions loaded:",we.length,"transactions"),o(we)}else console.error("❌ Failed to fetch transactions:",Z.status),S=!0}catch(Z){console.error("❌ Transactions fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/stats?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("📊 Stats loaded:",we),u(we)}else console.error("❌ Failed to fetch stats:",Z.status),S=!0}catch(Z){console.error("❌ Stats fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/pending-requests?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("🔔 Pending requests loaded:",we),c(we)}else console.error("❌ Failed to fetch pending requests:",Z.status),S=!0}catch(Z){console.error("❌ Pending requests fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/pending-verifications?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("📄 Pending verifications loaded:",we),y(we);const zt={pending:we.filter(_s=>_s.verification_status==="pending").length,approved:we.filter(_s=>_s.verification_status==="approved").length,rejected:we.filter(_s=>_s.verification_status==="rejected").length,total:we.length};b(zt)}else console.error("❌ Failed to fetch pending verifications:",Z.status),S=!0}catch(Z){console.error("❌ Pending verifications fetch error:",Z),S=!0}try{const Z=await fetch(`/api/admin/redeem-codes?_t=${q}`,{headers:je});if(Z.ok){const we=await Z.json();console.log("🎁 Redeem codes loaded:",we),v(we.codes||[]),j(we.stats||{})}else console.error("❌ Failed to fetch redeem codes:",Z.status),S=!0}catch(Z){console.error("❌ Redeem codes fetch error:",Z),S=!0}S?Fe({title:"Warning",description:"Some data failed to load. Check console for details.",variant:"destructive"}):console.log("✅ All data loaded successfully")}catch(q){console.error("❌ Unexpected error fetching data:",q),Fe({title:"Error",description:"Unexpected error occurred while loading data",variant:"destructive"})}finally{f(!1)}},T=async()=>{if(!W.username||!W.email||!W.password){Fe({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{console.log("👤 Creating user:",W);const S=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(S.ok){const q=await S.json();console.log("✅ User created:",q),Fe({title:"Success",description:`User ${q.username} created successfully!`}),H({username:"",email:"",password:"",balance:1e4,role:"user",trading_mode:"normal"}),M()}else throw new Error("Failed to create user")}catch(S){console.error("❌ Error creating user:",S),Fe({title:"Error",description:"Failed to create user",variant:"destructive"})}},F=async(S,q)=>{try{console.log("🎯 Updating trading mode:",S,q);const je=await fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:S,controlType:q})});if(je.ok){const Z=await je.json();console.log("✅ Trading mode updated:",Z),Fe({title:"Success",description:`Trading mode updated to ${q.toUpperCase()}`,duration:2e3}),s(we=>we.map(zt=>zt.id===S?{...zt,trading_mode:q}:zt)),console.log(`🎯 Trading mode for user ${S} updated to ${q.toUpperCase()} in UI`)}else throw new Error("Failed to update trading mode")}catch(je){console.error("❌ Error updating trading mode:",je),Fe({title:"Error",description:"Failed to update trading mode",variant:"destructive"})}},te=async(S,q)=>{try{console.log("🎮 Controlling trade:",S,q);const je=await fetch(`/api/admin/trades/${S}/control`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:q})});if(je.ok){const Z=await je.json();console.log("✅ Trade controlled:",Z),Fe({title:"Trade Controlled",description:`Trade set to ${q.toUpperCase()}`}),i(r.map(we=>we.id===S?{...we,result:q}:we)),M()}else throw new Error("Failed to control trade")}catch(je){console.error("❌ Error controlling trade:",je),Fe({title:"Error",description:"Failed to control trade",variant:"destructive"})}},L=async S=>{try{console.log("🗑️ Deleting trade:",S);const q=[...r];i(Z=>Z.filter(we=>we.id!==S));const je=await fetch(`/api/admin/trades/${S}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(je.ok){const Z=await je.json();console.log("✅ Trade deleted:",Z),Fe({title:"Trade Deleted",description:Z.message||"Trade deleted successfully",duration:3e3}),M()}else{console.log("🗑️ Delete failed, restoring original state..."),i(q);const Z=await je.text();throw new Error(Z||"Failed to delete trade")}}catch(q){console.error("❌ Error deleting trade:",q),i(je=>[...r]),Fe({title:"Error",description:q instanceof Error?q.message:"Failed to delete trade",variant:"destructive",duration:5e3})}},[N,O]=p.useState(!1),[Y,Q]=p.useState(!1),[se,Re]=p.useState(null),[Ne,Ie]=p.useState({});p.useEffect(()=>{console.log("📊 Edit form data updated:",Ne)},[Ne]);const It=S=>{console.log("👁️ Viewing user:",S),Re(S),O(!0)},Yt=S=>{console.log("✏️ Editing user:",S),Re(S);const q={username:S.username,email:S.email,balance:S.balance,trading_mode:S.trading_mode,role:S.role,status:S.status,wallet_address:S.wallet_address||""};console.log("📝 Setting edit form data:",q),Ie(q),Q(!0)},Ht=async()=>{try{if((await fetch(`/api/admin/users/${se.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ne)})).ok)Fe({title:"Success",description:"User updated successfully"}),Q(!1),setTimeout(()=>{M()},100);else throw new Error("Failed to update user")}catch(S){console.error("❌ Error updating user:",S),Fe({title:"Error",description:"Failed to update user",variant:"destructive"})}},ya=async S=>{if(confirm(`Are you sure you want to delete user "${S.username}"? This action cannot be undone.`))try{if((await fetch(`/api/admin/users/${S.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)Fe({title:"Success",description:`User "${S.username}" deleted successfully`}),setTimeout(()=>{M()},100);else throw new Error("Failed to delete user")}catch(q){console.error("❌ Error deleting user:",q),Fe({title:"Error",description:"Failed to delete user",variant:"destructive"})}},Dk=async()=>{if(!(!me||!ae))try{const S=await fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:me.id,amount:Number(ae),note:`Admin deposit for ${me.username}`})});if(S.ok){const q=await S.json();Fe({title:"Success",description:q.message}),_e(""),D(!1),setTimeout(()=>{M()},100)}else throw new Error("Failed to process deposit")}catch{Fe({title:"Error",description:"Failed to process deposit",variant:"destructive"})}},Ok=async()=>{if(!(!me||!U))try{const S=await fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:me.id,amount:Number(U),note:`Admin withdrawal for ${me.username}`})});if(S.ok){const q=await S.json();Fe({title:"Success",description:q.message}),oe(""),z(!1),setTimeout(()=>{M()},100)}else{const q=await S.json();throw new Error(q.error||"Failed to process withdrawal")}}catch(S){Fe({title:"Error",description:S.message||"Failed to process withdrawal",variant:"destructive"})}},Ik=async()=>{if(!(!me||!xe))try{const S=await fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:me.id,newPassword:xe})});if(S.ok){const q=await S.json();Fe({title:"Success",description:q.message}),be(""),G(!1),setTimeout(()=>{M()},100)}else{const q=await S.json();throw new Error(q.error||"Failed to change password")}}catch(S){Fe({title:"Error",description:S.message||"Failed to change password",variant:"destructive"})}},Lk=async()=>{if(me)try{const S=await fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:me.id,walletAddress:Pe})});if(S.ok){const q=await S.json();Fe({title:"Success",description:q.message}),Oe({...me,wallet_address:Pe}),s(je=>je.map(Z=>Z.id===me.id?{...Z,wallet_address:Pe}:Z)),ve(""),Xx(me.id),setTimeout(()=>{M()},100)}else throw new Error("Failed to update wallet address")}catch{Fe({title:"Error",description:"Failed to update wallet address",variant:"destructive"})}},Xx=async S=>{try{const q=await fetch(`/api/superadmin/wallet-history/${S}`);if(q.ok){const je=await q.json();ze(je.history||[])}}catch(q){console.error("Failed to load wallet history:",q),ze([])}},Yx=async(S,q,je)=>{try{console.log("🏦 Deposit action:",S,q,je);const Z=await fetch(`/api/admin/deposits/${S}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:q,reason:je})});if(Z.ok){const we=await Z.json();Fe({title:`Deposit ${q==="approve"?"Approved":"Rejected"}`,description:we.message||`Deposit ${q}d successfully`,duration:3e3}),M()}else{const we=await Z.text();throw new Error(we||"Failed to process deposit")}}catch(Z){console.error("Failed to process deposit:",Z),Fe({title:"Error",description:Z instanceof Error?Z.message:"Failed to process deposit",variant:"destructive",duration:5e3})}},Jx=async(S,q,je)=>{try{console.log("💰 Withdrawal action:",S,q,je);const Z=await fetch(`/api/admin/withdrawals/${S}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:q,reason:je})});if(Z.ok){const we=await Z.json();Fe({title:`Withdrawal ${q==="approve"?"Approved":"Rejected"}`,description:we.message||`Withdrawal ${q}d successfully`,duration:3e3}),M()}else{const we=await Z.text();throw new Error(we||"Failed to process withdrawal")}}catch(Z){console.error("Failed to process withdrawal:",Z),Fe({title:"Error",description:Z instanceof Error?Z.message:"Failed to process withdrawal",variant:"destructive",duration:5e3})}},ev=async(S,q,je)=>{try{console.log("📄 Document action:",S,q,je);const Z=await fetch(`/api/admin/verify-document/${S}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({status:q==="approve"?"approved":"rejected",adminNotes:je||`Document ${q}d by admin`})});if(Z.ok){const we=await Z.json();Fe({title:`Document ${q==="approve"?"Approved":"Rejected"}`,description:we.message||`Document ${q}d successfully`,duration:3e3}),M()}else{const we=await Z.text();throw new Error(we||"Failed to process document")}}catch(Z){console.error("Failed to process document:",Z),Fe({title:"Error",description:Z instanceof Error?Z.message:"Failed to process document",variant:"destructive",duration:5e3})}},Fk=async S=>{try{console.log("🗑️ Deleting transaction:",S),console.log("🗑️ Current transactions count before deletion:",a.length);const q=[...a];o(Z=>Z.map(we=>we.id===S?{...we,deleting:!0}:we));const je=await fetch(`/api/admin/transactions/${S}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(je.ok){const Z=await je.json();console.log("🗑️ Delete response:",Z),console.log("🔄 Immediately refreshing transactions after successful deletion..."),await Ot()?Fe({title:"Transaction Deleted",description:Z.message||"Transaction deleted successfully",duration:3e3}):(o(zt=>zt.filter(_s=>_s.id!==S)),Fe({title:"Transaction Deleted",description:"Transaction deleted (manual update)",duration:3e3}))}else{console.log("🗑️ Delete failed, restoring original state..."),o(q);const Z=await je.text();throw new Error(Z||"Failed to delete transaction")}}catch(q){console.error("Failed to delete transaction:",q),console.log("🗑️ Error occurred, restoring original state..."),o(je=>je.filter(Z=>!Z.deleting)),Fe({title:"Error",description:q instanceof Error?q.message:"Failed to delete transaction",variant:"destructive",duration:5e3})}},$k=S=>{const q=`/api/admin/receipt/${S}/view`;window.open(q,"receiptViewer","width=800,height=600,scrollbars=yes,resizable=yes")},Sf=async(S,q)=>{try{if(console.log("🎁 Redeem code action:",S,q),q==="edit"){const Z=g.find(we=>we.id===S||we.code===S);Z?($(Z),k(!0)):Fe({title:"Error",description:"Code not found",variant:"destructive"});return}const je=await fetch(`/api/admin/redeem-codes/${S}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:q})});if(je.ok){const Z=await je.json();Fe({title:`Code ${q==="disable"?"Disabled":"Deleted"}`,description:Z.message||`Code ${q}d successfully`,duration:3e3}),setTimeout(()=>{M()},100)}else{const Z=await je.text();throw new Error(Z||`Failed to ${q} code`)}}catch(je){console.error(`Failed to ${q} redeem code:`,je),Fe({title:"Error",description:je instanceof Error?je.message:`Failed to ${q} code`,variant:"destructive",duration:5e3})}},Uk=async()=>{try{if(!I||!I.bonus_amount){Fe({title:"Missing Information",description:"Please fill in bonus amount",variant:"destructive"});return}const S=await fetch(`/api/admin/redeem-codes/${I.id}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({action:"edit",newAmount:parseFloat(I.bonus_amount),newDescription:I.description,newMaxUses:I.max_uses?parseInt(I.max_uses):null})});if(S.ok){const q=await S.json();Fe({title:"Code Updated",description:`Redeem code ${I.code} updated successfully`,duration:3e3}),k(!1),$(null),M()}else{const q=await S.text();throw new Error(q||"Failed to update code")}}catch(S){console.error("Failed to update redeem code:",S),Fe({title:"Error",description:S instanceof Error?S.message:"Failed to update code",variant:"destructive",duration:5e3})}},zk=async()=>{try{if(!_.code||!_.bonusAmount){Fe({title:"Missing Information",description:"Please fill in code and bonus amount",variant:"destructive"});return}const S=await fetch("/api/admin/redeem-codes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({code:_.code.toUpperCase(),bonusAmount:parseFloat(_.bonusAmount),maxUses:_.maxUses?parseInt(_.maxUses):null,description:_.description||`Bonus code for $${_.bonusAmount}`})});if(S.ok){const q=await S.json();Fe({title:"Code Created",description:`Redeem code ${_.code} created successfully`,duration:3e3}),P(!1),R({code:"",bonusAmount:"",maxUses:"",description:""}),M()}else{const q=await S.text();throw new Error(q||"Failed to create code")}}catch(S){console.error("Failed to create redeem code:",S),Fe({title:"Error",description:S instanceof Error?S.message:"Failed to create code",variant:"destructive",duration:5e3})}},ba=(S,q)=>{switch(console.log("🔧 Opening super admin modal:",q,"for user:",S.username),Oe(S),ve(S.wallet_address||""),q){case"deposit":D(!0);break;case"withdrawal":z(!0);break;case"password":G(!0);break;case"wallet":Te(!0),Xx(S.id);break}};p.useEffect(()=>{M();const S=setInterval(M,5e3);return()=>clearInterval(S)},[]);const Bk=S=>{const q=Date.now(),je=new Date(S).getTime(),Z=Math.max(0,je-q);return Math.floor(Z/1e3)};return n.jsxs(n.Fragment,{children:[n.jsx("style",{children:`
        .admin-table-container {
          scrollbar-width: thin;
          scrollbar-color: #6b7280 #374151;
        }
        .admin-table-container::-webkit-scrollbar {
          height: 8px;
        }
        .admin-table-container::-webkit-scrollbar-track {
          background: #374151;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb {
          background: #6b7280;
          border-radius: 4px;
        }
        .admin-table-container::-webkit-scrollbar-thumb:hover {
          background: #9ca3af;
        }
      `}),n.jsxs("div",{className:"min-h-screen bg-gray-900",children:[n.jsx("div",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(zr,{className:"w-8 h-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"METACHROME Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Complete Trading Platform Control"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(V,{onClick:M,variant:"outline",size:"sm",disabled:h,children:[n.jsx(xn,{className:`w-4 h-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]}),n.jsxs(V,{onClick:os,variant:"outline",size:"sm",className:"bg-red-600 hover:bg-red-700 border-red-600",children:[n.jsx(xn,{className:"w-4 h-4 mr-2"}),"Force Refresh Transactions"]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 rounded-lg px-3 py-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm font-bold",children:t!=null&&t.username?t.username.substring(0,2).toUpperCase():"SA"})}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"text-white font-medium",children:(t==null?void 0:t.username)||"superadmin"}),n.jsx("div",{className:"text-gray-400 text-xs",children:(t==null?void 0:t.role)==="super_admin"?"Super Admin":"Admin"})]})]})]})]})})}),n.jsx("div",{className:"max-w-full mx-auto p-6",children:n.jsxs(XT,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(Bx,{className:"flex w-full overflow-x-auto bg-gray-800 border-gray-700 scrollbar-hide gap-2 p-2",children:[n.jsxs(hs,{value:"overview",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(oi,{className:"w-4 h-4 mr-2"}),"Overview"]}),n.jsxs(hs,{value:"users",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(wd,{className:"w-4 h-4 mr-2"}),"Users"]}),n.jsxs(hs,{value:"trades",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Trades"]}),n.jsxs(hs,{value:"transactions",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(au,{className:"w-4 h-4 mr-2"}),"Transactions"]}),n.jsxs(hs,{value:"pending",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),"Pending Requests"]}),n.jsxs(hs,{value:"verification",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(EM,{className:"w-4 h-4 mr-2"}),"Verification"]}),n.jsxs(hs,{value:"redeem-codes",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(MM,{className:"w-4 h-4 mr-2"}),"Redeem Codes"]}),n.jsxs(hs,{value:"controls",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(nc,{className:"w-4 h-4 mr-2"}),"Controls"]}),n.jsxs(hs,{value:"support",className:"flex-shrink-0 px-4 py-2",children:[n.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Support"]})]}),n.jsxs(fs,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(le,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:(d==null?void 0:d.totalUsers)||e.length})]}),n.jsx(wd,{className:"w-8 h-8 text-blue-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(r)?r.filter(S=>S.result==="pending").length:0})]}),n.jsx(rm,{className:"w-8 h-8 text-green-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",r.reduce((S,q)=>S+parseFloat(q.amount||0),0).toLocaleString()]})]}),n.jsx(au,{className:"w-8 h-8 text-purple-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-100 text-sm",children:"Total Balance"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:[_w(e).toLocaleString()," USDT"]})]}),n.jsx(zs,{className:"w-8 h-8 text-orange-200"})]})})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Quick Actions"}),n.jsx(dt,{className:"text-gray-400",children:"Common administrative tasks"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(V,{className:"h-20 bg-blue-600 hover:bg-blue-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wd,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Manage Users"})]})}),n.jsx(V,{className:"h-20 bg-green-600 hover:bg-green-700",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rm,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Monitor Trades"})]})}),n.jsx(V,{className:"h-20 bg-purple-600 hover:bg-purple-700",onClick:()=>window.location.href="/admin/test",children:n.jsxs("div",{className:"text-center",children:[n.jsx(nc,{className:"w-6 h-6 mx-auto mb-2"}),n.jsx("div",{className:"text-sm",children:"Test Features"})]})})]})})]})]}),n.jsxs(fs,{value:"users",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]}),n.jsx(wd,{className:"w-8 h-8 text-blue-500"})]})})}),n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(e)?e.filter(S=>S.status==="active").length:0})]}),n.jsx(Zr,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Total Platform Balance"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[_w(e).toLocaleString()," USDT"]}),n.jsx("p",{className:"text-sm text-gray-400",children:"All crypto auto-converted to USDT"})]}),n.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded",children:"💱 Unified USDT balance system"})]}),n.jsx(Ky,{className:"w-8 h-8 text-purple-500"})]})})}),n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Controlled Users"}),n.jsx("p",{className:"text-2xl font-bold text-white",children:Array.isArray(e)?e.filter(S=>S.trading_mode!=="normal").length:0})]}),n.jsx(Hy,{className:"w-8 h-8 text-orange-500"})]})})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsxs(qe,{className:"text-white flex items-center space-x-2",children:[n.jsx(Ml,{className:"w-5 h-5"}),n.jsx("span",{children:"Create New User"})]}),n.jsx(dt,{className:"text-gray-400",children:"Add new users to the trading platform"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsx(Ce,{placeholder:"Username",value:W.username,onChange:S=>H({...W,username:S.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Ce,{placeholder:"Email",type:"email",value:W.email,onChange:S=>H({...W,email:S.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Ce,{placeholder:"Password",type:"password",value:W.password,onChange:S=>H({...W,password:S.target.value}),className:"bg-gray-700 border-gray-600 text-white"}),n.jsx(Ce,{placeholder:"Balance",type:"number",value:W.balance,onChange:S=>H({...W,balance:Number(S.target.value)}),className:"bg-gray-700 border-gray-600 text-white"}),n.jsxs(fn,{value:W.role,onValueChange:S=>H({...W,role:S}),children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(mn,{})}),n.jsxs(Hr,{children:[n.jsx(st,{value:"user",children:"User"}),n.jsx(st,{value:"admin",children:"Admin"}),n.jsx(st,{value:"super_admin",children:"Super Admin"})]})]}),n.jsx(V,{onClick:T,className:"w-full bg-purple-600 hover:bg-purple-700",children:"Create User"})]})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"User Management"}),n.jsx(dt,{className:"text-gray-400",children:"Manage all platform users and their trading settings"})]}),n.jsx(ce,{children:n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto admin-table-container",style:{maxWidth:"100%"},children:n.jsxs(ka,{className:"w-full",style:{minWidth:"1200px"},children:[n.jsx(Ea,{children:n.jsxs(Ms,{className:"bg-gray-700",children:[n.jsx(Qe,{className:"text-gray-300 min-w-[200px]",children:"User"}),n.jsx(Qe,{className:"text-gray-300 min-w-[250px]",children:"Email"}),n.jsx(Qe,{className:"text-gray-300 min-w-[120px]",children:"Balance"}),n.jsx(Qe,{className:"text-gray-300 min-w-[100px]",children:"Role"}),n.jsx(Qe,{className:"text-gray-300 min-w-[100px]",children:"Status"}),n.jsx(Qe,{className:"text-gray-300 min-w-[120px]",children:"Trading Mode"}),n.jsx(Qe,{className:"text-gray-300 min-w-[400px]",children:"Actions"})]})}),n.jsx(_a,{children:Array.isArray(e)?e.map(S=>n.jsxs(Ms,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(He,{children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white font-bold",children:S.username.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-white font-medium truncate",title:S.username,children:S.username.length>20?`${S.username.slice(0,20)}...`:S.username}),n.jsxs("div",{className:"text-gray-400 text-sm",children:["ID: ",S.id?S.id.slice(0,8):"N/A","..."]})]})]})}),n.jsx(He,{className:"text-white",children:n.jsx("div",{className:"truncate",title:S.email,children:S.email.length>30?`${S.email.slice(0,30)}...`:S.email})}),n.jsx(He,{className:"text-white",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"font-medium text-green-400",children:[Vd(S.balance)," USDT"]}),n.jsx("div",{className:"text-xs text-blue-400 bg-blue-900/20 px-2 py-1 rounded border border-blue-700",children:"💱 Auto-converts all crypto deposits to USDT"})]})}),n.jsx(He,{children:n.jsx(at,{variant:S.role==="super_admin"?"default":S.role==="admin"?"secondary":"outline",children:S.role})}),n.jsx(He,{children:n.jsx(at,{variant:S.status==="active"?"default":"destructive",children:S.status})}),n.jsx(He,{children:n.jsxs(fn,{value:S.trading_mode,onValueChange:q=>F(S.id,q),children:[n.jsx(Wr,{className:"w-24 bg-gray-700 border-gray-600",children:n.jsx(mn,{})}),n.jsxs(Hr,{children:[n.jsx(st,{value:"win",children:n.jsx("span",{className:"text-green-600 font-bold",children:"WIN"})}),n.jsx(st,{value:"normal",children:n.jsx("span",{className:"text-blue-600 font-bold",children:"NORMAL"})}),n.jsx(st,{value:"lose",children:n.jsx("span",{className:"text-red-600 font-bold",children:"LOSE"})})]})]})}),n.jsx(He,{className:"min-w-[300px]",children:n.jsxs("div",{className:"flex items-center space-x-1 flex-wrap",children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{console.log("🔍 View button clicked for user:",S.username),It(S)},className:"text-gray-400 hover:text-white",title:"View User Details",children:n.jsx(hi,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{console.log("✏️ Edit button clicked for user:",S.username),Yt(S)},className:"text-gray-400 hover:text-white",title:"Edit User",children:n.jsx(Wy,{className:"w-4 h-4"})}),jt&&n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{console.log("💰 Deposit button clicked for user:",S.username),ba(S,"deposit")},className:"text-green-400 hover:text-green-300",title:"Deposit Money",children:n.jsx(Ml,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{console.log("💸 Withdrawal button clicked for user:",S.username),ba(S,"withdrawal")},className:"text-red-400 hover:text-red-300",title:"Withdraw Money",children:n.jsx(OM,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ba(S,"password"),className:"text-blue-400 hover:text-blue-300",title:"Change Password",children:n.jsx(RM,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ba(S,"wallet"),className:"text-purple-400 hover:text-purple-300",title:"Update Wallet Address",children:n.jsx(Ky,{className:"w-4 h-4"})}),S.role==="user"&&S.id!==Be.id?n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ya(S),className:"text-red-500 hover:text-red-400 border border-red-500",title:"Delete User",children:n.jsx(bd,{className:"w-4 h-4"})}):null]})]})})]},S.id)):[]})]})})})]})]}),n.jsxs(fs,{value:"trades",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(le,{className:"bg-gradient-to-br from-green-600 to-green-700 border-green-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm",children:"Active Trades"}),n.jsx("p",{className:"text-3xl font-bold text-white",children:Array.isArray(r)?r.filter(S=>S.result==="pending").length:0})]}),n.jsx(IM,{className:"w-8 h-8 text-green-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-blue-600 to-blue-700 border-blue-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Win Rate"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:[(d==null?void 0:d.winRate)||0,"%"]})]}),n.jsx(Hy,{className:"w-8 h-8 text-blue-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-purple-600 to-purple-700 border-purple-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm",children:"Total Volume"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",r.reduce((S,q)=>S+parseFloat(q.amount||0),0).toLocaleString()]})]}),n.jsx(oi,{className:"w-8 h-8 text-purple-200"})]})})}),n.jsx(le,{className:"bg-gradient-to-br from-orange-600 to-orange-700 border-orange-500",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-100 text-sm",children:"Total P&L"}),n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",(()=>{const S=(d==null?void 0:d.totalProfit)||0,q=(d==null?void 0:d.totalLoss)||0;return(S-q).toLocaleString()})()]})]}),n.jsx(zs,{className:"w-8 h-8 text-orange-200"})]})})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(qe,{className:"text-white flex items-center space-x-2",children:[n.jsx(rm,{className:"w-5 h-5"}),n.jsx("span",{children:"Live Trading Monitor"})]}),n.jsx(dt,{className:"text-gray-400",children:"Real-time trading activity with manual controls"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Live"})]})]})}),n.jsx(ce,{children:n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:n.jsxs(ka,{children:[n.jsx(Ea,{children:n.jsxs(Ms,{className:"bg-gray-700",children:[n.jsx(Qe,{className:"text-gray-300",children:"Trade ID"}),n.jsx(Qe,{className:"text-gray-300",children:"User"}),n.jsx(Qe,{className:"text-gray-300",children:"Symbol"}),n.jsx(Qe,{className:"text-gray-300",children:"Direction"}),n.jsx(Qe,{className:"text-gray-300",children:"Amount"}),n.jsx(Qe,{className:"text-gray-300",children:"Duration"}),n.jsx(Qe,{className:"text-gray-300",children:"Entry Price"}),n.jsx(Qe,{className:"text-gray-300",children:"Status"}),n.jsx(Qe,{className:"text-gray-300",children:"Time Left"}),n.jsx(Qe,{className:"text-gray-300",children:"Control"})]})}),n.jsx(_a,{children:Array.isArray(r)?r.slice(0,10).map(S=>{const q=Bk(S.expires_at);return n.jsxs(Ms,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(He,{children:n.jsxs("div",{className:"text-white font-mono text-sm",children:[S.id?S.id.slice(0,8):"N/A","..."]})}),n.jsx(He,{className:"text-white",children:S.username||"Unknown"}),n.jsx(He,{className:"text-white font-medium",children:S.symbol}),n.jsx(He,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[S.direction==="up"?n.jsx(Jp,{className:"w-4 h-4 text-green-500"}):n.jsx(Yp,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"text-white",children:(S.direction||"up").toUpperCase()})]})}),n.jsxs(He,{className:"text-white",children:["$",S.amount.toLocaleString()]}),n.jsxs(He,{className:"text-white",children:[S.duration,"s"]}),n.jsxs(He,{className:"text-white font-mono",children:["$",S.entry_price]}),n.jsx(He,{children:n.jsx(at,{variant:S.result==="win"?"default":S.result==="lose"?"destructive":"secondary",children:S.result||"pending"})}),n.jsx(He,{children:S.result==="pending"?n.jsxs("span",{className:`text-sm font-medium ${q<=10?"text-red-400":"text-yellow-400"}`,children:[q,"s"]}):n.jsx("span",{className:"text-gray-400 text-sm",children:"Completed"})}),n.jsx(He,{children:n.jsxs("div",{className:"flex items-center space-x-1",children:[S.result==="pending"?n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>te(S.id,"win"),className:"text-green-400 hover:text-green-300",title:"Force Win",children:n.jsx(Zr,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>te(S.id,"lose"),className:"text-red-400 hover:text-red-300",title:"Force Lose",children:n.jsx(ic,{className:"w-4 h-4"})})]}):null,n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>L(S.id),className:"text-gray-400 hover:text-red-400",title:"Delete Trade",children:n.jsx(bd,{className:"w-4 h-4"})})]})})]},S.id)}):[]})]})})})]})]}),n.jsx(fs,{value:"transactions",className:"space-y-6",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Financial Transactions"}),n.jsx(dt,{className:"text-gray-400",children:"Monitor all financial transactions"})]}),n.jsxs(ce,{children:[n.jsxs("div",{className:"bg-gray-800 border border-yellow-500 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:"🐛 Debug Info"}),n.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[n.jsxs("div",{children:["React State Count: ",n.jsx("span",{className:"text-white font-mono",children:a.length})]}),n.jsxs("div",{children:["First 3 IDs: ",n.jsx("span",{className:"text-white font-mono text-xs",children:a.slice(0,3).map(S=>S.id.slice(0,8)).join(", ")})]}),n.jsxs("div",{children:["Last Updated: ",n.jsx("span",{className:"text-white font-mono",children:new Date().toLocaleTimeString()})]})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:n.jsxs(ka,{children:[n.jsx(Ea,{children:n.jsxs(Ms,{className:"bg-gray-700",children:[n.jsx(Qe,{className:"text-gray-300",children:"Transaction ID"}),n.jsx(Qe,{className:"text-gray-300",children:"User"}),n.jsx(Qe,{className:"text-gray-300",children:"Type"}),n.jsx(Qe,{className:"text-gray-300",children:"Amount"}),n.jsx(Qe,{className:"text-gray-300",children:"Status"}),n.jsx(Qe,{className:"text-gray-300",children:"Date"}),n.jsx(Qe,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(_a,{children:Array.isArray(a)?a.map(S=>{var q;return n.jsxs(Ms,{className:"border-gray-700 hover:bg-gray-700/50",children:[n.jsx(He,{children:n.jsxs("div",{className:"text-white font-mono text-sm",children:[S.id?S.id.slice(0,8):"N/A","..."]})}),n.jsx(He,{className:"text-white",children:((q=S.users)==null?void 0:q.username)||"Unknown"}),n.jsx(He,{children:n.jsx(at,{variant:S.type==="deposit"?"default":"secondary",children:S.type})}),n.jsx(He,{className:"text-white font-medium",children:x8(S)}),n.jsx(He,{children:n.jsx(at,{variant:S.status==="completed"?"default":"secondary",children:S.status})}),n.jsx(He,{className:"text-white",children:new Date(S.created_at).toLocaleDateString()}),n.jsx(He,{children:n.jsx(V,{size:"sm",variant:"destructive",onClick:()=>Fk(S.id),disabled:S.deleting,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50",children:S.deleting?n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsx(bd,{className:"w-4 h-4"})})})]},S.id)}):[]})]})})]})]})}),n.jsx(fs,{value:"controls",className:"space-y-6",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"System Controls"}),n.jsx(dt,{className:"text-gray-400",children:"Platform-wide controls and settings"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"Trading Controls"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(V,{className:"w-full bg-green-600 hover:bg-green-700",children:"Enable All Trading"}),n.jsx(V,{className:"w-full bg-yellow-600 hover:bg-yellow-700",children:"Pause Trading"}),n.jsx(V,{className:"w-full bg-red-600 hover:bg-red-700",children:"Emergency Stop"})]})]}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"Market Status"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Price Feed:"}),n.jsx(at,{className:"bg-green-600",children:"Live"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Auto Mode:"}),n.jsx(at,{className:"bg-blue-600",children:"Enabled"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Manual Override:"}),n.jsx(at,{variant:"outline",children:"Ready"})]})]})]}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-white font-medium mb-3",children:"System Health"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Server:"}),n.jsx(at,{className:"bg-green-600",children:"Online"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"Database:"}),n.jsx(at,{className:"bg-green-600",children:"Connected"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-400",children:"WebSocket:"}),n.jsx(at,{className:"bg-green-600",children:"Active"})]})]})]})]})})]})}),n.jsx(fs,{value:"pending",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsxs(qe,{className:"text-white flex items-center space-x-2",children:[n.jsx(au,{className:"w-5 h-5 text-green-400"}),n.jsx("span",{children:"Pending Deposits"}),n.jsx(at,{variant:"secondary",className:"ml-2",children:((tv=l==null?void 0:l.deposits)==null?void 0:tv.length)||0})]}),n.jsx(dt,{className:"text-gray-400",children:"Review and approve user deposit requests"})]}),n.jsx(ce,{children:n.jsx("div",{className:"space-y-4",children:((sv=l==null?void 0:l.deposits)==null?void 0:sv.length)===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(zr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending deposits"})]}):(rv=l==null?void 0:l.deposits)==null?void 0:rv.map(S=>{var q,je;return n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:S.username}),n.jsxs("p",{className:"text-sm text-gray-400",children:["Balance: ",S.user_balance," USDT"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-400",children:[S.amount," ",S.currency]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[S.currency," Network"]})]})]}),S.tx_hash&&n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400",children:"Transaction Hash:"}),n.jsx("p",{className:"text-blue-400 font-mono break-all",children:S.tx_hash})]}),S.receipt&&n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400 mb-2",children:"Receipt:"}),n.jsx("div",{className:"bg-gray-600 rounded-lg p-3",children:(q=S.receipt.mimetype)!=null&&q.startsWith("image/")?n.jsxs("div",{className:"space-y-2",children:[n.jsx("img",{src:S.receipt.url,alt:"Transaction Receipt",className:"max-w-full h-32 object-contain rounded border border-gray-500",onError:Z=>{Z.currentTarget.style.display="none";const we=Z.currentTarget.nextElementSibling;we&&(we.style.display="block")}}),n.jsx("div",{style:{display:"none"},className:"text-red-400 text-xs",children:"Failed to load image"}),n.jsx("a",{href:S.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"View Full Size"})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-white text-xs",children:S.receipt.originalName}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[S.receipt.mimetype," • ",Math.round(S.receipt.size/1024),"KB"]}),n.jsx("a",{href:S.receipt.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-xs underline",children:"Download File"})]})})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Requested: ",new Date(S.created_at).toLocaleString()]}),n.jsxs("p",{children:["Status: ",n.jsx("span",{className:"text-yellow-400",children:S.status})]})]}),S.receiptUploaded&&S.receiptViewUrl&&n.jsxs("div",{className:"bg-gray-600 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"📄 Receipt Uploaded:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(V,{onClick:()=>{var Z;return $k(((Z=S.receiptFile)==null?void 0:Z.filename)||"")},variant:"outline",size:"sm",className:"text-blue-400 border-blue-400 hover:bg-blue-400 hover:text-white",children:"View Receipt"}),((je=S.receiptFile)==null?void 0:je.originalname)&&n.jsx("span",{className:"text-xs text-gray-400",children:S.receiptFile.originalname})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(V,{onClick:()=>Yx(S.id,"approve"),className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(V,{onClick:()=>Yx(S.id,"reject","Invalid transaction proof"),variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},S.id)})})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsxs(qe,{className:"text-white flex items-center space-x-2",children:[n.jsx(zs,{className:"w-5 h-5 text-red-400"}),n.jsx("span",{children:"Pending Withdrawals"}),n.jsx(at,{variant:"secondary",className:"ml-2",children:((nv=l==null?void 0:l.withdrawals)==null?void 0:nv.length)||0})]}),n.jsx(dt,{className:"text-gray-400",children:"Review and approve user withdrawal requests"})]}),n.jsx(ce,{children:n.jsx("div",{className:"space-y-4",children:((iv=l==null?void 0:l.withdrawals)==null?void 0:iv.length)===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(zr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No pending withdrawals"})]}):(av=l==null?void 0:l.withdrawals)==null?void 0:av.map(S=>n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:S.username}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{className:"text-green-400 font-medium",children:["Balance: ",S.user_balance," USDT"]}),n.jsx("p",{className:"text-blue-400 text-xs",children:"💱 Unified USDT balance (auto-converted)"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-red-400",children:[S.amount," ",S.currency]}),n.jsxs("p",{className:"text-sm text-gray-400",children:[S.currency," Network"]})]})]}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-gray-400",children:"Wallet Address:"}),n.jsx("p",{className:"text-blue-400 font-mono break-all",children:S.wallet_address})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("p",{children:["Requested: ",new Date(S.created_at).toLocaleString()]}),n.jsxs("p",{children:["Status: ",n.jsx("span",{className:"text-yellow-400",children:S.status})]})]}),n.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-3 my-3",children:[n.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center mb-1",children:[n.jsx("span",{className:"mr-2",children:"✅"}),"Withdrawal Processing"]}),n.jsxs("div",{className:"text-green-300 text-xs",children:["Approving this withdrawal will deduct ",n.jsxs("span",{className:"font-bold text-red-400",children:[S.amount," USDT"]})," from the user's unified USDT balance. Simple and instant processing with auto-conversion system."]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(V,{onClick:()=>Jx(S.id,"approve"),className:"bg-green-600 hover:bg-green-700 flex-1",size:"sm",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(V,{onClick:()=>Jx(S.id,"reject","Insufficient verification"),variant:"destructive",className:"flex-1",size:"sm",children:"Reject"})]})]},S.id))})})]})]})}),n.jsx(fs,{value:"verification",className:"space-y-6",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Document Verification"}),n.jsx(dt,{className:"text-gray-400",children:"Review and approve user verification documents"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:(m==null?void 0:m.pending)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Pending Review"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:(m==null?void 0:m.approved)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Approved"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-400",children:(m==null?void 0:m.rejected)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Rejected"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-400",children:(m==null?void 0:m.total)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Total Documents"})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:n.jsxs(ka,{children:[n.jsx(Ea,{children:n.jsxs(Ms,{className:"bg-gray-700",children:[n.jsx(Qe,{className:"text-gray-300",children:"User"}),n.jsx(Qe,{className:"text-gray-300",children:"Document Type"}),n.jsx(Qe,{className:"text-gray-300",children:"Submitted"}),n.jsx(Qe,{className:"text-gray-300",children:"Status"}),n.jsx(Qe,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(_a,{children:x.length===0?n.jsx(Ms,{className:"border-gray-700",children:n.jsx(He,{colSpan:5,className:"text-center py-8 text-gray-400",children:"No pending verification documents"})}):x.filter(S=>S.verification_status==="pending").map(S=>{var q,je,Z,we,zt;return n.jsxs(Ms,{className:"border-gray-700",children:[n.jsx(He,{className:"text-white",children:((q=S.users)==null?void 0:q.email)||((je=S.users)==null?void 0:je.username)||"Unknown User"}),n.jsx(He,{className:"text-gray-300",children:((Z=S.document_type)==null?void 0:Z.replace("_"," ").replace(/\b\w/g,_s=>_s.toUpperCase()))||"Unknown Type"}),n.jsx(He,{className:"text-gray-300",children:S.created_at?new Date(S.created_at).toLocaleString():"Unknown"}),n.jsx(He,{children:n.jsx(at,{className:S.verification_status==="pending"?"bg-yellow-600":S.verification_status==="approved"?"bg-green-600":S.verification_status==="rejected"?"bg-red-600":"bg-gray-600",children:((we=S.verification_status)==null?void 0:we.charAt(0).toUpperCase())+((zt=S.verification_status)==null?void 0:zt.slice(1))||"Unknown"})}),n.jsx(He,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(V,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>window.open(S.document_url,"docViewer","width=800,height=600"),children:[n.jsx(hi,{className:"w-4 h-4 mr-1"}),"View"]}),n.jsxs(V,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>ev(S.id,"approve"),children:[n.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Approve"]}),n.jsxs(V,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>ev(S.id,"reject","Document review required"),children:[n.jsx(ic,{className:"w-4 h-4 mr-1"}),"Reject"]})]})})]},S.id)})})]})})]})})]})}),n.jsx(fs,{value:"redeem-codes",className:"space-y-6",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-white",children:"Redeem Code Management"}),n.jsx(dt,{className:"text-gray-400",children:"Create and manage promotional redeem codes"})]}),n.jsxs(V,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>P(!0),children:[n.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Create Code"]})]})}),n.jsx(ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:(w==null?void 0:w.activeCodes)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Active Codes"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:(w==null?void 0:w.totalRedeemed)||0}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Total Redeemed"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:["$",(w==null?void 0:w.bonusDistributed)||0]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Bonus Distributed"})]}),n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-yellow-400",children:[(w==null?void 0:w.usageRate)||0,"%"]}),n.jsx("div",{className:"text-gray-400 text-sm",children:"Usage Rate"})]})]}),n.jsx("div",{className:"border border-gray-700 rounded-lg overflow-x-auto",children:n.jsxs(ka,{children:[n.jsx(Ea,{children:n.jsxs(Ms,{className:"bg-gray-700",children:[n.jsx(Qe,{className:"text-gray-300",children:"Code"}),n.jsx(Qe,{className:"text-gray-300",children:"Bonus Amount"}),n.jsx(Qe,{className:"text-gray-300",children:"Usage"}),n.jsx(Qe,{className:"text-gray-300",children:"Status"}),n.jsx(Qe,{className:"text-gray-300",children:"Created"}),n.jsx(Qe,{className:"text-gray-300",children:"Actions"})]})}),n.jsx(_a,{children:g.length===0?n.jsx(Ms,{className:"border-gray-700",children:n.jsx(He,{colSpan:6,className:"text-center py-8 text-gray-400",children:"No redeem codes found"})}):g.map(S=>{var q,je;return n.jsxs(Ms,{className:"border-gray-700",children:[n.jsx(He,{className:"text-white font-mono",children:S.code}),n.jsxs(He,{className:"text-green-400",children:["$",S.bonus_amount]}),n.jsxs(He,{className:"text-gray-300",children:[S.used_count||0," / ",S.max_uses||"∞"]}),n.jsx(He,{children:n.jsx(at,{className:S.status==="active"?"bg-green-600":S.status==="disabled"?"bg-red-600":"bg-gray-600",children:((q=S.status)==null?void 0:q.charAt(0).toUpperCase())+((je=S.status)==null?void 0:je.slice(1))||"Unknown"})}),n.jsx(He,{className:"text-gray-300",children:S.created_at?new Date(S.created_at).toLocaleDateString():"Unknown"}),n.jsx(He,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(V,{size:"sm",variant:"outline",className:"border-gray-600",onClick:()=>Sf(S.code||S.id,"edit"),children:[n.jsx(Wy,{className:"w-4 h-4 mr-1"}),"Edit"]}),n.jsx(V,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>Sf(S.code||S.id,"disable"),disabled:S.status==="disabled"||!S.is_active,children:"Disable"}),n.jsx(V,{size:"sm",className:"bg-gray-600 hover:bg-gray-700",onClick:()=>Sf(S.code||S.id,"delete"),children:n.jsx(bd,{className:"w-4 h-4"})})]})})]},S.id)})})]})})]})})]})}),n.jsx(fs,{value:"support",className:"space-y-6",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Support Center"}),n.jsx(dt,{className:"text-gray-400",children:"User support and communication management"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Vy,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Support System"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Advanced support features coming soon"}),n.jsx(V,{variant:"outline",children:"Configure Support"})]})})]})})]})}),N&&se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"👤 User Details"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>O(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Username:"}),n.jsx("span",{className:"text-white font-medium",children:se.username})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Email:"}),n.jsx("span",{className:"text-white",children:se.email})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex justify-between",children:n.jsx("span",{className:"text-gray-400",children:"Balance Details:"})}),n.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-green-400 font-medium",children:"USDT Balance"}),n.jsxs("span",{className:"text-white font-bold",children:[Vd(se.balance)," USDT"]})]}),n.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded p-3",children:[n.jsxs("div",{className:"text-blue-400 text-xs font-medium flex items-center mb-2",children:[n.jsx("span",{className:"mr-2",children:"💱"}),"Auto-Conversion System"]}),n.jsxs("div",{className:"text-blue-300 text-xs space-y-1",children:[n.jsx("div",{children:"• All cryptocurrency deposits (BTC, ETH, SOL, etc.) are automatically converted to USDT"}),n.jsx("div",{children:"• Real-time conversion rates with minimal fees (0.1-0.2%)"}),n.jsx("div",{children:"• Unified balance system - only USDT is stored"}),n.jsx("div",{children:"• Withdrawals are processed directly from USDT balance"})]})]}),n.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded p-2",children:[n.jsxs("div",{className:"text-green-400 text-xs font-medium flex items-center",children:[n.jsx("span",{className:"mr-2",children:"✅"}),"Benefits"]}),n.jsx("div",{className:"text-green-300 text-xs mt-1",children:"• Simplified balance management • No conversion delays • Instant withdrawals"})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Role:"}),n.jsx("span",{className:"text-white",children:se.role})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Status:"}),n.jsx("span",{className:"text-white",children:se.status})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Trading Mode:"}),n.jsx("span",{className:"text-white font-medium",children:(se.trading_mode||"normal").toUpperCase()})]}),n.jsx("div",{className:"border-t border-gray-700 pt-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("span",{className:"text-gray-400",children:"Wallet Address:"}),n.jsx("div",{className:"flex-1 ml-3",children:se.wallet_address?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white font-mono text-xs bg-gray-700 px-2 py-1 rounded break-all",children:se.wallet_address}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(se.wallet_address||""),className:"text-gray-400 hover:text-white p-1",title:"Copy address",children:"📋"})]}),jt&&n.jsx(V,{variant:"outline",size:"sm",onClick:()=>{O(!1),ba(se,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:"🏦 Manage"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsx("span",{className:"text-gray-500 italic text-sm",children:"Not set"}),jt&&n.jsx(V,{variant:"outline",size:"sm",onClick:()=>{O(!1),ba(se,"wallet")},className:"text-purple-400 border-purple-400 hover:bg-purple-400 hover:text-white text-xs",children:"🏦 Set Address"})]})})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Created:"}),n.jsx("span",{className:"text-white",children:new Date(se.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Last Login:"}),n.jsx("span",{className:"text-white",children:se.last_login?new Date(se.last_login).toLocaleDateString():"Never"})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(V,{onClick:()=>O(!1),className:"bg-purple-600 hover:bg-purple-700",children:"Close"})})]})}),Y&&se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"⚙️ Edit User"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>Q(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Username"}),n.jsx(Ce,{value:Ne.username||"",onChange:S=>{console.log("🔄 Username changed:",S.target.value),Ie({...Ne,username:S.target.value})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",autoComplete:"off",disabled:!1,readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Email"}),n.jsx(Ce,{type:"email",value:Ne.email||"",onChange:S=>{console.log("📧 Email changed:",S.target.value),Ie({...Ne,email:S.target.value})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter email",autoComplete:"off",disabled:!1,readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Balance"}),n.jsx(Ce,{type:"number",value:Ne.balance||0,onChange:S=>{console.log("💰 Balance changed:",S.target.value),Ie({...Ne,balance:Number(S.target.value)})},className:"bg-gray-700 border-gray-600 text-white w-full focus:ring-2 focus:ring-blue-500",placeholder:"Enter balance",step:"0.01",min:"0",disabled:!1,readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Wallet Address"}),n.jsx(Ce,{value:Ne.wallet_address||"",onChange:S=>{console.log("🔄 Wallet address changed:",S.target.value),Ie({...Ne,wallet_address:S.target.value})},placeholder:"Enter wallet address (0x...)",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Trading Mode"}),n.jsxs(fn,{value:Ne.trading_mode,onValueChange:S=>Ie({...Ne,trading_mode:S}),children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(mn,{placeholder:"Select trading mode"})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"win",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-green-400 font-bold",children:"WIN"})}),n.jsx(st,{value:"normal",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-blue-400 font-bold",children:"NORMAL"})}),n.jsx(st,{value:"lose",className:"text-white hover:bg-gray-600",children:n.jsx("span",{className:"text-red-400 font-bold",children:"LOSE"})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Role"}),n.jsxs(fn,{value:Ne.role,onValueChange:S=>Ie({...Ne,role:S}),children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(mn,{placeholder:"Select role"})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"user",className:"text-white hover:bg-gray-600",children:"User"}),n.jsx(st,{value:"admin",className:"text-white hover:bg-gray-600",children:"Admin"}),n.jsx(st,{value:"superadmin",className:"text-white hover:bg-gray-600",children:"Super Admin"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Status"}),n.jsxs(fn,{value:Ne.status,onValueChange:S=>Ie({...Ne,status:S}),children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white w-full",children:n.jsx(mn,{placeholder:"Select status"})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"active",className:"text-white hover:bg-gray-600",children:"Active"}),n.jsx(st,{value:"inactive",className:"text-white hover:bg-gray-600",children:"Inactive"}),n.jsx(st,{value:"suspended",className:"text-white hover:bg-gray-600",children:"Suspended"}),n.jsx(st,{value:"banned",className:"text-white hover:bg-gray-600",children:"Banned"})]})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),n.jsx(V,{onClick:Ht,className:"bg-purple-600 hover:bg-purple-700",children:"Save Changes"})]})]})}),jt&&n.jsxs(n.Fragment,{children:[K&&me&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["💰 Deposit to ",me.username]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),n.jsx(Ce,{type:"number",value:ae,onChange:S=>_e(S.target.value),placeholder:"Enter deposit amount",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",Vd(me.balance)," USDT"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),n.jsx(V,{onClick:Dk,className:"bg-green-600 hover:bg-green-700",children:"Process Deposit"})]})]})}),X&&me&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["💸 Withdraw from ",me.username]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"Amount ($)"}),n.jsx(Ce,{type:"number",value:U,onChange:S=>oe(S.target.value),placeholder:"Enter withdrawal amount",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Current Balance: ",Vd(me.balance)," USDT"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),n.jsx(V,{onClick:Ok,className:"bg-red-600 hover:bg-red-700",children:"Process Withdrawal"})]})]})}),B&&me&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["🔑 Change Password for ",me.username]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-1",children:"New Password"}),n.jsx(Ce,{type:"password",value:xe,onChange:S=>be(S.target.value),placeholder:"Enter new password",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsx("div",{className:"text-sm text-yellow-400",children:"⚠️ This will immediately change the user's login password"})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),n.jsx(V,{onClick:Ik,className:"bg-blue-600 hover:bg-blue-700",children:"Change Password"})]})]})}),J&&me&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-lg w-full mx-4 border border-gray-700 max-h-[80vh] overflow-y-auto",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["🏦 Manage Wallet for ",me.username]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[n.jsx("h4",{className:"text-white font-medium mb-2",children:"Current Wallet Address"}),n.jsx("div",{className:"text-sm",children:me.wallet_address?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-mono text-green-400 bg-gray-800 px-2 py-1 rounded",children:me.wallet_address}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(me.wallet_address||""),className:"text-gray-400 hover:text-white p-1",title:"Copy address",children:"📋"})]}):n.jsx("span",{className:"text-gray-400 italic",children:"No wallet address set"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"New Wallet Address"}),n.jsx(Ce,{value:Pe,onChange:S=>ve(S.target.value),placeholder:"Enter new wallet address",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:"Previous Wallet Addresses"}),Je.length>0?n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Array.isArray(Je)?Je.map((S,q)=>n.jsxs("div",{className:"bg-gray-700 p-3 rounded flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-mono text-sm text-gray-300",children:S.address?`${S.address.slice(0,10)}...${S.address.slice(-8)}`:"N/A"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Changed: ",new Date(S.changed_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>ve(S.address),className:"text-blue-400 hover:text-blue-300 text-xs",title:"Use this address",children:"Use"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(S.address),className:"text-gray-400 hover:text-white p-1",title:"Copy address",children:"📋"})]})]},q)):[]}):n.jsx("div",{className:"bg-gray-700 p-3 rounded text-center",children:n.jsx("div",{className:"text-gray-400 text-sm",children:"No previous wallet addresses found"})})]}),n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 p-3 rounded",children:n.jsx("div",{className:"text-yellow-400 text-sm",children:"⚠️ Changing the wallet address will move the current address to history"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>Te(!1),children:"Cancel"}),n.jsx(V,{onClick:Lk,className:"bg-purple-600 hover:bg-purple-700",disabled:!Pe||Pe===me.wallet_address,children:"Update Wallet"})]})]})})]}),n.jsx(ro,{open:!!ee,onOpenChange:()=>mt(null),children:n.jsxs(Hi,{className:"max-w-4xl max-h-[90vh] bg-gray-800 border-gray-700",children:[n.jsx(Ki,{children:n.jsxs(qi,{className:"text-white",children:["Receipt: ",ee==null?void 0:ee.filename]})}),n.jsx("div",{className:"flex justify-center items-center p-4",children:ee&&n.jsx("img",{src:ee.url,alt:"Receipt",className:"max-w-full max-h-[70vh] object-contain rounded-lg",onError:S=>{console.error("Failed to load receipt image"),S.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iIzMzMzMzMyIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmaWxsPSIjNjY2NjY2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UmVjZWlwdCBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+"}})})]})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"🎁 Create Redeem Code"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>P(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Code *"}),n.jsx(Ce,{value:_.code,onChange:S=>R({..._,code:S.target.value.toUpperCase()}),placeholder:"e.g., BONUS100",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Bonus Amount ($) *"}),n.jsx(Ce,{type:"number",value:_.bonusAmount,onChange:S=>R({..._,bonusAmount:S.target.value}),placeholder:"100",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Max Uses (optional)"}),n.jsx(Ce,{type:"number",value:_.maxUses,onChange:S=>R({..._,maxUses:S.target.value}),placeholder:"Leave empty for unlimited",className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Description (optional)"}),n.jsx(Ce,{value:_.description,onChange:S=>R({..._,description:S.target.value}),placeholder:"Bonus code description",className:"bg-gray-700 border-gray-600 text-white"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),n.jsx(V,{onClick:zk,className:"bg-purple-600 hover:bg-purple-700",children:"Create Code"})]})]})}),E&&I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"✏️ Edit Redeem Code"}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{k(!1),$(null)},className:"text-gray-400 hover:text-white",children:"✕"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Code"}),n.jsx("input",{type:"text",value:I.code,disabled:!0,className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md text-white opacity-50 cursor-not-allowed"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Code cannot be changed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bonus Amount ($)"}),n.jsx("input",{type:"number",step:"0.01",value:I.bonus_amount,onChange:S=>$({...I,bonus_amount:S.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Max Uses (optional)"}),n.jsx("input",{type:"number",value:I.max_uses||"",onChange:S=>$({...I,max_uses:S.target.value}),placeholder:"Unlimited",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),n.jsx("input",{type:"text",value:I.description||"",onChange:S=>$({...I,description:S.target.value}),placeholder:"Code description",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>{k(!1),$(null)},children:"Cancel"}),n.jsx(V,{onClick:Uk,className:"bg-blue-600 hover:bg-blue-700",children:"Update Code"})]})]})})]})]})}var Xc=t=>t.type==="checkbox",Di=t=>t instanceof Date,ms=t=>t==null;const JT=t=>typeof t=="object";var _t=t=>!ms(t)&&!Array.isArray(t)&&JT(t)&&!Di(t),ek=t=>_t(t)&&t.target?Xc(t.target)?t.target.checked:t.target.value:t,v8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tk=(t,e)=>t.has(v8(e)),y8=t=>{const e=t.constructor&&t.constructor.prototype;return _t(e)&&e.hasOwnProperty("isPrototypeOf")},Vx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kt(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Vx&&(t instanceof Blob||r))&&(s||_t(t)))if(e=s?[]:{},!s&&!y8(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Kt(t[i]));else return t;return e}var bf=t=>Array.isArray(t)?t.filter(Boolean):[],Ct=t=>t===void 0,de=(t,e,s)=>{if(!e||!_t(t))return s;const r=bf(e.split(/[,[\].]+?/)).reduce((i,a)=>ms(i)?i:i[a],t);return Ct(r)||r===t?Ct(t[e])?s:t[e]:r},Fs=t=>typeof t=="boolean",Wx=t=>/^\w*$/.test(t),sk=t=>bf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(t,e,s)=>{let r=-1;const i=Wx(e)?[e]:sk(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=s;if(r!==o){const d=t[l];c=_t(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const uh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},an={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rk=ue.createContext(null),wf=()=>ue.useContext(rk),b8=t=>{const{children:e,...s}=t;return ue.createElement(rk.Provider,{value:s},e)};var nk=(t,e,s,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==vr.all&&(e._proxyFormState[o]=!r||vr.all),s&&(s[o]=!0),t[o]}});return i};function w8(t){const e=wf(),{control:s=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=ue.useState(s._formState),c=ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ue.useRef(i);return d.current=i,ue.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!r&&l({...s._formState,...u})}}),[s,r,a]),ue.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),ue.useMemo(()=>nk(o,s,c.current,!1),[o,s])}var qr=t=>typeof t=="string",ik=(t,e,s,r,i)=>qr(t)?(r&&e.watch.add(t),de(s,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),de(s,a))):(r&&(e.watchAll=!0),s);function j8(t){const e=wf(),{control:s=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t||{},l=ue.useRef(r),c=ue.useRef(i);l.current=r,ue.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(ik(l.current,s._names,h.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,u]=ue.useState(s._getWatch(r,i));return ue.useEffect(()=>s._removeUnmounted()),d}function N8(t){const e=wf(),{name:s,disabled:r,control:i=e.control,shouldUnregister:a}=t,o=tk(i._names.array,s),l=j8({control:i,name:s,defaultValue:de(i._formValues,s,de(i._defaultValues,s,t.defaultValue)),exact:!0}),c=w8({control:i,name:s,exact:!0}),d=ue.useRef(t),u=ue.useRef(i.register(s,{...t.rules,value:l,...Fs(t.disabled)?{disabled:t.disabled}:{}})),h=ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!de(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!de(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!de(c.validatingFields,s)},error:{enumerable:!0,get:()=>de(c.errors,s)}}),[c,s]),f=ue.useCallback(b=>u.current.onChange({target:{value:ek(b),name:s},type:uh.CHANGE}),[s]),x=ue.useCallback(()=>u.current.onBlur({target:{value:de(i._formValues,s),name:s},type:uh.BLUR}),[s,i._formValues]),y=ue.useCallback(b=>{const g=de(i._fields,s);g&&b&&(g._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:v=>b.setCustomValidity(v),reportValidity:()=>b.reportValidity()})},[i._fields,s]),m=ue.useMemo(()=>({name:s,value:l,...Fs(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f,onBlur:x,ref:y}),[s,r,c.disabled,f,x,y,l]);return ue.useEffect(()=>{const b=i._options.shouldUnregister||a;i.register(s,{...d.current.rules,...Fs(d.current.disabled)?{disabled:d.current.disabled}:{}});const g=(v,w)=>{const j=de(i._fields,v);j&&j._f&&(j._f.mount=w)};if(g(s,!0),b){const v=Kt(de(i._options.defaultValues,s));rt(i._defaultValues,s,v),Ct(de(i._formValues,s))&&rt(i._formValues,s,v)}return!o&&i.register(s),()=>{(o?b&&!i._state.action:b)?i.unregister(s):g(s,!1)}},[s,i,o,a]),ue.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),ue.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const S8=t=>t.render(N8(t));var ak=(t,e,s,r,i)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:i||!0}}:{},Ll=t=>Array.isArray(t)?t:[t],Mw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},T0=t=>ms(t)||!JT(t);function Un(t,e){if(T0(t)||T0(e))return t===e;if(Di(t)&&Di(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Di(a)&&Di(o)||_t(a)&&_t(o)||Array.isArray(a)&&Array.isArray(o)?!Un(a,o):a!==o)return!1}}return!0}var ds=t=>_t(t)&&!Object.keys(t).length,Hx=t=>t.type==="file",yr=t=>typeof t=="function",hh=t=>{if(!Vx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ok=t=>t.type==="select-multiple",Kx=t=>t.type==="radio",C8=t=>Kx(t)||Xc(t),Um=t=>hh(t)&&t.isConnected;function T8(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=Ct(t)?r++:t[e[r++]];return t}function k8(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ct(t[e]))return!1;return!0}function Lt(t,e){const s=Array.isArray(e)?e:Wx(e)?[e]:sk(e),r=s.length===1?t:T8(t,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(_t(r)&&ds(r)||Array.isArray(r)&&k8(r))&&Lt(t,s.slice(0,-1)),t}var lk=t=>{for(const e in t)if(yr(t[e]))return!0;return!1};function fh(t,e={}){const s=Array.isArray(t);if(_t(t)||s)for(const r in t)Array.isArray(t[r])||_t(t[r])&&!lk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},fh(t[r],e[r])):ms(t[r])||(e[r]=!0);return e}function ck(t,e,s){const r=Array.isArray(t);if(_t(t)||r)for(const i in t)Array.isArray(t[i])||_t(t[i])&&!lk(t[i])?Ct(e)||T0(s[i])?s[i]=Array.isArray(t[i])?fh(t[i],[]):{...fh(t[i])}:ck(t[i],ms(e)?{}:e[i],s[i]):s[i]=!Un(t[i],e[i]);return s}var dl=(t,e)=>ck(t,e,fh(e));const Rw={value:!1,isValid:!1},Aw={value:!0,isValid:!0};var dk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?Aw:{value:t[0].value,isValid:!0}:Aw:Rw}return Rw},uk=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>Ct(t)?t:e?t===""?NaN:t&&+t:s&&qr(t)?new Date(t):r?r(t):t;const Dw={isValid:!1,value:null};var hk=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Dw):Dw;function Ow(t){const e=t.ref;return Hx(e)?e.files:Kx(e)?hk(t.refs).value:ok(e)?[...e.selectedOptions].map(({value:s})=>s):Xc(e)?dk(t.refs).value:uk(Ct(e.value)?t.ref.value:e.value,t)}var E8=(t,e,s,r)=>{const i={};for(const a of t){const o=de(e,a);o&&rt(i,a,o._f)}return{criteriaMode:s,names:[...t],fields:i,shouldUseNativeValidation:r}},mh=t=>t instanceof RegExp,ul=t=>Ct(t)?t:mh(t)?t.source:_t(t)?mh(t.value)?t.value.source:t.value:t,Iw=t=>({isOnSubmit:!t||t===vr.onSubmit,isOnBlur:t===vr.onBlur,isOnChange:t===vr.onChange,isOnAll:t===vr.all,isOnTouch:t===vr.onTouched});const Lw="AsyncFunction";var _8=t=>!!t&&!!t.validate&&!!(yr(t.validate)&&t.validate.constructor.name===Lw||_t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Lw)),P8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Fw=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Fl=(t,e,s,r)=>{for(const i of s||Object.keys(t)){const a=de(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Fl(l,e))break}else if(_t(l)&&Fl(l,e))break}}};function $w(t,e,s){const r=de(t,s);if(r||Wx(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=de(e,a),l=de(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var M8=(t,e,s,r)=>{s(t);const{name:i,...a}=t;return ds(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||vr.all))},R8=(t,e,s)=>!t||!e||t===e||Ll(t).some(r=>r&&(s?r===e:r.startsWith(e)||e.startsWith(r))),A8=(t,e,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(e||t):(s?r.isOnBlur:i.isOnBlur)?!t:(s?r.isOnChange:i.isOnChange)?t:!0,D8=(t,e)=>!bf(de(t,e)).length&&Lt(t,e),O8=(t,e,s)=>{const r=Ll(de(t,s));return rt(r,"root",e[s]),rt(t,s,r),t},fu=t=>qr(t);function Uw(t,e,s="validate"){if(fu(t)||Array.isArray(t)&&t.every(fu)||Fs(t)&&!t)return{type:s,message:fu(t)?t:"",ref:e}}var Ta=t=>_t(t)&&!mh(t)?t:{value:t,message:""},zw=async(t,e,s,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:x,validate:y,name:m,valueAsNumber:b,mount:g}=t._f,v=de(s,m);if(!g||e.has(m))return{};const w=l?l[0]:o,j=R=>{i&&w.reportValidity&&(w.setCustomValidity(Fs(R)?"":R||""),w.reportValidity())},C={},P=Kx(o),E=Xc(o),k=P||E,I=(b||Hx(o))&&Ct(o.value)&&Ct(v)||hh(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,$=ak.bind(null,m,r,C),_=(R,W,H,K=an.maxLength,D=an.minLength)=>{const X=R?W:H;C[m]={type:R?K:D,message:X,ref:o,...$(R?K:D,X)}};if(a?!Array.isArray(v)||!v.length:c&&(!k&&(I||ms(v))||Fs(v)&&!v||E&&!dk(l).isValid||P&&!hk(l).isValid)){const{value:R,message:W}=fu(c)?{value:!!c,message:c}:Ta(c);if(R&&(C[m]={type:an.required,message:W,ref:w,...$(an.required,W)},!r))return j(W),C}if(!I&&(!ms(h)||!ms(f))){let R,W;const H=Ta(f),K=Ta(h);if(!ms(v)&&!isNaN(v)){const D=o.valueAsNumber||v&&+v;ms(H.value)||(R=D>H.value),ms(K.value)||(W=D<K.value)}else{const D=o.valueAsDate||new Date(v),X=G=>new Date(new Date().toDateString()+" "+G),z=o.type=="time",B=o.type=="week";qr(H.value)&&v&&(R=z?X(v)>X(H.value):B?v>H.value:D>new Date(H.value)),qr(K.value)&&v&&(W=z?X(v)<X(K.value):B?v<K.value:D<new Date(K.value))}if((R||W)&&(_(!!R,H.message,K.message,an.max,an.min),!r))return j(C[m].message),C}if((d||u)&&!I&&(qr(v)||a&&Array.isArray(v))){const R=Ta(d),W=Ta(u),H=!ms(R.value)&&v.length>+R.value,K=!ms(W.value)&&v.length<+W.value;if((H||K)&&(_(H,R.message,W.message),!r))return j(C[m].message),C}if(x&&!I&&qr(v)){const{value:R,message:W}=Ta(x);if(mh(R)&&!v.match(R)&&(C[m]={type:an.pattern,message:W,ref:o,...$(an.pattern,W)},!r))return j(W),C}if(y){if(yr(y)){const R=await y(v,s),W=Uw(R,w);if(W&&(C[m]={...W,...$(an.validate,W.message)},!r))return j(W.message),C}else if(_t(y)){let R={};for(const W in y){if(!ds(R)&&!r)break;const H=Uw(await y[W](v,s),w,W);H&&(R={...H,...$(W,H.message)},j(H.message),r&&(C[m]=R))}if(!ds(R)&&(C[m]={ref:w,...R},!r))return C}}return j(!0),C};const I8={mode:vr.onSubmit,reValidateMode:vr.onChange,shouldFocusError:!0};function L8(t={}){let e={...I8,...t},s={submitCount:0,isDirty:!1,isLoading:yr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=_t(e.defaultValues)||_t(e.values)?Kt(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Kt(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:Mw(),state:Mw()},x=Iw(e.mode),y=Iw(e.reValidateMode),m=e.criteriaMode===vr.all,b=M=>T=>{clearTimeout(d),d=setTimeout(M,T)},g=async M=>{if(!e.disabled&&(u.isValid||h.isValid||M)){const T=e.resolver?ds((await I()).errors):await _(r,!0);T!==s.isValid&&f.state.next({isValid:T})}},v=(M,T)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((M||Array.from(l.mount)).forEach(F=>{F&&(T?rt(s.validatingFields,F,T):Lt(s.validatingFields,F))}),f.state.next({validatingFields:s.validatingFields,isValidating:!ds(s.validatingFields)}))},w=(M,T=[],F,te,L=!0,N=!0)=>{if(te&&F&&!e.disabled){if(o.action=!0,N&&Array.isArray(de(r,M))){const O=F(de(r,M),te.argA,te.argB);L&&rt(r,M,O)}if(N&&Array.isArray(de(s.errors,M))){const O=F(de(s.errors,M),te.argA,te.argB);L&&rt(s.errors,M,O),D8(s.errors,M)}if((u.touchedFields||h.touchedFields)&&N&&Array.isArray(de(s.touchedFields,M))){const O=F(de(s.touchedFields,M),te.argA,te.argB);L&&rt(s.touchedFields,M,O)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=dl(i,a)),f.state.next({name:M,isDirty:W(M,T),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else rt(a,M,T)},j=(M,T)=>{rt(s.errors,M,T),f.state.next({errors:s.errors})},C=M=>{s.errors=M,f.state.next({errors:s.errors,isValid:!1})},P=(M,T,F,te)=>{const L=de(r,M);if(L){const N=de(a,M,Ct(F)?de(i,M):F);Ct(N)||te&&te.defaultChecked||T?rt(a,M,T?N:Ow(L._f)):D(M,N),o.mount&&g()}},E=(M,T,F,te,L)=>{let N=!1,O=!1;const Y={name:M};if(!e.disabled){if(!F||te){(u.isDirty||h.isDirty)&&(O=s.isDirty,s.isDirty=Y.isDirty=W(),N=O!==Y.isDirty);const Q=Un(de(i,M),T);O=!!de(s.dirtyFields,M),Q?Lt(s.dirtyFields,M):rt(s.dirtyFields,M,!0),Y.dirtyFields=s.dirtyFields,N=N||(u.dirtyFields||h.dirtyFields)&&O!==!Q}if(F){const Q=de(s.touchedFields,M);Q||(rt(s.touchedFields,M,F),Y.touchedFields=s.touchedFields,N=N||(u.touchedFields||h.touchedFields)&&Q!==F)}N&&L&&f.state.next(Y)}return N?Y:{}},k=(M,T,F,te)=>{const L=de(s.errors,M),N=(u.isValid||h.isValid)&&Fs(T)&&s.isValid!==T;if(e.delayError&&F?(c=b(()=>j(M,F)),c(e.delayError)):(clearTimeout(d),c=null,F?rt(s.errors,M,F):Lt(s.errors,M)),(F?!Un(L,F):L)||!ds(te)||N){const O={...te,...N&&Fs(T)?{isValid:T}:{},errors:s.errors,name:M};s={...s,...O},f.state.next(O)}},I=async M=>{v(M,!0);const T=await e.resolver(a,e.context,E8(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(M),T},$=async M=>{const{errors:T}=await I(M);if(M)for(const F of M){const te=de(T,F);te?rt(s.errors,F,te):Lt(s.errors,F)}else s.errors=T;return T},_=async(M,T,F={valid:!0})=>{for(const te in M){const L=M[te];if(L){const{_f:N,...O}=L;if(N){const Y=l.array.has(N.name),Q=L._f&&_8(L._f);Q&&u.validatingFields&&v([te],!0);const se=await zw(L,l.disabled,a,m,e.shouldUseNativeValidation&&!T,Y);if(Q&&u.validatingFields&&v([te]),se[N.name]&&(F.valid=!1,T))break;!T&&(de(se,N.name)?Y?O8(s.errors,se,N.name):rt(s.errors,N.name,se[N.name]):Lt(s.errors,N.name))}!ds(O)&&await _(O,T,F)}}return F.valid},R=()=>{for(const M of l.unMount){const T=de(r,M);T&&(T._f.refs?T._f.refs.every(F=>!Um(F)):!Um(T._f.ref))&&xe(M)}l.unMount=new Set},W=(M,T)=>!e.disabled&&(M&&T&&rt(a,M,T),!Un(Te(),i)),H=(M,T,F)=>ik(M,l,{...o.mount?a:Ct(T)?i:qr(M)?{[M]:T}:T},F,T),K=M=>bf(de(o.mount?a:i,M,e.shouldUnregister?de(i,M,[]):[])),D=(M,T,F={})=>{const te=de(r,M);let L=T;if(te){const N=te._f;N&&(!N.disabled&&rt(a,M,uk(T,N)),L=hh(N.ref)&&ms(T)?"":T,ok(N.ref)?[...N.ref.options].forEach(O=>O.selected=L.includes(O.value)):N.refs?Xc(N.ref)?N.refs.length>1?N.refs.forEach(O=>(!O.defaultChecked||!O.disabled)&&(O.checked=Array.isArray(L)?!!L.find(Y=>Y===O.value):L===O.value)):N.refs[0]&&(N.refs[0].checked=!!L):N.refs.forEach(O=>O.checked=O.value===L):Hx(N.ref)?N.ref.value="":(N.ref.value=L,N.ref.type||f.state.next({name:M,values:Kt(a)})))}(F.shouldDirty||F.shouldTouch)&&E(M,L,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&J(M)},X=(M,T,F)=>{for(const te in T){const L=T[te],N=`${M}.${te}`,O=de(r,N);(l.array.has(M)||_t(L)||O&&!O._f)&&!Di(L)?X(N,L,F):D(N,L,F)}},z=(M,T,F={})=>{const te=de(r,M),L=l.array.has(M),N=Kt(T);rt(a,M,N),L?(f.array.next({name:M,values:Kt(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&F.shouldDirty&&f.state.next({name:M,dirtyFields:dl(i,a),isDirty:W(M,N)})):te&&!te._f&&!ms(N)?X(M,N,F):D(M,N,F),Fw(M,l)&&f.state.next({...s}),f.state.next({name:o.mount?M:void 0,values:Kt(a)})},B=async M=>{o.mount=!0;const T=M.target;let F=T.name,te=!0;const L=de(r,F),N=O=>{te=Number.isNaN(O)||Di(O)&&isNaN(O.getTime())||Un(O,de(a,F,O))};if(L){let O,Y;const Q=T.type?Ow(L._f):ek(M),se=M.type===uh.BLUR||M.type===uh.FOCUS_OUT,Re=!P8(L._f)&&!e.resolver&&!de(s.errors,F)&&!L._f.deps||A8(se,de(s.touchedFields,F),s.isSubmitted,y,x),Ne=Fw(F,l,se);rt(a,F,Q),se?(L._f.onBlur&&L._f.onBlur(M),c&&c(0)):L._f.onChange&&L._f.onChange(M);const Ie=E(F,Q,se),It=!ds(Ie)||Ne;if(!se&&f.state.next({name:F,type:M.type,values:Kt(a)}),Re)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?se&&g():se||g()),It&&f.state.next({name:F,...Ne?{}:Ie});if(!se&&Ne&&f.state.next({...s}),e.resolver){const{errors:Yt}=await I([F]);if(N(Q),te){const Ht=$w(s.errors,r,F),ya=$w(Yt,r,Ht.name||F);O=ya.error,F=ya.name,Y=ds(Yt)}}else v([F],!0),O=(await zw(L,l.disabled,a,m,e.shouldUseNativeValidation))[F],v([F]),N(Q),te&&(O?Y=!1:(u.isValid||h.isValid)&&(Y=await _(r,!0)));te&&(L._f.deps&&J(L._f.deps),k(F,Y,O,Ie))}},G=(M,T)=>{if(de(s.errors,T)&&M.focus)return M.focus(),1},J=async(M,T={})=>{let F,te;const L=Ll(M);if(e.resolver){const N=await $(Ct(M)?M:L);F=ds(N),te=M?!L.some(O=>de(N,O)):F}else M?(te=(await Promise.all(L.map(async N=>{const O=de(r,N);return await _(O&&O._f?{[N]:O}:O)}))).every(Boolean),!(!te&&!s.isValid)&&g()):te=F=await _(r);return f.state.next({...!qr(M)||(u.isValid||h.isValid)&&F!==s.isValid?{}:{name:M},...e.resolver||!M?{isValid:F}:{},errors:s.errors}),T.shouldFocus&&!te&&Fl(r,G,M?L:l.mount),te},Te=M=>{const T={...o.mount?a:i};return Ct(M)?T:qr(M)?de(T,M):M.map(F=>de(T,F))},me=(M,T)=>({invalid:!!de((T||s).errors,M),isDirty:!!de((T||s).dirtyFields,M),error:de((T||s).errors,M),isValidating:!!de(s.validatingFields,M),isTouched:!!de((T||s).touchedFields,M)}),Oe=M=>{M&&Ll(M).forEach(T=>Lt(s.errors,T)),f.state.next({errors:M?s.errors:{}})},ae=(M,T,F)=>{const te=(de(r,M,{_f:{}})._f||{}).ref,L=de(s.errors,M)||{},{ref:N,message:O,type:Y,...Q}=L;rt(s.errors,M,{...Q,...T,ref:te}),f.state.next({name:M,errors:s.errors,isValid:!1}),F&&F.shouldFocus&&te&&te.focus&&te.focus()},_e=(M,T)=>yr(M)?f.state.subscribe({next:F=>M(H(void 0,T),F)}):H(M,T,!0),U=M=>f.state.subscribe({next:T=>{R8(M.name,T.name,M.exact)&&M8(T,M.formState||u,jt,M.reRenderRoot)&&M.callback({values:{...a},...s,...T})}}).unsubscribe,oe=M=>(o.mount=!0,h={...h,...M.formState},U({...M,formState:h})),xe=(M,T={})=>{for(const F of M?Ll(M):l.mount)l.mount.delete(F),l.array.delete(F),T.keepValue||(Lt(r,F),Lt(a,F)),!T.keepError&&Lt(s.errors,F),!T.keepDirty&&Lt(s.dirtyFields,F),!T.keepTouched&&Lt(s.touchedFields,F),!T.keepIsValidating&&Lt(s.validatingFields,F),!e.shouldUnregister&&!T.keepDefaultValue&&Lt(i,F);f.state.next({values:Kt(a)}),f.state.next({...s,...T.keepDirty?{isDirty:W()}:{}}),!T.keepIsValid&&g()},be=({disabled:M,name:T})=>{(Fs(M)&&o.mount||M||l.disabled.has(T))&&(M?l.disabled.add(T):l.disabled.delete(T))},Pe=(M,T={})=>{let F=de(r,M);const te=Fs(T.disabled)||Fs(e.disabled);return rt(r,M,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:M}},name:M,mount:!0,...T}}),l.mount.add(M),F?be({disabled:Fs(T.disabled)?T.disabled:e.disabled,name:M}):P(M,!0,T.value),{...te?{disabled:T.disabled||e.disabled}:{},...e.progressive?{required:!!T.required,min:ul(T.min),max:ul(T.max),minLength:ul(T.minLength),maxLength:ul(T.maxLength),pattern:ul(T.pattern)}:{},name:M,onChange:B,onBlur:B,ref:L=>{if(L){Pe(M,T),F=de(r,M);const N=Ct(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,O=C8(N),Y=F._f.refs||[];if(O?Y.find(Q=>Q===N):N===F._f.ref)return;rt(r,M,{_f:{...F._f,...O?{refs:[...Y.filter(Um),N,...Array.isArray(de(i,M))?[{}]:[]],ref:{type:N.type,name:M}}:{ref:N}}}),P(M,!1,void 0,N)}else F=de(r,M,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||T.shouldUnregister)&&!(tk(l.array,M)&&o.action)&&l.unMount.add(M)}}},ve=()=>e.shouldFocusError&&Fl(r,G,l.mount),Je=M=>{Fs(M)&&(f.state.next({disabled:M}),Fl(r,(T,F)=>{const te=de(r,F);te&&(T.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(L=>{L.disabled=te._f.disabled||M}))},0,!1))},ze=(M,T)=>async F=>{let te;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let L=Kt(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:N,values:O}=await I();s.errors=N,L=O}else await _(r);if(l.disabled.size)for(const N of l.disabled)rt(L,N,void 0);if(Lt(s.errors,"root"),ds(s.errors)){f.state.next({errors:{}});try{await M(L,F)}catch(N){te=N}}else T&&await T({...s.errors},F),ve(),setTimeout(ve);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(s.errors)&&!te,submitCount:s.submitCount+1,errors:s.errors}),te)throw te},ee=(M,T={})=>{de(r,M)&&(Ct(T.defaultValue)?z(M,Kt(de(i,M))):(z(M,T.defaultValue),rt(i,M,Kt(T.defaultValue))),T.keepTouched||Lt(s.touchedFields,M),T.keepDirty||(Lt(s.dirtyFields,M),s.isDirty=T.defaultValue?W(M,Kt(de(i,M))):W()),T.keepError||(Lt(s.errors,M),u.isValid&&g()),f.state.next({...s}))},mt=(M,T={})=>{const F=M?Kt(M):i,te=Kt(F),L=ds(M),N=L?i:te;if(T.keepDefaultValues||(i=F),!T.keepValues){if(T.keepDirtyValues){const O=new Set([...l.mount,...Object.keys(dl(i,a))]);for(const Y of Array.from(O))de(s.dirtyFields,Y)?rt(N,Y,de(a,Y)):z(Y,de(N,Y))}else{if(Vx&&Ct(M))for(const O of l.mount){const Y=de(r,O);if(Y&&Y._f){const Q=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(hh(Q)){const se=Q.closest("form");if(se){se.reset();break}}}}for(const O of l.mount)z(O,de(N,O))}a=Kt(N),f.array.next({values:{...N}}),f.state.next({values:{...N}})}l={mount:T.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!T.keepIsValid||!!T.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?s.submitCount:0,isDirty:L?!1:T.keepDirty?s.isDirty:!!(T.keepDefaultValues&&!Un(M,i)),isSubmitted:T.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:L?{}:T.keepDirtyValues?T.keepDefaultValues&&a?dl(i,a):s.dirtyFields:T.keepDefaultValues&&M?dl(i,M):T.keepDirty?s.dirtyFields:{},touchedFields:T.keepTouched?s.touchedFields:{},errors:T.keepErrors?s.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Be=(M,T)=>mt(yr(M)?M(a):M,T),Pt=(M,T={})=>{const F=de(r,M),te=F&&F._f;if(te){const L=te.refs?te.refs[0]:te.ref;L.focus&&(L.focus(),T.shouldSelect&&yr(L.select)&&L.select())}},jt=M=>{s={...s,...M}},Ot={control:{register:Pe,unregister:xe,getFieldState:me,handleSubmit:ze,setError:ae,_subscribe:U,_runSchema:I,_getWatch:H,_getDirty:W,_setValid:g,_setFieldArray:w,_setDisabledField:be,_setErrors:C,_getFieldArray:K,_reset:mt,_resetDefaultValues:()=>yr(e.defaultValues)&&e.defaultValues().then(M=>{Be(M,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Je,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(M){o=M},get _defaultValues(){return i},get _names(){return l},set _names(M){l=M},get _formState(){return s},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:oe,trigger:J,register:Pe,handleSubmit:ze,watch:_e,setValue:z,getValues:Te,reset:Be,resetField:ee,clearErrors:Oe,unregister:xe,setError:ae,setFocus:Pt,getFieldState:me};return{...Ot,formControl:Ot}}function qx(t={}){const e=ue.useRef(void 0),s=ue.useRef(void 0),[r,i]=ue.useState({isDirty:!1,isValidating:!1,isLoading:yr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:yr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:L8(t),formState:r},t.formControl&&t.defaultValues&&!yr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,ue.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),ue.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ue.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),ue.useEffect(()=>{t.values&&!Un(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),ue.useEffect(()=>{t.errors&&!ds(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),ue.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ue.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=nk(r,a),e.current}const Bw=(t,e,s)=>{if(t&&"reportValidity"in t){const r=de(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},fk=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?Bw(r.ref,s,t):r.refs&&r.refs.forEach(i=>Bw(i,s,t))}},F8=(t,e)=>{e.shouldUseNativeValidation&&fk(t,e);const s={};for(const r in t){const i=de(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if($8(e.names||Object.keys(t),r)){const o=Object.assign({},de(s,r));rt(o,"root",a),rt(s,r,o)}else rt(s,r,a)}return s},$8=(t,e)=>t.some(s=>s.startsWith(e+"."));var U8=function(t,e){for(var s={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=ak(o,e,s,i,d?[].concat(d,r.message):r.message)}t.shift()}return s},Gx=function(t,e,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&fk({},a),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:F8(U8(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Ye;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function s(i){throw new Error}t.assertNever=s,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ye||(Ye={}));var k0;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(k0||(k0={}));const ge=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),un=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},re=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),z8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ws extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ws))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const i of this.issues)i.path.length>0?(s[i.path[0]]=s[i.path[0]]||[],s[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Ws.create=t=>new Ws(t);const Io=(t,e)=>{let s;switch(t.code){case re.invalid_type:t.received===ge.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,Ye.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:s=`Unrecognized key(s) in object: ${Ye.joinValues(t.keys,", ")}`;break;case re.invalid_union:s="Invalid input";break;case re.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Ye.joinValues(t.options)}`;break;case re.invalid_enum_value:s=`Invalid enum value. Expected ${Ye.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:s="Invalid function arguments";break;case re.invalid_return_type:s="Invalid function return type";break;case re.invalid_date:s="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:Ye.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case re.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case re.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case re.custom:s="Invalid input";break;case re.invalid_intersection_types:s="Intersection results could not be merged";break;case re.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:s="Number must be finite";break;default:s=e.defaultError,Ye.assertNever(t)}return{message:s}};let mk=Io;function B8(t){mk=t}function ph(){return mk}const gh=t=>{const{data:e,path:s,errorMaps:r,issueData:i}=t,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},V8=[];function he(t,e){const s=ph(),r=gh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Io?void 0:Io].filter(i=>!!i)});t.common.issues.push(r)}class as{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const i of s){if(i.status==="aborted")return De;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return as.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return De;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const De=Object.freeze({status:"aborted"}),Ha=t=>({status:"dirty",value:t}),xs=t=>({status:"valid",value:t}),E0=t=>t.status==="aborted",_0=t=>t.status==="dirty",ua=t=>t.status==="valid",vc=t=>typeof Promise<"u"&&t instanceof Promise;function xh(t,e,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function pk(t,e,s,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var Se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));var yl,bl;class en{constructor(e,s,r,i){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vw=(t,e)=>{if(ua(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ws(t.common.issues);return this._error=s,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:i}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:i}}class We{get description(){return this._def.description}_getType(e){return un(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new as,ctx:{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(vc(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){var r;const i={common:{issues:[],async:(r=s==null?void 0:s.async)!==null&&r!==void 0?r:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Vw(i,a)}"~validate"(e){var s,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return ua(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>ua(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(vc(i)?i:Promise.resolve(i));return Vw(r,a)}refine(e,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(e){return new _r({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Yr.create(this,this._def)}nullable(){return bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sr.create(this)}promise(){return Fo.create(this,this._def)}or(e){return jc.create([this,e],this._def)}and(e){return Nc.create(this,e,this._def)}transform(e){return new _r({...$e(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Ec({...$e(this._def),innerType:this,defaultValue:s,typeName:Ae.ZodDefault})}brand(){return new Qx({typeName:Ae.ZodBranded,type:this,...$e(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new _c({...$e(this._def),innerType:this,catchValue:s,typeName:Ae.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Yc.create(this,e)}readonly(){return Pc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W8=/^c[^\s-]{8,}$/i,H8=/^[0-9a-z]+$/,K8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,q8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,G8=/^[a-z0-9_-]{21}$/i,Q8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Y8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zm;const J8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,t7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,s7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,r7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,n7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",i7=new RegExp(`^${gk}$`);function xk(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function a7(t){return new RegExp(`^${xk(t)}$`)}function vk(t){let e=`${gk}T${xk(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function o7(t,e){return!!((e==="v4"||!e)&&J8.test(t)||(e==="v6"||!e)&&t7.test(t))}function l7(t,e){if(!Q8.test(t))return!1;try{const[s]=t.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function c7(t,e){return!!((e==="v4"||!e)&&e7.test(t)||(e==="v6"||!e)&&s7.test(t))}class br extends We{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const a=this._getOrReturnCtx(e);return he(a,{code:re.invalid_type,expected:ge.string,received:a.parsedType}),De}const r=new as;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?he(i,{code:re.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&he(i,{code:re.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")X8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"email",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")zm||(zm=new RegExp(Y8,"u")),zm.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"emoji",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")q8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"uuid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")G8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"nanoid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")W8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")H8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cuid2",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")K8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ulid",code:re.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),he(i,{validation:"url",code:re.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"regex",code:re.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?vk(a).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?i7.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?a7(a).test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{code:re.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Z8.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"duration",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?o7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"ip",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?l7(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"jwt",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?c7(e.data,a.version)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"cidr",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?r7.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64",code:re.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?n7.test(e.data)||(i=this._getOrReturnCtx(e,i),he(i,{validation:"base64url",code:re.invalid_string,message:a.message}),r.dirty()):Ye.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(i=>e.test(i),{validation:s,code:re.invalid_string,...Se.errToObj(r)})}_addCheck(e){return new br({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Se.errToObj(e)})}datetime(e){var s,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...Se.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...Se.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...Se.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...Se.errToObj(s)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}br.create=t=>{var e;return new br({checks:[],typeName:Ae.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$e(t)})};function d7(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=s>r?s:r,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class xi extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const a=this._getOrReturnCtx(e);return he(a,{code:re.invalid_type,expected:ge.number,received:a.parsedType}),De}let r;const i=new as;for(const a of this._def.checks)a.kind==="int"?Ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:re.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?d7(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_finite,message:a.message}),i.dirty()):Ye.assertNever(a);return{status:i.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,Se.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Se.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Se.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Se.toString(s))}setLimit(e,s,r,i){return new xi({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Se.toString(i)}]})}_addCheck(e){return new xi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ye.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}xi.create=t=>new xi({checks:[],typeName:Ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class vi extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let r;const i=new as;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:re.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ye.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return he(s,{code:re.invalid_type,expected:ge.bigint,received:s.parsedType}),De}gte(e,s){return this.setLimit("min",e,!0,Se.toString(s))}gt(e,s){return this.setLimit("min",e,!1,Se.toString(s))}lte(e,s){return this.setLimit("max",e,!0,Se.toString(s))}lt(e,s){return this.setLimit("max",e,!1,Se.toString(s))}setLimit(e,s,r,i){return new vi({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:Se.toString(i)}]})}_addCheck(e){return new vi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}vi.create=t=>{var e;return new vi({checks:[],typeName:Ae.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$e(t)})};class yc extends We{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.boolean,received:r.parsedType}),De}return xs(e.data)}}yc.create=t=>new yc({typeName:Ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class ha extends We{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const a=this._getOrReturnCtx(e);return he(a,{code:re.invalid_type,expected:ge.date,received:a.parsedType}),De}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return he(a,{code:re.invalid_date}),De}const r=new as;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),he(i,{code:re.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ye.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}ha.create=t=>new ha({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ae.ZodDate,...$e(t)});class vh extends We{_parse(e){if(this._getType(e)!==ge.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.symbol,received:r.parsedType}),De}return xs(e.data)}}vh.create=t=>new vh({typeName:Ae.ZodSymbol,...$e(t)});class bc extends We{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.undefined,received:r.parsedType}),De}return xs(e.data)}}bc.create=t=>new bc({typeName:Ae.ZodUndefined,...$e(t)});class wc extends We{_parse(e){if(this._getType(e)!==ge.null){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.null,received:r.parsedType}),De}return xs(e.data)}}wc.create=t=>new wc({typeName:Ae.ZodNull,...$e(t)});class Lo extends We{constructor(){super(...arguments),this._any=!0}_parse(e){return xs(e.data)}}Lo.create=t=>new Lo({typeName:Ae.ZodAny,...$e(t)});class Gi extends We{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xs(e.data)}}Gi.create=t=>new Gi({typeName:Ae.ZodUnknown,...$e(t)});class En extends We{_parse(e){const s=this._getOrReturnCtx(e);return he(s,{code:re.invalid_type,expected:ge.never,received:s.parsedType}),De}}En.create=t=>new En({typeName:Ae.ZodNever,...$e(t)});class yh extends We{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.void,received:r.parsedType}),De}return xs(e.data)}}yh.create=t=>new yh({typeName:Ae.ZodVoid,...$e(t)});class Sr extends We{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),i=this._def;if(s.parsedType!==ge.array)return he(s,{code:re.invalid_type,expected:ge.array,received:s.parsedType}),De;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(he(s,{code:o?re.too_big:re.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(he(s,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(he(s,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new en(s,o,s.path,l)))).then(o=>as.mergeArray(r,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new en(s,o,s.path,l)));return as.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Sr({...this._def,minLength:{value:e,message:Se.toString(s)}})}max(e,s){return new Sr({...this._def,maxLength:{value:e,message:Se.toString(s)}})}length(e,s){return new Sr({...this._def,exactLength:{value:e,message:Se.toString(s)}})}nonempty(e){return this.min(1,e)}}Sr.create=(t,e)=>new Sr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...$e(e)});function Pa(t){if(t instanceof vt){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Yr.create(Pa(r))}return new vt({...t._def,shape:()=>e})}else return t instanceof Sr?new Sr({...t._def,type:Pa(t.element)}):t instanceof Yr?Yr.create(Pa(t.unwrap())):t instanceof bi?bi.create(Pa(t.unwrap())):t instanceof tn?tn.create(t.items.map(e=>Pa(e))):t}class vt extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=Ye.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==ge.object){const d=this._getOrReturnCtx(e);return he(d,{code:re.invalid_type,expected:ge.object,received:d.parsedType}),De}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof En&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new en(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof En){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(he(i,{code:re.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new en(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>as.mergeObjectSync(r,d)):as.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,s,r).message)!==null&&o!==void 0?o:r.defaultError;return s.code==="unrecognized_keys"?{message:(l=Se.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ae.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const s={};return Ye.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(s[r]=this.shape[r])}),new vt({...this._def,shape:()=>s})}omit(e){const s={};return Ye.objectKeys(this.shape).forEach(r=>{e[r]||(s[r]=this.shape[r])}),new vt({...this._def,shape:()=>s})}deepPartial(){return Pa(this)}partial(e){const s={};return Ye.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?s[r]=i:s[r]=i.optional()}),new vt({...this._def,shape:()=>s})}required(e){const s={};return Ye.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Yr;)a=a._def.innerType;s[r]=a}}),new vt({...this._def,shape:()=>s})}keyof(){return yk(Ye.objectKeys(this.shape))}}vt.create=(t,e)=>new vt({shape:()=>t,unknownKeys:"strip",catchall:En.create(),typeName:Ae.ZodObject,...$e(e)});vt.strictCreate=(t,e)=>new vt({shape:()=>t,unknownKeys:"strict",catchall:En.create(),typeName:Ae.ZodObject,...$e(e)});vt.lazycreate=(t,e)=>new vt({shape:t,unknownKeys:"strip",catchall:En.create(),typeName:Ae.ZodObject,...$e(e)});class jc extends We{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ws(l.ctx.common.issues));return he(s,{code:re.invalid_union,unionErrors:o}),De}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ws(c));return he(s,{code:re.invalid_union,unionErrors:l}),De}}get options(){return this._def.options}}jc.create=(t,e)=>new jc({options:t,typeName:Ae.ZodUnion,...$e(e)});const ln=t=>t instanceof Cc?ln(t.schema):t instanceof _r?ln(t.innerType()):t instanceof Tc?[t.value]:t instanceof yi?t.options:t instanceof kc?Ye.objectValues(t.enum):t instanceof Ec?ln(t._def.innerType):t instanceof bc?[void 0]:t instanceof wc?[null]:t instanceof Yr?[void 0,...ln(t.unwrap())]:t instanceof bi?[null,...ln(t.unwrap())]:t instanceof Qx||t instanceof Pc?ln(t.unwrap()):t instanceof _c?ln(t._def.innerType):[];class jf extends We{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ge.object)return he(s,{code:re.invalid_type,expected:ge.object,received:s.parsedType}),De;const r=this.discriminator,i=s.data[r],a=this.optionsMap.get(i);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(he(s,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),De)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const i=new Map;for(const a of s){const o=ln(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new jf({typeName:Ae.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:i,...$e(r)})}}function P0(t,e){const s=un(t),r=un(e);if(t===e)return{valid:!0,data:t};if(s===ge.object&&r===ge.object){const i=Ye.objectKeys(e),a=Ye.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=P0(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===ge.array&&r===ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=P0(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===ge.date&&r===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Nc extends We{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(E0(a)||E0(o))return De;const l=P0(a.value,o.value);return l.valid?((_0(a)||_0(o))&&s.dirty(),{status:s.value,value:l.data}):(he(r,{code:re.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Nc.create=(t,e,s)=>new Nc({left:t,right:e,typeName:Ae.ZodIntersection,...$e(s)});class tn extends We{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.array)return he(r,{code:re.invalid_type,expected:ge.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return he(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new en(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>as.mergeArray(s,o)):as.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new tn({...this._def,rest:e})}}tn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tn({items:t,typeName:Ae.ZodTuple,rest:null,...$e(e)})};class Sc extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.object)return he(r,{code:re.invalid_type,expected:ge.object,received:r.parsedType}),De;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new en(r,l,r.path,l)),value:o._parse(new en(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?as.mergeObjectAsync(s,i):as.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof We?new Sc({keyType:e,valueType:s,typeName:Ae.ZodRecord,...$e(r)}):new Sc({keyType:br.create(),valueType:e,typeName:Ae.ZodRecord,...$e(s)})}}class bh extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.map)return he(r,{code:re.invalid_type,expected:ge.map,received:r.parsedType}),De;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new en(r,l,r.path,[d,"key"])),value:a._parse(new en(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return De;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return De;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}bh.create=(t,e,s)=>new bh({valueType:e,keyType:t,typeName:Ae.ZodMap,...$e(s)});class fa extends We{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.set)return he(r,{code:re.invalid_type,expected:ge.set,received:r.parsedType}),De;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(he(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(he(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return De;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new en(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new fa({...this._def,minSize:{value:e,message:Se.toString(s)}})}max(e,s){return new fa({...this._def,maxSize:{value:e,message:Se.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}fa.create=(t,e)=>new fa({valueType:t,minSize:null,maxSize:null,typeName:Ae.ZodSet,...$e(e)});class no extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ge.function)return he(s,{code:re.invalid_type,expected:ge.function,received:s.parsedType}),De;function r(l,c){return gh({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ph(),Io].filter(d=>!!d),issueData:{code:re.invalid_arguments,argumentsError:c}})}function i(l,c){return gh({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,ph(),Io].filter(d=>!!d),issueData:{code:re.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof Fo){const l=this;return xs(async function(...c){const d=new Ws([]),u=await l._def.args.parseAsync(c,a).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return xs(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Ws([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new Ws([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new no({...this._def,args:tn.create(e).rest(Gi.create())})}returns(e){return new no({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new no({args:e||tn.create([]).rest(Gi.create()),returns:s||Gi.create(),typeName:Ae.ZodFunction,...$e(r)})}}class Cc extends We{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Cc.create=(t,e)=>new Cc({getter:t,typeName:Ae.ZodLazy,...$e(e)});class Tc extends We{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return he(s,{received:s.data,code:re.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tc.create=(t,e)=>new Tc({value:t,typeName:Ae.ZodLiteral,...$e(e)});function yk(t,e){return new yi({values:t,typeName:Ae.ZodEnum,...$e(e)})}class yi extends We{constructor(){super(...arguments),yl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return he(s,{expected:Ye.joinValues(r),received:s.parsedType,code:re.invalid_type}),De}if(xh(this,yl)||pk(this,yl,new Set(this._def.values)),!xh(this,yl).has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return he(s,{received:s.data,code:re.invalid_enum_value,options:r}),De}return xs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return yi.create(e,{...this._def,...s})}exclude(e,s=this._def){return yi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}yl=new WeakMap;yi.create=yk;class kc extends We{constructor(){super(...arguments),bl.set(this,void 0)}_parse(e){const s=Ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ge.string&&r.parsedType!==ge.number){const i=Ye.objectValues(s);return he(r,{expected:Ye.joinValues(i),received:r.parsedType,code:re.invalid_type}),De}if(xh(this,bl)||pk(this,bl,new Set(Ye.getValidEnumValues(this._def.values))),!xh(this,bl).has(e.data)){const i=Ye.objectValues(s);return he(r,{received:r.data,code:re.invalid_enum_value,options:i}),De}return xs(e.data)}get enum(){return this._def.values}}bl=new WeakMap;kc.create=(t,e)=>new kc({values:t,typeName:Ae.ZodNativeEnum,...$e(e)});class Fo extends We{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==ge.promise&&s.common.async===!1)return he(s,{code:re.invalid_type,expected:ge.promise,received:s.parsedType}),De;const r=s.parsedType===ge.promise?s.data:Promise.resolve(s.data);return xs(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Fo.create=(t,e)=>new Fo({type:t,typeName:Ae.ZodPromise,...$e(e)});class _r extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{he(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return De;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?De:c.status==="dirty"||s.value==="dirty"?Ha(c.value):c});{if(s.value==="aborted")return De;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||s.value==="dirty"?Ha(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?De:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?De:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ua(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ua(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);Ye.assertNever(i)}}_r.create=(t,e,s)=>new _r({schema:t,typeName:Ae.ZodEffects,effect:e,...$e(s)});_r.createWithPreprocess=(t,e,s)=>new _r({schema:e,effect:{type:"preprocess",transform:t},typeName:Ae.ZodEffects,...$e(s)});class Yr extends We{_parse(e){return this._getType(e)===ge.undefined?xs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yr.create=(t,e)=>new Yr({innerType:t,typeName:Ae.ZodOptional,...$e(e)});class bi extends We{_parse(e){return this._getType(e)===ge.null?xs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bi.create=(t,e)=>new bi({innerType:t,typeName:Ae.ZodNullable,...$e(e)});class Ec extends We{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Ec.create=(t,e)=>new Ec({innerType:t,typeName:Ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class _c extends We{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return vc(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ws(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ws(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_c.create=(t,e)=>new _c({innerType:t,typeName:Ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class wh extends We{_parse(e){if(this._getType(e)!==ge.nan){const r=this._getOrReturnCtx(e);return he(r,{code:re.invalid_type,expected:ge.nan,received:r.parsedType}),De}return{status:"valid",value:e.data}}}wh.create=t=>new wh({typeName:Ae.ZodNaN,...$e(t)});const u7=Symbol("zod_brand");class Qx extends We{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Yc extends We{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?De:a.status==="dirty"?(s.dirty(),Ha(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,s){return new Yc({in:e,out:s,typeName:Ae.ZodPipeline})}}class Pc extends We{_parse(e){const s=this._def.innerType._parse(e),r=i=>(ua(i)&&(i.value=Object.freeze(i.value)),i);return vc(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}Pc.create=(t,e)=>new Pc({innerType:t,typeName:Ae.ZodReadonly,...$e(e)});function Ww(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function bk(t,e={},s){return t?Lo.create().superRefine((r,i)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=Ww(e,r),f=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=Ww(e,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:d})}}):Lo.create()}const h7={object:vt.lazycreate};var Ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const f7=(t,e={message:`Input not instance of ${t.name}`})=>bk(s=>s instanceof t,e),wk=br.create,jk=xi.create,m7=wh.create,p7=vi.create,Nk=yc.create,g7=ha.create,x7=vh.create,v7=bc.create,y7=wc.create,b7=Lo.create,w7=Gi.create,j7=En.create,N7=yh.create,S7=Sr.create,C7=vt.create,T7=vt.strictCreate,k7=jc.create,E7=jf.create,_7=Nc.create,P7=tn.create,M7=Sc.create,R7=bh.create,A7=fa.create,D7=no.create,O7=Cc.create,I7=Tc.create,L7=yi.create,F7=kc.create,$7=Fo.create,Hw=_r.create,U7=Yr.create,z7=bi.create,B7=_r.createWithPreprocess,V7=Yc.create,W7=()=>wk().optional(),H7=()=>jk().optional(),K7=()=>Nk().optional(),q7={string:t=>br.create({...t,coerce:!0}),number:t=>xi.create({...t,coerce:!0}),boolean:t=>yc.create({...t,coerce:!0}),bigint:t=>vi.create({...t,coerce:!0}),date:t=>ha.create({...t,coerce:!0})},G7=De;var ss=Object.freeze({__proto__:null,defaultErrorMap:Io,setErrorMap:B8,getErrorMap:ph,makeIssue:gh,EMPTY_PATH:V8,addIssueToContext:he,ParseStatus:as,INVALID:De,DIRTY:Ha,OK:xs,isAborted:E0,isDirty:_0,isValid:ua,isAsync:vc,get util(){return Ye},get objectUtil(){return k0},ZodParsedType:ge,getParsedType:un,ZodType:We,datetimeRegex:vk,ZodString:br,ZodNumber:xi,ZodBigInt:vi,ZodBoolean:yc,ZodDate:ha,ZodSymbol:vh,ZodUndefined:bc,ZodNull:wc,ZodAny:Lo,ZodUnknown:Gi,ZodNever:En,ZodVoid:yh,ZodArray:Sr,ZodObject:vt,ZodUnion:jc,ZodDiscriminatedUnion:jf,ZodIntersection:Nc,ZodTuple:tn,ZodRecord:Sc,ZodMap:bh,ZodSet:fa,ZodFunction:no,ZodLazy:Cc,ZodLiteral:Tc,ZodEnum:yi,ZodNativeEnum:kc,ZodPromise:Fo,ZodEffects:_r,ZodTransformer:_r,ZodOptional:Yr,ZodNullable:bi,ZodDefault:Ec,ZodCatch:_c,ZodNaN:wh,BRAND:u7,ZodBranded:Qx,ZodPipeline:Yc,ZodReadonly:Pc,custom:bk,Schema:We,ZodSchema:We,late:h7,get ZodFirstPartyTypeKind(){return Ae},coerce:q7,any:b7,array:S7,bigint:p7,boolean:Nk,date:g7,discriminatedUnion:E7,effect:Hw,enum:L7,function:D7,instanceof:f7,intersection:_7,lazy:O7,literal:I7,map:R7,nan:m7,nativeEnum:F7,never:j7,null:y7,nullable:z7,number:jk,object:C7,oboolean:K7,onumber:H7,optional:U7,ostring:W7,pipeline:V7,preprocess:B7,promise:$7,record:M7,set:A7,strictObject:T7,string:wk,symbol:x7,transformer:Hw,tuple:P7,undefined:v7,union:k7,unknown:w7,void:N7,NEVER:G7,ZodIssueCode:re,quotelessJson:z8,ZodError:Ws});const Zx=b8,Sk=p.createContext({}),Js=({...t})=>n.jsx(Sk.Provider,{value:{name:t.name},children:n.jsx(S8,{...t})}),Nf=()=>{const t=p.useContext(Sk),e=p.useContext(Ck),{getFieldState:s,formState:r}=wf(),i=s(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Ck=p.createContext({}),Ds=p.forwardRef(({className:t,...e},s)=>{const r=p.useId();return n.jsx(Ck.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:ke("space-y-2",t),...e})})});Ds.displayName="FormItem";const Os=p.forwardRef(({className:t,...e},s)=>{const{error:r,formItemId:i}=Nf();return n.jsx(xt,{ref:s,className:ke(r&&"text-destructive",t),htmlFor:i,...e})});Os.displayName="FormLabel";const Is=p.forwardRef(({...t},e)=>{const{error:s,formItemId:r,formDescriptionId:i,formMessageId:a}=Nf();return n.jsx(WN,{ref:e,id:r,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...t})});Is.displayName="FormControl";const Q7=p.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:r}=Nf();return n.jsx("p",{ref:s,id:r,className:ke("text-sm text-muted-foreground",t),...e})});Q7.displayName="FormDescription";const Ls=p.forwardRef(({className:t,children:e,...s},r)=>{const{error:i,formMessageId:a}=Nf(),o=i?String((i==null?void 0:i.message)??""):e;return o?n.jsx("p",{ref:r,id:a,className:ke("text-sm font-medium text-destructive",t),...s,children:o}):null});Ls.displayName="FormMessage";const Z7=ss.object({username:ss.string().min(1,"Username is required"),password:ss.string().min(1,"Password is required")});function X7(){const[,t]=or(),{toast:e}=Gs(),{user:s,adminLogin:r,isAdminLoginPending:i}=Wt();p.useEffect(()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user");l&&(l.startsWith("demo-token-")||c&&JSON.parse(c).role==="user")&&(console.log("🔧 Clearing non-admin session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"))},[]),p.useEffect(()=>{s&&(s.role==="admin"||s.role==="super_admin"||s.role==="superadmin"?(console.log("🔧 User already authenticated as admin, redirecting..."),t("/admin")):(console.log("🔧 Non-admin user detected, clearing session for admin login"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("demoUser"),window.location.reload()))},[s,t]);const a=qx({resolver:Gx(Z7),defaultValues:{username:"",password:""}}),o=async l=>{try{const c=await r(l);console.log("🔧 Login result:",c),e({title:"Login Successful",description:`Welcome back, ${l.username}!`}),c&&c.user&&(localStorage.setItem("authToken",c.token),localStorage.setItem("user",JSON.stringify(c.user)),console.log("🔧 Stored user data:",c.user),console.log("🔧 Forcing page reload to update auth state..."),setTimeout(()=>{window.location.href="/admin/dashboard"},1e3))}catch(c){e({title:"Login Failed",description:c.message||"Invalid admin credentials",variant:"destructive"})}};return n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center px-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center",children:n.jsx(zr,{className:"text-white w-6 h-6"})})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Login"}),n.jsx("p",{className:"text-gray-400 mt-2",children:"Access the METACHROME admin dashboard"})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Sign In"}),n.jsx(dt,{className:"text-gray-400",children:"Enter your admin credentials to continue"})]}),n.jsx(ce,{children:n.jsx(Zx,{...a,children:n.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[n.jsx(Js,{control:a.control,name:"username",render:({field:l})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-white",children:"Username"}),n.jsx(Is,{children:n.jsx(Ce,{...l,placeholder:"Enter your username",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(Ls,{})]})}),n.jsx(Js,{control:a.control,name:"password",render:({field:l})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-white",children:"Password"}),n.jsx(Is,{children:n.jsx(Ce,{...l,type:"password",placeholder:"Enter your password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400"})}),n.jsx(Ls,{})]})}),n.jsx(V,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(zy,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):n.jsxs(n.Fragment,{children:[n.jsx(zy,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]})})})]})]})})}function Y7(){const[,t]=or();return p.useEffect(()=>{const e=localStorage.getItem("authToken"),s=localStorage.getItem("user");if(console.log("🔧 AdminRedirect - Token:",!!e),console.log("🔧 AdminRedirect - User:",s),e&&s)try{const r=JSON.parse(s);console.log("🔧 AdminRedirect - Parsed user:",r),r.role==="admin"||r.role==="super_admin"||r.role==="superadmin"?(console.log("🔧 AdminRedirect - Valid admin, redirecting to dashboard"),t("/admin/dashboard")):(console.log("🔧 AdminRedirect - Not admin, redirecting to login"),t("/admin/login"))}catch(r){console.error("🔧 AdminRedirect - Error parsing user:",r),t("/admin/login")}else console.log("🔧 AdminRedirect - No token/user, redirecting to login"),t("/admin/login")},[t]),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(vS,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Redirecting to dashboard..."})]})})}var Tk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kw=ue.createContext&&ue.createContext(Tk),li=function(){return li=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},li.apply(this,arguments)},J7=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};function kk(t){return t&&t.map(function(e,s){return ue.createElement(e.tag,li({key:s},e.attr),kk(e.child))})}function Ek(t){return function(e){return ue.createElement(eU,li({attr:li({},t.attr)},e),kk(t.child))}}function eU(t){var e=function(s){var r=t.attr,i=t.size,a=t.title,o=J7(t,["attr","size","title"]),l=i||s.size||"1em",c;return s.className&&(c=s.className),t.className&&(c=(c?c+" ":"")+t.className),ue.createElement("svg",li({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,r,o,{className:c,style:li(li({color:t.color||s.color},s.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&ue.createElement("title",null,a),t.children)};return Kw!==void 0?ue.createElement(Kw.Consumer,null,function(s){return e(s)}):e(Tk)}function _k(t){return Ek({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(t)}function Pk(t){return Ek({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"}}]})(t)}const tU=ss.object({email:ss.string().min(1,"Username, email, or wallet address is required"),password:ss.string().min(1,"Password is required"),rememberMe:ss.boolean().optional()});function sU(){const[,t]=or(),{toast:e}=Gs(),{userLogin:s,isUserLoginPending:r,metamaskLogin:i}=Wt(),[a,o]=p.useState(!1),[l,c]=p.useState(!1),d=lr(),u=qx({resolver:Gx(tU),defaultValues:{email:"",password:"",rememberMe:!1}}),h=async y=>{try{console.log("🔄 Starting login process...",{email:y.email});let m=y.email;y.email.includes("@")&&(m=y.email.split("@")[0]),console.log("🔄 Calling userLogin with:",{username:m,password:"***"}),console.log("🧪 Testing direct fetch...");try{const b=await fetch("/api/auth/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:y.password}),credentials:"include"});console.log("🧪 Direct fetch response:",{status:b.status,statusText:b.statusText,ok:b.ok,headers:Object.fromEntries(b.headers.entries())});const g=await b.text();if(console.log("🧪 Response text:",g),b.ok){const v=JSON.parse(g);console.log("🧪 Parsed response:",v),v.token&&(localStorage.setItem("authToken",v.token),console.log("🔐 Token stored:",v.token)),v.user&&(localStorage.setItem("user",JSON.stringify(v.user)),console.log("👤 User data stored:",v.user)),d.setQueryData(["/api/auth"],v.user),d.invalidateQueries({queryKey:["/api/auth"]}),console.log("🔄 Query cache updated"),e({title:"Login Successful",description:"Welcome back!"}),setTimeout(()=>{console.log("🔄 Redirecting to dashboard..."),t("/dashboard")},100);return}else throw new Error(`Direct fetch failed: ${b.status} ${g}`)}catch(b){console.error("🧪 Direct fetch failed:",b),console.log("🔄 Falling back to userLogin hook..."),await s({username:m,password:y.password}),console.log("✅ Login successful"),e({title:"Login Successful",description:"Welcome back!"}),t("/dashboard")}}catch(m){console.error("❌ Login error:",m),console.error("Error details:",{message:m.message,stack:m.stack,name:m.name}),e({title:"Login Failed",description:m.message||"Invalid credentials",variant:"destructive"})}},f=async()=>{var y;if(console.log("🔄 Starting MetaMask connection..."),console.log("Window ethereum:",window.ethereum),console.log("Is MetaMask:",(y=window.ethereum)==null?void 0:y.isMetaMask),!window.ethereum){console.error("❌ No ethereum provider found"),e({title:"MetaMask Not Found",description:"Please install MetaMask extension to continue.",variant:"destructive"});return}if(!window.ethereum.isMetaMask){console.error("❌ Ethereum provider is not MetaMask"),e({title:"MetaMask Not Detected",description:"Please make sure MetaMask extension is enabled.",variant:"destructive"});return}c(!0);try{console.log("🔄 Requesting account access...");const m=await window.ethereum.request({method:"eth_requestAccounts"});if(console.log("📝 Accounts received:",m),m.length===0)throw new Error("No accounts found. Please unlock MetaMask.");const b=m[0];console.log("🔄 Authenticating wallet:",b),console.log("🔄 Authenticating wallet:",b);const g=await i({walletAddress:b});console.log("✅ Auth successful:",g),g.user&&g.token&&(localStorage.setItem("authToken",g.token),localStorage.setItem("user",JSON.stringify(g.user))),e({title:"MetaMask Connected",description:`Wallet ${b.slice(0,6)}...${b.slice(-4)} authenticated successfully!`}),console.log("🔄 Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},500)}catch(m){console.error("❌ MetaMask connection error:",m),e({title:"Connection Failed",description:m.message||"Failed to connect MetaMask",variant:"destructive"})}finally{c(!1)}},x=async()=>{try{e({title:"Google Login",description:"Redirecting to Google authentication..."}),setTimeout(()=>{e({title:"Google OAuth Issue",description:"If you see 'refused to connect', please contact support.",variant:"destructive"})},5e3),window.location.href="/api/auth/google"}catch{e({title:"Google Login Failed",description:"Please try again or use email login",variant:"destructive"})}};return n.jsx("div",{className:"min-h-screen bg-gray-900",children:n.jsxs("div",{className:"flex min-h-[calc(100vh-128px)] flex-col lg:flex-row",children:[n.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative overflow-hidden min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B"},children:n.jsxs("div",{className:"text-center z-10 max-w-md relative",children:[n.jsx("p",{className:"text-white/90 text-lg mb-4",children:"Get Started with METACHROME"}),n.jsx("h1",{className:"text-4xl font-bold text-white mb-12 leading-tight",children:"The Future is for Everyone"}),n.jsx("div",{className:"relative w-80 h-80 mx-auto",children:n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-full",children:[n.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.webm",type:"video/webm"})]})})]})}),n.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:n.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Log In"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Don't have an account? "}),n.jsx(Xe,{href:"/signup",children:n.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign up"})})]})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Securely connect to your account"}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs(V,{variant:"outline",className:"bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center space-x-2",onClick:x,type:"button",children:[n.jsx(_k,{className:"w-5 h-5 text-white"}),n.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),n.jsx(V,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:f,disabled:l,type:"button",children:l?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-white",children:"Connecting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pk,{className:"w-5 h-5 text-orange-500 mr-2"}),n.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),n.jsx(Zx,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[n.jsx(Js,{control:u.control,name:"email",render:({field:y})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Username/Wallet address/Email"}),n.jsx(Is,{children:n.jsx(Ce,{...y,placeholder:"Enter your Username/Wallet address/Email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500","data-testid":"input-email"})}),n.jsx(Ls,{})]})}),n.jsx(Js,{control:u.control,name:"password",render:({field:y})=>n.jsxs(Ds,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Password"}),n.jsx("span",{className:"text-purple-400 text-sm cursor-pointer hover:text-purple-300",children:"Forgot Password?"})]}),n.jsx(Is,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...y,type:a?"text":"password",placeholder:"Enter your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10","data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a?n.jsx(rc,{className:"w-4 h-4"}):n.jsx(hi,{className:"w-4 h-4"})})]})}),n.jsx(Ls,{})]})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",...u.register("rememberMe"),className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2"}),n.jsx("label",{htmlFor:"rememberMe",className:"text-gray-400 text-sm font-normal",children:"Remember Me"})]}),n.jsx(V,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:r,children:r?"Logging In...":"Log In"})]})})]})})})]})})}const rU=ss.object({firstName:ss.string().min(1,"First name is required"),lastName:ss.string().min(1,"Last name is required"),email:ss.string().email("Valid email is required"),password:ss.string().min(6,"Password must be at least 6 characters"),confirmPassword:ss.string().min(1,"Password confirmation is required"),referralCode:ss.string().optional(),documentType:ss.enum(["id_card","driver_license","passport"],{required_error:"Document type is required",invalid_type_error:"Please select a valid document type"}),agreeToTerms:ss.boolean().refine(t=>t===!0,"You must agree to the terms")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function nU(){const[,t]=or(),{toast:e}=Gs(),{register:s,metamaskLogin:r}=Wt(),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,x]=p.useState(null),[y,m]=p.useState(0),b=qx({resolver:Gx(rU),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",referralCode:"",documentType:"id_card",agreeToTerms:!1}}),g=async C=>{h(!0);try{if(!f){e({title:"ID Verification Required",description:"Please upload your ID document to complete registration. This is mandatory for account security.",variant:"destructive"}),h(!1);return}console.log("🔄 Starting signup process...",{firstName:C.firstName,lastName:C.lastName,email:C.email,referralCode:C.referralCode,documentType:C.documentType,hasDocument:!!f});const P=await s({username:C.email.split("@")[0],email:C.email,password:C.password,firstName:C.firstName,lastName:C.lastName,referralCode:C.referralCode});if(console.log("✅ Registration successful:",P),P.token&&(localStorage.setItem("authToken",P.token),console.log("🔑 Stored auth token for immediate use")),P.user&&(localStorage.setItem("user",JSON.stringify(P.user)),console.log("👤 Stored user data for immediate use")),f&&C.documentType)try{m(25);const E=new FormData;E.append("document",f),E.append("documentType",C.documentType);const k=P.token;if(console.log("🔑 Using registration token for document upload:",k?k.substring(0,30)+"...":"No token"),!k)throw new Error("No authentication token received from registration");console.log("⏳ Waiting for user to be saved in database..."),await new Promise($=>setTimeout($,1e3)),m(50);const I=await fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:`Bearer ${k}`},body:E});if(m(75),I.ok){const $=await I.json();m(100),console.log("✅ Verification document uploaded successfully:",$),e({title:"Account Created & Document Uploaded!",description:"Your account is pending verification. You'll be notified once approved.",duration:5e3})}else{const $=await I.text();throw console.error("❌ Upload response error:",I.status,$),new Error(`Upload failed: ${I.status} - ${$}`)}}catch(E){console.error("❌ Document upload error:",E),e({title:"Account Created",description:`Account created but document upload failed: ${E.message}. You can upload it later in your profile.`,variant:"destructive",duration:5e3})}else e({title:"Account Created Successfully!",description:"Welcome to METACHROME! Please upload your verification document in your profile.",duration:5e3});console.log("🔄 Redirecting to dashboard..."),t("/dashboard")}catch(P){console.error("❌ Registration error:",P),e({title:"Signup Failed",description:P.message||"Failed to create account",variant:"destructive"})}finally{h(!1),m(0)}},v=C=>{var E;const P=(E=C.target.files)==null?void 0:E[0];if(P){if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(P.type)){e({title:"Invalid File Type",description:"Please upload a JPG, PNG, or PDF file.",variant:"destructive"});return}if(P.size>5*1024*1024){e({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}x(P),console.log("📄 File selected:",P.name,P.type,P.size)}},w=async()=>{if(!window.ethereum){e({title:"MetaMask Not Found",description:"Please install MetaMask to continue.",variant:"destructive"});return}d(!0);try{console.log("🔄 Requesting MetaMask account access...");const C=await window.ethereum.request({method:"eth_requestAccounts"});if(console.log("📝 Accounts received:",C),C.length===0)throw new Error("No accounts found. Please unlock MetaMask.");const P=C[0];console.log("🔄 Authenticating wallet:",P);const E=await r({walletAddress:P});console.log("✅ MetaMask authentication successful:",E),E.user&&E.token&&(localStorage.setItem("authToken",E.token),localStorage.setItem("user",JSON.stringify(E.user))),e({title:"MetaMask Connected Successfully!",description:`Welcome! Connected with wallet: ${P.slice(0,6)}...${P.slice(-4)}`}),console.log("🔄 Redirecting to dashboard..."),setTimeout(()=>{t("/dashboard")},500)}catch(C){console.error("❌ MetaMask connection error:",C),e({title:"Connection Failed",description:C.message||"Failed to connect MetaMask",variant:"destructive"})}finally{d(!1)}},j=async()=>{try{e({title:"Google Signup",description:"Redirecting to Google authentication..."}),window.location.href="/api/auth/google"}catch{e({title:"Google Signup Failed",description:"Please try again or use email signup",variant:"destructive"})}};return n.jsx("div",{className:"min-h-screen bg-gray-900",children:n.jsxs("div",{className:"flex min-h-[calc(100vh-128px)] flex-col lg:flex-row",children:[n.jsx("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center relative overflow-hidden min-h-[40vh] lg:min-h-auto",style:{backgroundColor:"#24083B"},children:n.jsxs("div",{className:"text-center z-10 max-w-md relative",children:[n.jsx("p",{className:"text-white/90 text-lg mb-4",children:"Get Started with METACHROME"}),n.jsx("h1",{className:"text-4xl font-bold text-white mb-12 leading-tight",children:"The Future is for Everyone"}),n.jsx("div",{className:"relative w-80 h-80 mx-auto",children:n.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover rounded-full",children:[n.jsx("source",{src:"/orb_1755576133990.webm",type:"video/webm"}),n.jsx("source",{src:"/orb.webm",type:"video/webm"})]})})]})}),n.jsx("div",{className:"w-full lg:w-1/2 bg-black flex flex-col min-h-[60vh] lg:min-h-auto",children:n.jsx("div",{className:"flex-1 flex flex-col justify-center px-4 lg:px-12 py-8 lg:py-12 max-w-md mx-auto w-full",children:n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2 lg:mb-0",children:"Sign Up"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-400",children:"Already have an account? "}),n.jsx(Xe,{href:"/login",children:n.jsx("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",children:"Sign In"})})]})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the community and unleash endless possibilities"}),n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs(V,{variant:"outline",className:"bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg flex items-center space-x-2",onClick:j,type:"button",children:[n.jsx(_k,{className:"w-5 h-5 text-white"}),n.jsx("span",{className:"text-white",children:"Continue with Google"})]})}),n.jsx(V,{variant:"outline",className:"w-full bg-transparent border-gray-600 hover:bg-gray-800 p-3 rounded-lg mb-6 flex items-center justify-center",onClick:w,disabled:c,type:"button",children:c?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-white",children:"Connecting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Pk,{className:"w-5 h-5 text-orange-500 mr-2"}),n.jsx("span",{className:"text-white",children:"Continue with Metamask"})]})}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-black text-gray-400",children:"OR"})})]}),n.jsx(Zx,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(g),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(Js,{control:b.control,name:"firstName",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"First Name *"}),n.jsx(Is,{children:n.jsx(Ce,{...C,placeholder:"Your First Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(Ls,{})]})}),n.jsx(Js,{control:b.control,name:"lastName",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Last Name *"}),n.jsx(Is,{children:n.jsx(Ce,{...C,placeholder:"Your Last Name",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(Ls,{})]})})]}),n.jsx(Js,{control:b.control,name:"email",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"E-Mail Address *"}),n.jsx(Is,{children:n.jsx(Ce,{...C,type:"email",placeholder:"Your email",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(Ls,{})]})}),n.jsx(Js,{control:b.control,name:"referralCode",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Referral Code (Optional)"}),n.jsx(Is,{children:n.jsx(Ce,{...C,type:"text",placeholder:"Enter referral code if you have one",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500"})}),n.jsx(Ls,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Js,{control:b.control,name:"password",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Password *"}),n.jsx(Is,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...C,type:i?"text":"password",placeholder:"Your password",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),n.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:i?n.jsx(rc,{className:"w-4 h-4"}):n.jsx(hi,{className:"w-4 h-4"})})]})}),n.jsx(Ls,{})]})}),n.jsx(Js,{control:b.control,name:"confirmPassword",render:({field:C})=>n.jsxs(Ds,{children:[n.jsx(Os,{className:"text-gray-400 text-sm",children:"Confirm Password *"}),n.jsx(Is,{children:n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{...C,type:o?"text":"password",placeholder:"Password Confirmation",className:"bg-gray-900 border-gray-600 text-white placeholder:text-gray-500 h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:o?n.jsx(rc,{className:"w-4 h-4"}):n.jsx(hi,{className:"w-4 h-4"})})]})}),n.jsx(Ls,{})]})})]}),n.jsxs("div",{className:"space-y-4 p-4 bg-red-900/20 rounded-lg border border-red-700/50",children:[n.jsxs("h3",{className:"text-white text-sm font-medium flex items-center",children:[n.jsx("span",{className:"text-red-400 mr-2",children:"*"}),"Identity Verification (Required)"]}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[n.jsx("span",{className:"text-red-400 font-medium",children:"Mandatory:"})," Upload your ID card, driver's license, or passport to complete registration. This is required for account security and compliance."]}),n.jsx(Js,{control:b.control,name:"documentType",render:({field:C})=>n.jsxs(Ds,{children:[n.jsxs(Os,{className:"text-gray-400 text-sm",children:["Document Type ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx(Is,{children:n.jsxs("select",{...C,className:"w-full bg-gray-900 border-gray-600 text-white h-12 rounded-md focus:ring-purple-500 focus:border-purple-500 px-3",children:[n.jsx("option",{value:"id_card",children:"ID Card"}),n.jsx("option",{value:"driver_license",children:"Driver's License"}),n.jsx("option",{value:"passport",children:"Passport"})]})}),n.jsx(Ls,{})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"text-gray-400 text-sm",children:["Upload Document ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:v,className:"hidden",id:"document-upload",required:!0}),n.jsx("label",{htmlFor:"document-upload",className:`flex-1 bg-gray-900 border-2 border-dashed h-12 rounded-md flex items-center justify-center cursor-pointer transition-colors ${f?"border-green-500 text-green-400":"border-red-500 text-gray-400 hover:border-purple-500"}`,children:f?`✓ ${f.name}`:"⚠️ Click to upload document (Required)"}),f&&n.jsx("button",{type:"button",onClick:()=>x(null),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),y>0&&n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[n.jsx("span",{className:"text-red-400 font-medium",children:"Required:"})," Accepted formats: JPG, PNG, PDF (max 5MB)"]}),!f&&n.jsx("p",{className:"text-red-400 text-xs font-medium",children:"⚠️ ID verification document is mandatory for registration"})]})]}),n.jsx(Js,{control:b.control,name:"agreeToTerms",render:({field:C})=>n.jsxs(Ds,{className:"flex flex-row items-start space-x-3 space-y-0",children:[n.jsx(Is,{children:n.jsx("input",{type:"checkbox",checked:C.value,onChange:C.onChange,className:"w-4 h-4 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2 mt-1"})}),n.jsxs("div",{className:"space-y-1 leading-none",children:[n.jsxs(Os,{className:"text-gray-400 text-sm font-normal",children:["I agree with"," ",n.jsx(Xe,{href:"/privacy-policy",className:"text-purple-400 hover:text-purple-300",children:"Privacy Policy"}),","," ",n.jsx(Xe,{href:"/terms-of-service",className:"text-purple-400 hover:text-purple-300",children:"Terms of Service"}),","," ",n.jsx(Xe,{href:"/trade-policy",className:"text-purple-400 hover:text-purple-300",children:"Trade Policy"})]}),n.jsx(Ls,{})]})]})}),n.jsx(V,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white h-12 font-semibold rounded-lg",disabled:u,children:u?"Creating Account...":"Register"})]})})]})})})]})})}function iU(){var X,z,B,G,J,Te,me,Oe;const{user:t,userLogin:e,isUserLoginPending:s}=Wt(),{toast:r}=Gs(),i=lr(),a=p.useRef(null),[o,l]=p.useState(!0),[c,d]=p.useState(!1),[u,h]=p.useState(""),[f,x]=p.useState(""),[y,m]=p.useState(""),[b,g]=p.useState("BTC"),[v,w]=p.useState(null),j=async ae=>{ae.preventDefault();try{await e({username:u,password:f}),d(!1),h(""),x(""),r({title:"Login Successful! ✅",description:"Welcome to your dashboard"})}catch(_e){r({title:"Login Failed ❌",description:_e.message||"Invalid credentials",variant:"destructive"})}},{data:C,isLoading:P}=kt({queryKey:["/api/balances"],enabled:!!(t!=null&&t.id)}),E=Array.isArray(C)?C.find(ae=>ae.symbol==="USDT"):C==null?void 0:C.USDT,k=E!=null&&E.available?parseFloat(E.available):(t==null?void 0:t.balance)||0,I=0,$="0",_={BTC:{name:"BTC",address:"bc1q6w3rdy5kwaf4es2lpjk6clpd25pterzvgwu5hu",network:"BTC",minAmount:.001,description:"Send Bitcoin to this address",chainId:null},ETH:{name:"ETH",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"ETH",minAmount:.01,description:"Send Ethereum to this address",chainId:1},SOL:{name:"SOL",address:"6s2UxAyknMvzN2nUpRdHp6EqDetsdK9mjsLTguzNYeKU",network:"SOL",minAmount:.1,description:"Send Solana to this address",chainId:null},"USDT-ERC20":{name:"USDT ERC20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT ERC20",minAmount:10,description:"Send USDT on Ethereum network to this address",chainId:1},"USDT-TRC20":{name:"USDT TRC20",address:"TTZzHBjpmksYqaM6seVjCSLSe6m77Bfjp9",network:"USDT TRC20",minAmount:10,description:"Send USDT on TRON network to this address",chainId:null},"USDT-BEP20":{name:"USDT BEP20",address:"0x06292164c039E611B37ff0c4B71ce0F72e56AB7A",network:"USDT BEP20",minAmount:10,description:"Send USDT on Binance Smart Chain to this address",chainId:56}},R=Qt({mutationFn:async ae=>{const _e=localStorage.getItem("authToken");if(!_e||!t)throw new Error("Please login first to make a deposit");const U=await fetch("/api/transactions/deposit-request",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_e}`},body:JSON.stringify({amount:ae.amount,currency:ae.currency})});if(!U.ok){const xe=await U.text();throw new Error(xe||"Failed to create deposit request")}const oe=await U.json();if(ae.receipt){const xe=new FormData;xe.append("depositId",oe.depositId),xe.append("txHash",`user_upload_${Date.now()}`),xe.append("walletAddress","user_wallet_address"),xe.append("receipt",ae.receipt);const be=await fetch("/api/transactions/submit-proof",{method:"POST",headers:{Authorization:`Bearer ${_e}`},body:xe});if(!be.ok){const ve=await be.text();throw new Error(ve||"Failed to submit proof")}return{success:!0,message:(await be.json()).message,depositId:oe.depositId,amount:ae.amount,currency:ae.currency,status:"verifying",receiptUploaded:!0}}return oe},onSuccess:ae=>{r({title:"Deposit Submitted Successfully! ✅",description:`Your ${ae.amount} ${ae.currency} deposit request has been submitted for processing. Deposit ID: ${ae.depositId}`}),i.invalidateQueries({queryKey:["/api/balances"]}),m(""),w(null)},onError:ae=>{r({title:"Deposit Failed",description:ae.message||"Failed to submit deposit request.",variant:"destructive"})}}),W=ae=>{var U;const _e=(U=ae.target.files)==null?void 0:U[0];if(_e){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(_e.type)){r({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(_e.size>5*1024*1024){r({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}w(_e)}},H=ae=>{navigator.clipboard.writeText(ae),r({title:"Copied!",description:"Address copied to clipboard"})},K=()=>{if(!y||parseFloat(y)<=0){r({title:"Invalid Amount",description:"Please enter a valid deposit amount.",variant:"destructive"});return}if(!v){r({title:"Receipt Required",description:"Please upload a transaction receipt before proceeding.",variant:"destructive"});return}const ae=_[b];if(parseFloat(y)<ae.minAmount){r({title:"Amount Too Small",description:`Minimum deposit amount is ${ae.minAmount} ${b}.`,variant:"destructive"});return}R.mutate({amount:y,currency:b,receipt:v})},D=()=>{const ae=_[b],_e=ae.address;return console.log("QR Code value:",_e),`METACHROME DEPOSIT ADDRESS
${ae.network}
${_e}

COPY THIS ADDRESS TO YOUR WALLET`};return t?n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome back, ",t==null?void 0:t.username,"!"]}),n.jsx("p",{className:"text-gray-400",children:"Here's your trading overview and account summary."})]}),(!(t!=null&&t.verification_status)||(t==null?void 0:t.verification_status)==="unverified")&&n.jsx("div",{className:"mb-8",children:n.jsx(le,{className:"bg-gradient-to-r from-yellow-900/50 to-orange-900/50 border-yellow-600/50",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center",children:n.jsx(Vu,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-100 mb-2",children:"🔒 Verification Required for Trading"}),n.jsx("p",{className:"text-yellow-200 mb-4",children:"To start trading and access all platform features, please upload your verification documents. This is required for security and regulatory compliance."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx(Xe,{href:"/profile",children:n.jsxs(V,{className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[n.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Upload Documents Now"]})}),n.jsx("div",{className:"text-sm text-yellow-300",children:"📄 Accepted: ID Card, Driver's License, or Passport"})]})]})]})})})}),(t==null?void 0:t.verification_status)==="pending"&&n.jsx("div",{className:"mb-8",children:n.jsx(le,{className:"bg-gradient-to-r from-blue-900/50 to-indigo-900/50 border-blue-600/50",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx(Zr,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-2",children:"⏳ Verification Under Review"}),n.jsx("p",{className:"text-blue-200 mb-2",children:"Your verification documents have been submitted and are currently being reviewed by our team. Trading will be enabled once verification is approved."}),n.jsx("div",{className:"text-sm text-blue-300",children:"⏱️ Review typically takes 24-48 hours"})]})]})})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(le,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-green-500/50 transition-colors",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium text-gray-400",children:"Total Portfolio Value"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:o?n.jsx(hi,{className:"h-3 w-3"}):n.jsx(rc,{className:"h-3 w-3"})}),n.jsx(au,{className:"h-4 w-4 text-green-500"})]})]}),n.jsxs(ce,{children:[n.jsx("div",{className:"text-2xl font-bold text-white",children:o?`$${k.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"••••••"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Available balance"})]})]}),n.jsxs(le,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500/50 transition-colors",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium text-gray-400",children:"Total Trades"}),n.jsx(oi,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(ce,{children:[n.jsx("div",{className:"text-2xl font-bold text-white",children:I}),n.jsx("p",{className:"text-xs text-gray-400",children:"All time"})]})]}),n.jsxs(le,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-green-500/50 transition-colors",children:[n.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(qe,{className:"text-sm font-medium text-gray-400",children:"Win Rate"}),n.jsx(zs,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(ce,{children:[n.jsxs("div",{className:"text-2xl font-bold text-white",children:[$,"%"]}),n.jsx("p",{className:"text-xs text-gray-400",children:"Success rate"}),n.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(parseFloat($),100)}%`}})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Quick Actions"}),n.jsx(dt,{className:"text-gray-400",children:"Start trading or manage your account"})]}),n.jsxs(ce,{className:"space-y-4",children:[n.jsx(Xe,{href:"/trade/options",children:n.jsxs(V,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Options Trading"]})}),n.jsx(Xe,{href:"/trade/spot",children:n.jsxs(V,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(oi,{className:"w-4 h-4 mr-2"}),"Spot Trading"]})})]})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Account Management"}),n.jsx(dt,{className:"text-gray-400",children:"Manage your account settings"})]}),n.jsxs(ce,{className:"space-y-4",children:[n.jsx(Xe,{href:"/profile",children:n.jsx(V,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"View Profile"})}),n.jsx(Xe,{href:"/transactions",children:n.jsx(V,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Transaction History"})})]})]}),n.jsxs(le,{className:"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Add Funds"}),n.jsx(dt,{className:"text-gray-400",children:"Top up your account balance with cryptocurrency"})]}),n.jsx(ce,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit network"}),n.jsxs("select",{value:b,onChange:ae=>g(ae.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"BTC",children:"BTC"}),n.jsx("option",{value:"ETH",children:"ETH"}),n.jsx("option",{value:"SOL",children:"SOL"}),n.jsx("option",{value:"USDT-ERC20",children:"USDT ERC20"}),n.jsx("option",{value:"USDT-TRC20",children:"USDT TRC20"}),n.jsx("option",{value:"USDT-BEP20",children:"USDT BEP20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Deposit amount ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"number",placeholder:"Please enter the recharge amount",value:y,onChange:ae=>m(ae.target.value),className:`w-full bg-gray-800 border rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ${y?"border-gray-600":"border-red-500"}`,min:((X=_[b])==null?void 0:X.minAmount)||0,step:"0.01"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: ",(z=_[b])==null?void 0:z.minAmount," ",b]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform Deposit Address"}),n.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-600/30 rounded-lg mb-2",children:[n.jsxs("p",{className:"text-blue-300 text-xs mb-1",children:["⚠️ Send ",b," to this address to deposit funds to your METACHROME account"]}),n.jsxs("p",{className:"text-yellow-300 text-xs",children:[n.jsx("strong",{children:"Important:"})," Only send on ",(B=_[b])==null?void 0:B.network,". Sending on wrong network will result in loss of funds!"]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2",children:[n.jsx("span",{className:"text-white text-sm font-mono flex-1 break-all",children:(G=_[b])==null?void 0:G.address}),n.jsx(V,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 p-2 hover:bg-gray-700",onClick:()=>{var ae;return H((ae=_[b])==null?void 0:ae.address)},children:n.jsx(zu,{className:"w-4 h-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Network: ",(J=_[b])==null?void 0:J.network]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(Te=_[b])==null?void 0:Te.description})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"QR Code - Deposit Address"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg inline-block",children:n.jsx(NT,{value:D(),size:200,className:"mx-auto"})}),n.jsx("p",{className:"text-xs text-gray-300 mt-3",children:"Scan to see deposit information (copy the address manually)"}),n.jsxs("p",{className:"text-xs text-yellow-300 mt-1",children:["Make sure to send on ",n.jsx("strong",{children:(me=_[b])==null?void 0:me.network})]}),n.jsxs("p",{className:"text-xs text-blue-300 mt-1",children:["Address: ",(Oe=_[b])==null?void 0:Oe.address]})]}),n.jsx("div",{className:"mt-4",children:n.jsxs(V,{onClick:()=>{var ae;return H((ae=_[b])==null?void 0:ae.address)},className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[n.jsx(zu,{className:"w-4 h-4 mr-2"}),"Copy Deposit Address"]})}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 border border-gray-600 rounded-lg",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"💡 How to use:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Scan QR Code:"})," View deposit info (manually copy the address)"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Copy Address:"})," Click the button to copy address to clipboard"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Manual Entry:"})," Type or paste address in your wallet"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Send Crypto:"})," Send to the address on the correct network"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"Upload Receipt:"})," Upload transaction proof and confirm"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Upload receipt ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${v?"border-gray-600":"border-red-500"}`,onClick:()=>{var ae;return(ae=a.current)==null?void 0:ae.click()},children:v?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Zr,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:v.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ml,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload receipt"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{ref:a,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:W,className:"hidden"})]}),(!y||!v)&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[n.jsx("p",{className:"text-yellow-300 text-sm",children:"⚠️ Please complete all required fields:"}),n.jsxs("ul",{className:"text-yellow-200 text-xs mt-1 ml-4",children:[!y&&n.jsx("li",{children:"• Enter deposit amount"}),!v&&n.jsx("li",{children:"• Upload transaction receipt"})]})]}),n.jsx(V,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:K,disabled:R.isPending||!y||!v,children:R.isPending?"Processing...":"Confirm recharge"})]})})]})]}),n.jsx("div",{className:"mt-8",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Start Trading"}),n.jsx(dt,{className:"text-gray-400",children:"Begin your trading journey"})]}),n.jsxs(ce,{className:"text-center py-8",children:[n.jsx(zs,{className:"h-16 w-16 text-purple-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ready to Trade?"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Start trading with our advanced platform"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Xe,{href:"/trade/options",children:n.jsxs(V,{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[n.jsx(zs,{className:"w-4 h-4 mr-2"}),"Options Trading"]})}),n.jsx(Xe,{href:"/trade/spot",children:n.jsxs(V,{variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(oi,{className:"w-4 w-4 mr-2"}),"Spot Trading"]})})]})]})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-auto px-4",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white text-center",children:"Login to Your Account"}),n.jsx(dt,{className:"text-gray-400 text-center",children:"Enter your credentials to access your dashboard"})]}),n.jsxs(ce,{children:[n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:u,onChange:ae=>h(ae.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your username",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:f,onChange:ae=>x(ae.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your password",required:!0})]}),n.jsx(V,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3 font-medium",disabled:s,children:s?"Logging in...":"Login"})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-gray-400 text-sm",children:["Demo credentials: username: ",n.jsx("span",{className:"text-purple-400",children:"admin"}),", password: ",n.jsx("span",{className:"text-purple-400",children:"any"})]})})]})]})})})}var aU="Separator",qw="horizontal",oU=["horizontal","vertical"],Mk=p.forwardRef((t,e)=>{const{decorative:s,orientation:r=qw,...i}=t,a=lU(r)?r:qw,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Le.div,{"data-orientation":a,...l,...i,ref:e})});Mk.displayName=aU;function lU(t){return oU.includes(t)}var Rk=Mk;const mu=p.forwardRef(({className:t,orientation:e="horizontal",decorative:s=!0,...r},i)=>n.jsx(Rk,{ref:i,decorative:s,orientation:e,className:ke("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));mu.displayName=Rk.displayName;function cU(){const{user:t,refreshAuth:e}=Wt(),{toast:s}=Gs(),r=lr(),i=Mr(),[a,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState(!1),[x,y]=p.useState(null),[m,b]=p.useState(null),[g,v]=p.useState(!1),[w,j]=p.useState(""),[C,P]=p.useState(null),[E,k]=p.useState("id_card"),[I,$]=p.useState(!1),_=p.useRef(null),[R,W]=p.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||"",firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||"",currentPassword:"",newPassword:"",confirmPassword:""}),H=Qt({mutationFn:async U=>await pr("PUT","/api/user/profile",U),onSuccess:()=>{s({title:"Profile Updated",description:"Your profile has been updated successfully"}),o(!1),r.invalidateQueries({queryKey:["/api/auth/user"]})},onError:U=>{s({title:"Update Failed",description:U.message||"Failed to update profile",variant:"destructive"})}}),K=Qt({mutationFn:async U=>await pr("PUT","/api/user/password",U),onSuccess:()=>{s({title:"Password Changed",description:"Your password has been changed successfully"}),W(U=>({...U,currentPassword:"",newPassword:"",confirmPassword:""}))},onError:U=>{s({title:"Password Change Failed",description:U.message||"Failed to change password",variant:"destructive"})}}),D=Qt({mutationFn:async U=>await pr("POST","/api/user/redeem-code",{code:U}),onSuccess:U=>{s({title:"Code Redeemed Successfully!",description:U.message||`Bonus of $${U.bonusAmount} added to your account!`}),u(""),r.invalidateQueries({queryKey:["/api/auth/user"]})},onError:U=>{s({title:"Redeem Failed",description:U.message||"Invalid or expired redeem code",variant:"destructive"})}}),X=Qt({mutationFn:async U=>{const oe=new FormData;oe.append("document",U.file),oe.append("documentType",U.documentType);const xe=localStorage.getItem("authToken"),be=await fetch("/api/user/upload-verification",{method:"POST",headers:{Authorization:`Bearer ${xe}`},body:oe});if(!be.ok){const Pe=await be.text();throw new Error(Pe||"Failed to upload document")}return await be.json()},onSuccess:U=>{s({title:"Document Uploaded Successfully!",description:"Your verification document has been submitted for review."}),P(null),$(!1),r.invalidateQueries({queryKey:["/api/auth/user"]}),z()},onError:U=>{s({title:"Upload Failed",description:U.message||"Failed to upload verification document",variant:"destructive"}),$(!1)}}),z=async()=>{try{const U=await pr("GET","/api/user/verification-status");y(U)}catch(U){console.error("Failed to fetch verification status:",U)}},B=async()=>{v(!0);try{localStorage.removeItem("user"),r.removeQueries({queryKey:["/api/auth"]}),r.invalidateQueries({queryKey:["/api/auth"]}),await r.refetchQueries({queryKey:["/api/auth"]}),await z(),s({title:"Verification Status Refreshed",description:"Your account verification status has been updated."}),j(`✅ Verification refresh successful! Status: ${(t==null?void 0:t.verification_status)||"Unknown"}`)}catch(U){console.error("Failed to refresh verification status:",U),s({title:"Refresh Failed",description:"Failed to refresh verification status. Please try again.",variant:"destructive"}),j(`❌ Verification refresh failed: ${U}`)}finally{v(!1)}},G=(U,oe)=>{W(xe=>({...xe,[U]:oe}))},J=()=>{const{currentPassword:U,newPassword:oe,confirmPassword:xe,...be}=R;H.mutate(be)},Te=()=>{if(R.newPassword!==R.confirmPassword){s({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if(R.newPassword.length<6){s({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}K.mutate({currentPassword:R.currentPassword,newPassword:R.newPassword})},me=()=>{if(!d.trim()){s({title:"Invalid Code",description:"Please enter a redeem code",variant:"destructive"});return}f(!0),D.mutate(d.trim().toUpperCase()),f(!1)},Oe=U=>{var xe;const oe=(xe=U.target.files)==null?void 0:xe[0];if(oe){if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(oe.type)){s({title:"Invalid File Type",description:"Please upload a JPEG, PNG, or PDF file.",variant:"destructive"});return}if(oe.size>5*1024*1024){s({title:"File Too Large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}P(oe)}},ae=()=>{if(!C){s({title:"No File Selected",description:"Please select a document to upload",variant:"destructive"});return}$(!0),X.mutate({file:C,documentType:E})},_e=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-24 md:pb-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile Settings"}),n.jsx("p",{className:"text-gray-400",children:"Manage your account information and preferences"})]}),n.jsxs(XT,{defaultValue:"profile",className:"space-y-6",children:[n.jsxs(Bx,{className:"grid w-full grid-cols-5 bg-gray-800 border-gray-700",children:[n.jsx(hs,{value:"profile",className:"data-[state=active]:bg-gray-700",children:"Profile Information"}),n.jsx(hs,{value:"verification",className:"data-[state=active]:bg-gray-700",children:"Verification"}),n.jsx(hs,{value:"redeem",className:"data-[state=active]:bg-gray-700",children:"Redeem Codes"}),n.jsx(hs,{value:"security",className:"data-[state=active]:bg-gray-700",children:"Security"}),n.jsx(hs,{value:"account",className:"data-[state=active]:bg-gray-700",children:"Account Details"})]}),n.jsx(fs,{value:"profile",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-white",children:"Profile Information"}),n.jsx(dt,{className:"text-gray-400",children:"Update your personal information and contact details"})]}),n.jsxs(V,{variant:a?"outline":"default",onClick:()=>o(!a),className:a?"border-gray-600":"",children:[n.jsx(nc,{className:"w-4 h-4 mr-2"}),a?"Cancel":"Edit Profile"]})]})}),n.jsxs(ce,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(Wu,{className:"w-8 h-8 text-white"})}),a&&n.jsx(V,{size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",disabled:!0,children:n.jsx(SM,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-white",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),n.jsxs("p",{className:"text-gray-400",children:["@",t==null?void 0:t.username]}),n.jsx(at,{variant:"secondary",className:"mt-1",children:(t==null?void 0:t.role)==="admin"?"Administrator":"User"})]})]}),n.jsx(mu,{className:"bg-gray-700"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"username",className:"text-gray-300",children:"Username"}),n.jsx(Ce,{id:"username",value:R.username,onChange:U=>G("username",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"email",className:"text-gray-300",children:"Email"}),n.jsx(Ce,{id:"email",type:"email",value:R.email,onChange:U=>G("email",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"firstName",className:"text-gray-300",children:"First Name"}),n.jsx(Ce,{id:"firstName",value:R.firstName,onChange:U=>G("firstName",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"lastName",className:"text-gray-300",children:"Last Name"}),n.jsx(Ce,{id:"lastName",value:R.lastName,onChange:U=>G("lastName",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number"}),n.jsx(Ce,{id:"phone",value:R.phone,onChange:U=>G("phone",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"address",className:"text-gray-300",children:"Address"}),n.jsx(Ce,{id:"address",value:R.address,onChange:U=>G("address",U.target.value),disabled:!a,className:"bg-gray-700 border-gray-600 text-white disabled:opacity-50",placeholder:"Enter address"})]})]}),a&&n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(V,{variant:"outline",onClick:()=>o(!1),className:"border-gray-600",children:"Cancel"}),n.jsxs(V,{onClick:J,disabled:H.isPending,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(LM,{className:"w-4 h-4 mr-2"}),H.isPending?"Saving...":"Save Changes"]})]})]})]})}),n.jsx(fs,{value:"verification",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Account Verification"}),n.jsx(dt,{className:"text-gray-400",children:"Upload your identity documents for account verification"})]}),n.jsxs(ce,{className:"space-y-6",children:[i&&(t==null?void 0:t.verification_status)!=="verified"&&n.jsx("div",{className:"p-4 bg-blue-900/30 border border-blue-600/50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-blue-100 font-medium mb-1",children:"📱 Mobile Verification Status"}),n.jsx("p",{className:"text-blue-200 text-sm",children:"If you were verified on desktop, tap refresh to sync your status"})]}),n.jsx(V,{onClick:B,disabled:g,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:g?n.jsx(xn,{className:"w-4 h-4 animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"w-4 h-4 mr-1"}),"Refresh"]})})]})}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-white font-medium",children:"Verification Status"}),n.jsx(V,{size:"sm",variant:"ghost",onClick:B,disabled:g,className:"h-6 w-6 p-0 text-gray-400 hover:text-white",children:n.jsx(xn,{className:`w-3 h-3 ${g?"animate-spin":""}`})})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:(t==null?void 0:t.verification_status)==="verified"?"Your account is verified":(t==null?void 0:t.verification_status)==="pending"?"Verification pending review":(t==null?void 0:t.verification_status)==="rejected"?"Verification rejected":"Account not verified"})]}),n.jsx(at,{variant:(t==null?void 0:t.verification_status)==="verified"?"default":(t==null?void 0:t.verification_status)==="pending"?"secondary":(t==null?void 0:t.verification_status)==="rejected"?"destructive":"outline",className:(t==null?void 0:t.verification_status)==="verified"?"bg-green-600":(t==null?void 0:t.verification_status)==="pending"?"bg-yellow-600":(t==null?void 0:t.verification_status)==="rejected"?"bg-red-600":"bg-gray-600",children:(t==null?void 0:t.verification_status)==="verified"?"✓ Verified":(t==null?void 0:t.verification_status)==="pending"?"⏳ Pending":(t==null?void 0:t.verification_status)==="rejected"?"✗ Rejected":"⚠ Unverified"})]}),(t==null?void 0:t.verification_status)!=="verified"&&n.jsxs("div",{className:"space-y-4 p-4 bg-gray-700 rounded-lg",children:[n.jsx("h3",{className:"text-white font-medium",children:"Upload Verification Document"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Please upload a clear photo of your ID card, driver's license, or passport. This is required for trading and withdrawals."}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{className:"text-gray-300",children:"Document Type"}),n.jsxs("select",{value:E,onChange:U=>k(U.target.value),className:"w-full bg-gray-800 border border-gray-600 text-white rounded-md px-3 py-2",children:[n.jsx("option",{value:"id_card",children:"ID Card"}),n.jsx("option",{value:"driver_license",children:"Driver's License"}),n.jsx("option",{value:"passport",children:"Passport"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{className:"text-gray-300",children:"Document File"}),n.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-purple-500 transition-colors ${C?"border-green-500 bg-green-500/10":"border-gray-600"}`,onClick:()=>{var U;return(U=_.current)==null?void 0:U.click()},children:C?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Zr,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"text-green-400 text-sm",children:C.name})]}):n.jsxs(n.Fragment,{children:[n.jsx(_M,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload document"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"JPEG, PNG, PDF (max 5MB)"})]})}),n.jsx("input",{ref:_,type:"file",accept:"image/jpeg,image/png,image/jpg,application/pdf",onChange:Oe,className:"hidden"})]}),n.jsxs(V,{onClick:ae,disabled:!C||I||X.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-50",children:[n.jsx(Vu,{className:"w-4 h-4 mr-2"}),I||X.isPending?"Uploading...":"Upload Document"]})]}),(t==null?void 0:t.verification_status)!=="verified"&&n.jsxs("div",{className:"p-4 bg-yellow-900/20 border border-yellow-600 rounded-lg",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-2",children:"⚠ Account Restrictions"}),n.jsxs("ul",{className:"text-yellow-300 text-sm space-y-1",children:[n.jsx("li",{children:"• Trading is disabled until verification is complete"}),n.jsx("li",{children:"• Withdrawals are not available"}),n.jsx("li",{children:"• Some features may be limited"})]})]})]})]})}),n.jsx(fs,{value:"redeem",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Redeem Bonus Codes"}),n.jsx(dt,{className:"text-gray-400",children:"Enter promotional codes to receive bonus credits"})]}),n.jsxs(ce,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Ce,{value:d,onChange:U=>u(U.target.value.toUpperCase()),placeholder:"Enter redeem code (e.g., FIRSTBONUS)",className:"bg-gray-900 border-gray-600 text-white flex-1",onKeyPress:U=>{U.key==="Enter"&&d.trim()&&!h&&me()}}),n.jsx(V,{onClick:me,disabled:h||!d.trim(),className:"bg-purple-600 hover:bg-purple-700",children:h?"Redeeming...":"Redeem"})]}),n.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[n.jsx("h3",{className:"text-white font-medium mb-2",children:"💡 Available Codes"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[{code:"FIRSTBONUS",amount:"$100",description:"First time user bonus"},{code:"LETSGO1000",amount:"$1000",description:"High value bonus code"},{code:"WELCOME50",amount:"$50",description:"Welcome bonus for new users"},{code:"BONUS500",amount:"$500",description:"Limited time bonus"}].map(U=>n.jsx("div",{className:"bg-gray-800 p-3 rounded border border-gray-600 hover:border-purple-500 cursor-pointer transition-colors",onClick:()=>{u(U.code)},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-mono text-purple-400 font-bold",children:U.code}),n.jsx("div",{className:"text-green-400 font-semibold",children:U.amount}),n.jsx("div",{className:"text-gray-400 text-xs",children:U.description})]}),n.jsx(V,{size:"sm",variant:"outline",className:"border-purple-600 text-purple-400 hover:bg-purple-600 hover:text-white",onClick:oe=>{oe.stopPropagation(),u(U.code),setTimeout(()=>me(),100)},disabled:h,children:"Use"})]})},U.code))})]})]}),n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600 rounded-lg",children:[n.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"ℹ Bonus Terms"}),n.jsxs("ul",{className:"text-blue-300 text-sm space-y-1",children:[n.jsx("li",{children:"• Complete 10 trades to unlock withdrawals after claiming bonus"}),n.jsx("li",{children:"• Each code can only be used once per account"}),n.jsx("li",{children:"• Bonus credits are added immediately to your balance"})]})]}),n.jsx(mu,{className:"bg-gray-600"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-medium",children:"🔗 Your Referral Code"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ce,{value:(m==null?void 0:m.referralCode)||"Loading...",readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),n.jsx(V,{onClick:()=>{navigator.clipboard.writeText((m==null?void 0:m.referralCode)||""),s({title:"Copied!",description:"Referral code copied to clipboard"})},variant:"outline",className:"border-gray-600",children:"Copy"})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"})]})]})]})}),n.jsx(fs,{value:"security",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Security Settings"}),n.jsx(dt,{className:"text-gray-400",children:"Manage your password and security preferences"})]}),n.jsx(ce,{className:"space-y-6",children:t!=null&&t.walletAddress||t!=null&&t.email&&!(t!=null&&t.password)?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-600 rounded-lg",children:[n.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:t!=null&&t.walletAddress?"🔗 MetaMask Login":"🔐 Google Login"}),n.jsx("p",{className:"text-blue-300 text-sm mb-3",children:t!=null&&t.walletAddress?"You logged in using MetaMask. Set a password to enable traditional login as well.":"You logged in using Google. Set a password to enable traditional login as well."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-medium",children:"Set Login Password"}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["Create a password to access your account without ",t!=null&&t.walletAddress?"MetaMask":"Google","."]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),n.jsx(Ce,{id:"newPassword",type:"password",value:R.newPassword,onChange:U=>G("newPassword",U.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter new password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm New Password"}),n.jsx(Ce,{id:"confirmPassword",type:"password",value:R.confirmPassword,onChange:U=>G("confirmPassword",U.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm new password"})]}),n.jsxs(V,{onClick:()=>{if(R.newPassword!==R.confirmPassword){s({title:"Password Mismatch",description:"New password and confirmation don't match",variant:"destructive"});return}if(R.newPassword.length<6){s({title:"Password Too Short",description:"Password must be at least 6 characters long",variant:"destructive"});return}K.mutate({newPassword:R.newPassword,isFirstTimePassword:!0})},disabled:K.isPending||!R.newPassword||!R.confirmPassword,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),K.isPending?"Setting...":"Set Login Password"]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"currentPassword",className:"text-gray-300",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ce,{id:"currentPassword",type:l?"text":"password",value:R.currentPassword,onChange:U=>G("currentPassword",U.target.value),className:"bg-gray-700 border-gray-600 text-white pr-10",placeholder:"Enter current password"}),n.jsx(V,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!l),children:l?n.jsx(rc,{className:"h-4 w-4 text-gray-400"}):n.jsx(hi,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"newPassword",className:"text-gray-300",children:"New Password"}),n.jsx(Ce,{id:"newPassword",type:"password",value:R.newPassword,onChange:U=>G("newPassword",U.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Enter new password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(xt,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm New Password"}),n.jsx(Ce,{id:"confirmPassword",type:"password",value:R.confirmPassword,onChange:U=>G("confirmPassword",U.target.value),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Confirm new password"})]}),n.jsxs(V,{onClick:Te,disabled:K.isPending||!R.currentPassword||!R.newPassword||!R.confirmPassword,className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),K.isPending?"Changing...":"Change Password"]})]})})]})}),n.jsx(fs,{value:"account",children:n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsxs(Ke,{children:[n.jsx(qe,{className:"text-white",children:"Account Details"}),n.jsx(dt,{className:"text-gray-400",children:"View your account information and status"})]}),n.jsxs(ce,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(AM,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),n.jsx("p",{className:"text-white break-words break-all text-sm leading-relaxed",children:t==null?void 0:t.email})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Wu,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"User ID"}),n.jsx("p",{className:"text-white font-mono text-sm break-all leading-relaxed",children:t==null?void 0:t.id})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(NM,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Member Since"}),n.jsx("p",{className:"text-white",children:t!=null&&t.createdAt?_e(t.createdAt):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(zr,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:"Account Status"}),n.jsx(at,{variant:"secondary",className:"bg-green-600/20 text-green-400",children:"Active"})]})]})]}),n.jsx(mu,{className:"bg-gray-600"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-white font-medium",children:"Referral Code"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ce,{value:(m==null?void 0:m.referralCode)||(t==null?void 0:t.referral_code)||"Loading...",readOnly:!0,className:"bg-gray-900 border-gray-600 text-white font-mono"}),n.jsx(V,{onClick:()=>{const U=(m==null?void 0:m.referralCode)||(t==null?void 0:t.referral_code)||"";navigator.clipboard.writeText(U),s({title:"Copied!",description:"Referral code copied to clipboard"})},variant:"outline",className:"border-gray-600",children:"Copy"})]}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Share this code with friends to earn referral bonuses!"})]})]})]})})]})]})})}function Gw(){const{user:t}=Wt(),[e,s]=p.useState(""),[r,i]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),d=async()=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");try{const g=await fetch(`/api/users/${t.id}/transactions`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!g.ok)throw new Error(`Server responded with ${g.status}: ${g.statusText}`);const v=await g.json();return console.log("📊 Fetched user transactions:",v),v}catch(g){return console.error("❌ API call failed, using fallback data:",g),[{id:"fallback-tx-1",user_id:t.id,username:t.username||"Current User",type:"deposit",amount:1e3,symbol:"USDT",status:"completed",description:"Demo deposit transaction",created_at:new Date(Date.now()-2*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}},{id:"fallback-tx-2",user_id:t.id,username:t.username||"Current User",type:"trade_win",amount:150,symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}},{id:"fallback-tx-3",user_id:t.id,username:t.username||"Current User",type:"trade_loss",amount:-75,symbol:"USDT",status:"completed",description:"Demo trading loss - ETH/USDT",created_at:new Date(Date.now()-6*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}}]}},{data:u,isLoading:h,error:f}=kt({queryKey:[`/api/users/${t==null?void 0:t.id}/transactions`],enabled:!!(t!=null&&t.id),queryFn:d,retry:1,retryDelay:1e3,staleTime:3e4,cacheTime:3e5});kt({queryKey:[`/api/users/${t==null?void 0:t.id}/trades`],enabled:!!(t!=null&&t.id),queryFn:async()=>{if(!(t!=null&&t.id))throw new Error("User not authenticated");try{const g=await fetch(`/api/users/${t.id}/trades`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!g.ok)throw new Error(`Server responded with ${g.status}: ${g.statusText}`);const v=await g.json();return console.log("📈 Fetched user trades:",v),v}catch(g){return console.error("❌ Trades API call failed, using fallback data:",g),[{id:"fallback-trade-1",user_id:t.id,username:t.username||"Current User",type:"trade_win",amount:150,symbol:"USDT",status:"completed",description:"Demo trading win - BTC/USDT",created_at:new Date(Date.now()-4*60*60*1e3).toISOString(),users:{username:t.username||"Current User"}}]}},retry:1,retryDelay:1e3});const x=(u==null?void 0:u.filter(g=>{var C,P,E,k,I;const v=((C=g.symbol)==null?void 0:C.toLowerCase().includes(e.toLowerCase()))||((P=g.type)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))||((E=g.description)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||((I=(k=g.users)==null?void 0:k.username)==null?void 0:I.toLowerCase().includes(e.toLowerCase())),w=r==="all"||g.type===r,j=a==="all"||g.status===a;return v&&w&&j}))||[];f&&console.error("❌ Failed to fetch transactions:",f);const y=g=>{switch(g){case"deposit":return n.jsx(Fy,{className:"h-4 w-4"});case"withdraw":return n.jsx(Vu,{className:"h-4 w-4"});case"trade":return n.jsx(jM,{className:"h-4 w-4"});case"transfer":return n.jsx(xn,{className:"h-4 w-4"});default:return n.jsx(xn,{className:"h-4 w-4"})}},m=g=>{switch(g){case"completed":return"bg-green-600";case"pending":return"bg-yellow-600";case"failed":return"bg-red-600";default:return"bg-gray-600"}},b=g=>{switch(g){case"deposit":return"text-green-400";case"withdraw":return"text-red-400";case"trade":return"text-purple-400";case"transfer":return"text-blue-400";default:return"text-gray-400"}};return n.jsx("div",{className:"min-h-screen bg-gray-900 pt-20 pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[n.jsx(Uy,{className:"h-8 w-8"}),"Transaction History"]}),n.jsx("p",{className:"text-gray-400",children:"View and manage all your transactions, deposits, and withdrawals"})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700 mb-8",children:[n.jsx(Ke,{children:n.jsxs(qe,{className:"text-white flex items-center gap-2",children:[n.jsx(PM,{className:"h-5 w-5"}),"Filters"]})}),n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Lg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(Ce,{placeholder:"Search transactions...",value:e,onChange:g=>s(g.target.value),className:"pl-10 bg-gray-700 border-gray-600 text-white"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Type"}),n.jsxs(fn,{value:r,onValueChange:i,children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(mn,{})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"all",children:"All Types"}),n.jsx(st,{value:"deposit",children:"Deposits"}),n.jsx(st,{value:"withdraw",children:"Withdrawals"}),n.jsx(st,{value:"trade",children:"Trades"}),n.jsx(st,{value:"transfer",children:"Transfers"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),n.jsxs(fn,{value:a,onValueChange:o,children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(mn,{})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"all",children:"All Status"}),n.jsx(st,{value:"completed",children:"Completed"}),n.jsx(st,{value:"pending",children:"Pending"}),n.jsx(st,{value:"failed",children:"Failed"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Date Range"}),n.jsxs(fn,{value:l,onValueChange:c,children:[n.jsx(Wr,{className:"bg-gray-700 border-gray-600 text-white",children:n.jsx(mn,{})}),n.jsxs(Hr,{className:"bg-gray-700 border-gray-600",children:[n.jsx(st,{value:"all",children:"All Time"}),n.jsx(st,{value:"today",children:"Today"}),n.jsx(st,{value:"week",children:"This Week"}),n.jsx(st,{value:"month",children:"This Month"})]})]})]})]})})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-white",children:"Transactions"}),n.jsxs(dt,{className:"text-gray-400",children:[x.length," transactions found"]})]}),n.jsxs(V,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(Fy,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),n.jsx(ce,{children:h?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(xn,{className:"h-8 w-8 animate-spin text-gray-400"}),n.jsx("span",{className:"ml-3 text-gray-400",children:"Loading transactions..."})]}):f?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ic,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Failed to load transactions"}),n.jsx("p",{className:"text-gray-400 mb-6",children:f instanceof Error?f.message:"Unable to fetch transaction data. Please try again."}),n.jsxs(V,{onClick:()=>window.location.reload(),variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Retry"]})]}):x.length>0?n.jsx("div",{className:"space-y-4",children:x.map(g=>{var v;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg hover:bg-gray-700/70 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g.type==="deposit"?"bg-green-600/20 text-green-400":g.type==="withdraw"?"bg-red-600/20 text-red-400":g.type==="trade"?"bg-purple-600/20 text-purple-400":"bg-blue-600/20 text-blue-400"}`,children:y(g.type)}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-white capitalize",children:g.type}),n.jsx(at,{className:m(g.status),children:g.status})]}),n.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[n.jsx(xS,{className:"h-3 w-3"}),new Date(g.created_at).toLocaleString()]}),g.description&&n.jsx("div",{className:"text-xs text-gray-500",children:g.description}),((v=g.users)==null?void 0:v.username)&&n.jsxs("div",{className:"text-xs text-gray-500",children:["User: ",g.users.username]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`font-medium text-lg ${b(g.type)}`,children:[g.amount>0?"+":"","$",Math.abs(parseFloat(g.amount)).toFixed(2)]}),n.jsx("div",{className:"text-sm text-gray-400",children:g.symbol||"USDT"}),(g.type==="trade_win"||g.type==="trade_loss")&&n.jsxs("div",{className:`text-sm font-medium ${g.amount>0?"text-green-400":"text-red-400"}`,children:["P&L: ",g.amount>0?"+":"","$",Math.abs(parseFloat(g.amount)).toFixed(2)]}),g.old_balance!==void 0&&g.new_balance!==void 0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: $",g.old_balance," → $",g.new_balance]})]})]},g.id)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Uy,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No transactions found"}),n.jsx("p",{className:"text-gray-400 mb-6",children:e||r!=="all"||a!=="all"?"Try adjusting your filters to see more results":"Your transaction history will appear here once you start trading"}),n.jsx(V,{onClick:()=>{s(""),i("all"),o("all"),c("all")},variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Clear Filters"})]})})]})]})})}const Ak=p.forwardRef(({className:t,...e},s)=>n.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...e}));Ak.displayName="Textarea";function dU(){const[t,e]=p.useState(null),[s,r]=p.useState(""),{toast:i}=Gs(),a=lr(),{data:o,isLoading:l}=kt({queryKey:["/api/admin/transactions/pending"],refetchInterval:3e4}),c=Qt({mutationFn:async({id:f,action:x,reason:y})=>{const m=await fetch(`/api/admin/transactions/${f}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:x,reason:y})});if(!m.ok){const b=await m.json();throw new Error(b.message||"Action failed")}return m.json()},onSuccess:(f,x)=>{i({title:x.action==="approve"?"Transaction Approved":"Transaction Rejected",description:`Transaction has been ${x.action}d successfully`}),a.invalidateQueries({queryKey:["/api/admin/transactions/pending"]}),e(null),r("")},onError:f=>{i({title:"Action Failed",description:f.message,variant:"destructive"})}}),d=f=>{switch(f){case"pending":return n.jsxs(at,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[n.jsx(xS,{className:"w-3 h-3 mr-1"}),"Pending"]});case"completed":return n.jsxs(at,{variant:"outline",className:"text-green-600 border-green-600",children:[n.jsx(Zr,{className:"w-3 h-3 mr-1"}),"Completed"]});case"failed":return n.jsxs(at,{variant:"outline",className:"text-red-600 border-red-600",children:[n.jsx(ic,{className:"w-3 h-3 mr-1"}),"Failed"]});default:return n.jsx(at,{variant:"outline",children:f})}},u=f=>new Date(f).toLocaleString(),h=f=>{try{return f?JSON.parse(f):{}}catch{return{}}};return l?n.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Transaction Management"}),n.jsx("div",{className:"text-center",children:"Loading..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Transaction Management"}),n.jsxs(at,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[(o==null?void 0:o.length)||0," Pending"]})]}),!o||o.length===0?n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsxs(ce,{className:"p-8 text-center",children:[n.jsx(Zr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Pending Transactions"}),n.jsx("p",{className:"text-gray-400",children:"All transactions have been processed."})]})}):n.jsx("div",{className:"space-y-4",children:o.map(f=>n.jsx(le,{className:"bg-gray-800 border-gray-700",children:n.jsx(ce,{className:"p-6",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[f.type.toUpperCase()," - ",f.amount," ",f.symbol]}),d(f.status),n.jsx(at,{variant:"secondary",children:f.method})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-400 mb-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"User ID:"}),n.jsx("br",{}),f.userId]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"}),n.jsx("br",{}),u(f.createdAt)]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Method:"}),n.jsx("br",{}),f.method]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"TX Hash:"}),n.jsx("br",{}),f.txHash?n.jsxs("span",{className:"font-mono text-xs break-all",children:[f.txHash.substring(0,20),"..."]}):"N/A"]})]}),h(f.metadata).transferReference&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[n.jsx("span",{className:"font-medium text-sm",children:"Bank Transfer Reference:"}),n.jsx("br",{}),n.jsx("span",{className:"font-mono",children:h(f.metadata).transferReference})]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsxs(ro,{children:[n.jsx(xw,{asChild:!0,children:n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>e(f),children:[n.jsx(hi,{className:"w-4 h-4 mr-1"}),"Details"]})}),n.jsxs(Hi,{className:"bg-gray-800 border-gray-700 max-w-2xl",children:[n.jsx(Ki,{children:n.jsx(qi,{className:"text-white",children:"Transaction Details"})}),n.jsx("div",{className:"space-y-4",children:n.jsx("pre",{className:"bg-gray-900 p-4 rounded text-sm overflow-auto",children:JSON.stringify(f,null,2)})})]})]}),n.jsxs(V,{onClick:()=>c.mutate({id:f.id,action:"approve"}),disabled:c.isPending,className:"bg-green-600 hover:bg-green-700",size:"sm",children:[n.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Approve"]}),n.jsxs(ro,{children:[n.jsx(xw,{asChild:!0,children:n.jsxs(V,{variant:"destructive",size:"sm",children:[n.jsx(ic,{className:"w-4 h-4 mr-1"}),"Reject"]})}),n.jsxs(Hi,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ki,{children:n.jsx(qi,{className:"text-white",children:"Reject Transaction"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Rejection Reason"}),n.jsx(Ak,{value:s,onChange:x=>r(x.target.value),placeholder:"Enter reason for rejection...",className:"bg-gray-700 border-gray-600 text-white mt-2"})]}),n.jsx(V,{onClick:()=>c.mutate({id:f.id,action:"reject",reason:s}),disabled:c.isPending||!s,variant:"destructive",className:"w-full",children:c.isPending?"Processing...":"Confirm Rejection"})]})]})]})]})]})})},f.id))})]})})}function uU(){const{toast:t}=Gs(),[e,s]=p.useState([]),[r,i]=p.useState(""),[a,o]=p.useState({}),[l,c]=p.useState(!1),[d,u]=p.useState("100"),[h,f]=p.useState("50"),[x,y]=p.useState("testpassword123"),[m,b]=p.useState("0x1234567890abcdef1234567890abcdef12345678");p.useEffect(()=>{g()},[]);const g=async()=>{try{const _=await fetch("/api/admin/users");if(_.ok){const R=await _.json();s(R),R.length>0&&!r&&i(R[0].id)}}catch(_){console.error("Error fetching users:",_)}},v=(_,R,W)=>{const D=`${new Date().toLocaleTimeString()} ${W?"✅":"❌"} ${R}`;o(X=>({...X,[_]:D})),t({title:W?"Test Passed":"Test Failed",description:`${_}: ${R}`,variant:W?"default":"destructive"})},w=async _=>{if(r)try{c(!0);const R=await fetch("/api/admin/trading-controls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,controlType:_})});if(R.ok){const W=await R.json();v(`Trading Mode ${_.toUpperCase()}`,W.message,!0),await g()}else{const W=await R.text();v(`Trading Mode ${_.toUpperCase()}`,`Failed: ${W}`,!1)}}catch(R){v(`Trading Mode ${_.toUpperCase()}`,`Error: ${R}`,!1)}finally{c(!1)}},j=async()=>{if(!(!r||!d))try{c(!0);const _=await fetch("/api/superadmin/deposit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,amount:Number(d),note:"Test deposit from SuperAdmin test page"})});if(_.ok){const R=await _.json();v("Deposit",R.message,!0),await g()}else{const R=await _.text();v("Deposit",`Failed: ${R}`,!1)}}catch(_){v("Deposit",`Error: ${_}`,!1)}finally{c(!1)}},C=async()=>{if(!(!r||!h))try{c(!0);const _=await fetch("/api/superadmin/withdrawal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,amount:Number(h),note:"Test withdrawal from SuperAdmin test page"})});if(_.ok){const R=await _.json();v("Withdrawal",R.message,!0),await g()}else{const R=await _.text();v("Withdrawal",`Failed: ${R}`,!1)}}catch(_){v("Withdrawal",`Error: ${_}`,!1)}finally{c(!1)}},P=async()=>{if(!(!r||!x))try{c(!0);const _=await fetch("/api/superadmin/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,newPassword:x})});if(_.ok){const R=await _.json();v("Password Change",R.message,!0)}else{const R=await _.text();v("Password Change",`Failed: ${R}`,!1)}}catch(_){v("Password Change",`Error: ${_}`,!1)}finally{c(!1)}},E=async()=>{if(!(!r||!m))try{c(!0);const _=await fetch("/api/superadmin/update-wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r,walletAddress:m})});if(_.ok){const R=await _.json();v("Wallet Update",R.message,!0),await g()}else{const R=await _.text();v("Wallet Update",`Failed: ${R}`,!1)}}catch(_){v("Wallet Update",`Error: ${_}`,!1)}finally{c(!1)}},k=async()=>{if(!r)return;const _=e.find(R=>R.id===r);if(_)try{c(!0);const R=await fetch(`/api/admin/users/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:_.username,email:_.email,balance:_.balance,role:_.role,status:"active",trading_mode:_.trading_mode})});if(R.ok)v("User Edit","User updated successfully",!0),await g();else{const W=await R.text();v("User Edit",`Failed: ${W}`,!1)}}catch(R){v("User Edit",`Error: ${R}`,!1)}finally{c(!1)}},I=async()=>{if(!r){t({title:"Error",description:"Please select a user first",variant:"destructive"});return}o({}),await w("win"),await new Promise(_=>setTimeout(_,1e3)),await w("lose"),await new Promise(_=>setTimeout(_,1e3)),await w("normal"),await new Promise(_=>setTimeout(_,1e3)),await j(),await new Promise(_=>setTimeout(_,1e3)),await C(),await new Promise(_=>setTimeout(_,1e3)),await P(),await new Promise(_=>setTimeout(_,1e3)),await E(),await new Promise(_=>setTimeout(_,1e3)),await k()},$=e.find(_=>_.id===r);return n.jsx("div",{className:"min-h-screen bg-gray-900 p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"🧪 SuperAdmin Feature Test Page"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"👤 Select Test User"})}),n.jsxs(ce,{children:[n.jsxs("select",{value:r,onChange:_=>i(_.target.value),className:"w-full p-2 bg-gray-700 text-white rounded border border-gray-600",children:[n.jsx("option",{value:"",children:"Select a user..."}),e.map(_=>n.jsxs("option",{value:_.id,children:[_.username," - $",_.balance," - ",_.trading_mode]},_.id))]}),$&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded",children:[n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Username:"})," ",$.username]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Balance:"})," $",$.balance]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Trading Mode:"})," ",$.trading_mode]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Status:"})," ",$.status]}),n.jsxs("p",{className:"text-white",children:[n.jsx("strong",{children:"Wallet:"})," ",$.wallet_address||"Not set"]})]})]})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"🎛️ Test Parameters"})}),n.jsxs(ce,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Deposit Amount"}),n.jsx(Ce,{value:d,onChange:_=>u(_.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Withdrawal Amount"}),n.jsx(Ce,{value:h,onChange:_=>f(_.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"New Password"}),n.jsx(Ce,{value:x,onChange:_=>y(_.target.value),className:"bg-gray-700 border-gray-600 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"New Wallet Address"}),n.jsx(Ce,{value:m,onChange:_=>b(_.target.value),className:"bg-gray-700 border-gray-600 text-white"})]})]})]})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700 mt-6",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"🧪 Individual Tests"})}),n.jsxs(ce,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(V,{onClick:()=>w("win"),disabled:l,className:"bg-green-600 hover:bg-green-700",children:"🎯 Test WIN Mode"}),n.jsx(V,{onClick:()=>w("lose"),disabled:l,className:"bg-red-600 hover:bg-red-700",children:"🎯 Test LOSE Mode"}),n.jsx(V,{onClick:()=>w("normal"),disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:"🎯 Test NORMAL Mode"}),n.jsx(V,{onClick:j,disabled:l,className:"bg-green-600 hover:bg-green-700",children:"💰 Test Deposit"}),n.jsx(V,{onClick:C,disabled:l,className:"bg-red-600 hover:bg-red-700",children:"💸 Test Withdrawal"}),n.jsx(V,{onClick:P,disabled:l,className:"bg-purple-600 hover:bg-purple-700",children:"🔑 Test Password"}),n.jsx(V,{onClick:E,disabled:l,className:"bg-orange-600 hover:bg-orange-700",children:"👛 Test Wallet"}),n.jsx(V,{onClick:k,disabled:l,className:"bg-blue-600 hover:bg-blue-700",children:"✏️ Test User Edit"})]}),n.jsx("div",{className:"mt-6",children:n.jsx(V,{onClick:I,disabled:l,className:"bg-purple-600 hover:bg-purple-700 w-full",children:"🚀 Run All Tests"})})]})]}),n.jsxs(le,{className:"bg-gray-800 border-gray-700 mt-6",children:[n.jsx(Ke,{children:n.jsx(qe,{className:"text-white",children:"📊 Test Results"})}),n.jsx(ce,{children:n.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Object.entries(a).map(([_,R])=>n.jsxs("div",{className:"p-2 bg-gray-700 rounded",children:[n.jsxs("strong",{className:"text-white",children:[_,":"]}),n.jsx("span",{className:"text-gray-300 ml-2",children:R})]},_)),Object.keys(a).length===0&&n.jsx("p",{className:"text-gray-400",children:'No tests run yet. Click individual test buttons or "Run All Tests".'})]})})]})]})})}function hU(){const{priceData:t,isLoading:e,error:s}=Qo(),{changeText:r,changeColor:i,isPositive:a}=Tx(),{high:o,low:l,volume:c}=kx();return e?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"text-white text-xl",children:"Loading price data..."})}):s?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-red-400 text-xl",children:["Error: ",s]})}):n.jsxs("div",{className:"min-h-screen bg-gray-900 p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Price Synchronization Test"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price (from usePrice)"}),n.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx("div",{className:"text-sm mt-2",style:{color:i},children:r})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h High"}),n.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Low"}),n.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"24h Volume"}),n.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})," BTC"]})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-4 rounded-lg border border-gray-700 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Lightweight Chart (Binance Data)"}),n.jsx(gc,{symbol:"BTCUSDT",interval:"1m",height:500,containerId:"test_chart"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Order Book (Left Panel)"}),n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Current Price:"}),n.jsxs("div",{className:"text-xl font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-red-400",children:["$",(t.price+100).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"0.5 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-red-400",children:["$",(t.price+50).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"1.2 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm font-bold border-t border-b border-gray-700 py-2",children:[n.jsxs("span",{className:"text-white",children:["$",t==null?void 0:t.price.toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"CURRENT"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-400",children:["$",(t.price-50).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"0.8 BTC"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-green-400",children:["$",(t.price-100).toFixed(2)]}),n.jsx("span",{className:"text-gray-400",children:"1.5 BTC"})]})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Trading Panel (Right Panel)"}),n.jsx("div",{className:"text-gray-400 text-sm mb-2",children:"Entry Price:"}),n.jsxs("div",{className:"text-xl font-bold text-white mb-4",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Amount (USDT)"}),n.jsx("input",{type:"number",className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",placeholder:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-400 text-sm",children:"Duration"}),n.jsxs("select",{className:"w-full bg-gray-800 text-white px-3 py-2 rounded mt-1",children:[n.jsx("option",{children:"30 seconds"}),n.jsx("option",{children:"60 seconds"})]})]}),n.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded font-bold",children:"BUY (UP)"}),n.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded font-bold",children:"SELL (DOWN)"})]})]}),n.jsxs("div",{className:"bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Stats Panel (Bottom Panel)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"Current Price"}),n.jsxs("div",{className:"text-lg font-bold text-white",children:["$",t==null?void 0:t.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h Change"}),n.jsx("div",{className:"text-lg font-bold",style:{color:i},children:r})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h High"}),n.jsxs("div",{className:"text-lg font-bold text-green-400",children:["$",o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-400 text-sm",children:"24h Low"}),n.jsxs("div",{className:"text-lg font-bold text-red-400",children:["$",l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 bg-[#10121E] p-6 rounded-lg border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info (Raw Data)"}),n.jsx("pre",{className:"text-gray-400 text-xs overflow-auto",children:JSON.stringify(t,null,2)})]}),n.jsxs("div",{className:"mt-8 bg-blue-900/20 border border-blue-700 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:"✅ Test Instructions"}),n.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[n.jsx("li",{children:"1. Check that ALL price displays show the SAME number"}),n.jsx("li",{children:"2. Wait 2 seconds and verify all prices update TOGETHER"}),n.jsx("li",{children:"3. Compare chart overlay price with panel prices - should be IDENTICAL"}),n.jsx("li",{children:"4. Check browser console for price update logs"}),n.jsx("li",{children:"5. If all prices match, synchronization is working! ✅"})]})]})]})}function fU(){return n.jsx(Cx,{symbol:"BTCUSDT",updateInterval:2e3,children:n.jsx(hU,{})})}function mU(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(le,{className:"w-full max-w-md mx-4",children:n.jsxs(ce,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(bM,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Wd({children:t}){const{user:e,isLoading:s}=Wt(),[,r]=or();return console.log("🔐 ProtectedAdminRoute - User:",e),console.log("🔐 ProtectedAdminRoute - isLoading:",s),p.useEffect(()=>{console.log("🔐 ProtectedAdminRoute useEffect - User:",e,"isLoading:",s),!s&&(!e||e.role!=="admin"&&e.role!=="super_admin"&&e.role!=="superadmin")&&(console.log("🔐 Redirecting to admin login - no valid admin user"),r("/admin/login"))},[e,s,r]),s?(console.log("🔐 ProtectedAdminRoute - Still loading..."),n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(vS,{className:"h-8 w-8 animate-spin text-purple-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400",children:"Checking authentication..."})]})})):!e||e.role!=="admin"&&e.role!=="super_admin"&&e.role!=="superadmin"?(console.log("🔐 ProtectedAdminRoute - No valid admin user, returning null"),null):(console.log("🔐 ProtectedAdminRoute - Valid admin user, rendering children"),n.jsx(n.Fragment,{children:t}))}function Ei({children:t}){const{user:e,isLoading:s}=Wt(),[,r]=or();return p.useEffect(()=>{!s&&!e&&r("/login")},[e,s,r]),s?n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:n.jsx("div",{className:"text-white",children:"Loading..."})}):e?n.jsx(n.Fragment,{children:t}):null}function pU(){return Wt(),n.jsx(vO,{children:n.jsxs(HP,{children:[n.jsx(pt,{path:"/",component:qO}),n.jsx(pt,{path:"/dashboard",children:n.jsx(Ei,{children:n.jsx(iU,{})})}),n.jsx(pt,{path:"/profile",children:n.jsx(Ei,{children:n.jsx(cU,{})})}),n.jsx(pt,{path:"/market",component:GO}),n.jsx(pt,{path:"/trading",children:n.jsx(Ei,{children:n.jsx(NF,{})})}),n.jsx(pt,{path:"/trade/spot",component:RL}),n.jsx(pt,{path:"/trade/options",component:fw}),n.jsx(pt,{path:"/options",component:fw}),n.jsx(pt,{path:"/trade/:type?",children:n.jsx(Ei,{children:n.jsx(ZO,{})})}),n.jsx(pt,{path:"/wallet/:tab?",children:n.jsx(Ei,{children:n.jsx(o8,{})})}),n.jsx(pt,{path:"/wallet/history",children:n.jsx(Ei,{children:n.jsx(Gw,{})})}),n.jsx(pt,{path:"/transactions",children:n.jsx(Ei,{children:n.jsx(Gw,{})})}),n.jsx(pt,{path:"/support",component:d8}),n.jsx(pt,{path:"/test-price-sync",component:fU}),n.jsx(pt,{path:"/login",component:sU}),n.jsx(pt,{path:"/signup",component:nU}),n.jsx(pt,{path:"/admin/login",component:X7}),n.jsx(pt,{path:"/admin/redirect",component:Y7}),n.jsx(pt,{path:"/admin",children:n.jsx(Wd,{children:n.jsx(Pw,{})})}),n.jsx(pt,{path:"/admin/dashboard",children:n.jsx(Wd,{children:n.jsx(Pw,{})})}),n.jsx(pt,{path:"/admin/transactions",children:n.jsx(Wd,{children:n.jsx(dU,{})})}),n.jsx(pt,{path:"/admin/test",children:n.jsx(Wd,{children:n.jsx(uU,{})})}),n.jsx(pt,{component:mU})]})})}function gU(){return n.jsx(u3,{client:C3,children:n.jsxs(qA,{children:[n.jsx(wR,{}),n.jsx(pU,{})]})})}document.title="METACHROME - Advanced Crypto Trading Platform";xN(document.getElementById("root")).render(n.jsx(gU,{}));
