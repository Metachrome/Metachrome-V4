<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>METACHROME Mobile Notification Fix Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #1f2937;
            color: white;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .test-section {
            background-color: #374151;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        button {
            background-color: #10b981;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        
        button:hover {
            background-color: #059669;
        }
        
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .status.success {
            background-color: #065f46;
            color: #10b981;
        }
        
        .status.error {
            background-color: #7f1d1d;
            color: #ef4444;
        }
        
        .status.info {
            background-color: #1e3a8a;
            color: #3b82f6;
        }
        
        /* METACHROME Mobile Trade Notification Fix */
        [data-mobile-notification="true"] {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            z-index: 2147483647 !important;
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            pointer-events: auto !important;
            transform: translateZ(0) !important;
            -webkit-transform: translateZ(0) !important;
            backface-visibility: hidden !important;
            -webkit-backface-visibility: hidden !important;
            background-color: rgba(0, 0, 0, 0.95);
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        @media (max-width: 768px) {
            [data-mobile-notification="true"] {
                position: fixed !important;
                inset: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                min-height: 100vh !important;
                max-height: 100vh !important;
                z-index: 999999999 !important;
                display: flex !important;
                visibility: visible !important;
                opacity: 1 !important;
            }
        }
        
        .notification-content {
            background-color: #1f2937;
            border-radius: 16px;
            padding: 24px;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            border: 3px solid #10b981;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.5);
            color: white;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üì± METACHROME Mobile Notification Fix Test</h1>
        <p>This page tests the mobile trade notification fixes.</p>
        
        <div class="test-section">
            <h2>Device Information</h2>
            <div id="device-info"></div>
        </div>
        
        <div class="test-section">
            <h2>Test Mobile Notification</h2>
            <button onclick="testMobileNotification()">üì± Test Mobile Notification</button>
            <button onclick="clearNotifications()">‚ùå Clear Notifications</button>
            <div id="test-results"></div>
        </div>
        
        <div class="test-section">
            <h2>Instructions</h2>
            <div class="status info">
                <strong>How to test:</strong><br>
                1. Click "Test Mobile Notification" button<br>
                2. On mobile: notification should cover entire screen<br>
                3. On desktop: notification should also appear<br>
                4. Click anywhere on the notification to close it<br>
                5. Check console for debug information
            </div>
        </div>
    </div>

    <script>
        function updateDeviceInfo() {
            const info = document.getElementById('device-info');
            const isMobile = window.innerWidth <= 768;
            
            info.innerHTML = `
                <div class="status info">
                    <strong>Screen:</strong> ${window.innerWidth} x ${window.innerHeight}px<br>
                    <strong>Is Mobile:</strong> ${isMobile ? 'YES' : 'NO'}<br>
                    <strong>User Agent:</strong> ${navigator.userAgent.includes('Mobile') ? 'Mobile' : 'Desktop'}
                </div>
            `;
        }
        
        function testMobileNotification() {
            console.log('üß™ Testing mobile notification...');
            console.log('üì± Screen width:', window.innerWidth);
            console.log('üì± Is mobile:', window.innerWidth <= 768);
            
            const notification = document.createElement('div');
            notification.setAttribute('data-mobile-notification', 'true');
            notification.innerHTML = `
                <div class="notification-content">
                    <h2 style="color: #10b981; margin-top: 0;">üéâ Trade Won!</h2>
                    <p><strong>Direction:</strong> UP ‚¨ÜÔ∏è</p>
                    <p><strong>Amount:</strong> $100</p>
                    <p><strong>Entry Price:</strong> $65,000</p>
                    <p><strong>Final Price:</strong> $66,500</p>
                    <p><strong>Profit:</strong> $15 (15%)</p>
                    <p><strong>Payout:</strong> $115</p>
                    <div style="margin-top: 20px;">
                        <button onclick="clearNotifications()">Close Notification</button>
                    </div>
                    <p style="font-size: 12px; color: #9ca3af; margin-top: 15px;">
                        Click anywhere to close
                    </p>
                </div>
            `;
            
            notification.addEventListener('click', (e) => {
                if (e.target === notification) {
                    clearNotifications();
                }
            });
            
            document.body.appendChild(notification);
            
            const results = document.getElementById('test-results');
            results.innerHTML = `
                <div class="status success">
                    ‚úÖ Mobile notification created!<br>
                    ${window.innerWidth <= 768 ? 'Should cover entire mobile screen' : 'Should appear on desktop too'}
                </div>
            `;
            
            // Debug info
            setTimeout(() => {
                const styles = window.getComputedStyle(notification);
                console.log('üîç Notification styles:');
                console.log('- Display:', styles.display);
                console.log('- Visibility:', styles.visibility);
                console.log('- Opacity:', styles.opacity);
                console.log('- Z-Index:', styles.zIndex);
                console.log('- Position:', styles.position);
                console.log('- Width:', styles.width);
                console.log('- Height:', styles.height);
            }, 100);
        }
        
        function clearNotifications() {
            const notifications = document.querySelectorAll('[data-mobile-notification="true"]');
            notifications.forEach(notification => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            });
            
            const results = document.getElementById('test-results');
            results.innerHTML = `
                <div class="status info">
                    üßπ Notifications cleared.
                </div>
            `;
            
            console.log('üßπ Cleared', notifications.length, 'notification(s)');
        }
        
        // Initialize
        updateDeviceInfo();
        window.addEventListener('resize', updateDeviceInfo);
        
        console.log('üì± METACHROME Mobile Notification Test Ready');
        console.log('üîß Functions: testMobileNotification(), clearNotifications()');
    </script>
</body>
</html>
